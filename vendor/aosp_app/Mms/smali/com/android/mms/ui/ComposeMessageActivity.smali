.class public Lcom/android/mms/ui/ComposeMessageActivity;
.super Landroid/app/Activity;
.source "ComposeMessageActivity.java"

# interfaces
.implements Landroid/view/View$OnClickListener;
.implements Landroid/widget/TextView$OnEditorActionListener;
.implements Lcom/android/mms/data/Contact$UpdateListener;
.implements Lcom/android/mms/data/WorkingMessage$MessageStatusListener;
.implements Lcom/android/mms/transaction/MmsSystemEventReceiver$OnShutDownListener;
.implements Lcom/android/mms/transaction/MmsSystemEventReceiver$OnSimInforChangedListener;
.implements Lcom/mediatek/mms/ext/IMmsComposeHost;
.implements Lcom/mediatek/mms/ext/IMmsTextSizeAdjustHost;
.implements Lcom/mediatek/mms/ipmessage/INotificationsListener;


# annotations
.annotation system Ldalvik/annotation/MemberClasses;
    value = {
        Lcom/android/mms/ui/ComposeMessageActivity$SendLongMessageListener;,
        Lcom/android/mms/ui/ComposeMessageActivity$InviteFriendsToIpMsgListener;,
        Lcom/android/mms/ui/ComposeMessageActivity$MessageReceiver;,
        Lcom/android/mms/ui/ComposeMessageActivity$SoloAlertDialog;,
        Lcom/android/mms/ui/ComposeMessageActivity$TextLengthFilter;,
        Lcom/android/mms/ui/ComposeMessageActivity$SaveMsgHandler;,
        Lcom/android/mms/ui/ComposeMessageActivity$SaveMsgThread;,
        Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;,
        Lcom/android/mms/ui/ComposeMessageActivity$MsgListMenuClickListener;,
        Lcom/android/mms/ui/ComposeMessageActivity$RecipientsMenuClickListener;,
        Lcom/android/mms/ui/ComposeMessageActivity$CancelSendingListenerForInvalidRecipient;,
        Lcom/android/mms/ui/ComposeMessageActivity$CancelSendingListener;,
        Lcom/android/mms/ui/ComposeMessageActivity$SendIgnoreInvalidRecipientListener;,
        Lcom/android/mms/ui/ComposeMessageActivity$DiscardDraftListener;,
        Lcom/android/mms/ui/ComposeMessageActivity$DeleteMessageListener;
    }
.end annotation


# static fields
.field private static final CELL_PROGRESS_DIALOG:I = 0x1

.field private static CHANGE_SCROLL_LISTENER_MIN_CURSOR_COUNT:I = 0x0

.field private static final CHARS_REMAINING_BEFORE_COUNTER_SHOWN:I = 0xa

.field private static final DEBUG:Z = false

.field private static final DELETE_MESSAGE_TOKEN:I = 0x25e4

.field private static final DETECT_ANGLE_BRACKETS:I = 0x1

.field private static final DETECT_ANGLE_BRACKETS_WITH_WORD:I = 0x2

.field private static final DETECT_INIT:I = 0x0

.field private static final EXIT_ECM_RESULT:Ljava/lang/String; = "exit_ecm_result"

.field public static final FORWARD_IPMESSAGE:Ljava/lang/String; = "forwarded_ip_message"

.field public static final FORWARD_MESSAGE:Ljava/lang/String; = "forwarded_message"

.field private static final IPMSG_TAG:Ljava/lang/String; = "Mms/ipmsg/compose"

.field public static final IP_MESSAGE_ID:Ljava/lang/String; = "ip_msg_id"

.field private static final KEY_SELECTION_SIMID:Ljava/lang/String; = "SIMID"

.field private static final LOCAL_LOGV:Z = false

.field private static final MAX_ITEMS_TO_INVOKE_SCROLL_SHORTCUT:I = 0x14

.field private static final MAX_SPAN_NUMBER:I = 0x18

.field private static final MENU_ADD_ADDRESS_TO_CONTACTS:I = 0x1b

.field private static final MENU_ADD_ATTACHMENT:I = 0x2

.field private static final MENU_ADD_QUICK_TEXT:I = 0x8

.field private static final MENU_ADD_SHORTCUT:I = 0x68

.field private static final MENU_ADD_SUBJECT:I = 0x0

.field private static final MENU_ADD_TEXT_VCARD:I = 0x9

.field private static final MENU_ADD_TO_BOOKMARK:I = 0x23

.field private static final MENU_ADD_TO_CONTACTS:I = 0xd

.field private static final MENU_CALL_BACK:I = 0x16

.field private static final MENU_CALL_RECIPIENT:I = 0x5

.field private static final MENU_CALL_RECIPIENT_BY_VT:I = 0xa

.field private static final MENU_CHAT_SETTING:I = 0x89

.field private static final MENU_CONVERSATION_LIST:I = 0x6

.field private static final MENU_COPY:I = 0xcf

.field private static final MENU_COPY_MESSAGE_TEXT:I = 0x18

.field private static final MENU_COPY_TO_SDCARD:I = 0x19

.field private static final MENU_CREATE_CONTACT:I = 0x7a

.field private static final MENU_DEBUG_DUMP:I = 0x7

.field private static final MENU_DELETE_IP_MESSAGE:I = 0xc9

.field private static final MENU_DELETE_MESSAGE:I = 0x12

.field private static final MENU_DELETE_THREAD:I = 0x1

.field private static final MENU_DELIVERY_REPORT:I = 0x14

.field private static final MENU_DISCARD:I = 0x3

.field private static final MENU_EDIT_MESSAGE:I = 0xe

.field private static final MENU_EXPORT_SD_CARD:I = 0xd1

.field private static final MENU_FORWARD_IPMESSAGE:I = 0xd2

.field private static final MENU_FORWARD_MESSAGE:I = 0x15

.field private static final MENU_GROUP_PARTICIPANTS:I = 0x20

.field private static final MENU_INSERT_SMILEY:I = 0x1a

.field private static final MENU_INVITE_FRIENDS_TO_CHAT:I = 0x64

.field private static final MENU_INVITE_FRIENDS_TO_IPMSG:I = 0x6b

.field private static final MENU_LOCK_MESSAGE:I = 0x1c

.field private static final MENU_MARK_AS_IMPORTANT:I = 0xcb

.field private static final MENU_MARK_AS_SPAM:I = 0x66

.field private static final MENU_PREFERENCES:I = 0x1f

.field private static final MENU_REMOVE_FROM_IMPORTANT:I = 0xcc

.field private static final MENU_REMOVE_SPAM:I = 0x67

.field private static final MENU_RETRY:I = 0xc8

.field private static final MENU_SAVE_ATTACHMENT:I = 0xcd

.field private static final MENU_SAVE_MESSAGE_TO_SIM:I = 0x20

.field private static final MENU_SAVE_RINGTONE:I = 0x1e

.field private static final MENU_SEARCH:I = 0x13

.field private static final MENU_SELECT_MESSAGE:I = 0x65

.field private static final MENU_SELECT_TEXT:I = 0x24

.field private static final MENU_SEND:I = 0x4

.field private static final MENU_SEND_EMAIL:I = 0x17

.field private static final MENU_SEND_VIA_TEXT_MSG:I = 0xd0

.field private static final MENU_SHARE:I = 0xca

.field private static final MENU_SHOW_CONTACT:I = 0x79

.field private static final MENU_UNLOCK_MESSAGE:I = 0x1d

.field private static final MENU_VIEW_ALL_LOCATION:I = 0x6a

.field private static final MENU_VIEW_ALL_MEDIA:I = 0x69

.field private static final MENU_VIEW_CONTACT:I = 0xc

.field private static final MENU_VIEW_IP_MESSAGE:I = 0xce

.field private static final MENU_VIEW_MESSAGE_DETAILS:I = 0x11

.field private static final MENU_VIEW_SLIDESHOW:I = 0x10

.field private static final MESSAGETYPE_COMMON:I = 0x0

.field private static final MESSAGETYPE_MMS:I = 0x2

.field private static final MESSAGETYPE_TEXT:I = 0x1

.field private static final MESSAGETYPE_UNSUPPORT:I = -0x1

.field private static final MESSAGE_LIST_QUERY_AFTER_DELETE_TOKEN:I = 0x2538

.field private static final MESSAGE_LIST_QUERY_TOKEN:I = 0x2537

.field private static final MESSAGE_LIST_UNREAD_QUERY_TOKEN:I = 0x2648

.field public static final MIN_SIZE_FOR_CAPTURE_VIDEO:I = 0x2800

.field public static final MIN_SIZE_FOR_RECORD_AUDIO:I = 0x1400

.field private static final MMS_CONVERT:I = 0x1

.field private static final MSG_DISMISS_CONTACT_PICK_DIALOG:I = 0x2331

.field private static final MSG_QUIT_SAVE_MESSAGE_THREAD:I = 0x64

.field private static final MSG_RESUME_SEND_BUTTON:I = 0x70

.field private static final MSG_SAVE_MESSAGE_TO_SIM:I = 0x66

.field private static final MSG_SAVE_MESSAGE_TO_SIM_AFTER_SELECT_SIM:I = 0x68

.field private static final MSG_SAVE_MESSAGE_TO_SIM_FAILED_GENERIC:I = 0x6c

.field private static final MSG_SAVE_MESSAGE_TO_SIM_FAILED_SIM_FULL:I = 0x6e

.field private static final MSG_SAVE_MESSAGE_TO_SIM_SUCCEED:I = 0x6a

.field private static final MSG_SELECT_SIM_DIALOG_SHOW:I = 0x1f4

.field private static final NO_DATE_FOR_DIALOG:J = -0x1L

.field private static final PICK_CONTACT_NUMBER_BALANCE:Ljava/lang/String; = "NUMBER_BALANCE"

.field private static final RECIPIENTS_ARE_NOT_IP_MESSAGE_USER:I = 0x1

#the value of this static final field might be set in the static constructor
.field private static final RECIPIENTS_LIMIT_FOR_SMS:I = 0x0

.field private static final RECIPIENTS_MAX_LENGTH:I = 0x138

.field public static final REQUEST_CODE_ADD_CONTACT:I = 0x6c

.field public static final REQUEST_CODE_ATTACH_IMAGE:I = 0x64

.field public static final REQUEST_CODE_ATTACH_RINGTONE:I = 0x14

.field private static final REQUEST_CODE_ATTACH_SKETCH:I = 0xd4

.field public static final REQUEST_CODE_ATTACH_SOUND:I = 0x68

.field public static final REQUEST_CODE_ATTACH_VCALENDAR:I = 0x19

.field public static final REQUEST_CODE_ATTACH_VCARD:I = 0x15

.field public static final REQUEST_CODE_ATTACH_VIDEO:I = 0x66

.field public static final REQUEST_CODE_CREATE_SLIDESHOW:I = 0x6a

.field public static final REQUEST_CODE_ECM_EXIT_DIALOG:I = 0x6b

.field public static final REQUEST_CODE_FOR_MULTIDELETE:I = 0x6e

.field public static final REQUEST_CODE_GROUP_PARTICIPANTS:I = 0x82

.field public static final REQUEST_CODE_INVITE_FRIENDS_TO_CHAT:I = 0xd3

.field private static final REQUEST_CODE_IPMSG_CHOOSE_AUDIO:I = 0xd0

.field private static final REQUEST_CODE_IPMSG_CHOOSE_PHOTO:I = 0xcc

.field private static final REQUEST_CODE_IPMSG_CHOOSE_VIDEO:I = 0xcd

.field private static final REQUEST_CODE_IPMSG_DRAW_SKETCH:I = 0xca

.field public static final REQUEST_CODE_IPMSG_PICK_CONTACT:I = 0xd2

.field private static final REQUEST_CODE_IPMSG_RECORD_AUDIO:I = 0xce

.field private static final REQUEST_CODE_IPMSG_RECORD_VIDEO:I = 0xc9

.field private static final REQUEST_CODE_IPMSG_SHARE_CONTACT:I = 0xcb

.field private static final REQUEST_CODE_IPMSG_SHARE_LOCATION:I = 0xcf

.field private static final REQUEST_CODE_IPMSG_SHARE_VCALENDAR:I = 0xd1

.field private static final REQUEST_CODE_IPMSG_TAKE_PHOTO:I = 0xc8

.field public static final REQUEST_CODE_MULTI_SAVE:I = 0x17

.field public static final REQUEST_CODE_PICK:I = 0x6d

.field public static final REQUEST_CODE_RECORD_SOUND:I = 0x69

.field private static final REQUEST_CODE_SMS_SHARE_LOCATION:I = 0xd5

.field public static final REQUEST_CODE_TAKE_PICTURE:I = 0x65

.field public static final REQUEST_CODE_TAKE_VIDEO:I = 0x67

.field public static final REQUEST_CODE_TEXT_VCARD:I = 0x16

.field public static final REQUEST_CODE_VIEW_CONTACT:I = 0x6f

.field private static final RESUME_BUTTON_INTERVAL:J = 0x3e8L

.field private static final SELECT_TYPE:Ljava/lang/String; = "Select_type"

.field private static final SERVICE_IS_NOT_ENABLED:I = 0x0

.field private static final SET_WALLPAPER_FROM_BITMAP:I = 0x2712

.field private static final SET_WALLPAPER_FROM_RESOURCE:I = 0x2711

.field private static final SIGN_CREATE_AFTER_KILL_BY_SYSTEM:Ljava/lang/String; = "ForCreateAfterKilledBySystem"

.field private static final SIM_SELECT_FOR_SAVE_MSG_TO_SIM:I = 0x2

.field private static final SIM_SELECT_FOR_SEND_MSG:I = 0x1

.field private static final SMOOTH_SCROLL_THRESHOLD:I = 0xc8

.field public static final SMS_ADDRESS:Ljava/lang/String; = "sms_address"

.field public static final SMS_BODY:Ljava/lang/String; = "sms_body"

.field private static final SMS_CONVERT:I = 0x0

.field private static final SOFT_KEY_BOARD_MIN_HEIGHT:I = 0x96

.field private static final STR_CN:Ljava/lang/String; = "\n"

.field private static final STR_RN:Ljava/lang/String; = "\\r\\n"

.field private static final TAG:Ljava/lang/String; = "Mms/compose"

.field private static final TAG_DIVIDER:Ljava/lang/String; = "Mms/divider"

.field public static final THREAD_ID:Ljava/lang/String; = "thread_id"

.field private static final TRACE:Z = false

.field private static final UPDATE_DELAY:J = 0x64L

.field private static final UPDATE_LIMIT_LANDSCAPE:I = 0x14

.field private static final UPDATE_LIMIT_PORTRAIT:I = 0xa

.field private static final mAudioUri:Ljava/lang/String; = null

.field private static mCellMgr:Lcom/mediatek/encapsulation/com/mediatek/CellConnService/EncapsulatedCellConnMgr; = null

.field private static mCellMgrRegisterCount:I = 0x0

.field public static mDestroy:Z = false

.field private static final mImageUri:Ljava/lang/String; = null

.field private static final mReferencedAttachmentEditorHeight:I = 0x10a

.field private static final mReferencedMaxHeight:I = 0x320

.field private static final mReferencedTextEditorFourLinesHeight:I = 0x8c

.field private static final mReferencedTextEditorSevenLinesHeight:I = 0xe0

.field private static final mReferencedTextEditorThreeLinesHeight:I = 0x6e

.field private static final mReferencedTextEditorTwoLinesHeight:I = 0x41

.field private static final mVideoUri:Ljava/lang/String;

.field private static sCompose:Ljava/lang/ref/WeakReference;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ref/WeakReference",
            "<",
            "Lcom/android/mms/ui/ComposeMessageActivity;",
            ">;"
        }
    .end annotation
.end field

.field private static final sDegreeMap:Ljava/util/HashMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/HashMap",
            "<",
            "Ljava/lang/String;",
            "Ljava/lang/Integer;",
            ">;"
        }
    .end annotation
.end field

.field private static sEmptyContactList:Lcom/android/mms/data/ContactList;


# instance fields
.field private final READ_REPORT_DISABLED:I

.field private final READ_REPORT_GEMINI_MODE_ENABLED:I

.field private final READ_REPORT_SINGLE_MODE_ENABLED:I

.field private isAddSmileySpans:Z

.field private isInitRecipientsEditor:Z

.field private mActionBarCustomView:Landroid/view/View;

.field private mActivateIpMsgListener:Landroid/view/View$OnClickListener;

.field private mAddContactIntent:Landroid/content/Intent;

.field private mAppendAttachmentSign:Z

.field private mAssociatedSimId:I

.field private mAssociatedSimQueryDone:I

.field private mAsyncDialog:Lcom/android/mms/ui/AsyncDialog;

.field private mAttachClickTime:J

.field private mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

.field private final mAttachmentEditorHandler:Landroid/os/Handler;

.field private mAttachmentEditorScrollView:Landroid/view/View;

.field private mAttachmentTypeSelectorAdapter:Lcom/android/mms/ui/AttachmentTypeSelectorAdapter;

.field private mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

.field private mBeforeTextChangeString:Ljava/lang/String;

.field private mBottomPanel:Landroid/view/View;

.field private mButtonBig:Landroid/widget/ImageButton;

.field private mButtonColors:[I

.field private mButtonDrawable:[Landroid/graphics/drawable/Drawable;

.field private mButtonSlotIds:[I

.field private mButtonSmall:Landroid/widget/ImageButton;

.field private mCalendarSummary:Ljava/lang/String;

.field private mCellProgressDialog:Landroid/app/ProgressDialog;

.field private mChatModeNumber:Ljava/lang/String;

.field mClickCanResponse:Z

.field private mClickedItemPosition:I

.field private mComponentName:Landroid/content/ComponentName;

.field private mCompressingImage:Z

.field private mCompressingVCardFinished:Z

.field private mContactPickDialog:Landroid/app/ProgressDialog;

.field private mContactPickRunnable:Ljava/lang/Runnable;

.field private mContentResolver:Landroid/content/ContentResolver;

.field private mConversation:Lcom/android/mms/data/Conversation;

.field mCtButtonClickListener:Landroid/view/View$OnClickListener;

.field private mCtButtonPanel:Landroid/view/View;

.field private mCurrentMaxHeight:I

.field private mCurrentNumberString:Ljava/lang/String;

.field private mCutRecipients:Lcom/android/mms/data/ContactList;

.field private final mDataSetChangedListener:Lcom/android/mms/ui/MessageListAdapter$OnDataSetChangedListener;

.field private mDebugRecipients:Ljava/lang/String;

.field private mDismissInviteClickListener:Landroid/view/View$OnClickListener;

.field private mDrawBottomPanel:Z

.field private mDstPath:Ljava/lang/String;

.field private mDuration:I

.field private mEditClickTime:J

.field private mEmoticonButton:Landroid/widget/ImageButton;

.field private mEmoticonNumber:I

.field private mEmoticonPanel:Lcom/android/mms/ui/EmoticonPanel;

.field private mEnableIPMsgListener:Landroid/view/View$OnClickListener;

.field private mEnterImportantTimestamp:J

.field private mErrorDialogShown:Z

.field private mExceedMessageSizeToast:Landroid/widget/Toast;

.field private mExitOnSent:Z

.field mGetSimInfoRunnable:Ljava/lang/Runnable;

.field private mHasDiscardWorkingMessage:Z

.field private final mHashSim:Ljava/util/HashMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/HashMap",
            "<",
            "Ljava/lang/Integer;",
            "Ljava/lang/Integer;",
            ">;"
        }
    .end annotation
.end field

.field private mHeightChangedLinearLayout:Lcom/android/mms/ui/HeightChangedLinearLayout;

.field private mHideTypingStatusRunnable:Ljava/lang/Runnable;

.field private mHomeBox:I

.field private final mHttpProgressFilter:Landroid/content/IntentFilter;

.field private final mHttpProgressReceiver:Landroid/content/BroadcastReceiver;

.field private mInViewContact:Lcom/android/mms/data/Contact;

.field private mInputMethodManager:Landroid/view/inputmethod/InputMethodManager;

.field private mIntent:Landroid/content/Intent;

.field private mInviteClickListener:Landroid/view/View$OnClickListener;

.field private mInviteMsg:Landroid/widget/TextView;

.field private mInviteNegativeBtn:Landroid/widget/Button;

.field private mInvitePostiveBtn:Landroid/widget/Button;

.field private mInviteView:Landroid/view/View;

.field private mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

.field private mIpMessageDraftId:I

.field private mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

.field private mIpMessageThumbnail:Landroid/widget/ImageView;

.field private mIpMessageVcardName:Ljava/lang/String;

.field public mIpMsgHandler:Landroid/os/Handler;

.field private mIsAudioCaptionOn:Z

.field private mIsCaptionOn:Z

.field private mIsCellDialogShowing:Z

.field mIsCheckObsolete:Z

.field private mIsClearTextDraft:Z

.field private mIsDestroyTypingThread:Z

.field private mIsEditingCaption:Z

.field private mIsEditingSlideshow:Z

.field private mIsImageCaptionOn:Z

.field private mIsImportantThread:Z

.field private mIsIpMessageRecipients:Z

.field private mIsIpServiceEnabled:Z

.field private mIsKeyboardOpen:Z

.field private mIsLandscape:Z

.field private mIsMarkMsgAsRead:Z

.field private mIsMessageDefaultSimIpServiceEnabled:Z

.field private mIsNeedParseEmoticon:Z

.field private mIsOneSimSelected:Z

.field private mIsRecipientHasIntentNotHandle:Z

.field private mIsRunning:Z

.field mIsSameConv:Z

.field private mIsShowSIMIndicator:Z

.field private mIsSoftKeyBoardShow:Z

.field private mIsStartMultiDeleteActivity:Z

.field private mIsTooManyRecipients:Z

.field private mIsVideoCaptionOn:Z

.field private mJustSendMsgViaCommonMsgThisTime:Z

.field private mLastMessageId:J

.field private mLastRecipientCount:I

.field private mLastSendTypingStatusTimestamp:J

.field private mLastSmoothScrollPosition:I

.field private mLatestText:Landroid/text/Editable;

.field private final mLayoutSizeChangedListener:Lcom/android/mms/ui/HeightChangedLinearLayout$LayoutSizeChangedListener;

.field private final mMessageListItemHandler:Landroid/os/Handler;

.field private mMessageSimId:J

.field private mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

.field private mMmsTextSizeAdjustPlugin:Lcom/mediatek/mms/ext/IMmsTextSizeAdjust;

.field private mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

.field public mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

.field private final mMsgListMenuCreateListener:Landroid/view/View$OnCreateContextMenuListener;

.field private mMsgListView:Lcom/android/mms/ui/MessageListView;

.field private mMuteLogo:Landroid/widget/ImageView;

.field private mNeedSaveAsMms:Z

.field private mNeedUpdateContactForMessageContent:Z

.field mOldThreadID:J

.field private mPhotoFilePath:Ljava/lang/String;

.field private mPossiblePendingNotification:Z

.field private mPrevRunnable:Ljava/lang/Runnable;

.field private mQueryMsgListRunnable:Ljava/lang/Runnable;

.field private mQueryUnReadMsgListRunnable:Ljava/lang/Runnable;

.field private mQuickContact:Lcom/android/mms/ui/MmsQuickContactBadge;

.field private mQuickTextDialog:Landroid/app/AlertDialog;

.field private mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

.field private final mRecipientsMenuCreateListener:Landroid/view/View$OnCreateContextMenuListener;

.field private mRecipientsPicker:Landroid/widget/ImageButton;

.field private final mRecipientsWatcher:Landroid/text/TextWatcher;

.field private mReplaceDialog:Landroid/app/AlertDialog;

.field mResetMessageRunnable:Ljava/lang/Runnable;

.field private final mResizeImageCallback:Lcom/android/mms/ui/MessageUtils$ResizeImageResultCallback;

.field private mResizePic:Ljava/lang/Runnable;

.field private mResizeSketch:Ljava/lang/Runnable;

.field private mSIMSelectDialog:Landroid/app/AlertDialog;

.field private mSaveMsgHandler:Landroid/os/Handler;

.field private mSaveMsgThread:Ljava/lang/Thread;

.field private mSavedScrollPosition:I

.field private mScrollListener:Lcom/android/mms/ui/MyScrollListener;

.field private mScrollOnSend:Z

.field private mSelectSimType:I

.field private mSelectedSimId:I

.field private mSendAudio:Ljava/lang/Runnable;

.field private mSendButtonCanResponse:Z

.field private mSendButtonIpMessage:Landroid/widget/ImageButton;

.field private mSendButtonMms:Landroid/widget/TextView;

.field private mSendButtonSms:Landroid/widget/ImageButton;

.field private mSendCalendar:Ljava/lang/Runnable;

.field private mSendPic:Ljava/lang/Runnable;

.field private mSendSketch:Ljava/lang/Runnable;

.field private mSendStopTypingRunnable:Ljava/lang/Runnable;

.field private mSendTypingRunnable:Ljava/lang/Runnable;

.field private mSendVcard:Ljava/lang/Runnable;

.field private mSendVideo:Ljava/lang/Runnable;

.field private mSendingMessage:Z

.field private mSentMessage:Z

.field private mSetWallPaperHandler:Landroid/os/Handler;

.field private mShareButton:Landroid/widget/ImageButton;

.field private mSharePanel:Lcom/mediatek/ipmsg/ui/SharePanel;

.field private mShowDialogForMultiImage:Z

.field private mShowInviteMsg:Z

.field private mShowKeyBoardFromEmoticon:Z

.field private mShowKeyBoardFromShare:Z

.field private mShowPromptRunnable:Ljava/lang/Runnable;

.field private mShowTypingLockObject:Ljava/lang/Object;

.field private mShowTypingStatusRunnable:Ljava/lang/Runnable;

.field private mShowTypingThread:Ljava/lang/Thread;

.field private mShowUnreadDivider:Z

.field private mShowingContactPicker:Z

.field private mSimCount:I

.field private mSimInfoList:Ljava/util/List;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/List",
            "<",
            "Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;",
            ">;"
        }
    .end annotation
.end field

.field private mSimReceiver:Landroid/content/BroadcastReceiver;

.field private mSmileyDialog:Landroid/app/AlertDialog;

.field private mSoloAlertDialog:Lcom/android/mms/ui/ComposeMessageActivity$SoloAlertDialog;

.field private mStatusBarManager:Lcom/mediatek/encapsulation/android/app/EncapsulatedStatusBarManager;

.field private mStringReplacementPlugin:Lcom/mediatek/mms/ext/IStringReplacement;

.field private final mSubjectEditorWatcher:Landroid/text/TextWatcher;

.field private final mSubjectKeyListener:Landroid/view/View$OnKeyListener;

.field private mSubjectTextEditor:Landroid/widget/EditText;

.field private mTempMmsUri:Landroid/net/Uri;

.field private mTempThreadId:J

.field private mTextCounter:Landroid/widget/TextView;

.field private mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

.field private final mTextEditorWatcher:Landroid/text/TextWatcher;

.field private mThreadCountManager:Lcom/android/mms/util/ThreadCountManager;

.field private mThreadId:Ljava/lang/Long;

.field private mToastCountForResizeImage:I

.field private mToastForDraftSave:Z

.field private mTopPanel:Landroid/view/View;

.field private mTopSubtitle:Landroid/widget/TextView;

.field private mTopTitle:Landroid/widget/TextView;

.field private mTypingStatus:Landroid/widget/TextView;

.field private mTypingStatusView:Landroid/widget/LinearLayout;

.field private mURLs:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList",
            "<",
            "Ljava/lang/String;",
            ">;"
        }
    .end annotation
.end field

.field private mUiHandler:Landroid/os/Handler;

.field private mUpdateForScrnOrientationChanged:Z

.field private mWaitingForSendMessage:Z

.field private mWaitingForSubActivity:Z

.field private mWaitingImeChangedObject:Ljava/lang/Object;

.field private mWallPaper:Landroid/widget/ImageView;

.field private mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

.field private mbCheckEcmMode:Z

.field private misPickContatct:Z

.field private send_sim_id:I


# direct methods
.method static constructor <clinit>()V
    .locals 3

    .prologue
    const/4 v2, 0x0

    const/4 v1, 0x0

    .line 548
    new-instance v0, Ljava/util/HashMap;

    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V

    sput-object v0, Lcom/android/mms/ui/ComposeMessageActivity;->sDegreeMap:Ljava/util/HashMap;

    .line 6405
    const-string v0, "external"

    invoke-static {v0}, Landroid/provider/MediaStore$Video$Media;->getContentUri(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v0

    invoke-virtual {v0}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v0

    sput-object v0, Lcom/android/mms/ui/ComposeMessageActivity;->mVideoUri:Ljava/lang/String;

    .line 6407
    const-string v0, "external"

    invoke-static {v0}, Landroid/provider/MediaStore$Images$Media;->getContentUri(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v0

    invoke-virtual {v0}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v0

    sput-object v0, Lcom/android/mms/ui/ComposeMessageActivity;->mImageUri:Ljava/lang/String;

    .line 8501
    const-string v0, "external"

    invoke-static {v0}, Landroid/provider/MediaStore$Audio$Media;->getContentUri(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v0

    invoke-virtual {v0}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v0

    sput-object v0, Lcom/android/mms/ui/ComposeMessageActivity;->mAudioUri:Ljava/lang/String;

    .line 8504
    const/16 v0, 0x64

    sput v0, Lcom/android/mms/ui/ComposeMessageActivity;->CHANGE_SCROLL_LISTENER_MIN_CURSOR_COUNT:I

    .line 8566
    invoke-static {}, Lcom/android/mms/MmsConfig;->getSmsRecipientLimit()I

    move-result v0

    sput v0, Lcom/android/mms/ui/ComposeMessageActivity;->RECIPIENTS_LIMIT_FOR_SMS:I

    .line 8581
    sput-boolean v1, Lcom/android/mms/ui/ComposeMessageActivity;->mDestroy:Z

    .line 8589
    sput-object v2, Lcom/android/mms/ui/ComposeMessageActivity;->mCellMgr:Lcom/mediatek/encapsulation/com/mediatek/CellConnService/EncapsulatedCellConnMgr;

    .line 8590
    sput v1, Lcom/android/mms/ui/ComposeMessageActivity;->mCellMgrRegisterCount:I

    .line 8594
    sput-object v2, Lcom/android/mms/ui/ComposeMessageActivity;->sCompose:Ljava/lang/ref/WeakReference;

    return-void
.end method

.method public constructor <init>()V
    .locals 9

    .prologue
    const/4 v8, -0x1

    const-wide/16 v6, -0x1

    const/4 v5, 0x0

    const/4 v4, 0x1

    const/4 v3, 0x0

    .line 338
    invoke-direct {p0}, Landroid/app/Activity;-><init>()V

    .line 478
    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    .line 524
    iput v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSavedScrollPosition:I

    .line 531
    iput v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mClickedItemPosition:I

    .line 533
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mErrorDialogShown:Z

    .line 545
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mbCheckEcmMode:Z

    .line 586
    const-string v0, ""

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    .line 587
    const-string v0, ""

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    .line 588
    iput v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    .line 589
    const-string v0, ""

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCalendarSummary:Ljava/lang/String;

    .line 592
    const-string v0, ""

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    .line 593
    const-string v0, ""

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBeforeTextChangeString:Ljava/lang/String;

    .line 596
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpMessageRecipients:Z

    .line 597
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpServiceEnabled:Z

    .line 598
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    .line 599
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    .line 600
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImageCaptionOn:Z

    .line 601
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsVideoCaptionOn:Z

    .line 602
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsAudioCaptionOn:Z

    .line 603
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsEditingCaption:Z

    .line 606
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowKeyBoardFromShare:Z

    .line 607
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowKeyBoardFromEmoticon:Z

    .line 608
    new-instance v0, Ljava/lang/Object;

    invoke-direct {v0}, Ljava/lang/Object;-><init>()V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWaitingImeChangedObject:Ljava/lang/Object;

    .line 612
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->isAddSmileySpans:Z

    .line 615
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowUnreadDivider:Z

    .line 616
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMarkMsgAsRead:Z

    .line 626
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImportantThread:Z

    .line 627
    const-wide/16 v0, 0x0

    iput-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEnterImportantTimestamp:J

    .line 629
    const-string v0, ""

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageVcardName:Ljava/lang/String;

    .line 631
    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInputMethodManager:Landroid/view/inputmethod/InputMethodManager;

    .line 642
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsDestroyTypingThread:Z

    .line 643
    const-wide/16 v0, 0x0

    iput-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLastSendTypingStatusTimestamp:J

    .line 646
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mJustSendMsgViaCommonMsgThisTime:Z

    .line 648
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowInviteMsg:Z

    .line 651
    iput v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraftId:I

    .line 654
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsClearTextDraft:Z

    .line 655
    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mReplaceDialog:Landroid/app/AlertDialog;

    .line 671
    iput v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonNumber:I

    .line 674
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCellDialogShowing:Z

    .line 677
    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSetWallPaperHandler:Landroid/os/Handler;

    .line 682
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$1;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$1;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowPromptRunnable:Ljava/lang/Runnable;

    .line 699
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$2;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$2;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHideTypingStatusRunnable:Ljava/lang/Runnable;

    .line 709
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$3;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$3;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowTypingStatusRunnable:Ljava/lang/Runnable;

    .line 720
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$4;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$4;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQueryUnReadMsgListRunnable:Ljava/lang/Runnable;

    .line 744
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$5;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$5;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQueryMsgListRunnable:Ljava/lang/Runnable;

    .line 771
    new-instance v0, Ljava/lang/Object;

    invoke-direct {v0}, Ljava/lang/Object;-><init>()V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowTypingLockObject:Ljava/lang/Object;

    .line 772
    new-instance v0, Ljava/lang/Thread;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$6;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$6;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    const-string v2, "showTypingThread"

    invoke-direct {v0, v1, v2}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;Ljava/lang/String;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowTypingThread:Ljava/lang/Thread;

    .line 840
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$7;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$7;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    .line 941
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$10;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$10;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditorHandler:Landroid/os/Handler;

    .line 1088
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$13;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$13;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageListItemHandler:Landroid/os/Handler;

    .line 1195
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$14;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$14;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectKeyListener:Landroid/view/View$OnKeyListener;

    .line 1579
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$16;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$16;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsWatcher:Landroid/text/TextWatcher;

    .line 1724
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$17;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$17;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsMenuCreateListener:Landroid/view/View$OnCreateContextMenuListener;

    .line 1991
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$18;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$18;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListMenuCreateListener:Landroid/view/View$OnCreateContextMenuListener;

    .line 3056
    new-instance v0, Landroid/content/IntentFilter;

    const-string v1, "com.android.mms.PROGRESS_STATUS"

    invoke-direct {v0, v1}, Landroid/content/IntentFilter;-><init>(Ljava/lang/String;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHttpProgressFilter:Landroid/content/IntentFilter;

    .line 3058
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$23;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$23;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHttpProgressReceiver:Landroid/content/BroadcastReceiver;

    .line 4467
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUpdateForScrnOrientationChanged:Z

    .line 4829
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$39;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$39;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mResetMessageRunnable:Ljava/lang/Runnable;

    .line 5738
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$45;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$45;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickRunnable:Ljava/lang/Runnable;

    .line 5878
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$47;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$47;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mResizeImageCallback:Lcom/android/mms/ui/MessageUtils$ResizeImageResultCallback;

    .line 6577
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowingContactPicker:Z

    .line 6632
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$56;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$56;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditorWatcher:Landroid/text/TextWatcher;

    .line 6769
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$57;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$57;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectEditorWatcher:Landroid/text/TextWatcher;

    .line 7730
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$66;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$66;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDataSetChangedListener:Lcom/android/mms/ui/MessageListAdapter$OnDataSetChangedListener;

    .line 8432
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAppendAttachmentSign:Z

    .line 8459
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCompressingImage:Z

    .line 8460
    iput v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mToastCountForResizeImage:I

    .line 8463
    iput v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHomeBox:I

    .line 8465
    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mExceedMessageSizeToast:Landroid/widget/Toast;

    .line 8473
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedUpdateContactForMessageContent:Z

    .line 8476
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDrawBottomPanel:Z

    .line 8488
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    .line 8492
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsEditingSlideshow:Z

    .line 8496
    iput-wide v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachClickTime:J

    .line 8497
    iput-wide v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEditClickTime:J

    .line 8505
    new-instance v0, Lcom/android/mms/ui/MyScrollListener;

    sget v1, Lcom/android/mms/ui/ComposeMessageActivity;->CHANGE_SCROLL_LISTENER_MIN_CURSOR_COUNT:I

    const-string v2, "MessageList_Scroll_Tread"

    invoke-direct {v0, v1, v2}, Lcom/android/mms/ui/MyScrollListener;-><init>(ILjava/lang/String;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mScrollListener:Lcom/android/mms/ui/MyScrollListener;

    .line 8528
    new-instance v0, Ljava/util/ArrayList;

    invoke-direct {v0}, Ljava/util/ArrayList;-><init>()V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mURLs:Ljava/util/ArrayList;

    .line 8545
    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSaveMsgHandler:Landroid/os/Handler;

    .line 8546
    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSaveMsgThread:Ljava/lang/Thread;

    .line 8555
    iput v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->send_sim_id:I

    .line 8561
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsShowSIMIndicator:Z

    .line 8571
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->isInitRecipientsEditor:Z

    .line 8584
    invoke-static {}, Lcom/android/mms/util/ThreadCountManager;->getInstance()Lcom/android/mms/util/ThreadCountManager;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mThreadCountManager:Lcom/android/mms/util/ThreadCountManager;

    .line 8585
    invoke-static {v6, v7}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mThreadId:Ljava/lang/Long;

    .line 8597
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonCanResponse:Z

    .line 8602
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mClickCanResponse:Z

    .line 8607
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsRecipientHasIntentNotHandle:Z

    .line 8608
    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIntent:Landroid/content/Intent;

    .line 8609
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->misPickContatct:Z

    .line 8620
    const/16 v0, 0x320

    iput v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    .line 8624
    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    .line 8625
    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

    .line 8629
    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsTextSizeAdjustPlugin:Lcom/mediatek/mms/ext/IMmsTextSizeAdjust;

    .line 8633
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHasDiscardWorkingMessage:Z

    .line 8640
    new-instance v0, Ljava/util/HashMap;

    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHashSim:Ljava/util/HashMap;

    .line 8648
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$70;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$70;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    .line 8905
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$71;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$71;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mGetSimInfoRunnable:Ljava/lang/Runnable;

    .line 8993
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsOneSimSelected:Z

    .line 9735
    iput v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->READ_REPORT_DISABLED:I

    .line 9736
    iput v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->READ_REPORT_SINGLE_MODE_ENABLED:I

    .line 9737
    const/4 v0, 0x2

    iput v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->READ_REPORT_GEMINI_MODE_ENABLED:I

    .line 10043
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$86;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$86;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLayoutSizeChangedListener:Lcom/android/mms/ui/HeightChangedLinearLayout$LayoutSizeChangedListener;

    .line 10267
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCompressingVCardFinished:Z

    .line 10796
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsNeedParseEmoticon:Z

    .line 11539
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$97;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$97;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mResizePic:Ljava/lang/Runnable;

    .line 11559
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$98;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$98;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mResizeSketch:Ljava/lang/Runnable;

    .line 11723
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$101;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$101;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendAudio:Ljava/lang/Runnable;

    .line 11760
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$102;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$102;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendPic:Ljava/lang/Runnable;

    .line 11780
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$103;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$103;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendVideo:Ljava/lang/Runnable;

    .line 11819
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$104;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$104;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendVcard:Ljava/lang/Runnable;

    .line 11843
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$105;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$105;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendSketch:Ljava/lang/Runnable;

    .line 11860
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$106;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$106;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendCalendar:Ljava/lang/Runnable;

    .line 12085
    const-string v0, ""

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentNumberString:Ljava/lang/String;

    .line 12116
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsStartMultiDeleteActivity:Z

    .line 13927
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$123;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$123;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mActivateIpMsgListener:Landroid/view/View$OnClickListener;

    .line 13949
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$124;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$124;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEnableIPMsgListener:Landroid/view/View$OnClickListener;

    .line 13971
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$125;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$125;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteClickListener:Landroid/view/View$OnClickListener;

    .line 13989
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$126;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$126;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDismissInviteClickListener:Landroid/view/View$OnClickListener;

    .line 14025
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$127;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$127;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendTypingRunnable:Ljava/lang/Runnable;

    .line 14036
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$128;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$128;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendStopTypingRunnable:Ljava/lang/Runnable;

    .line 14075
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowDialogForMultiImage:Z

    .line 14227
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$133;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$133;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimReceiver:Landroid/content/BroadcastReceiver;

    .line 14708
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$136;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$136;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCtButtonClickListener:Landroid/view/View$OnClickListener;

    .line 14771
    iput-wide v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mOldThreadID:J

    .line 14773
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCheckObsolete:Z

    .line 14775
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsSameConv:Z

    .line 14926
    return-void
.end method

.method static synthetic access$000(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/widget/LinearLayout;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTypingStatusView:Landroid/widget/LinearLayout;

    return-object v0
.end method

.method static synthetic access$100(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/mediatek/mms/ext/IMmsCompose;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    return-object v0
.end method

.method static synthetic access$1000(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/content/Context;)Z
    .locals 1
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->isNetworkConnected(Landroid/content/Context;)Z

    move-result v0

    return v0
.end method

.method static synthetic access$10000(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWaitingForSendMessage:Z

    return v0
.end method

.method static synthetic access$10002(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWaitingForSendMessage:Z

    return p1
.end method

.method static synthetic access$10100(Lcom/android/mms/ui/ComposeMessageActivity;II)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->startMsgListQuery(II)V

    return-void
.end method

.method static synthetic access$10200(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateThreadIdIfRunning()V

    return-void
.end method

.method static synthetic access$10302(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendingMessage:Z

    return p1
.end method

.method static synthetic access$10400(Lcom/android/mms/ui/ComposeMessageActivity;II)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->handleAddAttachmentError(II)V

    return-void
.end method

.method static synthetic access$10500(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->goToConversationList()V

    return-void
.end method

.method static synthetic access$10600(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/app/ProgressDialog;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickDialog:Landroid/app/ProgressDialog;

    return-object v0
.end method

.method static synthetic access$10602(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/app/ProgressDialog;)Landroid/app/ProgressDialog;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickDialog:Landroid/app/ProgressDialog;

    return-object p1
.end method

.method static synthetic access$10700(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->commitToChipIfNeeded()V

    return-void
.end method

.method static synthetic access$10802(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    return p1
.end method

.method static synthetic access$10900(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->notifyCompressingDone()V

    return-void
.end method

.method static synthetic access$1100(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/os/Message;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->doMmsAction(Landroid/os/Message;)V

    return-void
.end method

.method static synthetic access$11000(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowDialogForMultiImage:Z

    return v0
.end method

.method static synthetic access$11002(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowDialogForMultiImage:Z

    return p1
.end method

.method static synthetic access$11100(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mErrorDialogShown:Z

    return v0
.end method

.method static synthetic access$11102(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mErrorDialogShown:Z

    return p1
.end method

.method static synthetic access$11200(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;Landroid/net/Uri;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"
    .parameter "x3"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->addImage(Ljava/lang/String;Landroid/net/Uri;Z)V

    return-void
.end method

.method static synthetic access$11300(Lcom/android/mms/ui/ComposeMessageActivity;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->saveAsMms(Z)V

    return-void
.end method

.method static synthetic access$11400(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;ZII)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"
    .parameter "x3"
    .parameter "x4"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2, p3, p4}, Lcom/android/mms/ui/ComposeMessageActivity;->showConfirmDialog(Landroid/net/Uri;ZII)V

    return-void
.end method

.method static synthetic access$11500(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->addVideo(Landroid/net/Uri;Z)V

    return-void
.end method

.method static synthetic access$11600(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->addAudio(Landroid/net/Uri;Z)V

    return-void
.end method

.method static synthetic access$11700()Ljava/util/HashMap;
    .locals 1

    .prologue
    .line 338
    sget-object v0, Lcom/android/mms/ui/ComposeMessageActivity;->sDegreeMap:Ljava/util/HashMap;

    return-object v0
.end method

.method static synthetic access$11800(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;Landroid/net/Uri;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"
    .parameter "x3"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->addFileAttachment(Ljava/lang/String;Landroid/net/Uri;Z)V

    return-void
.end method

.method static synthetic access$11900(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;Landroid/net/Uri;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"
    .parameter "x3"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->addAttachment(Ljava/lang/String;Landroid/net/Uri;Z)V

    return-void
.end method

.method static synthetic access$1200(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/os/Message;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->doMoreAction(Landroid/os/Message;)V

    return-void
.end method

.method static synthetic access$12002(Lcom/android/mms/ui/ComposeMessageActivity;I)I
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mToastCountForResizeImage:I

    return p1
.end method

.method static synthetic access$12102(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;)Ljava/lang/String;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBeforeTextChangeString:Ljava/lang/String;

    return-object p1
.end method

.method static synthetic access$12200(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsNeedParseEmoticon:Z

    return v0
.end method

.method static synthetic access$12202(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsNeedParseEmoticon:Z

    return p1
.end method

.method static synthetic access$12300(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/android/mms/ui/AttachmentEditor;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

    return-object v0
.end method

.method static synthetic access$12400(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/text/Editable;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLatestText:Landroid/text/Editable;

    return-object v0
.end method

.method static synthetic access$12402(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/text/Editable;)Landroid/text/Editable;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLatestText:Landroid/text/Editable;

    return-object p1
.end method

.method static synthetic access$12500(Lcom/android/mms/ui/ComposeMessageActivity;I)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->setEmoticon(I)V

    return-void
.end method

.method static synthetic access$12600(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->clearIpMessageDraft()V

    return-void
.end method

.method static synthetic access$12700(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowKeyBoardFromShare:Z

    return v0
.end method

.method static synthetic access$12800(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowKeyBoardFromEmoticon:Z

    return v0
.end method

.method static synthetic access$12900(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateFullScreenTextEditorHeight()V

    return-void
.end method

.method static synthetic access$1300(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/os/Message;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->doMoreActionForMms(Landroid/os/Message;)V

    return-void
.end method

.method static synthetic access$13000(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUpdateForScrnOrientationChanged:Z

    return v0
.end method

.method static synthetic access$13002(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUpdateForScrnOrientationChanged:Z

    return p1
.end method

.method static synthetic access$13102(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPossiblePendingNotification:Z

    return p1
.end method

.method static synthetic access$13200(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMarkMsgAsRead:Z

    return v0
.end method

.method static synthetic access$13300(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->sanityCheckConversation()V

    return-void
.end method

.method static synthetic access$13400(Lcom/android/mms/ui/ComposeMessageActivity;)I
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSavedScrollPosition:I

    return v0
.end method

.method static synthetic access$13402(Lcom/android/mms/ui/ComposeMessageActivity;I)I
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSavedScrollPosition:I

    return p1
.end method

.method static synthetic access$13500(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedUpdateContactForMessageContent:Z

    return v0
.end method

.method static synthetic access$13502(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedUpdateContactForMessageContent:Z

    return p1
.end method

.method static synthetic access$13600(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/database/Cursor;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->updateContactCache(Landroid/database/Cursor;)V

    return-void
.end method

.method static synthetic access$13700(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/android/mms/ui/MessageListView;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    return-object v0
.end method

.method static synthetic access$13800(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mScrollOnSend:Z

    return v0
.end method

.method static synthetic access$13802(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mScrollOnSend:Z

    return p1
.end method

.method static synthetic access$13900(Lcom/android/mms/ui/ComposeMessageActivity;)J
    .locals 2
    .parameter "x0"

    .prologue
    .line 338
    iget-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLastMessageId:J

    return-wide v0
.end method

.method static synthetic access$13902(Lcom/android/mms/ui/ComposeMessageActivity;J)J
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-wide p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLastMessageId:J

    return-wide p1
.end method

.method static synthetic access$1400(Lcom/android/mms/ui/ComposeMessageActivity;I)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->showInvitePanel(I)V

    return-void
.end method

.method static synthetic access$14000(Lcom/android/mms/ui/ComposeMessageActivity;ZI)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->smoothScrollToEnd(ZI)V

    return-void
.end method

.method static synthetic access$14100(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSentMessage:Z

    return v0
.end method

.method static synthetic access$14200(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/app/AlertDialog;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSIMSelectDialog:Landroid/app/AlertDialog;

    return-object v0
.end method

.method static synthetic access$14300(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/os/Bundle;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->initRecipientsEditor(Landroid/os/Bundle;)V

    return-void
.end method

.method static synthetic access$14400(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->showInvitePanel()V

    return-void
.end method

.method static synthetic access$14500(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendFailedNotification()V

    return-void
.end method

.method static synthetic access$14600(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/android/mms/util/ThreadCountManager;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mThreadCountManager:Lcom/android/mms/util/ThreadCountManager;

    return-object v0
.end method

.method static synthetic access$14700(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->needSaveDraft()Z

    move-result v0

    return v0
.end method

.method static synthetic access$14800(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/data/ContactList;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->makeDraftEditable(Lcom/android/mms/data/ContactList;)V

    return-void
.end method

.method static synthetic access$14900(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/widget/EditText;Ljava/lang/String;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->insertText(Landroid/widget/EditText;Ljava/lang/String;)V

    return-void
.end method

.method static synthetic access$1500(Lcom/android/mms/ui/ComposeMessageActivity;)J
    .locals 2
    .parameter "x0"

    .prologue
    .line 338
    iget-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    return-wide v0
.end method

.method static synthetic access$15000(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/util/List;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    return-object v0
.end method

.method static synthetic access$1502(Lcom/android/mms/ui/ComposeMessageActivity;J)J
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-wide p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    return-wide p1
.end method

.method static synthetic access$15100(Lcom/android/mms/ui/ComposeMessageActivity;)I
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    return v0
.end method

.method static synthetic access$15102(Lcom/android/mms/ui/ComposeMessageActivity;I)I
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    return p1
.end method

.method static synthetic access$15200(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;J)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->saveMessageToSim(Ljava/lang/String;J)V

    return-void
.end method

.method static synthetic access$15300(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonCanResponse:Z

    return v0
.end method

.method static synthetic access$15302(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonCanResponse:Z

    return p1
.end method

.method static synthetic access$15400(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/util/HashMap;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHashSim:Ljava/util/HashMap;

    return-object v0
.end method

.method static synthetic access$15500(Lcom/android/mms/ui/ComposeMessageActivity;)I
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectSimType:I

    return v0
.end method

.method static synthetic access$15600(Lcom/android/mms/ui/ComposeMessageActivity;)I
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAssociatedSimQueryDone:I

    return v0
.end method

.method static synthetic access$15602(Lcom/android/mms/ui/ComposeMessageActivity;I)I
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAssociatedSimQueryDone:I

    return p1
.end method

.method static synthetic access$15700(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/Runnable;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickRunnable:Ljava/lang/Runnable;

    return-object v0
.end method

.method static synthetic access$15800(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/os/Handler;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSaveMsgHandler:Landroid/os/Handler;

    return-object v0
.end method

.method static synthetic access$15802(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/os/Handler;)Landroid/os/Handler;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSaveMsgHandler:Landroid/os/Handler;

    return-object p1
.end method

.method static synthetic access$15900(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;J)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->getMessageAndSaveToSim(Ljava/lang/String;J)V

    return-void
.end method

.method static synthetic access$16000(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/content/Intent;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->getMessageAndSaveToSim(Landroid/content/Intent;)V

    return-void
.end method

.method static synthetic access$1602(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    return p1
.end method

.method static synthetic access$16100(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getSimInfoList()V

    return-void
.end method

.method static synthetic access$16200(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->confirmSendMessageIfNeeded()V

    return-void
.end method

.method static synthetic access$16300(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsOneSimSelected:Z

    return v0
.end method

.method static synthetic access$16302(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsOneSimSelected:Z

    return p1
.end method

.method static synthetic access$16400(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/os/Handler;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditorHandler:Landroid/os/Handler;

    return-object v0
.end method

.method static synthetic access$16500(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/android/mms/ui/MessageUtils$ResizeImageResultCallback;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mResizeImageCallback:Lcom/android/mms/ui/MessageUtils$ResizeImageResultCallback;

    return-object v0
.end method

.method static synthetic access$16602(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCellDialogShowing:Z

    return p1
.end method

.method static synthetic access$16700()Lcom/mediatek/encapsulation/com/mediatek/CellConnService/EncapsulatedCellConnMgr;
    .locals 1

    .prologue
    .line 338
    sget-object v0, Lcom/android/mms/ui/ComposeMessageActivity;->mCellMgr:Lcom/mediatek/encapsulation/com/mediatek/CellConnService/EncapsulatedCellConnMgr;

    return-object v0
.end method

.method static synthetic access$16800(Lcom/android/mms/ui/ComposeMessageActivity;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->checkIpMessageBeforeSendMessage(Z)V

    return-void
.end method

.method static synthetic access$16900(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/widget/Toast;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mExceedMessageSizeToast:Landroid/widget/Toast;

    return-object v0
.end method

.method static synthetic access$16902(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/widget/Toast;)Landroid/widget/Toast;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mExceedMessageSizeToast:Landroid/widget/Toast;

    return-object p1
.end method

.method static synthetic access$1700(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    return-void
.end method

.method static synthetic access$17000(Lcom/android/mms/ui/ComposeMessageActivity;)I
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->recipientCount()I

    move-result v0

    return v0
.end method

.method static synthetic access$17100(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->simSelection()V

    return-void
.end method

.method static synthetic access$17202(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsSoftKeyBoardShow:Z

    return p1
.end method

.method static synthetic access$17300(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/Object;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWaitingImeChangedObject:Ljava/lang/Object;

    return-object v0
.end method

.method static synthetic access$17400(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateTextEditorHeightInFullScreen()V

    return-void
.end method

.method static synthetic access$17500(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/android/mms/ui/AttachmentTypeSelectorAdapter;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentTypeSelectorAdapter:Lcom/android/mms/ui/AttachmentTypeSelectorAdapter;

    return-object v0
.end method

.method static synthetic access$17502(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/AttachmentTypeSelectorAdapter;)Lcom/android/mms/ui/AttachmentTypeSelectorAdapter;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentTypeSelectorAdapter:Lcom/android/mms/ui/AttachmentTypeSelectorAdapter;

    return-object p1
.end method

.method static synthetic access$17600(Lcom/android/mms/ui/ComposeMessageActivity;IZ)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->addAttachment(IZ)V

    return-void
.end method

.method static synthetic access$17700(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->attachVCalendar(Landroid/net/Uri;)V

    return-void
.end method

.method static synthetic access$17800(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/String;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageVcardName:Ljava/lang/String;

    return-object v0
.end method

.method static synthetic access$17802(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;)Ljava/lang/String;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageVcardName:Ljava/lang/String;

    return-object p1
.end method

.method static synthetic access$17900(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/String;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    return-object v0
.end method

.method static synthetic access$17902(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;)Ljava/lang/String;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    return-object p1
.end method

.method static synthetic access$1800(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/net/Uri;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTempMmsUri:Landroid/net/Uri;

    return-object v0
.end method

.method static synthetic access$18000(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/Runnable;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendVcard:Ljava/lang/Runnable;

    return-object v0
.end method

.method static synthetic access$1802(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;)Landroid/net/Uri;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTempMmsUri:Landroid/net/Uri;

    return-object p1
.end method

.method static synthetic access$18100(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAppendAttachmentSign:Z

    return v0
.end method

.method static synthetic access$18200(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;IZ)I
    .locals 1
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"
    .parameter "x3"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->setFileAttachment(Ljava/lang/String;IZ)I

    move-result v0

    return v0
.end method

.method static synthetic access$18300(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCompressingVCardFinished:Z

    return v0
.end method

.method static synthetic access$18400(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->insertEmoticon(Ljava/lang/String;)V

    return-void
.end method

.method static synthetic access$18500(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->deleteEmoticon()V

    return-void
.end method

.method static synthetic access$18600(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->sendEmoticon(Ljava/lang/String;)V

    return-void
.end method

.method static synthetic access$18702(Lcom/android/mms/ui/ComposeMessageActivity;I)I
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonNumber:I

    return p1
.end method

.method static synthetic access$18802(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->isAddSmileySpans:Z

    return p1
.end method

.method static synthetic access$18900(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/String;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    return-object v0
.end method

.method static synthetic access$1900(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/android/mms/data/WorkingMessage;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    return-object v0
.end method

.method static synthetic access$19000(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/Runnable;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendPic:Ljava/lang/Runnable;

    return-object v0
.end method

.method static synthetic access$19100(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/Runnable;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendSketch:Ljava/lang/Runnable;

    return-object v0
.end method

.method static synthetic access$19200(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsRunning:Z

    return v0
.end method

.method static synthetic access$19300(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/Runnable;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendAudio:Ljava/lang/Runnable;

    return-object v0
.end method

.method static synthetic access$19400(Lcom/android/mms/ui/ComposeMessageActivity;)I
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    return v0
.end method

.method static synthetic access$19500(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/mediatek/mms/ipmessage/message/IpMessage;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    return-object v0
.end method

.method static synthetic access$19502(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/mediatek/mms/ipmessage/message/IpMessage;)Lcom/mediatek/mms/ipmessage/message/IpMessage;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    return-object p1
.end method

.method static synthetic access$19600(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->resetSelectSimId()V

    return-void
.end method

.method static synthetic access$19700(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    return v0
.end method

.method static synthetic access$19800(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsAudioCaptionOn:Z

    return v0
.end method

.method static synthetic access$19900(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 1
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->convertIpMessageToMmsOrSms(Z)Z

    move-result v0

    return v0
.end method

.method static synthetic access$200(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/android/mms/data/Conversation;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    return-object v0
.end method

.method static synthetic access$20002(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsEditingCaption:Z

    return p1
.end method

.method static synthetic access$2002(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWaitingForSubActivity:Z

    return p1
.end method

.method static synthetic access$20100(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/mediatek/mms/ipmessage/message/IpMessage;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->saveIpMessageForAWhile(Lcom/mediatek/mms/ipmessage/message/IpMessage;)V

    return-void
.end method

.method static synthetic access$202(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/data/Conversation;)Lcom/android/mms/data/Conversation;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    return-object p1
.end method

.method static synthetic access$20200(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/mediatek/mms/ipmessage/message/IpMessage;Ljava/lang/String;ZZ)Z
    .locals 1
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"
    .parameter "x3"
    .parameter "x4"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2, p3, p4}, Lcom/android/mms/ui/ComposeMessageActivity;->sendMessageForIpMsg(Lcom/mediatek/mms/ipmessage/message/IpMessage;Ljava/lang/String;ZZ)Z

    move-result v0

    return v0
.end method

.method static synthetic access$20300(Lcom/android/mms/ui/ComposeMessageActivity;I)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->sendImage(I)V

    return-void
.end method

.method static synthetic access$20400(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/Runnable;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendVideo:Ljava/lang/Runnable;

    return-object v0
.end method

.method static synthetic access$20500(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsVideoCaptionOn:Z

    return v0
.end method

.method static synthetic access$20600(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/Runnable;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendCalendar:Ljava/lang/Runnable;

    return-object v0
.end method

.method static synthetic access$20700(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/String;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCalendarSummary:Ljava/lang/String;

    return-object v0
.end method

.method static synthetic access$20900(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->asyncUpdateThreadMuteIcon()V

    return-void
.end method

.method static synthetic access$2100(Lcom/android/mms/ui/ComposeMessageActivity;)J
    .locals 2
    .parameter "x0"

    .prologue
    .line 338
    iget-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachClickTime:J

    return-wide v0
.end method

.method static synthetic access$21000(Lcom/android/mms/ui/ComposeMessageActivity;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->sendLongMessageCheck(Z)V

    return-void
.end method

.method static synthetic access$2102(Lcom/android/mms/ui/ComposeMessageActivity;J)J
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-wide p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachClickTime:J

    return-wide p1
.end method

.method static synthetic access$21100(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->convertMmsOrSmsToIpMessage()V

    return-void
.end method

.method static synthetic access$21200(Lcom/android/mms/ui/ComposeMessageActivity;J)Z
    .locals 1
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->setWallPaper(J)Z

    move-result v0

    return v0
.end method

.method static synthetic access$21300(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/os/Handler;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSetWallPaperHandler:Landroid/os/Handler;

    return-object v0
.end method

.method static synthetic access$21400(Lcom/android/mms/ui/ComposeMessageActivity;J)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->showDiscardCurrentMessageDialog(J)V

    return-void
.end method

.method static synthetic access$21500(Lcom/android/mms/ui/ComposeMessageActivity;J)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->sendViaMmsOrSms(J)V

    return-void
.end method

.method static synthetic access$21600(Lcom/android/mms/ui/ComposeMessageActivity;Z)Landroid/view/View;
    .locals 1
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->showSmsOrMmsSendButton(Z)Landroid/view/View;

    move-result-object v0

    return-object v0
.end method

.method static synthetic access$21700(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/String;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    return-object v0
.end method

.method static synthetic access$21802(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/app/AlertDialog;)Landroid/app/AlertDialog;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mReplaceDialog:Landroid/app/AlertDialog;

    return-object p1
.end method

.method static synthetic access$21900(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getSIMInfoList()V

    return-void
.end method

.method static synthetic access$2200(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCompressingImage:Z

    return v0
.end method

.method static synthetic access$22000(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mToastForDraftSave:Z

    return v0
.end method

.method static synthetic access$22100(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/widget/ImageButton;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    return-object v0
.end method

.method static synthetic access$22200(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/widget/ImageButton;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    return-object v0
.end method

.method static synthetic access$22300(Lcom/android/mms/ui/ComposeMessageActivity;)[I
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSlotIds:[I

    return-object v0
.end method

.method static synthetic access$22400(Lcom/android/mms/ui/ComposeMessageActivity;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState(Z)V

    return-void
.end method

.method static synthetic access$22500(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isHasRecipientCount()Z

    move-result v0

    return v0
.end method

.method static synthetic access$22700(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mbCheckEcmMode:Z

    return v0
.end method

.method static synthetic access$22800(Lcom/android/mms/ui/ComposeMessageActivity;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->sendMessage(Z)V

    return-void
.end method

.method static synthetic access$2302(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsEditingSlideshow:Z

    return p1
.end method

.method static synthetic access$2400(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->editSlideshow()V

    return-void
.end method

.method static synthetic access$2500(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isPreparedForSending()Z

    move-result v0

    return v0
.end method

.method static synthetic access$2600(Lcom/android/mms/ui/ComposeMessageActivity;)I
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->send_sim_id:I

    return v0
.end method

.method static synthetic access$2602(Lcom/android/mms/ui/ComposeMessageActivity;I)I
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->send_sim_id:I

    return p1
.end method

.method static synthetic access$2700(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->checkRecipientsCount()V

    return-void
.end method

.method static synthetic access$2800(Lcom/android/mms/ui/ComposeMessageActivity;I)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->viewMmsMessageAttachment(I)V

    return-void
.end method

.method static synthetic access$2900(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideInputMethod()V

    return-void
.end method

.method static synthetic access$300(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    return-object v0
.end method

.method static synthetic access$3000(Lcom/android/mms/ui/ComposeMessageActivity;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->showAddAttachmentDialog(Z)V

    return-void
.end method

.method static synthetic access$3100(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/MessageItem;)Z
    .locals 1
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->showMessageDetails(Lcom/android/mms/ui/MessageItem;)Z

    move-result v0

    return v0
.end method

.method static synthetic access$3200(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/MessageItem;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->editMessageItem(Lcom/android/mms/ui/MessageItem;)V

    return-void
.end method

.method static synthetic access$3300(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->drawBottomPanel()V

    return-void
.end method

.method static synthetic access$3400(Lcom/android/mms/ui/ComposeMessageActivity;J)[[J
    .locals 1
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->getAllFailedIpMsgByThreadId(J)[[J

    move-result-object v0

    return-object v0
.end method

.method static synthetic access$3500(Lcom/android/mms/ui/ComposeMessageActivity;JJ[[J)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"
    .parameter "x3"

    .prologue
    .line 338
    invoke-direct/range {p0 .. p5}, Lcom/android/mms/ui/ComposeMessageActivity;->showResendConfirmDialg(JJ[[J)V

    return-void
.end method

.method static synthetic access$3600(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->startMsgListQuery()V

    return-void
.end method

.method static synthetic access$3700(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/widget/EditText;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    return-object v0
.end method

.method static synthetic access$3800(Lcom/android/mms/ui/ComposeMessageActivity;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->showSubjectEditor(Z)V

    return-void
.end method

.method static synthetic access$3900(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/CharSequence;III)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"
    .parameter "x3"
    .parameter "x4"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2, p3, p4}, Lcom/android/mms/ui/ComposeMessageActivity;->updateCounter(Ljava/lang/CharSequence;III)V

    return-void
.end method

.method static synthetic access$400(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImportantThread:Z

    return v0
.end method

.method static synthetic access$4000(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/android/mms/ui/EnhanceEditText;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    return-object v0
.end method

.method static synthetic access$402(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImportantThread:Z

    return p1
.end method

.method static synthetic access$4100(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/widget/TextView;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextCounter:Landroid/widget/TextView;

    return-object v0
.end method

.method static synthetic access$4302(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHasDiscardWorkingMessage:Z

    return p1
.end method

.method static synthetic access$4400(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/mediatek/mms/ipmessage/message/IpMessage;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    return-object v0
.end method

.method static synthetic access$4402(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/mediatek/mms/ipmessage/message/IpMessage;)Lcom/mediatek/mms/ipmessage/message/IpMessage;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    return-object p1
.end method

.method static synthetic access$4500(Lcom/android/mms/ui/ComposeMessageActivity;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->checkConditionsAndSendMessage(Z)V

    return-void
.end method

.method static synthetic access$4600(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v0

    return v0
.end method

.method static synthetic access$4700(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/android/mms/ui/RecipientsEditor;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    return-object v0
.end method

.method static synthetic access$4800(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/android/mms/data/ContactList;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCutRecipients:Lcom/android/mms/data/ContactList;

    return-object v0
.end method

.method static synthetic access$4802(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/data/ContactList;)Lcom/android/mms/data/ContactList;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCutRecipients:Lcom/android/mms/data/ContactList;

    return-object p1
.end method

.method static synthetic access$4900(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/text/TextWatcher;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsWatcher:Landroid/text/TextWatcher;

    return-object v0
.end method

.method static synthetic access$500(Lcom/android/mms/ui/ComposeMessageActivity;)J
    .locals 2
    .parameter "x0"

    .prologue
    .line 338
    iget-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEnterImportantTimestamp:J

    return-wide v0
.end method

.method static synthetic access$502(Lcom/android/mms/ui/ComposeMessageActivity;J)J
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-wide p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEnterImportantTimestamp:J

    return-wide p1
.end method

.method static synthetic access$5300(Lcom/android/mms/ui/ComposeMessageActivity;I)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->checkForTooManyRecipients(I)V

    return-void
.end method

.method static synthetic access$5500(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/data/ContactList;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->updateTitle(Lcom/android/mms/data/ContactList;)V

    return-void
.end method

.method static synthetic access$5600(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/os/Handler;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    return-object v0
.end method

.method static synthetic access$5700(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/android/mms/data/Contact;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInViewContact:Lcom/android/mms/data/Contact;

    return-object v0
.end method

.method static synthetic access$5702(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/data/Contact;)Lcom/android/mms/data/Contact;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInViewContact:Lcom/android/mms/data/Contact;

    return-object p1
.end method

.method static synthetic access$5800(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/content/Intent;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAddContactIntent:Landroid/content/Intent;

    return-object v0
.end method

.method static synthetic access$5802(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/content/Intent;)Landroid/content/Intent;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAddContactIntent:Landroid/content/Intent;

    return-object p1
.end method

.method static synthetic access$5900(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isCursorValid()Z

    move-result v0

    return v0
.end method

.method static synthetic access$600(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowUnreadDivider:Z

    return v0
.end method

.method static synthetic access$6002(Lcom/android/mms/ui/ComposeMessageActivity;I)I
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mClickedItemPosition:I

    return p1
.end method

.method static synthetic access$602(Lcom/android/mms/ui/ComposeMessageActivity;Z)Z
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowUnreadDivider:Z

    return p1
.end method

.method static synthetic access$6100(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/view/ContextMenu;Landroid/view/View;Landroid/view/ContextMenu$ContextMenuInfo;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"
    .parameter "x3"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->addPositionBasedMenuItems(Landroid/view/ContextMenu;Landroid/view/View;Landroid/view/ContextMenu$ContextMenuInfo;)V

    return-void
.end method

.method static synthetic access$6200(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/mediatek/mms/ipmessage/message/IpMessage;)I
    .locals 1
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->canConvertIpMessageToMessage(Lcom/mediatek/mms/ipmessage/message/IpMessage;)I

    move-result v0

    return v0
.end method

.method static synthetic access$6300(Lcom/android/mms/ui/ComposeMessageActivity;J)Z
    .locals 1
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->isForwardable(J)Z

    move-result v0

    return v0
.end method

.method static synthetic access$6400(Lcom/android/mms/ui/ComposeMessageActivity;J)Z
    .locals 1
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->haveSomethingToCopyToSDCard(J)Z

    move-result v0

    return v0
.end method

.method static synthetic access$6500(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/view/ContextMenu;Lcom/android/mms/ui/ComposeMessageActivity$MsgListMenuClickListener;Lcom/android/mms/ui/MessageItem;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"
    .parameter "x3"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->addCallAndContactMenuItems(Landroid/view/ContextMenu;Lcom/android/mms/ui/ComposeMessageActivity$MsgListMenuClickListener;Lcom/android/mms/ui/MessageItem;)V

    return-void
.end method

.method static synthetic access$6600(Lcom/android/mms/ui/ComposeMessageActivity;)I
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    return v0
.end method

.method static synthetic access$6700(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/mediatek/mms/ext/IStringReplacement;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mStringReplacementPlugin:Lcom/mediatek/mms/ext/IStringReplacement;

    return-object v0
.end method

.method static synthetic access$6800(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/content/ContentResolver;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContentResolver:Landroid/content/ContentResolver;

    return-object v0
.end method

.method static synthetic access$6900(Lcom/android/mms/ui/ComposeMessageActivity;)J
    .locals 2
    .parameter "x0"

    .prologue
    .line 338
    iget-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTempThreadId:J

    return-wide v0
.end method

.method static synthetic access$6902(Lcom/android/mms/ui/ComposeMessageActivity;J)J
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-wide p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTempThreadId:J

    return-wide p1
.end method

.method static synthetic access$700(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsDestroyTypingThread:Z

    return v0
.end method

.method static synthetic access$7000(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/view/MenuItem;Lcom/android/mms/ui/MessageItem;)Z
    .locals 1
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->onIpMessageMenuItemClick(Landroid/view/MenuItem;Lcom/android/mms/ui/MessageItem;)Z

    move-result v0

    return v0
.end method

.method static synthetic access$7100(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->copyToClipboard(Ljava/lang/String;)V

    return-void
.end method

.method static synthetic access$7200(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/MessageItem;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->forwardMessage(Lcom/android/mms/ui/MessageItem;)V

    return-void
.end method

.method static synthetic access$7300(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/Long;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mThreadId:Ljava/lang/Long;

    return-object v0
.end method

.method static synthetic access$7302(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/Long;)Ljava/lang/Long;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mThreadId:Ljava/lang/Long;

    return-object p1
.end method

.method static synthetic access$7400(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/content/DialogInterface$OnClickListener;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->confirmDeleteDialog(Landroid/content/DialogInterface$OnClickListener;Z)V

    return-void
.end method

.method static synthetic access$7500(Lcom/android/mms/ui/ComposeMessageActivity;JLjava/lang/String;J)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"
    .parameter "x3"

    .prologue
    .line 338
    invoke-direct/range {p0 .. p5}, Lcom/android/mms/ui/ComposeMessageActivity;->showDeliveryReportForCT(JLjava/lang/String;J)V

    return-void
.end method

.method static synthetic access$7600(Lcom/android/mms/ui/ComposeMessageActivity;JLjava/lang/String;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->showDeliveryReport(JLjava/lang/String;)V

    return-void
.end method

.method static synthetic access$7700(Lcom/android/mms/ui/ComposeMessageActivity;J)Z
    .locals 1
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->saveRingtone(J)Z

    move-result v0

    return v0
.end method

.method static synthetic access$7800(Lcom/android/mms/ui/ComposeMessageActivity;JZ)I
    .locals 1
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->getDrmMimeSavedStringRsrc(JZ)I

    move-result v0

    return v0
.end method

.method static synthetic access$7900(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/MessageItem;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"
    .parameter "x2"

    .prologue
    .line 338
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->lockMessage(Lcom/android/mms/ui/MessageItem;Z)V

    return-void
.end method

.method static synthetic access$800(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/widget/TextView;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTypingStatus:Landroid/widget/TextView;

    return-object v0
.end method

.method static synthetic access$8000(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/util/ArrayList;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mURLs:Ljava/util/ArrayList;

    return-object v0
.end method

.method static synthetic access$8100(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/Thread;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSaveMsgThread:Ljava/lang/Thread;

    return-object v0
.end method

.method static synthetic access$8102(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/Thread;)Ljava/lang/Thread;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSaveMsgThread:Ljava/lang/Thread;

    return-object p1
.end method

.method static synthetic access$8200(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/view/View;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mActionBarCustomView:Landroid/view/View;

    return-object v0
.end method

.method static synthetic access$8202(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/view/View;)Landroid/view/View;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mActionBarCustomView:Landroid/view/View;

    return-object p1
.end method

.method static synthetic access$8300(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/widget/ImageView;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMuteLogo:Landroid/widget/ImageView;

    return-object v0
.end method

.method static synthetic access$8302(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/widget/ImageView;)Landroid/widget/ImageView;
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMuteLogo:Landroid/widget/ImageView;

    return-object p1
.end method

.method static synthetic access$8400(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/view/inputmethod/InputMethodManager;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInputMethodManager:Landroid/view/inputmethod/InputMethodManager;

    return-object v0
.end method

.method static synthetic access$8500(Lcom/android/mms/ui/ComposeMessageActivity;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->showSharePanel(Z)V

    return-void
.end method

.method static synthetic access$8600(Lcom/android/mms/ui/ComposeMessageActivity;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->showEmoticonPanel(Z)V

    return-void
.end method

.method static synthetic access$8700(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsLandscape:Z

    return v0
.end method

.method static synthetic access$8800(Lcom/android/mms/ui/ComposeMessageActivity;)I
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    return v0
.end method

.method static synthetic access$900(Lcom/android/mms/ui/ComposeMessageActivity;)Ljava/lang/Object;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowTypingLockObject:Ljava/lang/Object;

    return-object v0
.end method

.method static synthetic access$9000(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/widget/ImageView;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWallPaper:Landroid/widget/ImageView;

    return-object v0
.end method

.method static synthetic access$9100(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isCurrentRecipientIpMessageUser()Z

    move-result v0

    return v0
.end method

.method static synthetic access$9200(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/android/mms/data/ContactList;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    return-object v0
.end method

.method static synthetic access$9300(Lcom/android/mms/ui/ComposeMessageActivity;)Landroid/os/Handler;
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageListItemHandler:Landroid/os/Handler;

    return-object v0
.end method

.method static synthetic access$9600(Lcom/android/mms/ui/ComposeMessageActivity;)Z
    .locals 1
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isSubjectEditorVisible()Z

    move-result v0

    return v0
.end method

.method static synthetic access$9700(Lcom/android/mms/ui/ComposeMessageActivity;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->drawTopPanel(Z)V

    return-void
.end method

.method static synthetic access$9800(Lcom/android/mms/ui/ComposeMessageActivity;Z)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 338
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->toastConvertInfo(Z)V

    return-void
.end method

.method static synthetic access$9900(Lcom/android/mms/ui/ComposeMessageActivity;)V
    .locals 0
    .parameter "x0"

    .prologue
    .line 338
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->resetMessage()V

    return-void
.end method

.method private addAttachment(IZ)V
    .locals 13
    .parameter "type"
    .parameter "append"

    .prologue
    .line 5251
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

    if-eqz v9, :cond_1

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

    invoke-static {}, Lcom/android/mms/MmsConfig;->getDeviceStorageFullStatus()Z

    move-result v10

    const/4 v11, 0x1

    const/4 v12, 0x2

    invoke-interface {v9, p0, v10, v11, v12}, Lcom/mediatek/mms/ext/IMmsUtils;->allowSafeDraft(Landroid/app/Activity;ZZI)Z

    move-result v9

    if-nez v9, :cond_1

    .line 5386
    :cond_0
    :goto_0
    return-void

    .line 5258
    :cond_1
    const/4 v1, 0x0

    .line 5259
    .local v1, currentSlideSize:I
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v9}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v8

    .line 5262
    .local v8, slideShow:Lcom/android/mms/model/SlideshowModel;
    if-eqz p2, :cond_4

    .line 5263
    const/4 v9, 0x1

    iput-boolean v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAppendAttachmentSign:Z

    .line 5269
    :goto_1
    if-eqz v8, :cond_2

    .line 5270
    invoke-static {v8}, Lcom/android/mms/data/WorkingMessage;->removeThumbnailsFromCache(Lcom/android/mms/model/SlideshowModel;)V

    .line 5271
    const/4 v9, 0x0

    invoke-virtual {v8, v9}, Lcom/android/mms/model/SlideshowModel;->get(I)Lcom/android/mms/model/SlideModel;

    move-result-object v7

    .line 5272
    .local v7, slide:Lcom/android/mms/model/SlideModel;
    if-nez v7, :cond_5

    const/4 v1, 0x0

    .line 5275
    .end local v7           #slide:Lcom/android/mms/model/SlideModel;
    :cond_2
    :goto_2
    const/4 v9, 0x6

    if-eq p1, v9, :cond_3

    const/4 v9, 0x7

    if-eq p1, v9, :cond_3

    iget-boolean v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAppendAttachmentSign:Z

    invoke-direct {p0, v9}, Lcom/android/mms/ui/ComposeMessageActivity;->checkSlideCount(Z)Z

    move-result v9

    if-eqz v9, :cond_0

    .line 5280
    :cond_3
    packed-switch p1, :pswitch_data_0

    goto :goto_0

    .line 5282
    :pswitch_0
    const/16 v9, 0x64

    invoke-static {p0, v9}, Lcom/android/mms/ui/MessageUtils;->selectImage(Landroid/content/Context;I)V

    goto :goto_0

    .line 5265
    :cond_4
    const/4 v9, 0x0

    iput-boolean v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAppendAttachmentSign:Z

    goto :goto_1

    .line 5272
    .restart local v7       #slide:Lcom/android/mms/model/SlideModel;
    :cond_5
    invoke-virtual {v7}, Lcom/android/mms/model/SlideModel;->getSlideSize()I

    move-result v1

    goto :goto_2

    .line 5286
    .end local v7           #slide:Lcom/android/mms/model/SlideModel;
    :pswitch_1
    const/16 v9, 0x65

    invoke-static {p0, v9}, Lcom/android/mms/ui/MessageUtils;->capturePicture(Landroid/app/Activity;I)V

    goto :goto_0

    .line 5291
    :pswitch_2
    const/16 v9, 0x66

    invoke-static {p0, v9}, Lcom/android/mms/ui/MessageUtils;->selectVideo(Landroid/content/Context;I)V

    goto :goto_0

    .line 5296
    :pswitch_3
    const-wide/16 v5, 0x0

    .line 5297
    .local v5, sizeLimit:J
    iget-boolean v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAppendAttachmentSign:Z

    if-eqz v9, :cond_6

    .line 5298
    invoke-static {v8}, Lcom/android/mms/ui/ComposeMessageActivity;->computeAttachmentSizeLimitForAppen(Lcom/android/mms/model/SlideshowModel;)J

    move-result-wide v5

    .line 5302
    :goto_3
    const-wide/16 v9, 0x2800

    cmp-long v9, v5, v9

    if-lez v9, :cond_7

    .line 5303
    const/16 v9, 0x67

    invoke-static {p0, v9, v5, v6}, Lcom/android/mms/ui/MessageUtils;->recordVideo(Landroid/app/Activity;IJ)V

    goto :goto_0

    .line 5300
    :cond_6
    invoke-static {v8, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->computeAttachmentSizeLimit(Lcom/android/mms/model/SlideshowModel;I)J

    move-result-wide v5

    goto :goto_3

    .line 5305
    :cond_7
    const v9, 0x7f0b00ff

    invoke-virtual {p0, v9}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v9

    const/4 v10, 0x0

    invoke-static {p0, v9, v10}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v9

    invoke-virtual {v9}, Landroid/widget/Toast;->show()V

    goto :goto_0

    .line 5316
    .end local v5           #sizeLimit:J
    :pswitch_4
    new-instance v0, Landroid/app/AlertDialog$Builder;

    invoke-direct {v0, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    .line 5317
    .local v0, alertBuilder:Landroid/app/AlertDialog$Builder;
    const v9, 0x7f0b0259

    invoke-virtual {p0, v9}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v9

    invoke-virtual {v0, v9}, Landroid/app/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    .line 5318
    const/4 v9, 0x2

    new-array v4, v9, [Ljava/lang/String;

    .line 5319
    .local v4, items:[Ljava/lang/String;
    const/4 v9, 0x0

    const v10, 0x7f0b0053

    invoke-virtual {p0, v10}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v10

    aput-object v10, v4, v9

    .line 5320
    const/4 v9, 0x1

    const v10, 0x7f0b02eb

    invoke-virtual {p0, v10}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v10

    aput-object v10, v4, v9

    .line 5321
    new-instance v9, Lcom/android/mms/ui/ComposeMessageActivity$44;

    invoke-direct {v9, p0}, Lcom/android/mms/ui/ComposeMessageActivity$44;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v4, v9}, Landroid/app/AlertDialog$Builder;->setItems([Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    .line 5340
    invoke-virtual {v0}, Landroid/app/AlertDialog$Builder;->create()Landroid/app/AlertDialog;

    move-result-object v9

    invoke-virtual {v9}, Landroid/app/Dialog;->show()V

    goto/16 :goto_0

    .line 5346
    .end local v0           #alertBuilder:Landroid/app/AlertDialog$Builder;
    .end local v4           #items:[Ljava/lang/String;
    :pswitch_5
    const-wide/16 v5, 0x0

    .line 5347
    .restart local v5       #sizeLimit:J
    iget-boolean v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAppendAttachmentSign:Z

    if-eqz v9, :cond_8

    .line 5348
    invoke-static {v8}, Lcom/android/mms/ui/ComposeMessageActivity;->computeAttachmentSizeLimitForAppen(Lcom/android/mms/model/SlideshowModel;)J

    move-result-wide v5

    .line 5352
    :goto_4
    const-wide/16 v9, 0x1400

    cmp-long v9, v5, v9

    if-lez v9, :cond_9

    .line 5353
    const/16 v9, 0x69

    invoke-static {p0, v9, v5, v6}, Lcom/android/mms/ui/MessageUtils;->recordSound(Landroid/app/Activity;IJ)V

    goto/16 :goto_0

    .line 5350
    :cond_8
    invoke-static {v8, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->computeAttachmentSizeLimit(Lcom/android/mms/model/SlideshowModel;I)J

    move-result-wide v5

    goto :goto_4

    .line 5355
    :cond_9
    const v9, 0x7f0b0100

    invoke-virtual {p0, v9}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v9

    const/4 v10, 0x0

    invoke-static {p0, v9, v10}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v9

    invoke-virtual {v9}, Landroid/widget/Toast;->show()V

    goto/16 :goto_0

    .line 5361
    .end local v5           #sizeLimit:J
    :pswitch_6
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->editSlideshow()V

    goto/16 :goto_0

    .line 5365
    :pswitch_7
    new-instance v3, Landroid/content/Intent;

    const-string v9, "android.intent.action.contacts.list.PICKMULTICONTACTS"

    invoke-direct {v3, v9}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 5366
    .local v3, intent:Landroid/content/Intent;
    const-string v9, "vnd.android.cursor.dir/contact"

    invoke-virtual {v3, v9}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 5367
    const/16 v9, 0x15

    invoke-virtual {p0, v3, v9}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V

    goto/16 :goto_0

    .line 5372
    .end local v3           #intent:Landroid/content/Intent;
    :pswitch_8
    new-instance v2, Landroid/content/Intent;

    const-string v9, "android.intent.action.CALENDARCHOICE"

    invoke-direct {v2, v9}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 5373
    .local v2, i:Landroid/content/Intent;
    const-string v9, "text/x-vcalendar"

    invoke-virtual {v2, v9}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 5374
    const-string v9, "request_type"

    const/4 v10, 0x0

    invoke-virtual {v2, v9, v10}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 5375
    const/16 v9, 0x19

    invoke-virtual {p0, v2, v9}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V

    goto/16 :goto_0

    .line 5380
    .end local v2           #i:Landroid/content/Intent;
    :pswitch_9
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->drawSketchForMms()V

    goto/16 :goto_0

    .line 5280
    :pswitch_data_0
    .packed-switch 0x0
        :pswitch_0
        :pswitch_1
        :pswitch_2
        :pswitch_3
        :pswitch_4
        :pswitch_5
        :pswitch_6
        :pswitch_7
        :pswitch_8
        :pswitch_9
    .end packed-switch
.end method

.method private addAttachment(Ljava/lang/String;Landroid/net/Uri;Z)V
    .locals 6
    .parameter "type"
    .parameter "uri"
    .parameter "append"

    .prologue
    .line 6410
    if-eqz p2, :cond_1

    .line 6416
    const-string v3, "*/*"

    invoke-virtual {v3, p1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    .line 6417
    .local v2, wildcard:Z
    const-string v3, "Mms/compose"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Got send intent mimeType :"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->i(Ljava/lang/String;Ljava/lang/String;)V

    .line 6418
    const-string v3, "image/"

    invoke-virtual {p1, v3}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v3

    if-nez v3, :cond_0

    if-eqz v2, :cond_2

    invoke-virtual {p2}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v3

    sget-object v4, Lcom/android/mms/ui/ComposeMessageActivity;->mImageUri:Ljava/lang/String;

    invoke-virtual {v3, v4}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v3

    if-eqz v3, :cond_2

    .line 6419
    :cond_0
    invoke-direct {p0, p1, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->addImage(Ljava/lang/String;Landroid/net/Uri;Z)V

    .line 6444
    .end local v2           #wildcard:Z
    :cond_1
    :goto_0
    return-void

    .line 6420
    .restart local v2       #wildcard:Z
    :cond_2
    const-string v3, "video/"

    invoke-virtual {p1, v3}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v3

    if-nez v3, :cond_3

    if-eqz v2, :cond_4

    invoke-virtual {p2}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v3

    sget-object v4, Lcom/android/mms/ui/ComposeMessageActivity;->mVideoUri:Ljava/lang/String;

    invoke-virtual {v3, v4}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v3

    if-eqz v3, :cond_4

    .line 6422
    :cond_3
    invoke-direct {p0, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->addVideo(Landroid/net/Uri;Z)V

    goto :goto_0

    .line 6425
    :cond_4
    const-string v3, "audio/"

    invoke-virtual {p1, v3}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v3

    if-nez v3, :cond_5

    const-string v3, "application/ogg"

    invoke-virtual {p1, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-nez v3, :cond_5

    if-eqz v2, :cond_6

    invoke-virtual {p2}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v3

    sget-object v4, Lcom/android/mms/ui/ComposeMessageActivity;->mAudioUri:Ljava/lang/String;

    invoke-virtual {v3, v4}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v3

    if-eqz v3, :cond_6

    .line 6427
    :cond_5
    invoke-direct {p0, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->addAudio(Landroid/net/Uri;Z)V

    goto :goto_0

    .line 6430
    :cond_6
    const-string v3, "text/x-vcard"

    invoke-virtual {p1, v3}, Ljava/lang/String;->equalsIgnoreCase(Ljava/lang/String;)Z

    move-result v3

    if-eqz v3, :cond_7

    .line 6432
    new-instance v1, Lcom/android/mms/ui/VCardAttachment;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/VCardAttachment;-><init>(Landroid/content/Context;)V

    .line 6433
    .local v1, va:Lcom/android/mms/ui/VCardAttachment;
    invoke-virtual {v1, p2}, Lcom/android/mms/ui/VCardAttachment;->getVCardFileNameByUri(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v0

    .line 6434
    .local v0, fileName:Ljava/lang/String;
    const/4 v3, 0x6

    const/4 v4, 0x0

    invoke-direct {p0, v0, v3, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->setFileAttachment(Ljava/lang/String;IZ)I

    goto :goto_0

    .line 6437
    .end local v0           #fileName:Ljava/lang/String;
    .end local v1           #va:Lcom/android/mms/ui/VCardAttachment;
    :cond_7
    const-string v3, "text/x-vcalendar"

    invoke-virtual {p1, v3}, Ljava/lang/String;->equalsIgnoreCase(Ljava/lang/String;)Z

    move-result v3

    if-eqz v3, :cond_8

    .line 6438
    invoke-direct {p0, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->attachVCalendar(Landroid/net/Uri;)V

    goto :goto_0

    .line 6440
    :cond_8
    const/4 v3, -0x3

    const v4, 0x7f0b02fa

    invoke-direct {p0, v3, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->handleAddAttachmentError(II)V

    goto :goto_0
.end method

.method private addAudio(Landroid/net/Uri;Z)V
    .locals 6
    .parameter "uri"
    .parameter "append"

    .prologue
    const v5, 0x7f0b02fa

    const/4 v4, 0x0

    .line 9239
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    .line 9240
    if-eqz p1, :cond_1

    .line 9241
    const/4 v2, 0x1

    iput-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    .line 9242
    const/4 v1, 0x0

    .line 9244
    .local v1, result:I
    if-eqz p2, :cond_0

    .line 9245
    :try_start_0
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->checkSizeBeforeAppend()Z
    :try_end_0
    .catch Lcom/android/mms/ExceedMessageSizeException; {:try_start_0 .. :try_end_0} :catch_0

    .line 9253
    :cond_0
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    const/4 v3, 0x3

    invoke-virtual {v2, v3, p1, p2}, Lcom/android/mms/data/WorkingMessage;->setAttachment(ILandroid/net/Uri;Z)I

    move-result v1

    .line 9254
    const/16 v2, -0xa

    if-ne v1, v2, :cond_2

    .line 9255
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    .line 9256
    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$77;

    invoke-direct {v2, p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity$77;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;Z)V

    invoke-virtual {p0, v2}, Landroid/app/Activity;->runOnUiThread(Ljava/lang/Runnable;)V

    .line 9268
    .end local v1           #result:I
    :cond_1
    :goto_0
    return-void

    .line 9247
    .restart local v1       #result:I
    :catch_0
    move-exception v0

    .line 9248
    .local v0, e:Lcom/android/mms/ExceedMessageSizeException;
    const/4 v1, -0x2

    .line 9249
    invoke-direct {p0, v1, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->handleAddAttachmentError(II)V

    .line 9250
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    goto :goto_0

    .line 9262
    .end local v0           #e:Lcom/android/mms/ExceedMessageSizeException;
    :cond_2
    invoke-direct {p0, v1, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->handleAddAttachmentError(II)V

    .line 9263
    if-eqz v1, :cond_1

    .line 9264
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    goto :goto_0
.end method

.method private addAudioAsync(Landroid/net/Uri;Z)V
    .locals 4
    .parameter "uri"
    .parameter "append"

    .prologue
    .line 6153
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getAsyncDialog()Lcom/android/mms/ui/AsyncDialog;

    move-result-object v0

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$53;

    invoke-direct {v1, p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity$53;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;Z)V

    const/4 v2, 0x0

    const v3, 0x7f0b0283

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/mms/ui/AsyncDialog;->runAsync(Ljava/lang/Runnable;Ljava/lang/Runnable;I)V

    .line 6160
    return-void
.end method

.method private final addCallAndContactMenuItems(Landroid/view/ContextMenu;Lcom/android/mms/ui/ComposeMessageActivity$MsgListMenuClickListener;Lcom/android/mms/ui/MessageItem;)V
    .locals 22
    .parameter "menu"
    .parameter "l"
    .parameter "msgItem"

    .prologue
    .line 1894
    move-object/from16 v0, p3

    iget-object v0, v0, Lcom/android/mms/ui/MessageItem;->mBody:Ljava/lang/String;

    move-object/from16 v18, v0

    invoke-static/range {v18 .. v18}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v18

    if-eqz v18, :cond_1

    .line 1961
    :cond_0
    return-void

    .line 1897
    :cond_1
    new-instance v12, Landroid/text/SpannableString;

    move-object/from16 v0, p3

    iget-object v0, v0, Lcom/android/mms/ui/MessageItem;->mBody:Ljava/lang/String;

    move-object/from16 v18, v0

    move-object/from16 v0, v18

    invoke-direct {v12, v0}, Landroid/text/SpannableString;-><init>(Ljava/lang/CharSequence;)V

    .line 1898
    .local v12, msg:Landroid/text/SpannableString;
    const/16 v18, 0xf

    move/from16 v0, v18

    invoke-static {v12, v0}, Landroid/text/util/Linkify;->addLinks(Landroid/text/Spannable;I)Z

    .line 1899
    const/16 v18, 0x0

    invoke-virtual {v12}, Landroid/text/SpannableString;->length()I

    move-result v19

    const-class v20, Landroid/text/style/URLSpan;

    move/from16 v0, v18

    move/from16 v1, v19

    move-object/from16 v2, v20

    invoke-virtual {v12, v0, v1, v2}, Landroid/text/SpannableString;->getSpans(IILjava/lang/Class;)[Ljava/lang/Object;

    move-result-object v18

    check-cast v18, [Landroid/text/style/URLSpan;

    invoke-static/range {v18 .. v18}, Lcom/android/mms/ui/MessageUtils;->extractUris([Landroid/text/style/URLSpan;)Ljava/util/ArrayList;

    move-result-object v17

    .line 1902
    .local v17, uris:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/String;>;"
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mURLs:Ljava/util/ArrayList;

    move-object/from16 v18, v0

    invoke-virtual/range {v18 .. v18}, Ljava/util/ArrayList;->clear()V

    .line 1905
    new-instance v6, Ljava/util/HashSet;

    invoke-direct {v6}, Ljava/util/HashSet;-><init>()V

    .line 1906
    .local v6, collapsedUris:Ljava/util/HashSet;,"Ljava/util/HashSet<Ljava/lang/String;>;"
    invoke-virtual/range {v17 .. v17}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;

    move-result-object v8

    .local v8, i$:Ljava/util/Iterator;
    :goto_0
    invoke-interface {v8}, Ljava/util/Iterator;->hasNext()Z

    move-result v18

    if-eqz v18, :cond_2

    invoke-interface {v8}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v15

    check-cast v15, Ljava/lang/String;

    .line 1907
    .local v15, uri:Ljava/lang/String;
    invoke-virtual {v15}, Ljava/lang/String;->toLowerCase()Ljava/lang/String;

    move-result-object v18

    move-object/from16 v0, v18

    invoke-virtual {v6, v0}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z

    goto :goto_0

    .line 1909
    .end local v15           #uri:Ljava/lang/String;
    :cond_2
    invoke-virtual {v6}, Ljava/util/HashSet;->iterator()Ljava/util/Iterator;

    move-result-object v8

    .end local v8           #i$:Ljava/util/Iterator;
    :cond_3
    :goto_1
    invoke-interface {v8}, Ljava/util/Iterator;->hasNext()Z

    move-result v18

    if-eqz v18, :cond_0

    invoke-interface {v8}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v16

    check-cast v16, Ljava/lang/String;

    .line 1910
    .local v16, uriString:Ljava/lang/String;
    const/4 v13, 0x0

    .line 1911
    .local v13, prefix:Ljava/lang/String;
    const-string v18, ":"

    move-object/from16 v0, v16

    move-object/from16 v1, v18

    invoke-virtual {v0, v1}, Ljava/lang/String;->indexOf(Ljava/lang/String;)I

    move-result v14

    .line 1912
    .local v14, sep:I
    if-ltz v14, :cond_5

    .line 1913
    const/16 v18, 0x0

    move-object/from16 v0, v16

    move/from16 v1, v18

    invoke-virtual {v0, v1, v14}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v13

    .line 1915
    const-string v18, "mailto"

    move-object/from16 v0, v18

    invoke-virtual {v0, v13}, Ljava/lang/String;->equalsIgnoreCase(Ljava/lang/String;)Z

    move-result v18

    if-nez v18, :cond_4

    const-string v18, "tel"

    move-object/from16 v0, v18

    invoke-virtual {v0, v13}, Ljava/lang/String;->equalsIgnoreCase(Ljava/lang/String;)Z

    move-result v18

    if-eqz v18, :cond_5

    .line 1916
    :cond_4
    add-int/lit8 v18, v14, 0x1

    move-object/from16 v0, v16

    move/from16 v1, v18

    invoke-virtual {v0, v1}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v16

    .line 1920
    :cond_5
    const/4 v7, 0x0

    .line 1921
    .local v7, contactUri:Landroid/net/Uri;
    const/4 v11, 0x1

    .line 1922
    .local v11, knownPrefix:Z
    const-string v18, "mailto"

    move-object/from16 v0, v18

    invoke-virtual {v0, v13}, Ljava/lang/String;->equalsIgnoreCase(Ljava/lang/String;)Z

    move-result v18

    if-eqz v18, :cond_7

    .line 1923
    move-object/from16 v0, p0

    move-object/from16 v1, v16

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->getContactUriForEmail(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v7

    .line 1951
    :cond_6
    :goto_2
    if-eqz v11, :cond_3

    if-nez v7, :cond_3

    .line 1952
    invoke-static/range {v16 .. v16}, Lcom/android/mms/ui/ConversationList;->createAddContactIntent(Ljava/lang/String;)Landroid/content/Intent;

    move-result-object v10

    .line 1954
    .local v10, intent:Landroid/content/Intent;
    const v18, 0x7f0b0233

    const/16 v19, 0x1

    move/from16 v0, v19

    new-array v0, v0, [Ljava/lang/Object;

    move-object/from16 v19, v0

    const/16 v20, 0x0

    aput-object v16, v19, v20

    move-object/from16 v0, p0

    move/from16 v1, v18

    move-object/from16 v2, v19

    invoke-virtual {v0, v1, v2}, Landroid/content/Context;->getString(I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v5

    .line 1956
    .local v5, addContactString:Ljava/lang/String;
    const/16 v18, 0x0

    const/16 v19, 0x1b

    const/16 v20, 0x0

    move-object/from16 v0, p1

    move/from16 v1, v18

    move/from16 v2, v19

    move/from16 v3, v20

    invoke-interface {v0, v1, v2, v3, v5}, Landroid/view/ContextMenu;->add(IIILjava/lang/CharSequence;)Landroid/view/MenuItem;

    move-result-object v18

    move-object/from16 v0, v18

    move-object/from16 v1, p2

    invoke-interface {v0, v1}, Landroid/view/MenuItem;->setOnMenuItemClickListener(Landroid/view/MenuItem$OnMenuItemClickListener;)Landroid/view/MenuItem;

    move-result-object v18

    move-object/from16 v0, v18

    invoke-interface {v0, v10}, Landroid/view/MenuItem;->setIntent(Landroid/content/Intent;)Landroid/view/MenuItem;

    goto/16 :goto_1

    .line 1924
    .end local v5           #addContactString:Ljava/lang/String;
    .end local v10           #intent:Landroid/content/Intent;
    :cond_7
    const-string v18, "tel"

    move-object/from16 v0, v18

    invoke-virtual {v0, v13}, Ljava/lang/String;->equalsIgnoreCase(Ljava/lang/String;)Z

    move-result v18

    if-eqz v18, :cond_8

    .line 1925
    move-object/from16 v0, p0

    move-object/from16 v1, v16

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->getContactUriForPhoneNumber(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v7

    goto :goto_2

    .line 1927
    :cond_8
    const/4 v11, 0x0

    .line 1930
    invoke-virtual/range {p3 .. p3}, Lcom/android/mms/ui/MessageItem;->isSms()Z

    move-result v18

    if-eqz v18, :cond_9

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mURLs:Ljava/util/ArrayList;

    move-object/from16 v18, v0

    invoke-virtual/range {v18 .. v18}, Ljava/util/ArrayList;->size()I

    move-result v18

    if-gtz v18, :cond_9

    .line 1931
    const/16 v18, 0x0

    const/16 v19, 0x23

    const/16 v20, 0x0

    const v21, 0x7f0b0026

    move-object/from16 v0, p1

    move/from16 v1, v18

    move/from16 v2, v19

    move/from16 v3, v20

    move/from16 v4, v21

    invoke-interface {v0, v1, v2, v3, v4}, Landroid/view/ContextMenu;->add(IIII)Landroid/view/MenuItem;

    move-result-object v18

    move-object/from16 v0, v18

    move-object/from16 v1, p2

    invoke-interface {v0, v1}, Landroid/view/MenuItem;->setOnMenuItemClickListener(Landroid/view/MenuItem$OnMenuItemClickListener;)Landroid/view/MenuItem;

    .line 1937
    :cond_9
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    move-object/from16 v18, v0

    invoke-interface/range {v18 .. v18}, Lcom/mediatek/mms/ext/IMmsCompose;->isAddMmsUrlToBookMark()Z

    move-result v18

    if-eqz v18, :cond_a

    invoke-virtual/range {p3 .. p3}, Lcom/android/mms/ui/MessageItem;->isMms()Z

    move-result v18

    if-eqz v18, :cond_a

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mURLs:Ljava/util/ArrayList;

    move-object/from16 v18, v0

    invoke-virtual/range {v18 .. v18}, Ljava/util/ArrayList;->size()I

    move-result v18

    if-gtz v18, :cond_a

    .line 1938
    const/16 v18, 0x0

    const/16 v19, 0x23

    const/16 v20, 0x0

    const v21, 0x7f0b0026

    move-object/from16 v0, p1

    move/from16 v1, v18

    move/from16 v2, v19

    move/from16 v3, v20

    move/from16 v4, v21

    invoke-interface {v0, v1, v2, v3, v4}, Landroid/view/ContextMenu;->add(IIII)Landroid/view/MenuItem;

    move-result-object v18

    move-object/from16 v0, v18

    move-object/from16 v1, p2

    invoke-interface {v0, v1}, Landroid/view/MenuItem;->setOnMenuItemClickListener(Landroid/view/MenuItem$OnMenuItemClickListener;)Landroid/view/MenuItem;

    .line 1943
    :cond_a
    invoke-virtual/range {v17 .. v17}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;

    move-result-object v9

    .local v9, i$:Ljava/util/Iterator;
    :cond_b
    invoke-interface {v9}, Ljava/util/Iterator;->hasNext()Z

    move-result v18

    if-eqz v18, :cond_6

    invoke-interface {v9}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v15

    check-cast v15, Ljava/lang/String;

    .line 1944
    .restart local v15       #uri:Ljava/lang/String;
    if-eqz v15, :cond_b

    invoke-virtual/range {v15 .. v16}, Ljava/lang/String;->equalsIgnoreCase(Ljava/lang/String;)Z

    move-result v18

    if-eqz v18, :cond_b

    .line 1945
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mURLs:Ljava/util/ArrayList;

    move-object/from16 v18, v0

    move-object/from16 v0, v18

    invoke-virtual {v0, v15}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto/16 :goto_2
.end method

.method private addContacts(I)V
    .locals 4
    .parameter "pickCount"

    .prologue
    const/4 v3, 0x0

    .line 9504
    const/4 v2, 0x1

    :try_start_0
    iput-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowingContactPicker:Z

    .line 9505
    const/4 v2, 0x1

    iput-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->misPickContatct:Z

    .line 9506
    new-instance v1, Landroid/content/Intent;

    const-string v2, "android.intent.action.contacts.list.PICKMULTIPHONEANDEMAILS"

    invoke-direct {v1, v2}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 9507
    .local v1, intent:Landroid/content/Intent;
    const-string v2, "vnd.android.cursor.dir/phone_v2"

    invoke-virtual {v1, v2}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 9509
    const-string v2, "NUMBER_BALANCE"

    invoke-virtual {v1, v2, p1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 9510
    const/16 v2, 0x6d

    invoke-virtual {p0, v1, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V
    :try_end_0
    .catch Landroid/content/ActivityNotFoundException; {:try_start_0 .. :try_end_0} :catch_0

    .line 9518
    .end local v1           #intent:Landroid/content/Intent;
    :goto_0
    return-void

    .line 9511
    :catch_0
    move-exception v0

    .line 9512
    .local v0, e:Landroid/content/ActivityNotFoundException;
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowingContactPicker:Z

    .line 9513
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->misPickContatct:Z

    .line 9514
    const v2, 0x7f0b0105

    invoke-virtual {p0, v2}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v2

    invoke-static {p0, v2, v3}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v2

    invoke-virtual {v2}, Landroid/widget/Toast;->show()V

    .line 9515
    const-string v2, "Mms/compose"

    invoke-virtual {v0}, Ljava/lang/Throwable;->getMessage()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0
.end method

.method private addFileAttachment(Ljava/lang/String;Landroid/net/Uri;Z)V
    .locals 2
    .parameter "type"
    .parameter "uri"
    .parameter "append"

    .prologue
    .line 9292
    sget-object v0, Landroid/provider/MediaStore$Audio$Media;->EXTERNAL_CONTENT_URI:Landroid/net/Uri;

    invoke-direct {p0, v0, p1, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->addFileAttachment(Landroid/net/Uri;Ljava/lang/String;Landroid/net/Uri;Z)Z

    move-result v0

    if-nez v0, :cond_0

    .line 9293
    sget-object v0, Landroid/provider/MediaStore$Video$Media;->EXTERNAL_CONTENT_URI:Landroid/net/Uri;

    invoke-direct {p0, v0, p1, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->addFileAttachment(Landroid/net/Uri;Ljava/lang/String;Landroid/net/Uri;Z)Z

    move-result v0

    if-nez v0, :cond_0

    .line 9294
    sget-object v0, Landroid/provider/MediaStore$Images$Media;->EXTERNAL_CONTENT_URI:Landroid/net/Uri;

    invoke-direct {p0, v0, p1, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->addFileAttachment(Landroid/net/Uri;Ljava/lang/String;Landroid/net/Uri;Z)Z

    move-result v0

    if-nez v0, :cond_0

    .line 9295
    const-string v0, "Mms/compose"

    const-string v1, "This file is not in media store(audio, video or image),attemp to add it like file uri"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->i(Ljava/lang/String;Ljava/lang/String;)V

    .line 9297
    invoke-direct {p0, p1, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->addAttachment(Ljava/lang/String;Landroid/net/Uri;Z)V

    .line 9301
    :cond_0
    return-void
.end method

.method private addFileAttachment(Landroid/net/Uri;Ljava/lang/String;Landroid/net/Uri;Z)Z
    .locals 10
    .parameter "mediaStoreUri"
    .parameter "type"
    .parameter "uri"
    .parameter "append"

    .prologue
    .line 9304
    invoke-virtual {p3}, Landroid/net/Uri;->getPath()Ljava/lang/String;

    move-result-object v9

    .line 9305
    .local v9, path:Ljava/lang/String;
    if-eqz v9, :cond_1

    .line 9306
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v0

    const/4 v1, 0x2

    new-array v2, v1, [Ljava/lang/String;

    const/4 v1, 0x0

    const-string v3, "_id"

    aput-object v3, v2, v1

    const/4 v1, 0x1

    const-string v3, "mime_type"

    aput-object v3, v2, v1

    const-string v3, "_data=?"

    const/4 v1, 0x1

    new-array v4, v1, [Ljava/lang/String;

    const/4 v1, 0x0

    aput-object v9, v4, v1

    const/4 v5, 0x0

    move-object v1, p1

    invoke-virtual/range {v0 .. v5}, Landroid/content/ContentResolver;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v6

    .line 9309
    .local v6, c:Landroid/database/Cursor;
    if-eqz v6, :cond_1

    .line 9311
    :try_start_0
    invoke-interface {v6}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 9312
    const/4 v0, 0x0

    invoke-interface {v6, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v0

    invoke-static {p1, v0}, Landroid/net/Uri;->withAppendedPath(Landroid/net/Uri;Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v8

    .line 9313
    .local v8, contentUri:Landroid/net/Uri;
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "Get id in MediaStore:"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const/4 v2, 0x0

    invoke-interface {v6, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->i(Ljava/lang/String;Ljava/lang/String;)V

    .line 9314
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "Get content type in MediaStore:"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const/4 v2, 0x1

    invoke-interface {v6, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->i(Ljava/lang/String;Ljava/lang/String;)V

    .line 9315
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "Get uri in MediaStore:"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->i(Ljava/lang/String;Ljava/lang/String;)V

    .line 9316
    const/4 v0, 0x1

    invoke-interface {v6, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v7

    .line 9317
    .local v7, contentType:Ljava/lang/String;
    invoke-direct {p0, v7, v8, p4}, Lcom/android/mms/ui/ComposeMessageActivity;->addAttachment(Ljava/lang/String;Landroid/net/Uri;Z)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 9318
    const/4 v0, 0x1

    .line 9323
    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    .line 9327
    .end local v6           #c:Landroid/database/Cursor;
    .end local v7           #contentType:Ljava/lang/String;
    .end local v8           #contentUri:Landroid/net/Uri;
    :goto_0
    return v0

    .line 9320
    .restart local v6       #c:Landroid/database/Cursor;
    :cond_0
    :try_start_1
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "MediaStore:"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {p1}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, " has not this file"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->i(Ljava/lang/String;Ljava/lang/String;)V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 9323
    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    .line 9327
    .end local v6           #c:Landroid/database/Cursor;
    :cond_1
    const/4 v0, 0x0

    goto :goto_0

    .line 9323
    .restart local v6       #c:Landroid/database/Cursor;
    :catchall_0
    move-exception v0

    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    throw v0
.end method

.method private addImage(Ljava/lang/String;Landroid/net/Uri;Z)V
    .locals 9
    .parameter "mimeType"
    .parameter "uri"
    .parameter "append"

    .prologue
    const/4 v3, 0x2

    const v2, 0x7f0b02fb

    const/4 v5, 0x1

    const/4 v8, 0x0

    .line 6038
    const-string v0, "Mms:app"

    invoke-static {v0, v3}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 6039
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v1, "addImage: append="

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, ", uri="

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 6041
    :cond_0
    iput-boolean v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    .line 6042
    const/4 v7, 0x0

    .line 6044
    .local v7, result:I
    if-eqz p3, :cond_1

    .line 6045
    :try_start_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->checkSizeBeforeAppend()Z
    :try_end_0
    .catch Lcom/android/mms/ExceedMessageSizeException; {:try_start_0 .. :try_end_0} :catch_0

    .line 6055
    :cond_1
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0, v5, p2, p3, p1}, Lcom/android/mms/data/WorkingMessage;->setAttachment(ILandroid/net/Uri;ZLjava/lang/String;)I

    move-result v7

    .line 6057
    const/4 v0, -0x4

    if-eq v7, v0, :cond_2

    const/4 v0, -0x2

    if-ne v7, v0, :cond_6

    .line 6059
    :cond_2
    const-string v0, "Mms:app"

    invoke-static {v0, v3}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v0

    if-eqz v0, :cond_3

    .line 6060
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v1, "addImage: resize image "

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 6067
    :cond_3
    invoke-static {p0, p2}, Lcom/android/mms/ui/MessageUtils;->checkUriContainsDrm(Landroid/content/Context;Landroid/net/Uri;)Z

    move-result v0

    if-nez v0, :cond_5

    .line 6068
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mToastCountForResizeImage:I

    add-int/lit8 v0, v0, 0x1

    iput v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mToastCountForResizeImage:I

    .line 6069
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mToastCountForResizeImage:I

    if-ne v0, v5, :cond_4

    .line 6070
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditorHandler:Landroid/os/Handler;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mResizeImageCallback:Lcom/android/mms/ui/MessageUtils$ResizeImageResultCallback;

    move-object v0, p0

    move-object v1, p2

    move v4, p3

    invoke-static/range {v0 .. v5}, Lcom/android/mms/ui/MessageUtils;->resizeImage(Landroid/content/Context;Landroid/net/Uri;Landroid/os/Handler;Lcom/android/mms/ui/MessageUtils$ResizeImageResultCallback;ZZ)V

    .line 6105
    :goto_0
    return-void

    .line 6047
    :catch_0
    move-exception v6

    .line 6048
    .local v6, e:Lcom/android/mms/ExceedMessageSizeException;
    const/4 v7, -0x2

    .line 6049
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->notifyCompressingDone()V

    .line 6050
    invoke-direct {p0, v7, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->handleAddAttachmentError(II)V

    .line 6051
    iput-boolean v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    goto :goto_0

    .line 6073
    .end local v6           #e:Lcom/android/mms/ExceedMessageSizeException;
    :cond_4
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditorHandler:Landroid/os/Handler;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mResizeImageCallback:Lcom/android/mms/ui/MessageUtils$ResizeImageResultCallback;

    move-object v0, p0

    move-object v1, p2

    move v4, p3

    move v5, v8

    invoke-static/range {v0 .. v5}, Lcom/android/mms/ui/MessageUtils;->resizeImage(Landroid/content/Context;Landroid/net/Uri;Landroid/os/Handler;Lcom/android/mms/ui/MessageUtils$ResizeImageResultCallback;ZZ)V

    goto :goto_0

    .line 6077
    :cond_5
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->notifyCompressingDone()V

    .line 6078
    invoke-direct {p0, v7, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->handleAddAttachmentError(II)V

    .line 6079
    iput-boolean v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    goto :goto_0

    .line 6090
    :cond_6
    const/16 v0, -0xa

    if-ne v7, v0, :cond_7

    .line 6091
    iput-boolean v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    .line 6092
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->notifyCompressingDone()V

    .line 6093
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$50;

    invoke-direct {v0, p0, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity$50;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;Z)V

    invoke-virtual {p0, v0}, Landroid/app/Activity;->runOnUiThread(Ljava/lang/Runnable;)V

    goto :goto_0

    .line 6100
    :cond_7
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->notifyCompressingDone()V

    .line 6101
    if-eqz v7, :cond_8

    .line 6102
    iput-boolean v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    .line 6104
    :cond_8
    invoke-direct {p0, v7, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->handleAddAttachmentError(II)V

    goto :goto_0
.end method

.method private addImageAsync(Landroid/net/Uri;Ljava/lang/String;Z)V
    .locals 4
    .parameter "uri"
    .parameter "mimeType"
    .parameter "append"

    .prologue
    .line 6026
    const/4 v0, 0x1

    iput-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCompressingImage:Z

    .line 6027
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getAsyncDialog()Lcom/android/mms/ui/AsyncDialog;

    move-result-object v0

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$49;

    invoke-direct {v1, p0, p2, p1, p3}, Lcom/android/mms/ui/ComposeMessageActivity$49;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;Landroid/net/Uri;Z)V

    const/4 v2, 0x0

    const v3, 0x7f0b0283

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/mms/ui/AsyncDialog;->runAsync(Ljava/lang/Runnable;Ljava/lang/Runnable;I)V

    .line 6035
    return-void
.end method

.method private addPositionBasedMenuItems(Landroid/view/ContextMenu;Landroid/view/View;Landroid/view/ContextMenu$ContextMenuInfo;)V
    .locals 6
    .parameter "menu"
    .parameter "v"
    .parameter "menuInfo"

    .prologue
    .line 1816
    :try_start_0
    move-object v0, p3

    check-cast v0, Landroid/widget/AdapterView$AdapterContextMenuInfo;

    move-object v2, v0
    :try_end_0
    .catch Ljava/lang/ClassCastException; {:try_start_0 .. :try_end_0} :catch_0

    .line 1821
    .local v2, info:Landroid/widget/AdapterView$AdapterContextMenuInfo;
    iget v3, v2, Landroid/widget/AdapterView$AdapterContextMenuInfo;->position:I

    .line 1823
    .local v3, position:I
    invoke-direct {p0, p1, p2, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->addUriSpecificMenuItems(Landroid/view/ContextMenu;Landroid/view/View;I)V

    .line 1824
    .end local v2           #info:Landroid/widget/AdapterView$AdapterContextMenuInfo;
    .end local v3           #position:I
    :goto_0
    return-void

    .line 1817
    :catch_0
    move-exception v1

    .line 1818
    .local v1, e:Ljava/lang/ClassCastException;
    const-string v4, "Mms/compose"

    const-string v5, "bad menuInfo"

    invoke-static {v4, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_0
.end method

.method private addRecipientsListeners()V
    .locals 0

    .prologue
    .line 8373
    invoke-static {p0}, Lcom/android/mms/data/Contact;->addListener(Lcom/android/mms/data/Contact$UpdateListener;)V

    .line 8374
    return-void
.end method

.method private addTextVCardAsync([J)V
    .locals 4
    .parameter "contactsIds"

    .prologue
    .line 9273
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "compose.addTextVCardAsync(): contactsIds.length() = "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    array-length v2, p1

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->i(Ljava/lang/String;Ljava/lang/String;)V

    .line 9274
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getAsyncDialog()Lcom/android/mms/ui/AsyncDialog;

    move-result-object v0

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$78;

    invoke-direct {v1, p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity$78;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;[J)V

    const/4 v2, 0x0

    const v3, 0x7f0b007b

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/mms/ui/AsyncDialog;->runAsync(Ljava/lang/Runnable;Ljava/lang/Runnable;I)V

    .line 9288
    return-void
.end method

.method private addUriSpecificMenuItems(Landroid/view/ContextMenu;Landroid/view/View;I)V
    .locals 10
    .parameter "menu"
    .parameter "v"
    .parameter "position"

    .prologue
    const/4 v5, 0x0

    const/4 v1, 0x0

    .line 1881
    check-cast p2, Landroid/widget/ListView;

    .end local p2
    invoke-direct {p0, p2, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->getSelectedUriFromMessageList(Landroid/widget/ListView;I)Landroid/net/Uri;

    move-result-object v9

    .line 1883
    .local v9, uri:Landroid/net/Uri;
    if-eqz v9, :cond_0

    .line 1884
    new-instance v6, Landroid/content/Intent;

    invoke-direct {v6, v5, v9}, Landroid/content/Intent;-><init>(Ljava/lang/String;Landroid/net/Uri;)V

    .line 1885
    .local v6, intent:Landroid/content/Intent;
    const-string v0, "android.intent.category.SELECTED_ALTERNATIVE"

    invoke-virtual {v6, v0}, Landroid/content/Intent;->addCategory(Ljava/lang/String;)Landroid/content/Intent;

    .line 1886
    new-instance v4, Landroid/content/ComponentName;

    const-class v0, Lcom/android/mms/ui/ComposeMessageActivity;

    invoke-direct {v4, p0, v0}, Landroid/content/ComponentName;-><init>(Landroid/content/Context;Ljava/lang/Class;)V

    move-object v0, p1

    move v2, v1

    move v3, v1

    move v7, v1

    move-object v8, v5

    invoke-interface/range {v0 .. v8}, Landroid/view/ContextMenu;->addIntentOptions(IIILandroid/content/ComponentName;[Landroid/content/Intent;Landroid/content/Intent;I[Landroid/view/MenuItem;)I

    .line 1890
    .end local v6           #intent:Landroid/content/Intent;
    :cond_0
    return-void
.end method

.method private addVideo(Landroid/net/Uri;Z)V
    .locals 6
    .parameter "uri"
    .parameter "append"

    .prologue
    const v5, 0x7f0b02fc

    const/4 v4, 0x0

    .line 6120
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    .line 6121
    if-eqz p1, :cond_1

    .line 6122
    const/4 v2, 0x1

    iput-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    .line 6123
    const/4 v1, 0x0

    .line 6125
    .local v1, result:I
    if-eqz p2, :cond_0

    .line 6126
    :try_start_0
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->checkSizeBeforeAppend()Z
    :try_end_0
    .catch Lcom/android/mms/ExceedMessageSizeException; {:try_start_0 .. :try_end_0} :catch_0

    .line 6134
    :cond_0
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    const/4 v3, 0x2

    invoke-virtual {v2, v3, p1, p2}, Lcom/android/mms/data/WorkingMessage;->setAttachment(ILandroid/net/Uri;Z)I

    move-result v1

    .line 6135
    const/16 v2, -0xa

    if-ne v1, v2, :cond_2

    .line 6136
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    .line 6137
    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$52;

    invoke-direct {v2, p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity$52;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;Z)V

    invoke-virtual {p0, v2}, Landroid/app/Activity;->runOnUiThread(Ljava/lang/Runnable;)V

    .line 6149
    .end local v1           #result:I
    :cond_1
    :goto_0
    return-void

    .line 6128
    .restart local v1       #result:I
    :catch_0
    move-exception v0

    .line 6129
    .local v0, e:Lcom/android/mms/ExceedMessageSizeException;
    const/4 v1, -0x2

    .line 6130
    invoke-direct {p0, v1, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->handleAddAttachmentError(II)V

    .line 6131
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    goto :goto_0

    .line 6143
    .end local v0           #e:Lcom/android/mms/ExceedMessageSizeException;
    :cond_2
    invoke-direct {p0, v1, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->handleAddAttachmentError(II)V

    .line 6144
    if-eqz v1, :cond_1

    .line 6145
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    goto :goto_0
.end method

.method private addVideoAsync(Landroid/net/Uri;Z)V
    .locals 4
    .parameter "uri"
    .parameter "append"

    .prologue
    .line 6110
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getAsyncDialog()Lcom/android/mms/ui/AsyncDialog;

    move-result-object v0

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$51;

    invoke-direct {v1, p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity$51;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;Z)V

    const/4 v2, 0x0

    const v3, 0x7f0b0283

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/mms/ui/AsyncDialog;->runAsync(Ljava/lang/Runnable;Ljava/lang/Runnable;I)V

    .line 6117
    return-void
.end method

.method private asyncAttachVCalendar(Landroid/net/Uri;)V
    .locals 4
    .parameter "eventUri"

    .prologue
    .line 10305
    if-nez p1, :cond_0

    .line 10316
    :goto_0
    return-void

    .line 10308
    :cond_0
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getAsyncDialog()Lcom/android/mms/ui/AsyncDialog;

    move-result-object v0

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$89;

    invoke-direct {v1, p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity$89;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;)V

    const/4 v2, 0x0

    const v3, 0x7f0b0283

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/mms/ui/AsyncDialog;->runAsync(Ljava/lang/Runnable;Ljava/lang/Runnable;I)V

    goto :goto_0
.end method

.method private asyncAttachVCardByContactsId(Landroid/content/Intent;Z)V
    .locals 4
    .parameter "data"
    .parameter "isAddingIpMsgVCardFile"

    .prologue
    .line 10350
    if-nez p1, :cond_0

    .line 10398
    :goto_0
    return-void

    .line 10353
    :cond_0
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getAsyncDialog()Lcom/android/mms/ui/AsyncDialog;

    move-result-object v0

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$90;

    invoke-direct {v1, p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity$90;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/content/Intent;Z)V

    const/4 v2, 0x0

    const v3, 0x7f0b0283

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/mms/ui/AsyncDialog;->runAsync(Ljava/lang/Runnable;Ljava/lang/Runnable;I)V

    goto :goto_0
.end method

.method private asyncUpdateThreadMuteIcon()V
    .locals 3

    .prologue
    .line 3181
    const-string v0, "Mms/compose"

    const-string v1, "asyncUpdateThreadMuteIcon"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 3182
    new-instance v0, Ljava/lang/Thread;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$24;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$24;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    const-string v2, "check and update mute icon"

    invoke-direct {v0, v1, v2}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;Ljava/lang/String;)V

    invoke-virtual {v0}, Ljava/lang/Thread;->start()V

    .line 3204
    return-void
.end method

.method private asyncUpdateWallPaper()V
    .locals 3

    .prologue
    .line 13431
    new-instance v0, Ljava/lang/Thread;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$117;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$117;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    const-string v2, "AsyncChangeWallPaper"

    invoke-direct {v0, v1, v2}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;Ljava/lang/String;)V

    invoke-virtual {v0}, Ljava/lang/Thread;->start()V

    .line 13442
    return-void
.end method

.method private attachVCalendar(Landroid/net/Uri;)V
    .locals 6
    .parameter "eventUri"

    .prologue
    const/4 v5, 0x7

    const/4 v4, 0x1

    .line 10319
    if-nez p1, :cond_0

    .line 10320
    const-string v3, "Mms/compose"

    const-string v4, "attachVCalendar, oops uri is null"

    invoke-static {v3, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    .line 10346
    :goto_0
    return-void

    .line 10323
    :cond_0
    const/4 v2, 0x0

    .line 10324
    .local v2, result:I
    const/4 v3, 0x5

    invoke-static {v3}, Lcom/android/mms/MmsPluginManager;->getMmsPluginObject(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;

    .line 10329
    .local v1, mMmsAttachmentEnhancePlugin:Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;
    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAppendAttachmentSign:Z

    if-eqz v3, :cond_1

    if-eqz v1, :cond_1

    invoke-interface {v1}, Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;->isSupportAttachmentEnhance()Z

    move-result v3

    if-ne v3, v4, :cond_1

    .line 10332
    :try_start_0
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->checkSizeBeforeAppend()Z
    :try_end_0
    .catch Lcom/android/mms/ExceedMessageSizeException; {:try_start_0 .. :try_end_0} :catch_0

    .line 10339
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3, v5, p1, v4}, Lcom/android/mms/data/WorkingMessage;->setAttachment(ILandroid/net/Uri;Z)I

    move-result v2

    .line 10345
    :goto_1
    const v3, 0x7f0b00b9

    invoke-direct {p0, v2, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->handleAddAttachmentError(II)V

    goto :goto_0

    .line 10333
    :catch_0
    move-exception v0

    .line 10334
    .local v0, e:Lcom/android/mms/ExceedMessageSizeException;
    const/4 v2, -0x2

    .line 10335
    const v3, 0x7f0b02fb

    invoke-direct {p0, v2, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->handleAddAttachmentError(II)V

    goto :goto_0

    .line 10342
    .end local v0           #e:Lcom/android/mms/ExceedMessageSizeException;
    :cond_1
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    const/4 v4, 0x0

    invoke-virtual {v3, v5, p1, v4}, Lcom/android/mms/data/WorkingMessage;->setAttachment(ILandroid/net/Uri;Z)I

    move-result v2

    goto :goto_1
.end method

.method private buildAddAddressToContactMenuItem(Landroid/view/Menu;)V
    .locals 6
    .parameter "menu"

    .prologue
    const/4 v5, 0x0

    .line 5066
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v3

    invoke-virtual {v3}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;

    move-result-object v1

    .local v1, i$:Ljava/util/Iterator;
    :cond_0
    invoke-interface {v1}, Ljava/util/Iterator;->hasNext()Z

    move-result v3

    if-eqz v3, :cond_1

    invoke-interface {v1}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/mms/data/Contact;

    .line 5068
    .local v0, c:Lcom/android/mms/data/Contact;
    invoke-virtual {v0}, Lcom/android/mms/data/Contact;->existsInDatabase()Z

    move-result v3

    if-nez v3, :cond_0

    invoke-static {v0}, Lcom/android/mms/ui/MessageUtils;->canAddToContacts(Lcom/android/mms/data/Contact;)Z

    move-result v3

    if-eqz v3, :cond_0

    .line 5070
    invoke-virtual {v0}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v3

    invoke-static {v3}, Lcom/android/mms/ui/ConversationList;->createAddContactIntent(Ljava/lang/String;)Landroid/content/Intent;

    move-result-object v2

    .line 5071
    .local v2, intent:Landroid/content/Intent;
    const/16 v3, 0x1b

    const v4, 0x7f0b0293

    invoke-interface {p1, v5, v3, v5, v4}, Landroid/view/Menu;->add(IIII)Landroid/view/MenuItem;

    move-result-object v3

    const v4, 0x1080033

    invoke-interface {v3, v4}, Landroid/view/MenuItem;->setIcon(I)Landroid/view/MenuItem;

    move-result-object v3

    invoke-interface {v3, v2}, Landroid/view/MenuItem;->setIntent(Landroid/content/Intent;)Landroid/view/MenuItem;

    .line 5077
    .end local v0           #c:Lcom/android/mms/data/Contact;
    .end local v2           #intent:Landroid/content/Intent;
    :cond_1
    return-void
.end method

.method private canAddToContacts(Lcom/android/mms/data/Contact;)Z
    .locals 4
    .parameter "contact"

    .prologue
    const/4 v2, 0x0

    .line 1787
    invoke-virtual {p1}, Lcom/android/mms/data/Contact;->getName()Ljava/lang/String;

    move-result-object v1

    .line 1788
    .local v1, name:Ljava/lang/String;
    invoke-virtual {p1}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v3

    invoke-static {v3}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_1

    .line 1789
    invoke-virtual {p1}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v3, v2}, Ljava/lang/String;->charAt(I)C

    move-result v0

    .line 1790
    .local v0, c:C
    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->isSpecialChar(C)Z

    move-result v3

    if-eqz v3, :cond_1

    .line 1805
    .end local v0           #c:C
    :cond_0
    :goto_0
    return v2

    .line 1794
    :cond_1
    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_2

    .line 1795
    invoke-virtual {v1, v2}, Ljava/lang/String;->charAt(I)C

    move-result v0

    .line 1796
    .restart local v0       #c:C
    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->isSpecialChar(C)Z

    move-result v3

    if-nez v3, :cond_0

    .line 1800
    .end local v0           #c:C
    :cond_2
    invoke-static {v1}, Landroid/provider/Telephony$Mms;->isEmailAddress(Ljava/lang/String;)Z

    move-result v3

    if-nez v3, :cond_3

    invoke-static {v1}, Landroid/provider/Telephony$Mms;->isPhoneNumber(Ljava/lang/String;)Z

    move-result v3

    if-nez v3, :cond_3

    invoke-virtual {p1}, Lcom/android/mms/data/Contact;->isMe()Z

    move-result v3

    if-eqz v3, :cond_0

    .line 1805
    :cond_3
    const/4 v2, 0x1

    goto :goto_0
.end method

.method private canConvertIpMessageToMessage(Lcom/mediatek/mms/ipmessage/message/IpMessage;)I
    .locals 2
    .parameter "ipMessage"

    .prologue
    const/4 v0, -0x1

    .line 12549
    if-nez p1, :cond_0

    .line 12569
    :goto_0
    :pswitch_0
    return v0

    .line 12552
    :cond_0
    invoke-virtual {p1}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v1

    packed-switch v1, :pswitch_data_0

    :pswitch_1
    goto :goto_0

    .line 12554
    :pswitch_2
    const/4 v0, 0x1

    goto :goto_0

    .line 12561
    :pswitch_3
    const/4 v0, 0x2

    goto :goto_0

    .line 12552
    :pswitch_data_0
    .packed-switch 0x0
        :pswitch_2
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_3
        :pswitch_3
        :pswitch_3
        :pswitch_3
        :pswitch_3
        :pswitch_3
        :pswitch_1
        :pswitch_0
        :pswitch_0
    .end packed-switch
.end method

.method private canMmsConvertToIpMessage()Z
    .locals 8

    .prologue
    const/4 v6, 0x1

    const/4 v5, 0x0

    .line 14104
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v4

    if-nez v4, :cond_1

    .line 14145
    :cond_0
    :goto_0
    return v5

    .line 14107
    :cond_1
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v4

    if-eqz v4, :cond_0

    .line 14110
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->hasSubject()Z

    move-result v4

    if-nez v4, :cond_0

    .line 14113
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v4

    invoke-virtual {v4}, Lcom/android/mms/model/SlideshowModel;->getAttachFiles()Ljava/util/ArrayList;

    move-result-object v4

    if-eqz v4, :cond_4

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v4

    invoke-virtual {v4}, Lcom/android/mms/model/SlideshowModel;->getAttachFiles()Ljava/util/ArrayList;

    move-result-object v4

    invoke-virtual {v4}, Ljava/util/ArrayList;->size()I

    move-result v4

    if-ne v4, v6, :cond_4

    .line 14115
    const-string v4, "Mms/ipmsg/compose"

    const-string v7, "canMmsConvertToIpMessage(): Can not convert file attachment, but vCard"

    invoke-static {v4, v7}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 14117
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v4

    invoke-virtual {v4}, Lcom/android/mms/model/SlideshowModel;->getAttachFiles()Ljava/util/ArrayList;

    move-result-object v4

    invoke-virtual {v4, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/mms/model/FileAttachmentModel;

    invoke-virtual {v4}, Lcom/android/mms/model/FileAttachmentModel;->getContentType()Ljava/lang/String;

    move-result-object v0

    .line 14118
    .local v0, contenttype:Ljava/lang/String;
    const-string v4, "text/x-vCard"

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_2

    const-string v4, "text/x-vCalendar"

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-eqz v4, :cond_3

    :cond_2
    move v4, v6

    :goto_1
    move v5, v4

    goto :goto_0

    :cond_3
    move v4, v5

    goto :goto_1

    .line 14121
    .end local v0           #contenttype:Ljava/lang/String;
    :cond_4
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->hasSubject()Z

    move-result v4

    if-nez v4, :cond_8

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v4

    if-eqz v4, :cond_8

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v4

    invoke-virtual {v4}, Lcom/android/mms/model/SlideshowModel;->size()I

    move-result v4

    if-ne v4, v6, :cond_8

    move v2, v6

    .line 14124
    .local v2, isMmsCanConvertToIpmessage:Z
    :goto_2
    if-eqz v2, :cond_0

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v4

    invoke-virtual {v4, v5}, Lcom/android/mms/model/SlideshowModel;->get(I)Lcom/android/mms/model/SlideModel;

    move-result-object v4

    if-eqz v4, :cond_0

    .line 14125
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v4

    invoke-virtual {v4, v5}, Lcom/android/mms/model/SlideshowModel;->get(I)Lcom/android/mms/model/SlideModel;

    move-result-object v3

    .line 14126
    .local v3, slideModel:Lcom/android/mms/model/SlideModel;
    invoke-virtual {v3}, Lcom/android/mms/model/SlideModel;->hasAudio()Z

    move-result v4

    if-eqz v4, :cond_5

    invoke-virtual {v3}, Lcom/android/mms/model/SlideModel;->hasImage()Z

    move-result v4

    if-nez v4, :cond_0

    .line 14129
    :cond_5
    invoke-virtual {v3}, Lcom/android/mms/model/SlideModel;->hasText()Z

    move-result v4

    if-eqz v4, :cond_9

    invoke-virtual {v3}, Lcom/android/mms/model/SlideModel;->getText()Lcom/android/mms/model/TextModel;

    move-result-object v4

    invoke-virtual {v4}, Lcom/android/mms/model/TextModel;->getText()Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/String;->length()I

    move-result v4

    const/16 v7, 0x64

    if-le v4, v7, :cond_9

    move v1, v6

    .line 14131
    .local v1, hasOverCaptionLimit:Z
    :goto_3
    invoke-virtual {v3}, Lcom/android/mms/model/SlideModel;->hasAudio()Z

    move-result v4

    if-eqz v4, :cond_a

    iget-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    if-eqz v4, :cond_6

    iget-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsAudioCaptionOn:Z

    if-eqz v4, :cond_6

    if-eqz v1, :cond_7

    :cond_6
    invoke-virtual {v3}, Lcom/android/mms/model/SlideModel;->hasText()Z

    move-result v4

    if-nez v4, :cond_a

    :cond_7
    move v5, v6

    .line 14134
    goto/16 :goto_0

    .end local v1           #hasOverCaptionLimit:Z
    .end local v2           #isMmsCanConvertToIpmessage:Z
    .end local v3           #slideModel:Lcom/android/mms/model/SlideModel;
    :cond_8
    move v2, v5

    .line 14121
    goto :goto_2

    .restart local v2       #isMmsCanConvertToIpmessage:Z
    .restart local v3       #slideModel:Lcom/android/mms/model/SlideModel;
    :cond_9
    move v1, v5

    .line 14129
    goto :goto_3

    .line 14135
    .restart local v1       #hasOverCaptionLimit:Z
    :cond_a
    invoke-virtual {v3}, Lcom/android/mms/model/SlideModel;->hasImage()Z

    move-result v4

    if-eqz v4, :cond_d

    iget-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    if-eqz v4, :cond_b

    iget-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImageCaptionOn:Z

    if-eqz v4, :cond_b

    if-eqz v1, :cond_c

    :cond_b
    invoke-virtual {v3}, Lcom/android/mms/model/SlideModel;->hasText()Z

    move-result v4

    if-nez v4, :cond_d

    :cond_c
    move v5, v6

    .line 14138
    goto/16 :goto_0

    .line 14139
    :cond_d
    invoke-virtual {v3}, Lcom/android/mms/model/SlideModel;->hasVideo()Z

    move-result v4

    if-eqz v4, :cond_0

    iget-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    if-eqz v4, :cond_e

    iget-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsVideoCaptionOn:Z

    if-eqz v4, :cond_e

    if-eqz v1, :cond_f

    :cond_e
    invoke-virtual {v3}, Lcom/android/mms/model/SlideModel;->hasText()Z

    move-result v4

    if-nez v4, :cond_0

    :cond_f
    move v5, v6

    .line 14142
    goto/16 :goto_0
.end method

.method public static cancelFailedDownloadNotification(Landroid/content/Intent;Landroid/content/Context;)Z
    .locals 1
    .parameter "intent"
    .parameter "context"

    .prologue
    .line 3355
    invoke-static {p0}, Lcom/android/mms/transaction/MessagingNotification;->isFailedToDownload(Landroid/content/Intent;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 3357
    const/16 v0, 0x213

    invoke-static {p1, v0}, Lcom/android/mms/transaction/MessagingNotification;->cancelNotification(Landroid/content/Context;I)V

    .line 3359
    const/4 v0, 0x1

    .line 3361
    :goto_0
    return v0

    :cond_0
    const/4 v0, 0x0

    goto :goto_0
.end method

.method public static cancelFailedToDeliverNotification(Landroid/content/Intent;Landroid/content/Context;)Z
    .locals 1
    .parameter "intent"
    .parameter "context"

    .prologue
    .line 3345
    invoke-static {p0}, Lcom/android/mms/transaction/MessagingNotification;->isFailedToDeliver(Landroid/content/Intent;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 3347
    const/16 v0, 0x315

    invoke-static {p1, v0}, Lcom/android/mms/transaction/MessagingNotification;->cancelNotification(Landroid/content/Context;I)V

    .line 3349
    const/4 v0, 0x1

    .line 3351
    :goto_0
    return v0

    :cond_0
    const/4 v0, 0x0

    goto :goto_0
.end method

.method private changeWallPaper()V
    .locals 6

    .prologue
    const-wide/16 v4, 0x0

    .line 13414
    const-string v0, "Mms/ipmsg/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "changeWallPaper(): thread id = "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v2}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v2

    invoke-virtual {v1, v2, v3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13416
    invoke-static {}, Lcom/android/mms/MmsConfig;->isSupportAsyncUpdateWallpaper()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 13417
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->asyncUpdateWallPaper()V

    .line 13427
    :cond_0
    :goto_0
    return-void

    .line 13419
    :cond_1
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v0

    cmp-long v0, v0, v4

    if-lez v0, :cond_2

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v0

    invoke-direct {p0, v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->setWallPaper(J)Z

    move-result v0

    if-nez v0, :cond_0

    :cond_2
    invoke-direct {p0, v4, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->setWallPaper(J)Z

    move-result v0

    if-nez v0, :cond_0

    .line 13424
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWallPaper:Landroid/widget/ImageView;

    const v1, 0x7f070001

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setImageResource(I)V

    goto :goto_0
.end method

.method private checkAndSendReadReport()V
    .locals 6

    .prologue
    .line 9742
    move-object v0, p0

    .line 9743
    .local v0, ct:Landroid/content/Context;
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v3}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v1

    .line 9744
    .local v1, threadId:J
    const-string v3, "Mms/Txn"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "checkAndSendReadReport,threadId:"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v1, v2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 9745
    new-instance v3, Ljava/lang/Thread;

    new-instance v4, Lcom/android/mms/ui/ComposeMessageActivity$83;

    invoke-direct {v4, p0, v1, v2, v0}, Lcom/android/mms/ui/ComposeMessageActivity$83;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;JLandroid/content/Context;)V

    invoke-direct {v3, v4}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v3}, Ljava/lang/Thread;->start()V

    .line 9905
    return-void
.end method

.method private checkConditionsAndSendMessage(Z)V
    .locals 8
    .parameter "bCheckEcmMode"

    .prologue
    const/4 v7, 0x1

    .line 9344
    const/16 v1, 0x12e

    .line 9347
    .local v1, requestType:I
    const/16 v1, 0x132

    .line 9348
    iget v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    int-to-long v4, v4

    invoke-static {p0, v4, v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSlotById(Landroid/content/Context;J)I

    move-result v3

    .line 9349
    .local v3, slotId:I
    const-string v4, "Mms/Txn"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "check pin and...: simId="

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    iget v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, "\t slotId="

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v4, v5}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 9362
    iget-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    if-eqz v4, :cond_2

    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v4

    invoke-direct {p0, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->isNetworkConnected(Landroid/content/Context;)Z

    move-result v4

    if-eqz v4, :cond_2

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isCurrentRecipientIpMessageUser()Z

    move-result v4

    if-eqz v4, :cond_2

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v4, :cond_0

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v4, :cond_0

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v4, :cond_2

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v4

    if-nez v4, :cond_2

    .line 9366
    :cond_0
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->checkIpMessageBeforeSendMessage(Z)V

    .line 9403
    :cond_1
    :goto_0
    return-void

    .line 9369
    :cond_2
    move v0, p1

    .line 9371
    .local v0, bCEM:Z
    sget-object v4, Lcom/android/mms/ui/ComposeMessageActivity;->mCellMgr:Lcom/mediatek/encapsulation/com/mediatek/CellConnService/EncapsulatedCellConnMgr;

    new-instance v5, Lcom/android/mms/ui/ComposeMessageActivity$79;

    invoke-direct {v5, p0, v3, v0}, Lcom/android/mms/ui/ComposeMessageActivity$79;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;IZ)V

    invoke-virtual {v4, v3, v1, v5}, Lcom/mediatek/encapsulation/com/mediatek/CellConnService/EncapsulatedCellConnMgr;->handleCellConn(IILjava/lang/Runnable;)I

    move-result v2

    .line 9397
    .local v2, result:I
    const-string v4, "Mms/Txn"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "result = "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v4, v5}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 9398
    sget-object v4, Lcom/android/mms/ui/ComposeMessageActivity;->mCellMgr:Lcom/mediatek/encapsulation/com/mediatek/CellConnService/EncapsulatedCellConnMgr;

    if-ne v2, v7, :cond_1

    .line 9399
    invoke-virtual {p0, v7}, Landroid/app/Activity;->showDialog(I)V

    .line 9400
    iput-boolean v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCellDialogShowing:Z

    goto :goto_0
.end method

.method private checkForTooManyRecipients(I)V
    .locals 8
    .parameter "recipientCount"

    .prologue
    const/4 v4, 0x0

    const/4 v3, 0x1

    .line 1703
    invoke-static {}, Lcom/android/mms/MmsConfig;->getSmsRecipientLimit()I

    move-result v0

    .line 1705
    .local v0, recipientLimit:I
    const v5, 0x7fffffff

    if-eq v0, v5, :cond_0

    .line 1708
    if-le p1, v0, :cond_1

    move v1, v3

    .line 1710
    .local v1, tooMany:Z
    :goto_0
    iget v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLastRecipientCount:I

    if-eq p1, v5, :cond_0

    .line 1713
    iput p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLastRecipientCount:I

    .line 1714
    if-eqz v1, :cond_0

    .line 1715
    const v5, 0x7f0b0281

    const/4 v6, 0x2

    new-array v6, v6, [Ljava/lang/Object;

    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v7

    aput-object v7, v6, v4

    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    aput-object v4, v6, v3

    invoke-virtual {p0, v5, v6}, Landroid/content/Context;->getString(I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v2

    .line 1717
    .local v2, tooManyMsg:Ljava/lang/String;
    invoke-static {p0, v2, v3}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v3

    invoke-virtual {v3}, Landroid/widget/Toast;->show()V

    .line 1722
    .end local v1           #tooMany:Z
    .end local v2           #tooManyMsg:Ljava/lang/String;
    :cond_0
    return-void

    :cond_1
    move v1, v4

    .line 1708
    goto :goto_0
.end method

.method private checkIpMessageBeforeSendMessage(Z)V
    .locals 9
    .parameter "bCheckEcmMode"

    .prologue
    const/16 v8, 0x64

    const/4 v5, 0x0

    const/4 v4, 0x1

    .line 12368
    iget v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    invoke-static {p0, v3}, Lcom/android/mms/MmsConfig;->isServiceEnabled(Landroid/content/Context;I)Z

    move-result v3

    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    .line 12371
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isCurrentRecipientIpMessageUser()Z

    move-result v3

    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpMessageRecipients:Z

    .line 12372
    const-string v6, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "checkIpMessageBeforeSendMessage(): isServiceEnable = "

    invoke-virtual {v3, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    iget-boolean v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    invoke-virtual {v3, v7}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v7, ", mIsIpMessageRecipients = "

    invoke-virtual {v3, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    iget-boolean v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpMessageRecipients:Z

    invoke-virtual {v3, v7}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v7, ", mIpMessageDraft is null ?= "

    invoke-virtual {v3, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v3, :cond_1

    move v3, v4

    :goto_0
    invoke-virtual {v7, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v7, ", mIpMessageForSend is null ?= "

    invoke-virtual {v3, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v3, :cond_2

    move v3, v4

    :goto_1
    invoke-virtual {v7, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v6, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12377
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v3, :cond_3

    .line 12378
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    const-string v6, "send fail from new ip message"

    invoke-direct {p0, v3, v6, v5, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->sendMessageForIpMsg(Lcom/mediatek/mms/ipmessage/message/IpMessage;Ljava/lang/String;ZZ)Z

    .line 12465
    :cond_0
    :goto_2
    return-void

    :cond_1
    move v3, v5

    .line 12372
    goto :goto_0

    :cond_2
    move v3, v5

    goto :goto_1

    .line 12382
    :cond_3
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v3, :cond_b

    .line 12384
    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    if-eqz v3, :cond_4

    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v3

    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->isNetworkConnected(Landroid/content/Context;)Z

    move-result v3

    if-nez v3, :cond_6

    .line 12386
    :cond_4
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v3}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v3

    if-nez v3, :cond_5

    .line 12387
    invoke-direct {p0, v5, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->showIpMessageConvertToMmsOrSmsDialog(II)V

    goto :goto_2

    .line 12389
    :cond_5
    invoke-direct {p0, v4, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->showIpMessageConvertToMmsOrSmsDialog(II)V

    goto :goto_2

    .line 12393
    :cond_6
    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpMessageRecipients:Z

    if-nez v3, :cond_8

    .line 12395
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v3}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v3

    if-nez v3, :cond_7

    .line 12396
    invoke-direct {p0, v5, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->showIpMessageConvertToMmsOrSmsDialog(II)V

    goto :goto_2

    .line 12398
    :cond_7
    invoke-direct {p0, v4, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->showIpMessageConvertToMmsOrSmsDialog(II)V

    goto :goto_2

    .line 12403
    :cond_8
    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    if-eqz v3, :cond_a

    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v3

    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->isNetworkConnected(Landroid/content/Context;)Z

    move-result v3

    if-eqz v3, :cond_a

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    if-eqz v3, :cond_a

    .line 12404
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v3}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v0

    .line 12405
    .local v0, captionText:Ljava/lang/String;
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_a

    .line 12406
    invoke-virtual {v0}, Ljava/lang/String;->length()I

    move-result v3

    if-le v3, v8, :cond_9

    .line 12407
    invoke-virtual {v0, v5, v8}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v0

    .line 12409
    :cond_9
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v3}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v3

    packed-switch v3, :pswitch_data_0

    .line 12429
    :pswitch_0
    const-string v3, "Mms/ipmsg/compose"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "checkIpMessageBeforeSendMessage(): No caption. type = "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v7}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v7

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v3, v6}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 12436
    .end local v0           #captionText:Ljava/lang/String;
    :cond_a
    :goto_3
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    const-string v6, "send fail from draft ip message"

    invoke-direct {p0, v3, v6, v4, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->sendMessageForIpMsg(Lcom/mediatek/mms/ipmessage/message/IpMessage;Ljava/lang/String;ZZ)Z

    move-result v3

    if-eqz v3, :cond_0

    .line 12437
    iput v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraftId:I

    .line 12438
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->clearIpMessageDraft()V

    goto/16 :goto_2

    .line 12411
    .restart local v0       #captionText:Ljava/lang/String;
    :pswitch_1
    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImageCaptionOn:Z

    if-eqz v3, :cond_a

    .line 12412
    const-string v3, "Mms/ipmsg/compose"

    const-string v6, "checkIpMessageBeforeSendMessage(): Have caption. type = PICTURE"

    invoke-static {v3, v6}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 12413
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v3, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;

    invoke-virtual {v3, v0}, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;->setCaption(Ljava/lang/String;)V

    goto :goto_3

    .line 12417
    :pswitch_2
    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsAudioCaptionOn:Z

    if-eqz v3, :cond_a

    .line 12418
    const-string v3, "Mms/ipmsg/compose"

    const-string v6, "checkIpMessageBeforeSendMessage(): Have caption. type = VOICE"

    invoke-static {v3, v6}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 12419
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v3, Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;

    invoke-virtual {v3, v0}, Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;->setCaption(Ljava/lang/String;)V

    goto :goto_3

    .line 12423
    :pswitch_3
    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsVideoCaptionOn:Z

    if-eqz v3, :cond_a

    .line 12424
    const-string v3, "Mms/ipmsg/compose"

    const-string v6, "checkIpMessageBeforeSendMessage(): Have caption. type = VIDEO"

    invoke-static {v3, v6}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 12425
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v3, Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;

    invoke-virtual {v3, v0}, Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;->setCaption(Ljava/lang/String;)V

    goto :goto_3

    .line 12443
    .end local v0           #captionText:Ljava/lang/String;
    :cond_b
    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mJustSendMsgViaCommonMsgThisTime:Z

    if-nez v3, :cond_e

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    if-eqz v3, :cond_e

    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v3

    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->isNetworkConnected(Landroid/content/Context;)Z

    move-result v3

    if-eqz v3, :cond_e

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpMessageRecipients:Z

    if-eqz v3, :cond_e

    .line 12445
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v3

    if-nez v3, :cond_c

    move v2, v4

    .line 12446
    .local v2, isSmsCanConvertToIpmessage:Z
    :goto_4
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->canMmsConvertToIpMessage()Z

    move-result v1

    .line 12447
    .local v1, isMmsCanConvertToIpmessage:Z
    if-eqz v2, :cond_d

    .line 12452
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->sendIpTextMessage()V

    goto/16 :goto_2

    .end local v1           #isMmsCanConvertToIpmessage:Z
    .end local v2           #isSmsCanConvertToIpmessage:Z
    :cond_c
    move v2, v5

    .line 12445
    goto :goto_4

    .line 12455
    .restart local v1       #isMmsCanConvertToIpmessage:Z
    .restart local v2       #isSmsCanConvertToIpmessage:Z
    :cond_d
    if-eqz v1, :cond_e

    .line 12456
    invoke-direct {p0, v4, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->showMmsOrSmsConvertToIpMessageDialog(IZ)V

    goto/16 :goto_2

    .line 12462
    .end local v1           #isMmsCanConvertToIpmessage:Z
    .end local v2           #isSmsCanConvertToIpmessage:Z
    :cond_e
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->sendLongMessageCheck(Z)V

    goto/16 :goto_2

    .line 12409
    nop

    :pswitch_data_0
    .packed-switch 0x4
        :pswitch_1
        :pswitch_2
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_3
    .end packed-switch
.end method

.method private checkObsoleteThreadId()V
    .locals 6

    .prologue
    .line 14778
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v2

    if-eqz v2, :cond_0

    iget-wide v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mOldThreadID:J

    const-wide/16 v4, 0x0

    cmp-long v2, v2, v4

    if-lez v2, :cond_0

    iget-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCheckObsolete:Z

    if-eqz v2, :cond_0

    iget-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsSameConv:Z

    if-eqz v2, :cond_0

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->isDiscarded()Z

    move-result v2

    if-nez v2, :cond_0

    invoke-static {}, Lcom/android/mms/MmsConfig;->getMmsDirMode()Z

    move-result v2

    if-nez v2, :cond_0

    iget-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpServiceEnabled:Z

    if-nez v2, :cond_0

    .line 14781
    const/4 v2, 0x0

    iput-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCheckObsolete:Z

    .line 14782
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->syncWorkingRecipients()V

    .line 14783
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->getConversation()Lcom/android/mms/data/Conversation;

    move-result-object v2

    invoke-virtual {v2}, Lcom/android/mms/data/Conversation;->ensureThreadId()J

    move-result-wide v0

    .line 14784
    .local v0, newThreadId:J
    iget-wide v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mOldThreadID:J

    cmp-long v2, v2, v0

    if-eqz v2, :cond_0

    .line 14785
    sget-object v2, Lcom/android/mms/draft/DraftManager;->sEditingThread:Ljava/util/HashSet;

    iget-wide v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mOldThreadID:J

    invoke-static {v3, v4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-virtual {v2, v3}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z

    .line 14786
    const-string v2, "Mms/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "new recipent list != old, old Obsolete thread id = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    iget-wide v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mOldThreadID:J

    invoke-virtual {v3, v4, v5}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 14789
    .end local v0           #newThreadId:J
    :cond_0
    return-void
.end method

.method private checkPendingNotification()V
    .locals 1

    .prologue
    .line 7754
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPossiblePendingNotification:Z

    if-eqz v0, :cond_0

    invoke-virtual {p0}, Landroid/app/Activity;->hasWindowFocus()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 7757
    const/4 v0, 0x0

    iput-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPossiblePendingNotification:Z

    .line 7759
    :cond_0
    return-void
.end method

.method private checkRecipientsCount()V
    .locals 12

    .prologue
    const v11, 0x7f0b0278

    const/4 v10, 0x0

    const v9, 0x7f0b0295

    const v8, 0x1010355

    const/4 v7, 0x1

    .line 9595
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

    if-eqz v3, :cond_0

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

    invoke-static {}, Lcom/android/mms/MmsConfig;->getDeviceStorageFullStatus()Z

    move-result v4

    invoke-interface {v3, p0, v4, v7, v7}, Lcom/mediatek/mms/ext/IMmsUtils;->allowSafeDraft(Landroid/app/Activity;ZZI)Z

    move-result v3

    if-nez v3, :cond_0

    .line 9598
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    .line 9684
    :goto_0
    return-void

    .line 9601
    :cond_0
    invoke-static {}, Lcom/android/mms/MmsConfig;->getMmsRecipientLimit()I

    move-result v2

    .line 9602
    .local v2, mmsLimitCount:I
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v3

    if-eqz v3, :cond_1

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->recipientCount()I

    move-result v3

    if-le v3, v2, :cond_1

    .line 9603
    const v3, 0x7f0b0082

    new-array v4, v7, [Ljava/lang/Object;

    const/4 v5, 0x0

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v6

    aput-object v6, v4, v5

    invoke-virtual {p0, v3, v4}, Landroid/content/Context;->getString(I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v1

    .line 9604
    .local v1, message:Ljava/lang/String;
    new-instance v0, Landroid/app/AlertDialog$Builder;

    invoke-direct {v0, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    .line 9605
    .local v0, builder:Landroid/app/AlertDialog$Builder;
    const v3, 0x7f0b0081

    invoke-virtual {v0, v3}, Landroid/app/AlertDialog$Builder;->setTitle(I)Landroid/app/AlertDialog$Builder;

    .line 9606
    invoke-virtual {v0, v8}, Landroid/app/AlertDialog$Builder;->setIconAttribute(I)Landroid/app/AlertDialog$Builder;

    .line 9607
    invoke-virtual {v0, v7}, Landroid/app/AlertDialog$Builder;->setCancelable(Z)Landroid/app/AlertDialog$Builder;

    .line 9608
    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    .line 9609
    new-instance v3, Lcom/android/mms/ui/ComposeMessageActivity$82;

    invoke-direct {v3, p0, v2}, Lcom/android/mms/ui/ComposeMessageActivity$82;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;I)V

    invoke-virtual {v0, v9, v3}, Landroid/app/AlertDialog$Builder;->setPositiveButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    .line 9648
    const v3, 0x7f0b0296

    invoke-virtual {v0, v3, v10}, Landroid/app/AlertDialog$Builder;->setNegativeButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    .line 9649
    invoke-virtual {v0}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    .line 9650
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    goto :goto_0

    .line 9657
    .end local v0           #builder:Landroid/app/AlertDialog$Builder;
    .end local v1           #message:Ljava/lang/String;
    :cond_1
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v3

    if-eqz v3, :cond_2

    const-string v3, ""

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v4}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v4

    const-string v5, ";"

    const-string v6, ""

    invoke-virtual {v4, v5, v6}, Ljava/lang/String;->replaceAll(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    const-string v5, ","

    const-string v6, ""

    invoke-virtual {v4, v5, v6}, Ljava/lang/String;->replaceAll(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_2

    .line 9659
    new-instance v3, Landroid/app/AlertDialog$Builder;

    invoke-direct {v3, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    invoke-virtual {v3, v8}, Landroid/app/AlertDialog$Builder;->setIconAttribute(I)Landroid/app/AlertDialog$Builder;

    move-result-object v3

    invoke-virtual {v3, v11}, Landroid/app/AlertDialog$Builder;->setTitle(I)Landroid/app/AlertDialog$Builder;

    move-result-object v3

    const v4, 0x7f0b0279

    invoke-virtual {v3, v4}, Landroid/app/AlertDialog$Builder;->setMessage(I)Landroid/app/AlertDialog$Builder;

    move-result-object v3

    new-instance v4, Lcom/android/mms/ui/ComposeMessageActivity$CancelSendingListener;

    invoke-direct {v4, p0, v10}, Lcom/android/mms/ui/ComposeMessageActivity$CancelSendingListener;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/ComposeMessageActivity$1;)V

    invoke-virtual {v3, v9, v4}, Landroid/app/AlertDialog$Builder;->setPositiveButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v3

    invoke-virtual {v3}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    goto/16 :goto_0

    .line 9665
    :cond_2
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v3

    if-nez v3, :cond_3

    const-string v3, ""

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v4}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v4

    invoke-virtual {v4}, Lcom/android/mms/data/ContactList;->serialize()Ljava/lang/String;

    move-result-object v4

    const-string v5, ";"

    const-string v6, ""

    invoke-virtual {v4, v5, v6}, Ljava/lang/String;->replaceAll(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    const-string v5, ","

    const-string v6, ""

    invoke-virtual {v4, v5, v6}, Ljava/lang/String;->replaceAll(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_3

    .line 9666
    new-instance v3, Landroid/app/AlertDialog$Builder;

    invoke-direct {v3, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    invoke-virtual {v3, v8}, Landroid/app/AlertDialog$Builder;->setIconAttribute(I)Landroid/app/AlertDialog$Builder;

    move-result-object v3

    invoke-virtual {v3, v11}, Landroid/app/AlertDialog$Builder;->setTitle(I)Landroid/app/AlertDialog$Builder;

    move-result-object v3

    const v4, 0x7f0b0279

    invoke-virtual {v3, v4}, Landroid/app/AlertDialog$Builder;->setMessage(I)Landroid/app/AlertDialog$Builder;

    move-result-object v3

    new-instance v4, Lcom/android/mms/ui/ComposeMessageActivity$CancelSendingListener;

    invoke-direct {v4, p0, v10}, Lcom/android/mms/ui/ComposeMessageActivity$CancelSendingListener;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/ComposeMessageActivity$1;)V

    invoke-virtual {v3, v9, v4}, Landroid/app/AlertDialog$Builder;->setPositiveButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v3

    invoke-virtual {v3}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    goto/16 :goto_0

    .line 9674
    :cond_3
    invoke-static {}, Lcom/android/mms/MmsConfig;->getFolderModeEnabled()Z

    move-result v3

    if-eqz v3, :cond_4

    .line 9676
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v3}, Lcom/mediatek/mms/ext/IMmsCompose;->isDualSendButtonEnable()Z

    move-result v3

    if-nez v3, :cond_4

    .line 9677
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getAutoSelectSimId()I

    move-result v3

    iput v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->send_sim_id:I

    .line 9678
    const-string v3, "Mms/compose"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "send_sim_id="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    iget v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->send_sim_id:I

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 9681
    :cond_4
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->simSelection()V

    goto/16 :goto_0
.end method

.method private checkSlideCount(Z)Z
    .locals 6
    .parameter "append"

    .prologue
    const/4 v4, 0x0

    .line 10168
    const v5, 0x7f0b027d

    invoke-virtual {p0, v5}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v0

    .line 10169
    .local v0, mMsg:Ljava/lang/String;
    invoke-static {p0, v0, v4}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v2

    .line 10170
    .local v2, mToast:Landroid/widget/Toast;
    const/4 v1, 0x0

    .line 10171
    .local v1, mSlideCount:I
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v5}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v3

    .line 10172
    .local v3, slideShow:Lcom/android/mms/model/SlideshowModel;
    if-eqz v3, :cond_0

    .line 10173
    invoke-virtual {v3}, Lcom/android/mms/model/SlideshowModel;->size()I

    move-result v1

    .line 10175
    :cond_0
    const/16 v5, 0x14

    if-lt v1, v5, :cond_1

    if-eqz p1, :cond_1

    .line 10176
    invoke-virtual {v2}, Landroid/widget/Toast;->show()V

    .line 10179
    :goto_0
    return v4

    :cond_1
    const/4 v4, 0x1

    goto :goto_0
.end method

.method private clearIpMessageDraft()V
    .locals 2

    .prologue
    .line 14048
    const-string v0, "Mms/ipmsg/compose"

    const-string v1, "clearIpMessageDraft()"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 14049
    const/4 v0, 0x0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 14050
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageThumbnail:Landroid/widget/ImageView;

    if-eqz v0, :cond_0

    .line 14051
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageThumbnail:Landroid/widget/ImageView;

    const/16 v1, 0x8

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 14053
    :cond_0
    const/4 v0, 0x0

    iput-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsEditingCaption:Z

    .line 14054
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    .line 14055
    return-void
.end method

.method private commitToChipIfNeeded()V
    .locals 3

    .prologue
    .line 14392
    const/4 v0, 0x0

    .line 14393
    .local v0, recipient:Ljava/lang/String;
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    if-eqz v1, :cond_0

    .line 14394
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v1}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v0

    .line 14396
    :cond_0
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v1

    if-nez v1, :cond_2

    .line 14397
    const-string v1, ", "

    invoke-virtual {v0, v1}, Ljava/lang/String;->endsWith(Ljava/lang/String;)Z

    move-result v1

    if-nez v1, :cond_1

    const-string v1, ","

    invoke-virtual {v0, v1}, Ljava/lang/String;->endsWith(Ljava/lang/String;)Z

    move-result v1

    if-nez v1, :cond_1

    .line 14398
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v1}, Lcom/android/ex/chips/MTKRecipientEditTextView;->constructPressedChip()V

    .line 14400
    :cond_1
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    sget-object v2, Lcom/android/ex/chips/MTKRecipientEditTextView$UpdatePressedChipType;->ADD_CONTACT:Lcom/android/ex/chips/MTKRecipientEditTextView$UpdatePressedChipType;

    invoke-virtual {v1, v2}, Lcom/android/mms/ui/RecipientsEditor;->updatePressedChip(Lcom/android/ex/chips/MTKRecipientEditTextView$UpdatePressedChipType;)V

    .line 14402
    :cond_2
    return-void
.end method

.method public static computeAttachmentSizeLimit(Lcom/android/mms/model/SlideshowModel;I)J
    .locals 4
    .parameter "slideShow"
    .parameter "currentSlideSize"

    .prologue
    .line 5391
    const/4 v2, 0x1

    invoke-static {v2}, Lcom/android/mms/MmsConfig;->getUserSetMmsSizeLimit(Z)I

    move-result v2

    add-int/lit16 v2, v2, -0x400

    int-to-long v0, v2

    .line 5393
    .local v0, sizeLimit:J
    if-eqz p0, :cond_0

    .line 5394
    invoke-virtual {p0}, Lcom/android/mms/model/SlideshowModel;->getCurrentSlideshowSize()I

    move-result v2

    int-to-long v2, v2

    sub-long/2addr v0, v2

    .line 5401
    int-to-long v2, p1

    add-long/2addr v0, v2

    .line 5403
    :cond_0
    return-wide v0
.end method

.method public static computeAttachmentSizeLimitForAppen(Lcom/android/mms/model/SlideshowModel;)J
    .locals 6
    .parameter "slideShow"

    .prologue
    const-wide/16 v2, 0x0

    .line 10184
    const/4 v4, 0x1

    invoke-static {v4}, Lcom/android/mms/MmsConfig;->getUserSetMmsSizeLimit(Z)I

    move-result v4

    add-int/lit16 v4, v4, -0x5e6

    int-to-long v0, v4

    .line 10185
    .local v0, sizeLimit:J
    if-eqz p0, :cond_0

    .line 10186
    invoke-virtual {p0}, Lcom/android/mms/model/SlideshowModel;->getCurrentSlideshowSize()I

    move-result v4

    int-to-long v4, v4

    sub-long/2addr v0, v4

    .line 10188
    :cond_0
    cmp-long v4, v0, v2

    if-lez v4, :cond_1

    .line 10191
    .end local v0           #sizeLimit:J
    :goto_0
    return-wide v0

    .restart local v0       #sizeLimit:J
    :cond_1
    move-wide v0, v2

    goto :goto_0
.end method

.method private confirmDeleteDialog(Landroid/content/DialogInterface$OnClickListener;Z)V
    .locals 3
    .parameter "listener"
    .parameter "locked"

    .prologue
    .line 6907
    new-instance v0, Landroid/app/AlertDialog$Builder;

    invoke-direct {v0, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    .line 6910
    .local v0, builder:Landroid/app/AlertDialog$Builder;
    if-eqz p2, :cond_0

    const v1, 0x7f0b02b7

    :goto_0
    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setTitle(I)Landroid/app/AlertDialog$Builder;

    .line 6912
    const v1, 0x1010355

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setIconAttribute(I)Landroid/app/AlertDialog$Builder;

    .line 6914
    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setCancelable(Z)Landroid/app/AlertDialog$Builder;

    .line 6915
    if-eqz p2, :cond_1

    const v1, 0x7f0b02bb

    :goto_1
    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setMessage(I)Landroid/app/AlertDialog$Builder;

    .line 6917
    const v1, 0x7f0b02bf

    invoke-virtual {v0, v1, p1}, Landroid/app/AlertDialog$Builder;->setPositiveButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    .line 6918
    const v1, 0x7f0b0296

    const/4 v2, 0x0

    invoke-virtual {v0, v1, v2}, Landroid/app/AlertDialog$Builder;->setNegativeButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    .line 6919
    invoke-virtual {v0}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    .line 6920
    return-void

    .line 6910
    :cond_0
    const v1, 0x7f0b02b6

    goto :goto_0

    .line 6915
    :cond_1
    const v1, 0x7f0b02ba

    goto :goto_1
.end method

.method private confirmDeleteThread(J)V
    .locals 2
    .parameter "threadId"

    .prologue
    .line 5240
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    const/16 v1, 0x70a

    invoke-static {v0, p1, p2, v1}, Lcom/android/mms/data/Conversation;->startQueryHaveLockedMessages(Landroid/content/AsyncQueryHandler;JI)V

    .line 5242
    return-void
.end method

.method private confirmSendMessageIfNeeded()V
    .locals 6

    .prologue
    const/4 v5, 0x0

    const/4 v3, 0x1

    .line 1538
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v2}, Lcom/mediatek/mms/ext/IMmsCompose;->isEnableLengthRequiredMmsToSms()Z

    move-result v2

    if-eqz v2, :cond_1

    .line 1539
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v2}, Lcom/mediatek/mms/ext/IMmsCompose;->needConfirmMmsToSms()Z

    move-result v2

    if-eqz v2, :cond_0

    .line 1540
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->confirmForChangeMmsToSms()V

    .line 1576
    :goto_0
    return-void

    .line 1543
    :cond_0
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v2, v3}, Lcom/mediatek/mms/ext/IMmsCompose;->setConfirmMmsToSms(Z)V

    .line 1547
    :cond_1
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v2

    if-nez v2, :cond_2

    .line 1549
    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->checkConditionsAndSendMessage(Z)V

    goto :goto_0

    .line 1554
    :cond_2
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v0

    .line 1555
    .local v0, isMms:Z
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v2, v0}, Lcom/android/mms/ui/RecipientsEditor;->hasInvalidRecipient(Z)Z

    move-result v2

    if-eqz v2, :cond_3

    .line 1558
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    .line 1559
    const v2, 0x7f0b0275

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v3, v0}, Lcom/android/mms/ui/RecipientsEditor;->formatInvalidNumbers(Z)Ljava/lang/String;

    move-result-object v3

    invoke-direct {p0, v2, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->getResourcesString(ILjava/lang/String;)Ljava/lang/String;

    move-result-object v1

    .line 1561
    .local v1, title:Ljava/lang/String;
    new-instance v2, Landroid/app/AlertDialog$Builder;

    invoke-direct {v2, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Landroid/app/AlertDialog$Builder;->setCancelable(Z)Landroid/app/AlertDialog$Builder;

    move-result-object v2

    const v3, 0x1010355

    invoke-virtual {v2, v3}, Landroid/app/AlertDialog$Builder;->setIconAttribute(I)Landroid/app/AlertDialog$Builder;

    move-result-object v2

    invoke-virtual {v2, v1}, Landroid/app/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    move-result-object v2

    const v3, 0x7f0b0277

    invoke-virtual {v2, v3}, Landroid/app/AlertDialog$Builder;->setMessage(I)Landroid/app/AlertDialog$Builder;

    move-result-object v2

    const v3, 0x7f0b029a

    new-instance v4, Lcom/android/mms/ui/ComposeMessageActivity$SendIgnoreInvalidRecipientListener;

    invoke-direct {v4, p0, v5}, Lcom/android/mms/ui/ComposeMessageActivity$SendIgnoreInvalidRecipientListener;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/ComposeMessageActivity$1;)V

    invoke-virtual {v2, v3, v4}, Landroid/app/AlertDialog$Builder;->setPositiveButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v2

    const v3, 0x7f0b0296

    new-instance v4, Lcom/android/mms/ui/ComposeMessageActivity$CancelSendingListenerForInvalidRecipient;

    invoke-direct {v4, p0, v5}, Lcom/android/mms/ui/ComposeMessageActivity$CancelSendingListenerForInvalidRecipient;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/ComposeMessageActivity$1;)V

    invoke-virtual {v2, v3, v4}, Landroid/app/AlertDialog$Builder;->setNegativeButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v2

    invoke-virtual {v2}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    goto :goto_0

    .line 1572
    .end local v1           #title:Ljava/lang/String;
    :cond_3
    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->checkConditionsAndSendMessage(Z)V

    goto :goto_0
.end method

.method private convertAttachmentToIpMessage(Lcom/android/mms/model/FileAttachmentModel;)Z
    .locals 6
    .parameter "fileAttachmentModel"

    .prologue
    const-wide/16 v4, 0x64

    const/4 v1, 0x1

    const/4 v0, 0x0

    .line 12981
    if-nez p1, :cond_1

    .line 12982
    const-string v1, "Mms/ipmsg/compose"

    const-string v2, "convertSlideToIpMessage(): No content for convert! fileAttachment is null!"

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 13007
    .end local p1
    :cond_0
    :goto_0
    return v0

    .line 12986
    .restart local p1
    :cond_1
    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getContentType()Ljava/lang/String;

    move-result-object v2

    const-string v3, "text/x-vCard"

    invoke-virtual {v2, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_2

    .line 12987
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "convertSlideToIpMessage(): vCard"

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12988
    check-cast p1, Lcom/android/mms/model/VCardModel;

    .end local p1
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->convertVCardToIpMessage(Lcom/android/mms/model/VCardModel;)Z

    move-result v2

    if-eqz v2, :cond_0

    .line 12989
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendVcard:Ljava/lang/Runnable;

    invoke-virtual {v0, v2, v4, v5}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    move v0, v1

    .line 12990
    goto :goto_0

    .line 12996
    .restart local p1
    :cond_2
    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getContentType()Ljava/lang/String;

    move-result-object v2

    const-string v3, "text/x-vCalendar"

    invoke-virtual {v2, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_3

    .line 12997
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "convertSlideToIpMessage(): vCalendar"

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12998
    check-cast p1, Lcom/android/mms/model/VCalendarModel;

    .end local p1
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->convertVCalendarToIpMessage(Lcom/android/mms/model/VCalendarModel;)Z

    move-result v2

    if-eqz v2, :cond_0

    .line 12999
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendCalendar:Ljava/lang/Runnable;

    invoke-virtual {v0, v2, v4, v5}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    move v0, v1

    .line 13000
    goto :goto_0

    .line 13005
    .restart local p1
    :cond_3
    const-string v1, "Mms/ipmsg/compose"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "convertSlideToIpMessage(): Unsupport file attachment. content-type = "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getContentType()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0
.end method

.method private convertAudioToIpMessage(Lcom/android/mms/model/AudioModel;)Z
    .locals 14
    .parameter "audioModel"

    .prologue
    const/4 v13, -0x1

    const/4 v9, 0x0

    .line 12874
    if-nez p1, :cond_1

    .line 12875
    const-string v10, "Mms/ipmsg/compose"

    const-string v11, "convertAudioToIpMessage(): audio is null."

    invoke-static {v10, v11}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12924
    :cond_0
    :goto_0
    return v9

    .line 12878
    :cond_1
    const/4 v4, 0x0

    .line 12879
    .local v4, is:Ljava/io/InputStream;
    const/4 v7, 0x0

    .line 12881
    .local v7, os:Ljava/io/FileOutputStream;
    :try_start_0
    const-string v10, "Mms/ipmsg/compose"

    new-instance v11, Ljava/lang/StringBuilder;

    invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V

    const-string v12, "convertAudioToIpMessage(): contentType = "

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getContentType()Ljava/lang/String;

    move-result-object v12

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    const-string v12, ", mediaSize = "

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getMediaSize()I

    move-result v12

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v11

    const-string v12, ", duration = "

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getDuration()I

    move-result v12

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v11

    const-string v12, ", src = "

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getSrc()Ljava/lang/String;

    move-result-object v12

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    const-string v12, ", uri = "

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getUri()Landroid/net/Uri;

    move-result-object v12

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v11

    invoke-static {v10, v11}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12885
    const-string v3, ""

    .line 12886
    .local v3, fileName:Ljava/lang/String;
    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getSrc()Ljava/lang/String;

    move-result-object v10

    const-string v11, "."

    invoke-virtual {v10, v11}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v10

    if-le v10, v13, :cond_3

    .line 12887
    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getSrc()Ljava/lang/String;

    move-result-object v3

    .line 12893
    :goto_1
    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/android/mms/MmsConfig;->getAudioTempPath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    sget-object v11, Ljava/io/File;->separator:Ljava/lang/String;

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    iput-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    .line 12894
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    iput-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    .line 12895
    const/16 v6, 0x3e8

    .line 12896
    .local v6, oneKiloMillisecond:I
    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getDuration()I

    move-result v10

    div-int/2addr v10, v6

    iput v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    .line 12897
    const-string v10, "Mms/ipmsg/compose"

    new-instance v11, Ljava/lang/StringBuilder;

    invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V

    const-string v12, "convertAudioToIpMessage(): mDstPath = "

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    iget-object v12, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v11

    invoke-static {v10, v11}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12899
    new-instance v2, Ljava/io/File;

    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-direct {v2, v10}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 12900
    .local v2, file:Ljava/io/File;
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getUri()Landroid/net/Uri;

    move-result-object v11

    invoke-virtual {v10, v11}, Landroid/content/ContentResolver;->openInputStream(Landroid/net/Uri;)Ljava/io/InputStream;

    move-result-object v4

    .line 12901
    new-instance v8, Ljava/io/FileOutputStream;

    invoke-direct {v8, v2}, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/io/FileNotFoundException; {:try_start_0 .. :try_end_0} :catch_7
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_3

    .line 12902
    .end local v7           #os:Ljava/io/FileOutputStream;
    .local v8, os:Ljava/io/FileOutputStream;
    const/16 v10, 0x800

    :try_start_1
    new-array v0, v10, [B

    .line 12903
    .local v0, buffer:[B
    const/4 v5, 0x0

    .local v5, len:I
    :goto_2
    invoke-virtual {v4, v0}, Ljava/io/InputStream;->read([B)I

    move-result v5

    if-eq v5, v13, :cond_4

    .line 12904
    const/4 v10, 0x0

    invoke-virtual {v8, v0, v10, v5}, Ljava/io/FileOutputStream;->write([BII)V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1
    .catch Ljava/io/FileNotFoundException; {:try_start_1 .. :try_end_1} :catch_0
    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_6

    goto :goto_2

    .line 12906
    .end local v0           #buffer:[B
    .end local v5           #len:I
    :catch_0
    move-exception v1

    move-object v7, v8

    .line 12907
    .end local v2           #file:Ljava/io/File;
    .end local v3           #fileName:Ljava/lang/String;
    .end local v6           #oneKiloMillisecond:I
    .end local v8           #os:Ljava/io/FileOutputStream;
    .local v1, e:Ljava/io/FileNotFoundException;
    .restart local v7       #os:Ljava/io/FileOutputStream;
    :goto_3
    :try_start_2
    const-string v10, "Mms/ipmsg/compose"

    const-string v11, "convertAudioToIpMessage(): can not found this part file!"

    invoke-static {v10, v11, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    .line 12914
    if-eqz v4, :cond_2

    .line 12915
    :try_start_3
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 12917
    :cond_2
    if-eqz v7, :cond_0

    .line 12918
    invoke-virtual {v7}, Ljava/io/FileOutputStream;->close()V
    :try_end_3
    .catch Ljava/io/IOException; {:try_start_3 .. :try_end_3} :catch_1

    goto/16 :goto_0

    .line 12920
    :catch_1
    move-exception v1

    .line 12921
    .local v1, e:Ljava/io/IOException;
    const-string v10, "Mms/ipmsg/compose"

    const-string v11, "convertAudioToIpMessage(): IOException happened.2"

    invoke-static {v10, v11, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto/16 :goto_0

    .line 12889
    .end local v1           #e:Ljava/io/IOException;
    .restart local v3       #fileName:Ljava/lang/String;
    :cond_3
    :try_start_4
    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getSrc()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, "."

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-static {}, Landroid/webkit/MimeTypeMap;->getSingleton()Landroid/webkit/MimeTypeMap;

    move-result-object v11

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getContentType()Ljava/lang/String;

    move-result-object v12

    invoke-virtual {v11, v12}, Landroid/webkit/MimeTypeMap;->getExtensionFromMimeType(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_0
    .catch Ljava/io/FileNotFoundException; {:try_start_4 .. :try_end_4} :catch_7
    .catch Ljava/io/IOException; {:try_start_4 .. :try_end_4} :catch_3

    move-result-object v3

    goto/16 :goto_1

    .line 12914
    .end local v7           #os:Ljava/io/FileOutputStream;
    .restart local v0       #buffer:[B
    .restart local v2       #file:Ljava/io/File;
    .restart local v5       #len:I
    .restart local v6       #oneKiloMillisecond:I
    .restart local v8       #os:Ljava/io/FileOutputStream;
    :cond_4
    if-eqz v4, :cond_5

    .line 12915
    :try_start_5
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 12917
    :cond_5
    if-eqz v8, :cond_6

    .line 12918
    invoke-virtual {v8}, Ljava/io/FileOutputStream;->close()V
    :try_end_5
    .catch Ljava/io/IOException; {:try_start_5 .. :try_end_5} :catch_2

    .line 12924
    :cond_6
    :goto_4
    const/4 v9, 0x1

    goto/16 :goto_0

    .line 12920
    :catch_2
    move-exception v1

    .line 12921
    .restart local v1       #e:Ljava/io/IOException;
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertAudioToIpMessage(): IOException happened.2"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_4

    .line 12909
    .end local v0           #buffer:[B
    .end local v1           #e:Ljava/io/IOException;
    .end local v2           #file:Ljava/io/File;
    .end local v3           #fileName:Ljava/lang/String;
    .end local v5           #len:I
    .end local v6           #oneKiloMillisecond:I
    .end local v8           #os:Ljava/io/FileOutputStream;
    .restart local v7       #os:Ljava/io/FileOutputStream;
    :catch_3
    move-exception v1

    .line 12910
    .restart local v1       #e:Ljava/io/IOException;
    :goto_5
    :try_start_6
    const-string v10, "Mms/ipmsg/compose"

    const-string v11, "convertAudioToIpMessage(): IOException happened."

    invoke-static {v10, v11, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_0

    .line 12914
    if-eqz v4, :cond_7

    .line 12915
    :try_start_7
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 12917
    :cond_7
    if-eqz v7, :cond_0

    .line 12918
    invoke-virtual {v7}, Ljava/io/FileOutputStream;->close()V
    :try_end_7
    .catch Ljava/io/IOException; {:try_start_7 .. :try_end_7} :catch_4

    goto/16 :goto_0

    .line 12920
    :catch_4
    move-exception v1

    .line 12921
    const-string v10, "Mms/ipmsg/compose"

    const-string v11, "convertAudioToIpMessage(): IOException happened.2"

    invoke-static {v10, v11, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto/16 :goto_0

    .line 12913
    .end local v1           #e:Ljava/io/IOException;
    :catchall_0
    move-exception v9

    .line 12914
    :goto_6
    if-eqz v4, :cond_8

    .line 12915
    :try_start_8
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 12917
    :cond_8
    if-eqz v7, :cond_9

    .line 12918
    invoke-virtual {v7}, Ljava/io/FileOutputStream;->close()V
    :try_end_8
    .catch Ljava/io/IOException; {:try_start_8 .. :try_end_8} :catch_5

    .line 12922
    :cond_9
    :goto_7
    throw v9

    .line 12920
    :catch_5
    move-exception v1

    .line 12921
    .restart local v1       #e:Ljava/io/IOException;
    const-string v10, "Mms/ipmsg/compose"

    const-string v11, "convertAudioToIpMessage(): IOException happened.2"

    invoke-static {v10, v11, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_7

    .line 12913
    .end local v1           #e:Ljava/io/IOException;
    .end local v7           #os:Ljava/io/FileOutputStream;
    .restart local v2       #file:Ljava/io/File;
    .restart local v3       #fileName:Ljava/lang/String;
    .restart local v6       #oneKiloMillisecond:I
    .restart local v8       #os:Ljava/io/FileOutputStream;
    :catchall_1
    move-exception v9

    move-object v7, v8

    .end local v8           #os:Ljava/io/FileOutputStream;
    .restart local v7       #os:Ljava/io/FileOutputStream;
    goto :goto_6

    .line 12909
    .end local v7           #os:Ljava/io/FileOutputStream;
    .restart local v8       #os:Ljava/io/FileOutputStream;
    :catch_6
    move-exception v1

    move-object v7, v8

    .end local v8           #os:Ljava/io/FileOutputStream;
    .restart local v7       #os:Ljava/io/FileOutputStream;
    goto :goto_5

    .line 12906
    .end local v2           #file:Ljava/io/File;
    .end local v3           #fileName:Ljava/lang/String;
    .end local v6           #oneKiloMillisecond:I
    :catch_7
    move-exception v1

    goto/16 :goto_3
.end method

.method private convertImageToIpMessage(Lcom/android/mms/model/ImageModel;)Z
    .locals 13
    .parameter "imageModel"

    .prologue
    const/4 v12, -0x1

    const/4 v8, 0x0

    .line 12928
    if-nez p1, :cond_1

    .line 12929
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertImageToIpMessage(): video is null."

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12977
    :cond_0
    :goto_0
    return v8

    .line 12932
    :cond_1
    const/4 v4, 0x0

    .line 12933
    .local v4, is:Ljava/io/InputStream;
    const/4 v6, 0x0

    .line 12935
    .local v6, os:Ljava/io/FileOutputStream;
    :try_start_0
    const-string v9, "Mms/ipmsg/compose"

    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "convertImageToIpMessage(): contentType = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getContentType()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", mediaSize = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getMediaSize()I

    move-result v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", duration = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getDuration()I

    move-result v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", src = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getSrc()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", uri = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getUri()Landroid/net/Uri;

    move-result-object v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12939
    const-string v3, ""

    .line 12940
    .local v3, fileName:Ljava/lang/String;
    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getSrc()Ljava/lang/String;

    move-result-object v9

    const-string v10, "."

    invoke-virtual {v9, v10}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v9

    if-le v9, v12, :cond_3

    .line 12941
    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getSrc()Ljava/lang/String;

    move-result-object v3

    .line 12947
    :goto_1
    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/android/mms/MmsConfig;->getPicTempPath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    sget-object v10, Ljava/io/File;->separator:Ljava/lang/String;

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    iput-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    .line 12948
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    iput-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    .line 12949
    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getDuration()I

    move-result v9

    iput v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    .line 12950
    const-string v9, "Mms/ipmsg/compose"

    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "convertImageToIpMessage(): mDstPath = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12952
    new-instance v2, Ljava/io/File;

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-direct {v2, v9}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 12953
    .local v2, file:Ljava/io/File;
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v9

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getUri()Landroid/net/Uri;

    move-result-object v10

    invoke-virtual {v9, v10}, Landroid/content/ContentResolver;->openInputStream(Landroid/net/Uri;)Ljava/io/InputStream;

    move-result-object v4

    .line 12954
    new-instance v7, Ljava/io/FileOutputStream;

    invoke-direct {v7, v2}, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/io/FileNotFoundException; {:try_start_0 .. :try_end_0} :catch_7
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_3

    .line 12955
    .end local v6           #os:Ljava/io/FileOutputStream;
    .local v7, os:Ljava/io/FileOutputStream;
    const/16 v9, 0x800

    :try_start_1
    new-array v0, v9, [B

    .line 12956
    .local v0, buffer:[B
    const/4 v5, 0x0

    .local v5, len:I
    :goto_2
    invoke-virtual {v4, v0}, Ljava/io/InputStream;->read([B)I

    move-result v5

    if-eq v5, v12, :cond_4

    .line 12957
    const/4 v9, 0x0

    invoke-virtual {v7, v0, v9, v5}, Ljava/io/FileOutputStream;->write([BII)V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1
    .catch Ljava/io/FileNotFoundException; {:try_start_1 .. :try_end_1} :catch_0
    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_6

    goto :goto_2

    .line 12959
    .end local v0           #buffer:[B
    .end local v5           #len:I
    :catch_0
    move-exception v1

    move-object v6, v7

    .line 12960
    .end local v2           #file:Ljava/io/File;
    .end local v3           #fileName:Ljava/lang/String;
    .end local v7           #os:Ljava/io/FileOutputStream;
    .local v1, e:Ljava/io/FileNotFoundException;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    :goto_3
    :try_start_2
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertImageToIpMessage(): can not found this part file!"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    .line 12967
    if-eqz v4, :cond_2

    .line 12968
    :try_start_3
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 12970
    :cond_2
    if-eqz v6, :cond_0

    .line 12971
    invoke-virtual {v6}, Ljava/io/FileOutputStream;->close()V
    :try_end_3
    .catch Ljava/io/IOException; {:try_start_3 .. :try_end_3} :catch_1

    goto/16 :goto_0

    .line 12973
    :catch_1
    move-exception v1

    .line 12974
    .local v1, e:Ljava/io/IOException;
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertImageToIpMessage(): IOException happened.2"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto/16 :goto_0

    .line 12943
    .end local v1           #e:Ljava/io/IOException;
    .restart local v3       #fileName:Ljava/lang/String;
    :cond_3
    :try_start_4
    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getSrc()Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, "."

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-static {}, Landroid/webkit/MimeTypeMap;->getSingleton()Landroid/webkit/MimeTypeMap;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getContentType()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v10, v11}, Landroid/webkit/MimeTypeMap;->getExtensionFromMimeType(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_0
    .catch Ljava/io/FileNotFoundException; {:try_start_4 .. :try_end_4} :catch_7
    .catch Ljava/io/IOException; {:try_start_4 .. :try_end_4} :catch_3

    move-result-object v3

    goto/16 :goto_1

    .line 12967
    .end local v6           #os:Ljava/io/FileOutputStream;
    .restart local v0       #buffer:[B
    .restart local v2       #file:Ljava/io/File;
    .restart local v5       #len:I
    .restart local v7       #os:Ljava/io/FileOutputStream;
    :cond_4
    if-eqz v4, :cond_5

    .line 12968
    :try_start_5
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 12970
    :cond_5
    if-eqz v7, :cond_6

    .line 12971
    invoke-virtual {v7}, Ljava/io/FileOutputStream;->close()V
    :try_end_5
    .catch Ljava/io/IOException; {:try_start_5 .. :try_end_5} :catch_2

    .line 12977
    :cond_6
    :goto_4
    const/4 v8, 0x1

    goto/16 :goto_0

    .line 12973
    :catch_2
    move-exception v1

    .line 12974
    .restart local v1       #e:Ljava/io/IOException;
    const-string v8, "Mms/ipmsg/compose"

    const-string v9, "convertImageToIpMessage(): IOException happened.2"

    invoke-static {v8, v9, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_4

    .line 12962
    .end local v0           #buffer:[B
    .end local v1           #e:Ljava/io/IOException;
    .end local v2           #file:Ljava/io/File;
    .end local v3           #fileName:Ljava/lang/String;
    .end local v5           #len:I
    .end local v7           #os:Ljava/io/FileOutputStream;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    :catch_3
    move-exception v1

    .line 12963
    .restart local v1       #e:Ljava/io/IOException;
    :goto_5
    :try_start_6
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertImageToIpMessage(): IOException happened."

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_0

    .line 12967
    if-eqz v4, :cond_7

    .line 12968
    :try_start_7
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 12970
    :cond_7
    if-eqz v6, :cond_0

    .line 12971
    invoke-virtual {v6}, Ljava/io/FileOutputStream;->close()V
    :try_end_7
    .catch Ljava/io/IOException; {:try_start_7 .. :try_end_7} :catch_4

    goto/16 :goto_0

    .line 12973
    :catch_4
    move-exception v1

    .line 12974
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertImageToIpMessage(): IOException happened.2"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto/16 :goto_0

    .line 12966
    .end local v1           #e:Ljava/io/IOException;
    :catchall_0
    move-exception v8

    .line 12967
    :goto_6
    if-eqz v4, :cond_8

    .line 12968
    :try_start_8
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 12970
    :cond_8
    if-eqz v6, :cond_9

    .line 12971
    invoke-virtual {v6}, Ljava/io/FileOutputStream;->close()V
    :try_end_8
    .catch Ljava/io/IOException; {:try_start_8 .. :try_end_8} :catch_5

    .line 12975
    :cond_9
    :goto_7
    throw v8

    .line 12973
    :catch_5
    move-exception v1

    .line 12974
    .restart local v1       #e:Ljava/io/IOException;
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertImageToIpMessage(): IOException happened.2"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_7

    .line 12966
    .end local v1           #e:Ljava/io/IOException;
    .end local v6           #os:Ljava/io/FileOutputStream;
    .restart local v2       #file:Ljava/io/File;
    .restart local v3       #fileName:Ljava/lang/String;
    .restart local v7       #os:Ljava/io/FileOutputStream;
    :catchall_1
    move-exception v8

    move-object v6, v7

    .end local v7           #os:Ljava/io/FileOutputStream;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    goto :goto_6

    .line 12962
    .end local v6           #os:Ljava/io/FileOutputStream;
    .restart local v7       #os:Ljava/io/FileOutputStream;
    :catch_6
    move-exception v1

    move-object v6, v7

    .end local v7           #os:Ljava/io/FileOutputStream;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    goto :goto_5

    .line 12959
    .end local v2           #file:Ljava/io/File;
    .end local v3           #fileName:Ljava/lang/String;
    :catch_7
    move-exception v1

    goto/16 :goto_3
.end method

.method private convertIpMessageToMmsOrSms(Z)Z
    .locals 34
    .parameter "isAppend"

    .prologue
    .line 12574
    const-string v31, "Mms/ipmsg/compose"

    new-instance v32, Ljava/lang/StringBuilder;

    invoke-direct/range {v32 .. v32}, Ljava/lang/StringBuilder;-><init>()V

    const-string v33, "convertIpMessageToMmsOrSms(): IP message type = "

    invoke-virtual/range {v32 .. v33}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v32

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-object/from16 v33, v0

    invoke-virtual/range {v33 .. v33}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v33

    invoke-virtual/range {v32 .. v33}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v32

    invoke-virtual/range {v32 .. v32}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v32

    invoke-static/range {v31 .. v32}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12576
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-object/from16 v31, v0

    invoke-virtual/range {v31 .. v31}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v31

    packed-switch v31, :pswitch_data_0

    .line 12687
    const-string v31, "Mms/ipmsg/compose"

    new-instance v32, Ljava/lang/StringBuilder;

    invoke-direct/range {v32 .. v32}, Ljava/lang/StringBuilder;-><init>()V

    const-string v33, "convertIpMessageToMmsOrSms(): Error IP message type. type = "

    invoke-virtual/range {v32 .. v33}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v32

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-object/from16 v33, v0

    invoke-virtual/range {v33 .. v33}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v33

    invoke-virtual/range {v32 .. v33}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v32

    invoke-virtual/range {v32 .. v32}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v32

    invoke-static/range {v31 .. v32}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12689
    const/16 v31, 0x0

    .line 12698
    :goto_0
    return v31

    .line 12578
    :pswitch_0
    const-string v31, "Mms/ipmsg/compose"

    const-string v32, "convertIpMessageToMmsOrSms(): convert to SMS."

    invoke-static/range {v31 .. v32}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12579
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-object/from16 v17, v0

    check-cast v17, Lcom/mediatek/mms/ipmessage/message/IpTextMessage;

    .line 12580
    .local v17, textMessage:Lcom/mediatek/mms/ipmessage/message/IpTextMessage;
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v31, v0

    invoke-virtual/range {v17 .. v17}, Lcom/mediatek/mms/ipmessage/message/IpTextMessage;->getBody()Ljava/lang/String;

    move-result-object v32

    invoke-virtual/range {v31 .. v32}, Lcom/android/mms/data/WorkingMessage;->setText(Ljava/lang/CharSequence;)V

    .line 12691
    .end local v17           #textMessage:Lcom/mediatek/mms/ipmessage/message/IpTextMessage;
    :goto_1
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-object/from16 v31, v0

    invoke-virtual/range {v31 .. v31}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getSimId()I

    move-result v31

    if-lez v31, :cond_0

    .line 12692
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-object/from16 v31, v0

    invoke-virtual/range {v31 .. v31}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getSimId()I

    move-result v31

    move/from16 v0, v31

    move-object/from16 v1, p0

    iput v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    .line 12694
    :cond_0
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v31, v0

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v32, v0

    move-object/from16 v0, p0

    move-object/from16 v1, v31

    move-object/from16 v2, v32

    invoke-static {v0, v1, v2}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->deleteIpMessageDraft(Landroid/content/Context;Lcom/android/mms/data/Conversation;Lcom/android/mms/data/WorkingMessage;)Z

    .line 12695
    const/16 v31, 0x0

    move/from16 v0, v31

    move-object/from16 v1, p0

    iput v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraftId:I

    .line 12696
    invoke-direct/range {p0 .. p0}, Lcom/android/mms/ui/ComposeMessageActivity;->clearIpMessageDraft()V

    .line 12698
    const/16 v31, 0x1

    goto :goto_0

    .line 12583
    :pswitch_1
    const-string v31, "Mms/ipmsg/compose"

    const-string v32, "convertIpMessageToMmsOrSms(): convert to MMS from image."

    invoke-static/range {v31 .. v32}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12584
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v6, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;

    .line 12585
    .local v6, imageMessage:Lcom/mediatek/mms/ipmessage/message/IpImageMessage;
    const-string v31, "Mms/ipmsg/compose"

    new-instance v32, Ljava/lang/StringBuilder;

    invoke-direct/range {v32 .. v32}, Ljava/lang/StringBuilder;-><init>()V

    const-string v33, "convertIpMessageToMmsOrSms(): imagePath = "

    invoke-virtual/range {v32 .. v33}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v32

    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v33

    invoke-virtual/range {v32 .. v33}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v32

    invoke-virtual/range {v32 .. v32}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v32

    invoke-static/range {v31 .. v32}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12586
    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;->getCaption()Ljava/lang/String;

    move-result-object v31

    invoke-static/range {v31 .. v31}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v31

    if-nez v31, :cond_1

    .line 12587
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v31, v0

    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;->getCaption()Ljava/lang/String;

    move-result-object v32

    invoke-virtual/range {v31 .. v32}, Lcom/android/mms/data/WorkingMessage;->setText(Ljava/lang/CharSequence;)V

    .line 12588
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    move-object/from16 v31, v0

    if-eqz v31, :cond_1

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    move-object/from16 v31, v0

    invoke-virtual/range {v31 .. v31}, Landroid/view/View;->getVisibility()I

    move-result v31

    if-nez v31, :cond_1

    .line 12589
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    move-object/from16 v31, v0

    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;->getCaption()Ljava/lang/String;

    move-result-object v32

    invoke-virtual/range {v31 .. v32}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 12592
    :cond_1
    new-instance v5, Ljava/io/File;

    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v31

    move-object/from16 v0, v31

    invoke-direct {v5, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 12593
    .local v5, imageFile:Ljava/io/File;
    invoke-static {v5}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v7

    .line 12595
    .local v7, imageUri:Landroid/net/Uri;
    const-string v31, "image/jpg"

    move-object/from16 v0, p0

    move-object/from16 v1, v31

    move/from16 v2, p1

    invoke-direct {v0, v1, v7, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->addImage(Ljava/lang/String;Landroid/net/Uri;Z)V

    .line 12596
    const/16 v31, 0x1

    move-object/from16 v0, p0

    move/from16 v1, v31

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->saveAsMms(Z)V

    goto/16 :goto_1

    .line 12599
    .end local v5           #imageFile:Ljava/io/File;
    .end local v6           #imageMessage:Lcom/mediatek/mms/ipmessage/message/IpImageMessage;
    .end local v7           #imageUri:Landroid/net/Uri;
    :pswitch_2
    const-string v31, "Mms/ipmsg/compose"

    const-string v32, "convertIpMessageToMmsOrSms(): convert to MMS from voice."

    invoke-static/range {v31 .. v32}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12600
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-object/from16 v29, v0

    check-cast v29, Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;

    .line 12601
    .local v29, voiceMessage:Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;
    invoke-virtual/range {v29 .. v29}, Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;->getCaption()Ljava/lang/String;

    move-result-object v31

    invoke-static/range {v31 .. v31}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v31

    if-nez v31, :cond_2

    .line 12602
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v31, v0

    invoke-virtual/range {v29 .. v29}, Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;->getCaption()Ljava/lang/String;

    move-result-object v32

    invoke-virtual/range {v31 .. v32}, Lcom/android/mms/data/WorkingMessage;->setText(Ljava/lang/CharSequence;)V

    .line 12603
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    move-object/from16 v31, v0

    if-eqz v31, :cond_2

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    move-object/from16 v31, v0

    invoke-virtual/range {v31 .. v31}, Landroid/view/View;->getVisibility()I

    move-result v31

    if-nez v31, :cond_2

    .line 12604
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    move-object/from16 v31, v0

    invoke-virtual/range {v29 .. v29}, Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;->getCaption()Ljava/lang/String;

    move-result-object v32

    invoke-virtual/range {v31 .. v32}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 12607
    :cond_2
    new-instance v28, Ljava/io/File;

    invoke-virtual/range {v29 .. v29}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v31

    move-object/from16 v0, v28

    move-object/from16 v1, v31

    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 12608
    .local v28, voiceFile:Ljava/io/File;
    invoke-static/range {v28 .. v28}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v30

    .line 12609
    .local v30, voiceUri:Landroid/net/Uri;
    move-object/from16 v0, p0

    move-object/from16 v1, v30

    move/from16 v2, p1

    invoke-direct {v0, v1, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->addAudio(Landroid/net/Uri;Z)V

    .line 12610
    const/16 v31, 0x1

    move-object/from16 v0, p0

    move/from16 v1, v31

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->saveAsMms(Z)V

    goto/16 :goto_1

    .line 12613
    .end local v28           #voiceFile:Ljava/io/File;
    .end local v29           #voiceMessage:Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;
    .end local v30           #voiceUri:Landroid/net/Uri;
    :pswitch_3
    const-string v31, "Mms/ipmsg/compose"

    const-string v32, "convertIpMessageToMmsOrSms(): convert to MMS from vCard."

    invoke-static/range {v31 .. v32}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12614
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-object/from16 v22, v0

    check-cast v22, Lcom/mediatek/mms/ipmessage/message/IpVCardMessage;

    .line 12615
    .local v22, vCardMessage:Lcom/mediatek/mms/ipmessage/message/IpVCardMessage;
    new-instance v21, Ljava/io/File;

    invoke-virtual/range {v22 .. v22}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v31

    move-object/from16 v0, v21

    move-object/from16 v1, v31

    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 12616
    .local v21, vCardFile:Ljava/io/File;
    invoke-static/range {v21 .. v21}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v23

    .line 12617
    .local v23, vCardUri:Landroid/net/Uri;
    new-instance v24, Lcom/android/mms/ui/VCardAttachment;

    move-object/from16 v0, v24

    move-object/from16 v1, p0

    invoke-direct {v0, v1}, Lcom/android/mms/ui/VCardAttachment;-><init>(Landroid/content/Context;)V

    .line 12618
    .local v24, va:Lcom/android/mms/ui/VCardAttachment;
    move-object/from16 v0, v24

    move-object/from16 v1, v23

    invoke-virtual {v0, v1}, Lcom/android/mms/ui/VCardAttachment;->getVCardFileNameByUri(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v4

    .line 12619
    .local v4, fileName:Ljava/lang/String;
    const/16 v31, 0x6

    const/16 v32, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v31

    move/from16 v2, v32

    invoke-direct {v0, v4, v1, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->setFileAttachment(Ljava/lang/String;IZ)I

    .line 12620
    const/16 v31, 0x1

    move-object/from16 v0, p0

    move/from16 v1, v31

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->saveAsMms(Z)V

    goto/16 :goto_1

    .line 12623
    .end local v4           #fileName:Ljava/lang/String;
    .end local v21           #vCardFile:Ljava/io/File;
    .end local v22           #vCardMessage:Lcom/mediatek/mms/ipmessage/message/IpVCardMessage;
    .end local v23           #vCardUri:Landroid/net/Uri;
    .end local v24           #va:Lcom/android/mms/ui/VCardAttachment;
    :pswitch_4
    const-string v31, "Mms/ipmsg/compose"

    const-string v32, "convertIpMessageToMmsOrSms(): convert to MMS from location."

    invoke-static/range {v31 .. v32}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12624
    move-object/from16 v0, p0

    iget-object v10, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v10, Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;

    .line 12625
    .local v10, locationMessage:Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;
    invoke-virtual {v10}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v9

    .line 12626
    .local v9, locationImgPath:Ljava/lang/String;
    invoke-static {v9}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v31

    if-nez v31, :cond_4

    .line 12627
    new-instance v8, Ljava/io/File;

    invoke-direct {v8, v9}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 12628
    .local v8, locationFile:Ljava/io/File;
    invoke-static {v8}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v12

    .line 12629
    .local v12, locationUri:Landroid/net/Uri;
    const-string v31, "image/jpg"

    const/16 v32, 0x1

    move-object/from16 v0, p0

    move-object/from16 v1, v31

    move/from16 v2, v32

    invoke-direct {v0, v1, v12, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->addImage(Ljava/lang/String;Landroid/net/Uri;Z)V

    .line 12630
    const/16 v31, 0x1

    move-object/from16 v0, p0

    move/from16 v1, v31

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->saveAsMms(Z)V

    .line 12642
    .end local v8           #locationFile:Ljava/io/File;
    .end local v12           #locationUri:Landroid/net/Uri;
    :cond_3
    :goto_2
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    move-object/from16 v31, v0

    invoke-virtual {v10}, Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;->getAddress()Ljava/lang/String;

    move-result-object v32

    invoke-virtual/range {v31 .. v32}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 12632
    :cond_4
    const-string v16, "default_map_small.png"

    .line 12633
    .local v16, tempFileName:Ljava/lang/String;
    const v31, 0x7f020030

    move-object/from16 v0, p0

    move-object/from16 v1, v16

    move/from16 v2, v31

    invoke-static {v0, v1, v2}, Lcom/android/mms/ui/MessageUtils;->createFileForResource(Landroid/content/Context;Ljava/lang/String;I)Z

    move-result v3

    .line 12635
    .local v3, convertResult:Z
    if-eqz v3, :cond_3

    .line 12636
    move-object/from16 v0, p0

    move-object/from16 v1, v16

    invoke-virtual {v0, v1}, Landroid/content/ContextWrapper;->getFileStreamPath(Ljava/lang/String;)Ljava/io/File;

    move-result-object v11

    .line 12637
    .local v11, locationTempFile:Ljava/io/File;
    invoke-static {v11}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v12

    .line 12638
    .restart local v12       #locationUri:Landroid/net/Uri;
    const-string v31, "image/jpg"

    const/16 v32, 0x1

    move-object/from16 v0, p0

    move-object/from16 v1, v31

    move/from16 v2, v32

    invoke-direct {v0, v1, v12, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->addImage(Ljava/lang/String;Landroid/net/Uri;Z)V

    .line 12639
    const/16 v31, 0x1

    move-object/from16 v0, p0

    move/from16 v1, v31

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->saveAsMms(Z)V

    goto :goto_2

    .line 12645
    .end local v3           #convertResult:Z
    .end local v9           #locationImgPath:Ljava/lang/String;
    .end local v10           #locationMessage:Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;
    .end local v11           #locationTempFile:Ljava/io/File;
    .end local v12           #locationUri:Landroid/net/Uri;
    .end local v16           #tempFileName:Ljava/lang/String;
    :pswitch_5
    const-string v31, "Mms/ipmsg/compose"

    const-string v32, "convertIpMessageToMmsOrSms(): convert to MMS from sketch."

    invoke-static/range {v31 .. v32}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12646
    move-object/from16 v0, p0

    iget-object v14, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v14, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;

    .line 12647
    .local v14, sketchMessage:Lcom/mediatek/mms/ipmessage/message/IpImageMessage;
    new-instance v13, Ljava/io/File;

    invoke-virtual {v14}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v31

    move-object/from16 v0, v31

    invoke-direct {v13, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 12648
    .local v13, sketchFile:Ljava/io/File;
    invoke-static {v13}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v15

    .line 12649
    .local v15, sketchUri:Landroid/net/Uri;
    const-string v31, "image/jpg"

    const/16 v32, 0x1

    move-object/from16 v0, p0

    move-object/from16 v1, v31

    move/from16 v2, v32

    invoke-direct {v0, v1, v15, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->addImage(Ljava/lang/String;Landroid/net/Uri;Z)V

    .line 12650
    const/16 v31, 0x1

    move-object/from16 v0, p0

    move/from16 v1, v31

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->saveAsMms(Z)V

    goto/16 :goto_1

    .line 12653
    .end local v13           #sketchFile:Ljava/io/File;
    .end local v14           #sketchMessage:Lcom/mediatek/mms/ipmessage/message/IpImageMessage;
    .end local v15           #sketchUri:Landroid/net/Uri;
    :pswitch_6
    const-string v31, "Mms/ipmsg/compose"

    const-string v32, "convertIpMessageToMmsOrSms(): convert to MMS from video."

    invoke-static/range {v31 .. v32}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12654
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-object/from16 v26, v0

    check-cast v26, Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;

    .line 12655
    .local v26, videoMessage:Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;
    invoke-virtual/range {v26 .. v26}, Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;->getCaption()Ljava/lang/String;

    move-result-object v31

    invoke-static/range {v31 .. v31}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v31

    if-nez v31, :cond_5

    .line 12656
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v31, v0

    invoke-virtual/range {v26 .. v26}, Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;->getCaption()Ljava/lang/String;

    move-result-object v32

    invoke-virtual/range {v31 .. v32}, Lcom/android/mms/data/WorkingMessage;->setText(Ljava/lang/CharSequence;)V

    .line 12657
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    move-object/from16 v31, v0

    if-eqz v31, :cond_5

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    move-object/from16 v31, v0

    invoke-virtual/range {v31 .. v31}, Landroid/view/View;->getVisibility()I

    move-result v31

    if-nez v31, :cond_5

    .line 12658
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    move-object/from16 v31, v0

    invoke-virtual/range {v26 .. v26}, Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;->getCaption()Ljava/lang/String;

    move-result-object v32

    invoke-virtual/range {v31 .. v32}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 12661
    :cond_5
    new-instance v25, Ljava/io/File;

    invoke-virtual/range {v26 .. v26}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v31

    move-object/from16 v0, v25

    move-object/from16 v1, v31

    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 12662
    .local v25, videoFile:Ljava/io/File;
    invoke-static/range {v25 .. v25}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v27

    .line 12663
    .local v27, videoUri:Landroid/net/Uri;
    move-object/from16 v0, p0

    move-object/from16 v1, v27

    move/from16 v2, p1

    invoke-direct {v0, v1, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->addVideo(Landroid/net/Uri;Z)V

    .line 12664
    const/16 v31, 0x1

    move-object/from16 v0, p0

    move/from16 v1, v31

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->saveAsMms(Z)V

    goto/16 :goto_1

    .line 12667
    .end local v25           #videoFile:Ljava/io/File;
    .end local v26           #videoMessage:Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;
    .end local v27           #videoUri:Landroid/net/Uri;
    :pswitch_7
    const-string v31, "Mms/ipmsg/compose"

    const-string v32, "convertIpMessageToMmsOrSms(): convert to MMS from vCalendar."

    invoke-static/range {v31 .. v32}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12668
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-object/from16 v19, v0

    check-cast v19, Lcom/mediatek/mms/ipmessage/message/IpVCalendarMessage;

    .line 12669
    .local v19, vCalendarMessage:Lcom/mediatek/mms/ipmessage/message/IpVCalendarMessage;
    new-instance v18, Ljava/io/File;

    invoke-virtual/range {v19 .. v19}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v31

    move-object/from16 v0, v18

    move-object/from16 v1, v31

    invoke-direct {v0, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 12670
    .local v18, vCalendarFile:Ljava/io/File;
    invoke-static/range {v18 .. v18}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v20

    .line 12671
    .local v20, vCalendarUri:Landroid/net/Uri;
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->attachVCalendar(Landroid/net/Uri;)V

    .line 12672
    const/16 v31, 0x1

    move-object/from16 v0, p0

    move/from16 v1, v31

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->saveAsMms(Z)V

    goto/16 :goto_1

    .line 12676
    .end local v18           #vCalendarFile:Ljava/io/File;
    .end local v19           #vCalendarMessage:Lcom/mediatek/mms/ipmessage/message/IpVCalendarMessage;
    .end local v20           #vCalendarUri:Landroid/net/Uri;
    :pswitch_8
    const-string v31, "Mms/ipmsg/compose"

    new-instance v32, Ljava/lang/StringBuilder;

    invoke-direct/range {v32 .. v32}, Ljava/lang/StringBuilder;-><init>()V

    const-string v33, "convertIpMessageToMmsOrSms(): Unknown IP message type. type = "

    invoke-virtual/range {v32 .. v33}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v32

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-object/from16 v33, v0

    invoke-virtual/range {v33 .. v33}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v33

    invoke-virtual/range {v32 .. v33}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v32

    invoke-virtual/range {v32 .. v32}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v32

    invoke-static/range {v31 .. v32}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12678
    const/16 v31, 0x0

    goto/16 :goto_0

    .line 12683
    :pswitch_9
    const-string v31, "Mms/ipmsg/compose"

    new-instance v32, Ljava/lang/StringBuilder;

    invoke-direct/range {v32 .. v32}, Ljava/lang/StringBuilder;-><init>()V

    const-string v33, "convertIpMessageToMmsOrSms(): Group IP message type. type = "

    invoke-virtual/range {v32 .. v33}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v32

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-object/from16 v33, v0

    invoke-virtual/range {v33 .. v33}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v33

    invoke-virtual/range {v32 .. v33}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v32

    invoke-virtual/range {v32 .. v32}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v32

    invoke-static/range {v31 .. v32}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12685
    const/16 v31, 0x0

    goto/16 :goto_0

    .line 12576
    nop

    :pswitch_data_0
    .packed-switch 0x0
        :pswitch_0
        :pswitch_9
        :pswitch_9
        :pswitch_9
        :pswitch_1
        :pswitch_2
        :pswitch_3
        :pswitch_4
        :pswitch_5
        :pswitch_6
        :pswitch_7
        :pswitch_8
        :pswitch_8
    .end packed-switch
.end method

.method private convertMmsOrSmsToIpMessage()V
    .locals 5

    .prologue
    const/4 v4, 0x1

    const/4 v3, 0x0

    .line 12748
    const-string v1, "Mms/ipmsg/compose"

    const-string v2, "convertMmsOrSmsToIpMessage()"

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12749
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1}, Lcom/android/mms/data/WorkingMessage;->isWorthSaving()Z

    move-result v1

    if-nez v1, :cond_0

    .line 12750
    const-string v1, "Mms/ipmsg/compose"

    const-string v2, "convertMmsOrSmsToIpMessage(): No content for convert!"

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12788
    :goto_0
    return-void

    .line 12753
    :cond_0
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v1

    if-eqz v1, :cond_9

    .line 12754
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v0

    .line 12755
    .local v0, slideshowModel:Lcom/android/mms/model/SlideshowModel;
    invoke-virtual {v0}, Lcom/android/mms/model/SlideshowModel;->size()I

    move-result v1

    if-ne v1, v4, :cond_4

    invoke-virtual {v0, v3}, Lcom/android/mms/model/SlideshowModel;->get(I)Lcom/android/mms/model/SlideModel;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/mms/model/SlideModel;->hasAudio()Z

    move-result v1

    if-eqz v1, :cond_1

    invoke-virtual {v0, v3}, Lcom/android/mms/model/SlideshowModel;->get(I)Lcom/android/mms/model/SlideModel;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/mms/model/SlideModel;->hasImage()Z

    move-result v1

    if-nez v1, :cond_4

    :cond_1
    invoke-virtual {v0, v3}, Lcom/android/mms/model/SlideshowModel;->get(I)Lcom/android/mms/model/SlideModel;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/mms/model/SlideModel;->hasAudio()Z

    move-result v1

    if-nez v1, :cond_2

    invoke-virtual {v0, v3}, Lcom/android/mms/model/SlideshowModel;->get(I)Lcom/android/mms/model/SlideModel;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/mms/model/SlideModel;->hasImage()Z

    move-result v1

    if-nez v1, :cond_2

    invoke-virtual {v0, v3}, Lcom/android/mms/model/SlideshowModel;->get(I)Lcom/android/mms/model/SlideModel;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/mms/model/SlideModel;->hasVideo()Z

    move-result v1

    if-eqz v1, :cond_4

    .line 12759
    :cond_2
    const-string v1, "Mms/ipmsg/compose"

    const-string v2, "convertMmsOrSmsToIpMessage(): Convert slide media!"

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12760
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    if-eqz v1, :cond_3

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    invoke-virtual {v1}, Landroid/view/View;->getVisibility()I

    move-result v1

    if-nez v1, :cond_3

    .line 12761
    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->showSubjectEditor(Z)V

    .line 12763
    :cond_3
    invoke-virtual {v0, v3}, Lcom/android/mms/model/SlideshowModel;->get(I)Lcom/android/mms/model/SlideModel;

    move-result-object v1

    invoke-direct {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->convertSlideToIpMessage(Lcom/android/mms/model/SlideModel;)V

    .line 12764
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1, v3}, Lcom/android/mms/data/WorkingMessage;->removeAttachment(Z)V

    .line 12765
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->drawBottomPanel()V

    .line 12766
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    goto :goto_0

    .line 12767
    :cond_4
    invoke-virtual {v0}, Lcom/android/mms/model/SlideshowModel;->sizeOfFilesAttach()I

    move-result v1

    if-ne v1, v4, :cond_7

    .line 12768
    const-string v1, "Mms/ipmsg/compose"

    const-string v2, "convertMmsOrSmsToIpMessage(): Convert file attachment!"

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12769
    invoke-virtual {v0}, Lcom/android/mms/model/SlideshowModel;->getAttachFiles()Ljava/util/ArrayList;

    move-result-object v1

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/mms/model/FileAttachmentModel;

    invoke-direct {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->convertAttachmentToIpMessage(Lcom/android/mms/model/FileAttachmentModel;)Z

    move-result v1

    if-eqz v1, :cond_6

    .line 12770
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    if-eqz v1, :cond_5

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    invoke-virtual {v1}, Landroid/view/View;->getVisibility()I

    move-result v1

    if-nez v1, :cond_5

    .line 12771
    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->showSubjectEditor(Z)V

    .line 12773
    :cond_5
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1, v3}, Lcom/android/mms/data/WorkingMessage;->removeAttachment(Z)V

    .line 12774
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->drawBottomPanel()V

    .line 12775
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    goto/16 :goto_0

    .line 12777
    :cond_6
    const-string v1, "Mms/ipmsg/compose"

    const-string v2, ""

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_0

    .line 12779
    :cond_7
    invoke-virtual {v0}, Lcom/android/mms/model/SlideshowModel;->size()I

    move-result v1

    if-le v1, v4, :cond_8

    .line 12780
    const-string v1, "Mms/ipmsg/compose"

    const-string v2, "convertMmsOrSmsToIpMessage(): More than 1 slide for convert!"

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_0

    .line 12782
    :cond_8
    const-string v1, "Mms/ipmsg/compose"

    const-string v2, "convertMmsOrSmsToIpMessage(): No slide! for convert"

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_0

    .line 12785
    .end local v0           #slideshowModel:Lcom/android/mms/model/SlideshowModel;
    :cond_9
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->sendIpTextMessage()V

    .line 12786
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    const-string v2, ""

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    goto/16 :goto_0
.end method

.method private convertSlideToIpMessage(Lcom/android/mms/model/SlideModel;)V
    .locals 4
    .parameter "slideModel"

    .prologue
    const-wide/16 v2, 0x64

    .line 12791
    if-nez p1, :cond_1

    .line 12792
    const-string v0, "Mms/ipmsg/compose"

    const-string v1, "convertSlideToIpMessage(): No content for convert! slide is null!"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12818
    :cond_0
    :goto_0
    return-void

    .line 12795
    :cond_1
    const-string v0, "Mms/ipmsg/compose"

    const-string v1, "convertSlideToIpMessage(): start"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12796
    invoke-virtual {p1}, Lcom/android/mms/model/SlideModel;->hasVideo()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 12797
    invoke-virtual {p1}, Lcom/android/mms/model/SlideModel;->getVideo()Lcom/android/mms/model/VideoModel;

    move-result-object v0

    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->convertVideoToIpMessage(Lcom/android/mms/model/VideoModel;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 12798
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendVideo:Ljava/lang/Runnable;

    invoke-virtual {v0, v1, v2, v3}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    goto :goto_0

    .line 12802
    :cond_2
    invoke-virtual {p1}, Lcom/android/mms/model/SlideModel;->hasAudio()Z

    move-result v0

    if-eqz v0, :cond_3

    .line 12803
    invoke-virtual {p1}, Lcom/android/mms/model/SlideModel;->getAudio()Lcom/android/mms/model/AudioModel;

    move-result-object v0

    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->convertAudioToIpMessage(Lcom/android/mms/model/AudioModel;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 12804
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendAudio:Ljava/lang/Runnable;

    invoke-virtual {v0, v1, v2, v3}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    goto :goto_0

    .line 12808
    :cond_3
    invoke-virtual {p1}, Lcom/android/mms/model/SlideModel;->hasImage()Z

    move-result v0

    if-eqz v0, :cond_4

    .line 12809
    invoke-virtual {p1}, Lcom/android/mms/model/SlideModel;->getImage()Lcom/android/mms/model/ImageModel;

    move-result-object v0

    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->convertImageToIpMessage(Lcom/android/mms/model/ImageModel;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 12810
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendPic:Ljava/lang/Runnable;

    invoke-virtual {v0, v1, v2, v3}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    goto :goto_0

    .line 12814
    :cond_4
    invoke-virtual {p1}, Lcom/android/mms/model/SlideModel;->hasText()Z

    move-result v0

    if-eqz v0, :cond_0

    goto :goto_0
.end method

.method private convertVCalendarToIpMessage(Lcom/android/mms/model/VCalendarModel;)Z
    .locals 13
    .parameter "vCalendarModel"

    .prologue
    const/4 v12, -0x1

    const/4 v8, 0x0

    .line 13062
    if-nez p1, :cond_1

    .line 13063
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVCalendarToIpMessage(): vCard is null."

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 13109
    :cond_0
    :goto_0
    return v8

    .line 13066
    :cond_1
    const/4 v4, 0x0

    .line 13067
    .local v4, is:Ljava/io/InputStream;
    const/4 v6, 0x0

    .line 13069
    .local v6, os:Ljava/io/FileOutputStream;
    :try_start_0
    const-string v9, "Mms/ipmsg/compose"

    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "convertVCalendarToIpMessage(): contentType = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getContentType()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", attachSize = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getAttachSize()I

    move-result v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", src = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getSrc()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", uri = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getUri()Landroid/net/Uri;

    move-result-object v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13073
    const-string v3, ""

    .line 13074
    .local v3, fileName:Ljava/lang/String;
    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getSrc()Ljava/lang/String;

    move-result-object v9

    const-string v10, "."

    invoke-virtual {v9, v10}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v9

    if-le v9, v12, :cond_3

    .line 13075
    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getSrc()Ljava/lang/String;

    move-result-object v3

    .line 13080
    :goto_1
    iput-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCalendarSummary:Ljava/lang/String;

    .line 13081
    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/android/mms/MmsConfig;->getVcalendarTempPath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    sget-object v10, Ljava/io/File;->separator:Ljava/lang/String;

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    iput-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    .line 13082
    const-string v9, "Mms/ipmsg/compose"

    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "convertVCalendarToIpMessage(): mDstPath = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13084
    new-instance v2, Ljava/io/File;

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-direct {v2, v9}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 13085
    .local v2, file:Ljava/io/File;
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v9

    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getUri()Landroid/net/Uri;

    move-result-object v10

    invoke-virtual {v9, v10}, Landroid/content/ContentResolver;->openInputStream(Landroid/net/Uri;)Ljava/io/InputStream;

    move-result-object v4

    .line 13086
    new-instance v7, Ljava/io/FileOutputStream;

    invoke-direct {v7, v2}, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/io/FileNotFoundException; {:try_start_0 .. :try_end_0} :catch_7
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_3

    .line 13087
    .end local v6           #os:Ljava/io/FileOutputStream;
    .local v7, os:Ljava/io/FileOutputStream;
    const/16 v9, 0x800

    :try_start_1
    new-array v0, v9, [B

    .line 13088
    .local v0, buffer:[B
    const/4 v5, 0x0

    .local v5, len:I
    :goto_2
    invoke-virtual {v4, v0}, Ljava/io/InputStream;->read([B)I

    move-result v5

    if-eq v5, v12, :cond_4

    .line 13089
    const/4 v9, 0x0

    invoke-virtual {v7, v0, v9, v5}, Ljava/io/FileOutputStream;->write([BII)V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1
    .catch Ljava/io/FileNotFoundException; {:try_start_1 .. :try_end_1} :catch_0
    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_6

    goto :goto_2

    .line 13091
    .end local v0           #buffer:[B
    .end local v5           #len:I
    :catch_0
    move-exception v1

    move-object v6, v7

    .line 13092
    .end local v2           #file:Ljava/io/File;
    .end local v3           #fileName:Ljava/lang/String;
    .end local v7           #os:Ljava/io/FileOutputStream;
    .local v1, e:Ljava/io/FileNotFoundException;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    :goto_3
    :try_start_2
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVCalendarToIpMessage(): can not found this part file!"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    .line 13099
    if-eqz v4, :cond_2

    .line 13100
    :try_start_3
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 13102
    :cond_2
    if-eqz v6, :cond_0

    .line 13103
    invoke-virtual {v6}, Ljava/io/FileOutputStream;->close()V
    :try_end_3
    .catch Ljava/io/IOException; {:try_start_3 .. :try_end_3} :catch_1

    goto/16 :goto_0

    .line 13105
    :catch_1
    move-exception v1

    .line 13106
    .local v1, e:Ljava/io/IOException;
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVCalendarToIpMessage(): IOException happened.2"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto/16 :goto_0

    .line 13077
    .end local v1           #e:Ljava/io/IOException;
    .restart local v3       #fileName:Ljava/lang/String;
    :cond_3
    :try_start_4
    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getSrc()Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, "."

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-static {}, Landroid/webkit/MimeTypeMap;->getSingleton()Landroid/webkit/MimeTypeMap;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getContentType()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v10, v11}, Landroid/webkit/MimeTypeMap;->getExtensionFromMimeType(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_0
    .catch Ljava/io/FileNotFoundException; {:try_start_4 .. :try_end_4} :catch_7
    .catch Ljava/io/IOException; {:try_start_4 .. :try_end_4} :catch_3

    move-result-object v3

    goto/16 :goto_1

    .line 13099
    .end local v6           #os:Ljava/io/FileOutputStream;
    .restart local v0       #buffer:[B
    .restart local v2       #file:Ljava/io/File;
    .restart local v5       #len:I
    .restart local v7       #os:Ljava/io/FileOutputStream;
    :cond_4
    if-eqz v4, :cond_5

    .line 13100
    :try_start_5
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 13102
    :cond_5
    if-eqz v7, :cond_6

    .line 13103
    invoke-virtual {v7}, Ljava/io/FileOutputStream;->close()V
    :try_end_5
    .catch Ljava/io/IOException; {:try_start_5 .. :try_end_5} :catch_2

    .line 13109
    :cond_6
    :goto_4
    const/4 v8, 0x1

    goto/16 :goto_0

    .line 13105
    :catch_2
    move-exception v1

    .line 13106
    .restart local v1       #e:Ljava/io/IOException;
    const-string v8, "Mms/ipmsg/compose"

    const-string v9, "convertVCalendarToIpMessage(): IOException happened.2"

    invoke-static {v8, v9, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_4

    .line 13094
    .end local v0           #buffer:[B
    .end local v1           #e:Ljava/io/IOException;
    .end local v2           #file:Ljava/io/File;
    .end local v3           #fileName:Ljava/lang/String;
    .end local v5           #len:I
    .end local v7           #os:Ljava/io/FileOutputStream;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    :catch_3
    move-exception v1

    .line 13095
    .restart local v1       #e:Ljava/io/IOException;
    :goto_5
    :try_start_6
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVCalendarToIpMessage(): IOException happened."

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_0

    .line 13099
    if-eqz v4, :cond_7

    .line 13100
    :try_start_7
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 13102
    :cond_7
    if-eqz v6, :cond_0

    .line 13103
    invoke-virtual {v6}, Ljava/io/FileOutputStream;->close()V
    :try_end_7
    .catch Ljava/io/IOException; {:try_start_7 .. :try_end_7} :catch_4

    goto/16 :goto_0

    .line 13105
    :catch_4
    move-exception v1

    .line 13106
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVCalendarToIpMessage(): IOException happened.2"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto/16 :goto_0

    .line 13098
    .end local v1           #e:Ljava/io/IOException;
    :catchall_0
    move-exception v8

    .line 13099
    :goto_6
    if-eqz v4, :cond_8

    .line 13100
    :try_start_8
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 13102
    :cond_8
    if-eqz v6, :cond_9

    .line 13103
    invoke-virtual {v6}, Ljava/io/FileOutputStream;->close()V
    :try_end_8
    .catch Ljava/io/IOException; {:try_start_8 .. :try_end_8} :catch_5

    .line 13107
    :cond_9
    :goto_7
    throw v8

    .line 13105
    :catch_5
    move-exception v1

    .line 13106
    .restart local v1       #e:Ljava/io/IOException;
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVCalendarToIpMessage(): IOException happened.2"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_7

    .line 13098
    .end local v1           #e:Ljava/io/IOException;
    .end local v6           #os:Ljava/io/FileOutputStream;
    .restart local v2       #file:Ljava/io/File;
    .restart local v3       #fileName:Ljava/lang/String;
    .restart local v7       #os:Ljava/io/FileOutputStream;
    :catchall_1
    move-exception v8

    move-object v6, v7

    .end local v7           #os:Ljava/io/FileOutputStream;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    goto :goto_6

    .line 13094
    .end local v6           #os:Ljava/io/FileOutputStream;
    .restart local v7       #os:Ljava/io/FileOutputStream;
    :catch_6
    move-exception v1

    move-object v6, v7

    .end local v7           #os:Ljava/io/FileOutputStream;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    goto :goto_5

    .line 13091
    .end local v2           #file:Ljava/io/File;
    .end local v3           #fileName:Ljava/lang/String;
    :catch_7
    move-exception v1

    goto/16 :goto_3
.end method

.method private convertVCardToIpMessage(Lcom/android/mms/model/VCardModel;)Z
    .locals 13
    .parameter "vCardModel"

    .prologue
    const/4 v12, -0x1

    const/4 v8, 0x0

    .line 13011
    if-nez p1, :cond_1

    .line 13012
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVCardToIpMessage(): vCard is null."

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 13058
    :cond_0
    :goto_0
    return v8

    .line 13015
    :cond_1
    const/4 v4, 0x0

    .line 13016
    .local v4, is:Ljava/io/InputStream;
    const/4 v6, 0x0

    .line 13018
    .local v6, os:Ljava/io/FileOutputStream;
    :try_start_0
    const-string v9, "Mms/ipmsg/compose"

    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "convertVCardToIpMessage(): contentType = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getContentType()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", attachSize = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getAttachSize()I

    move-result v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", src = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getSrc()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", uri = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getUri()Landroid/net/Uri;

    move-result-object v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13022
    const-string v3, ""

    .line 13023
    .local v3, fileName:Ljava/lang/String;
    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getSrc()Ljava/lang/String;

    move-result-object v9

    const-string v10, "."

    invoke-virtual {v9, v10}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v9

    if-le v9, v12, :cond_3

    .line 13024
    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getSrc()Ljava/lang/String;

    move-result-object v3

    .line 13029
    :goto_1
    iput-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageVcardName:Ljava/lang/String;

    .line 13030
    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/android/mms/MmsConfig;->getVcardTempPath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    sget-object v10, Ljava/io/File;->separator:Ljava/lang/String;

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    iput-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    .line 13031
    const-string v9, "Mms/ipmsg/compose"

    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "convertVCardToIpMessage(): mDstPath = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13033
    new-instance v2, Ljava/io/File;

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-direct {v2, v9}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 13034
    .local v2, file:Ljava/io/File;
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v9

    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getUri()Landroid/net/Uri;

    move-result-object v10

    invoke-virtual {v9, v10}, Landroid/content/ContentResolver;->openInputStream(Landroid/net/Uri;)Ljava/io/InputStream;

    move-result-object v4

    .line 13035
    new-instance v7, Ljava/io/FileOutputStream;

    invoke-direct {v7, v2}, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/io/FileNotFoundException; {:try_start_0 .. :try_end_0} :catch_7
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_3

    .line 13036
    .end local v6           #os:Ljava/io/FileOutputStream;
    .local v7, os:Ljava/io/FileOutputStream;
    const/16 v9, 0x800

    :try_start_1
    new-array v0, v9, [B

    .line 13037
    .local v0, buffer:[B
    const/4 v5, 0x0

    .local v5, len:I
    :goto_2
    invoke-virtual {v4, v0}, Ljava/io/InputStream;->read([B)I

    move-result v5

    if-eq v5, v12, :cond_4

    .line 13038
    const/4 v9, 0x0

    invoke-virtual {v7, v0, v9, v5}, Ljava/io/FileOutputStream;->write([BII)V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1
    .catch Ljava/io/FileNotFoundException; {:try_start_1 .. :try_end_1} :catch_0
    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_6

    goto :goto_2

    .line 13040
    .end local v0           #buffer:[B
    .end local v5           #len:I
    :catch_0
    move-exception v1

    move-object v6, v7

    .line 13041
    .end local v2           #file:Ljava/io/File;
    .end local v3           #fileName:Ljava/lang/String;
    .end local v7           #os:Ljava/io/FileOutputStream;
    .local v1, e:Ljava/io/FileNotFoundException;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    :goto_3
    :try_start_2
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVCardToIpMessage(): can not found this part file!"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    .line 13048
    if-eqz v4, :cond_2

    .line 13049
    :try_start_3
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 13051
    :cond_2
    if-eqz v6, :cond_0

    .line 13052
    invoke-virtual {v6}, Ljava/io/FileOutputStream;->close()V
    :try_end_3
    .catch Ljava/io/IOException; {:try_start_3 .. :try_end_3} :catch_1

    goto/16 :goto_0

    .line 13054
    :catch_1
    move-exception v1

    .line 13055
    .local v1, e:Ljava/io/IOException;
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVCardToIpMessage(): IOException happened.2"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto/16 :goto_0

    .line 13026
    .end local v1           #e:Ljava/io/IOException;
    .restart local v3       #fileName:Ljava/lang/String;
    :cond_3
    :try_start_4
    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getSrc()Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, "."

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-static {}, Landroid/webkit/MimeTypeMap;->getSingleton()Landroid/webkit/MimeTypeMap;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/FileAttachmentModel;->getContentType()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v10, v11}, Landroid/webkit/MimeTypeMap;->getExtensionFromMimeType(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_0
    .catch Ljava/io/FileNotFoundException; {:try_start_4 .. :try_end_4} :catch_7
    .catch Ljava/io/IOException; {:try_start_4 .. :try_end_4} :catch_3

    move-result-object v3

    goto/16 :goto_1

    .line 13048
    .end local v6           #os:Ljava/io/FileOutputStream;
    .restart local v0       #buffer:[B
    .restart local v2       #file:Ljava/io/File;
    .restart local v5       #len:I
    .restart local v7       #os:Ljava/io/FileOutputStream;
    :cond_4
    if-eqz v4, :cond_5

    .line 13049
    :try_start_5
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 13051
    :cond_5
    if-eqz v7, :cond_6

    .line 13052
    invoke-virtual {v7}, Ljava/io/FileOutputStream;->close()V
    :try_end_5
    .catch Ljava/io/IOException; {:try_start_5 .. :try_end_5} :catch_2

    .line 13058
    :cond_6
    :goto_4
    const/4 v8, 0x1

    goto/16 :goto_0

    .line 13054
    :catch_2
    move-exception v1

    .line 13055
    .restart local v1       #e:Ljava/io/IOException;
    const-string v8, "Mms/ipmsg/compose"

    const-string v9, "convertVCardToIpMessage(): IOException happened.2"

    invoke-static {v8, v9, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_4

    .line 13043
    .end local v0           #buffer:[B
    .end local v1           #e:Ljava/io/IOException;
    .end local v2           #file:Ljava/io/File;
    .end local v3           #fileName:Ljava/lang/String;
    .end local v5           #len:I
    .end local v7           #os:Ljava/io/FileOutputStream;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    :catch_3
    move-exception v1

    .line 13044
    .restart local v1       #e:Ljava/io/IOException;
    :goto_5
    :try_start_6
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVCardToIpMessage(): IOException happened."

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_0

    .line 13048
    if-eqz v4, :cond_7

    .line 13049
    :try_start_7
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 13051
    :cond_7
    if-eqz v6, :cond_0

    .line 13052
    invoke-virtual {v6}, Ljava/io/FileOutputStream;->close()V
    :try_end_7
    .catch Ljava/io/IOException; {:try_start_7 .. :try_end_7} :catch_4

    goto/16 :goto_0

    .line 13054
    :catch_4
    move-exception v1

    .line 13055
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVCardToIpMessage(): IOException happened.2"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto/16 :goto_0

    .line 13047
    .end local v1           #e:Ljava/io/IOException;
    :catchall_0
    move-exception v8

    .line 13048
    :goto_6
    if-eqz v4, :cond_8

    .line 13049
    :try_start_8
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 13051
    :cond_8
    if-eqz v6, :cond_9

    .line 13052
    invoke-virtual {v6}, Ljava/io/FileOutputStream;->close()V
    :try_end_8
    .catch Ljava/io/IOException; {:try_start_8 .. :try_end_8} :catch_5

    .line 13056
    :cond_9
    :goto_7
    throw v8

    .line 13054
    :catch_5
    move-exception v1

    .line 13055
    .restart local v1       #e:Ljava/io/IOException;
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVCardToIpMessage(): IOException happened.2"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_7

    .line 13047
    .end local v1           #e:Ljava/io/IOException;
    .end local v6           #os:Ljava/io/FileOutputStream;
    .restart local v2       #file:Ljava/io/File;
    .restart local v3       #fileName:Ljava/lang/String;
    .restart local v7       #os:Ljava/io/FileOutputStream;
    :catchall_1
    move-exception v8

    move-object v6, v7

    .end local v7           #os:Ljava/io/FileOutputStream;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    goto :goto_6

    .line 13043
    .end local v6           #os:Ljava/io/FileOutputStream;
    .restart local v7       #os:Ljava/io/FileOutputStream;
    :catch_6
    move-exception v1

    move-object v6, v7

    .end local v7           #os:Ljava/io/FileOutputStream;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    goto :goto_5

    .line 13040
    .end local v2           #file:Ljava/io/File;
    .end local v3           #fileName:Ljava/lang/String;
    :catch_7
    move-exception v1

    goto/16 :goto_3
.end method

.method private convertVideoToIpMessage(Lcom/android/mms/model/VideoModel;)Z
    .locals 13
    .parameter "videoModel"

    .prologue
    const/4 v12, -0x1

    const/4 v8, 0x0

    .line 12821
    if-nez p1, :cond_1

    .line 12822
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVideoToIpMessage(): video is null."

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12870
    :cond_0
    :goto_0
    return v8

    .line 12825
    :cond_1
    const/4 v4, 0x0

    .line 12826
    .local v4, is:Ljava/io/InputStream;
    const/4 v6, 0x0

    .line 12828
    .local v6, os:Ljava/io/FileOutputStream;
    :try_start_0
    const-string v9, "Mms/ipmsg/compose"

    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "convertVideoToIpMessage(): contentType = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getContentType()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", mediaSize = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getMediaSize()I

    move-result v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", duration = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getDuration()I

    move-result v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", src = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getSrc()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", uri = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getUri()Landroid/net/Uri;

    move-result-object v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12832
    const-string v3, ""

    .line 12833
    .local v3, fileName:Ljava/lang/String;
    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getSrc()Ljava/lang/String;

    move-result-object v9

    const-string v10, "."

    invoke-virtual {v9, v10}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v9

    if-le v9, v12, :cond_3

    .line 12834
    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getSrc()Ljava/lang/String;

    move-result-object v3

    .line 12840
    :goto_1
    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/android/mms/MmsConfig;->getVideoTempPath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    sget-object v10, Ljava/io/File;->separator:Ljava/lang/String;

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    iput-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    .line 12841
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    iput-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    .line 12842
    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getDuration()I

    move-result v9

    iput v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    .line 12843
    const-string v9, "Mms/ipmsg/compose"

    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "convertVideoToIpMessage(): mDstPath = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12845
    new-instance v2, Ljava/io/File;

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-direct {v2, v9}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 12846
    .local v2, file:Ljava/io/File;
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v9

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getUri()Landroid/net/Uri;

    move-result-object v10

    invoke-virtual {v9, v10}, Landroid/content/ContentResolver;->openInputStream(Landroid/net/Uri;)Ljava/io/InputStream;

    move-result-object v4

    .line 12847
    new-instance v7, Ljava/io/FileOutputStream;

    invoke-direct {v7, v2}, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/io/FileNotFoundException; {:try_start_0 .. :try_end_0} :catch_7
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_3

    .line 12848
    .end local v6           #os:Ljava/io/FileOutputStream;
    .local v7, os:Ljava/io/FileOutputStream;
    const/16 v9, 0x800

    :try_start_1
    new-array v0, v9, [B

    .line 12849
    .local v0, buffer:[B
    const/4 v5, 0x0

    .local v5, len:I
    :goto_2
    invoke-virtual {v4, v0}, Ljava/io/InputStream;->read([B)I

    move-result v5

    if-eq v5, v12, :cond_4

    .line 12850
    const/4 v9, 0x0

    invoke-virtual {v7, v0, v9, v5}, Ljava/io/FileOutputStream;->write([BII)V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1
    .catch Ljava/io/FileNotFoundException; {:try_start_1 .. :try_end_1} :catch_0
    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_6

    goto :goto_2

    .line 12852
    .end local v0           #buffer:[B
    .end local v5           #len:I
    :catch_0
    move-exception v1

    move-object v6, v7

    .line 12853
    .end local v2           #file:Ljava/io/File;
    .end local v3           #fileName:Ljava/lang/String;
    .end local v7           #os:Ljava/io/FileOutputStream;
    .local v1, e:Ljava/io/FileNotFoundException;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    :goto_3
    :try_start_2
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVideoToIpMessage(): can not found this part file!"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    .line 12860
    if-eqz v4, :cond_2

    .line 12861
    :try_start_3
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 12863
    :cond_2
    if-eqz v6, :cond_0

    .line 12864
    invoke-virtual {v6}, Ljava/io/FileOutputStream;->close()V
    :try_end_3
    .catch Ljava/io/IOException; {:try_start_3 .. :try_end_3} :catch_1

    goto/16 :goto_0

    .line 12866
    :catch_1
    move-exception v1

    .line 12867
    .local v1, e:Ljava/io/IOException;
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVideoToIpMessage(): IOException happened.2"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto/16 :goto_0

    .line 12836
    .end local v1           #e:Ljava/io/IOException;
    .restart local v3       #fileName:Ljava/lang/String;
    :cond_3
    :try_start_4
    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getSrc()Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, "."

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-static {}, Landroid/webkit/MimeTypeMap;->getSingleton()Landroid/webkit/MimeTypeMap;

    move-result-object v10

    invoke-virtual {p1}, Lcom/android/mms/model/MediaModel;->getContentType()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v10, v11}, Landroid/webkit/MimeTypeMap;->getExtensionFromMimeType(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_0
    .catch Ljava/io/FileNotFoundException; {:try_start_4 .. :try_end_4} :catch_7
    .catch Ljava/io/IOException; {:try_start_4 .. :try_end_4} :catch_3

    move-result-object v3

    goto/16 :goto_1

    .line 12860
    .end local v6           #os:Ljava/io/FileOutputStream;
    .restart local v0       #buffer:[B
    .restart local v2       #file:Ljava/io/File;
    .restart local v5       #len:I
    .restart local v7       #os:Ljava/io/FileOutputStream;
    :cond_4
    if-eqz v4, :cond_5

    .line 12861
    :try_start_5
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 12863
    :cond_5
    if-eqz v7, :cond_6

    .line 12864
    invoke-virtual {v7}, Ljava/io/FileOutputStream;->close()V
    :try_end_5
    .catch Ljava/io/IOException; {:try_start_5 .. :try_end_5} :catch_2

    .line 12870
    :cond_6
    :goto_4
    const/4 v8, 0x1

    goto/16 :goto_0

    .line 12866
    :catch_2
    move-exception v1

    .line 12867
    .restart local v1       #e:Ljava/io/IOException;
    const-string v8, "Mms/ipmsg/compose"

    const-string v9, "convertVideoToIpMessage(): IOException happened.2"

    invoke-static {v8, v9, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_4

    .line 12855
    .end local v0           #buffer:[B
    .end local v1           #e:Ljava/io/IOException;
    .end local v2           #file:Ljava/io/File;
    .end local v3           #fileName:Ljava/lang/String;
    .end local v5           #len:I
    .end local v7           #os:Ljava/io/FileOutputStream;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    :catch_3
    move-exception v1

    .line 12856
    .restart local v1       #e:Ljava/io/IOException;
    :goto_5
    :try_start_6
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVideoToIpMessage(): IOException happened."

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_0

    .line 12860
    if-eqz v4, :cond_7

    .line 12861
    :try_start_7
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 12863
    :cond_7
    if-eqz v6, :cond_0

    .line 12864
    invoke-virtual {v6}, Ljava/io/FileOutputStream;->close()V
    :try_end_7
    .catch Ljava/io/IOException; {:try_start_7 .. :try_end_7} :catch_4

    goto/16 :goto_0

    .line 12866
    :catch_4
    move-exception v1

    .line 12867
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVideoToIpMessage(): IOException happened.2"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto/16 :goto_0

    .line 12859
    .end local v1           #e:Ljava/io/IOException;
    :catchall_0
    move-exception v8

    .line 12860
    :goto_6
    if-eqz v4, :cond_8

    .line 12861
    :try_start_8
    invoke-virtual {v4}, Ljava/io/InputStream;->close()V

    .line 12863
    :cond_8
    if-eqz v6, :cond_9

    .line 12864
    invoke-virtual {v6}, Ljava/io/FileOutputStream;->close()V
    :try_end_8
    .catch Ljava/io/IOException; {:try_start_8 .. :try_end_8} :catch_5

    .line 12868
    :cond_9
    :goto_7
    throw v8

    .line 12866
    :catch_5
    move-exception v1

    .line 12867
    .restart local v1       #e:Ljava/io/IOException;
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "convertVideoToIpMessage(): IOException happened.2"

    invoke-static {v9, v10, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_7

    .line 12859
    .end local v1           #e:Ljava/io/IOException;
    .end local v6           #os:Ljava/io/FileOutputStream;
    .restart local v2       #file:Ljava/io/File;
    .restart local v3       #fileName:Ljava/lang/String;
    .restart local v7       #os:Ljava/io/FileOutputStream;
    :catchall_1
    move-exception v8

    move-object v6, v7

    .end local v7           #os:Ljava/io/FileOutputStream;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    goto :goto_6

    .line 12855
    .end local v6           #os:Ljava/io/FileOutputStream;
    .restart local v7       #os:Ljava/io/FileOutputStream;
    :catch_6
    move-exception v1

    move-object v6, v7

    .end local v7           #os:Ljava/io/FileOutputStream;
    .restart local v6       #os:Ljava/io/FileOutputStream;
    goto :goto_5

    .line 12852
    .end local v2           #file:Ljava/io/File;
    .end local v3           #fileName:Ljava/lang/String;
    :catch_7
    move-exception v1

    goto/16 :goto_3
.end method

.method private copyMedia(J)Z
    .locals 9
    .parameter "msgId"

    .prologue
    .line 2892
    const/4 v5, 0x1

    .line 2893
    .local v5, result:Z
    const/4 v0, 0x0

    .line 2895
    .local v0, body:Lcom/google/android/mms/pdu/PduBody;
    :try_start_0
    sget-object v6, Landroid/provider/Telephony$Mms;->CONTENT_URI:Landroid/net/Uri;

    invoke-static {v6, p1, p2}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v6

    invoke-static {p0, v6}, Lcom/android/mms/model/SlideshowModel;->getPduBody(Landroid/content/Context;Landroid/net/Uri;)Lcom/google/android/mms/pdu/PduBody;
    :try_end_0
    .catch Lcom/google/android/mms/MmsException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v0

    .line 2900
    :goto_0
    if-nez v0, :cond_0

    .line 2901
    const/4 v6, 0x0

    .line 2911
    :goto_1
    return v6

    .line 2897
    :catch_0
    move-exception v1

    .line 2898
    .local v1, e:Lcom/google/android/mms/MmsException;
    const-string v6, "Mms/compose"

    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "copyMedia can\'t load pdu body: "

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7, p1, p2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-static {v6, v7}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_0

    .line 2904
    .end local v1           #e:Lcom/google/android/mms/MmsException;
    :cond_0
    invoke-virtual {v0}, Lcom/google/android/mms/pdu/PduBody;->getPartsNum()I

    move-result v4

    .line 2905
    .local v4, partNum:I
    const/4 v2, 0x0

    .local v2, i:I
    :goto_2
    if-ge v2, v4, :cond_1

    .line 2906
    invoke-virtual {v0, v2}, Lcom/google/android/mms/pdu/PduBody;->getPart(I)Lcom/google/android/mms/pdu/PduPart;

    move-result-object v3

    .line 2909
    .local v3, part:Lcom/google/android/mms/pdu/PduPart;
    invoke-static {p1, p2}, Ljava/lang/Long;->toHexString(J)Ljava/lang/String;

    move-result-object v6

    invoke-direct {p0, v3, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->copyPart(Lcom/google/android/mms/pdu/PduPart;Ljava/lang/String;)Z

    move-result v6

    and-int/2addr v5, v6

    .line 2905
    add-int/lit8 v2, v2, 0x1

    goto :goto_2

    .end local v3           #part:Lcom/google/android/mms/pdu/PduPart;
    :cond_1
    move v6, v5

    .line 2911
    goto :goto_1
.end method

.method private copyPart(Lcom/google/android/mms/pdu/PduPart;Ljava/lang/String;)Z
    .locals 23
    .parameter "part"
    .parameter "fallback"

    .prologue
    .line 2915
    invoke-virtual/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduPart;->getDataUri()Landroid/net/Uri;

    move-result-object v19

    .line 2916
    .local v19, uri:Landroid/net/Uri;
    new-instance v18, Ljava/lang/String;

    invoke-virtual/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduPart;->getContentType()[B

    move-result-object v20

    move-object/from16 v0, v18

    move-object/from16 v1, v20

    invoke-direct {v0, v1}, Ljava/lang/String;-><init>([B)V

    .line 2917
    .local v18, type:Ljava/lang/String;
    invoke-static/range {v18 .. v18}, Lcom/android/mms/drm/DrmUtils;->isDrmType(Ljava/lang/String;)Z

    move-result v13

    .line 2918
    .local v13, isDrm:Z
    if-eqz v13, :cond_0

    .line 2919
    invoke-static {}, Lcom/android/mms/MmsApp;->getApplication()Lcom/android/mms/MmsApp;

    move-result-object v20

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/MmsApp;->getDrmManagerClient()Lcom/mediatek/encapsulation/android/drm/EncapsulatedDrmManagerClient;

    move-result-object v20

    invoke-virtual/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduPart;->getDataUri()Landroid/net/Uri;

    move-result-object v21

    invoke-virtual/range {v20 .. v21}, Lcom/mediatek/encapsulation/android/drm/EncapsulatedDrmManagerClient;->getOriginalMimeType(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v18

    .line 2922
    :cond_0
    invoke-static/range {v18 .. v18}, Lcom/mediatek/encapsulation/com/google/android/mms/EncapsulatedContentType;->isImageType(Ljava/lang/String;)Z

    move-result v20

    if-nez v20, :cond_2

    invoke-static/range {v18 .. v18}, Lcom/mediatek/encapsulation/com/google/android/mms/EncapsulatedContentType;->isVideoType(Ljava/lang/String;)Z

    move-result v20

    if-nez v20, :cond_2

    invoke-static/range {v18 .. v18}, Lcom/mediatek/encapsulation/com/google/android/mms/EncapsulatedContentType;->isAudioType(Ljava/lang/String;)Z

    move-result v20

    if-nez v20, :cond_2

    .line 2924
    const/16 v20, 0x1

    .line 3021
    :cond_1
    :goto_0
    return v20

    .line 2929
    :cond_2
    const/4 v12, 0x0

    .line 2930
    .local v12, input:Ljava/io/InputStream;
    const/4 v9, 0x0

    .line 2932
    .local v9, fout:Ljava/io/FileOutputStream;
    :try_start_0
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mContentResolver:Landroid/content/ContentResolver;

    move-object/from16 v20, v0

    move-object/from16 v0, v20

    move-object/from16 v1, v19

    invoke-virtual {v0, v1}, Landroid/content/ContentResolver;->openInputStream(Landroid/net/Uri;)Ljava/io/InputStream;

    move-result-object v12

    .line 2933
    instance-of v0, v12, Ljava/io/FileInputStream;

    move/from16 v20, v0

    if-eqz v20, :cond_d

    .line 2934
    move-object v0, v12

    check-cast v0, Ljava/io/FileInputStream;

    move-object v8, v0

    .line 2936
    .local v8, fin:Ljava/io/FileInputStream;
    invoke-virtual/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduPart;->getName()[B

    move-result-object v14

    .line 2937
    .local v14, location:[B
    if-nez v14, :cond_3

    .line 2938
    invoke-virtual/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduPart;->getFilename()[B

    move-result-object v14

    .line 2940
    :cond_3
    if-nez v14, :cond_4

    .line 2941
    invoke-virtual/range {p1 .. p1}, Lcom/google/android/mms/pdu/PduPart;->getContentLocation()[B

    move-result-object v14

    .line 2945
    :cond_4
    if-nez v14, :cond_7

    .line 2947
    move-object/from16 v7, p2

    .line 2953
    .local v7, fileName:Ljava/lang/String;
    :goto_1
    new-instance v15, Ljava/io/File;

    invoke-direct {v15, v7}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 2954
    .local v15, originalFile:Ljava/io/File;
    invoke-virtual {v15}, Ljava/io/File;->getName()Ljava/lang/String;

    move-result-object v7

    .line 2960
    new-instance v20, Ljava/lang/StringBuilder;

    invoke-direct/range {v20 .. v20}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Landroid/os/Environment;->getExternalStorageDirectory()Ljava/io/File;

    move-result-object v21

    invoke-virtual/range {v20 .. v21}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v20

    const-string v21, "/"

    invoke-virtual/range {v20 .. v21}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v21

    invoke-static/range {v18 .. v18}, Lcom/mediatek/encapsulation/com/google/android/mms/EncapsulatedContentType;->isAudioType(Ljava/lang/String;)Z

    move-result v20

    if-eqz v20, :cond_8

    sget-object v20, Landroid/os/Environment;->DIRECTORY_RINGTONES:Ljava/lang/String;

    :goto_2
    move-object/from16 v0, v21

    move-object/from16 v1, v20

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v20

    const-string v21, "/"

    invoke-virtual/range {v20 .. v21}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v20

    invoke-virtual/range {v20 .. v20}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    .line 2964
    .local v3, dir:Ljava/lang/String;
    const/16 v20, 0x2e

    move/from16 v0, v20

    invoke-virtual {v7, v0}, Ljava/lang/String;->lastIndexOf(I)I

    move-result v11

    .line 2965
    .local v11, index:I
    const/16 v20, -0x1

    move/from16 v0, v20

    if-ne v11, v0, :cond_9

    .line 2966
    invoke-static {}, Landroid/webkit/MimeTypeMap;->getSingleton()Landroid/webkit/MimeTypeMap;

    move-result-object v20

    move-object/from16 v0, v20

    move-object/from16 v1, v18

    invoke-virtual {v0, v1}, Landroid/webkit/MimeTypeMap;->getExtensionFromMimeType(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    .line 2971
    .local v5, extension:Ljava/lang/String;
    :goto_3
    const-string v20, "Mms/compose"

    new-instance v21, Ljava/lang/StringBuilder;

    invoke-direct/range {v21 .. v21}, Ljava/lang/StringBuilder;-><init>()V

    const-string v22, "Save part extension name is: "

    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v21

    move-object/from16 v0, v21

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v21

    invoke-virtual/range {v21 .. v21}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v21

    invoke-static/range {v20 .. v21}, Lcom/mediatek/encapsulation/MmsLog;->i(Ljava/lang/String;Ljava/lang/String;)V

    .line 2972
    if-eqz v13, :cond_5

    .line 2973
    new-instance v20, Ljava/lang/StringBuilder;

    invoke-direct/range {v20 .. v20}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v20

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v20

    invoke-static/range {v18 .. v18}, Lcom/android/mms/drm/DrmUtils;->getConvertExtension(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v21

    invoke-virtual/range {v20 .. v21}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v20

    invoke-virtual/range {v20 .. v20}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    .line 2975
    :cond_5
    new-instance v20, Ljava/lang/StringBuilder;

    invoke-direct/range {v20 .. v20}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v20

    invoke-virtual {v0, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v20

    move-object/from16 v0, v20

    invoke-virtual {v0, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v20

    invoke-virtual/range {v20 .. v20}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v20

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-direct {v0, v1, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->getUniqueDestination(Ljava/lang/String;Ljava/lang/String;)Ljava/io/File;

    move-result-object v6

    .line 2978
    .local v6, file:Ljava/io/File;
    invoke-virtual {v6}, Ljava/io/File;->getParentFile()Ljava/io/File;

    move-result-object v16

    .line 2979
    .local v16, parentFile:Ljava/io/File;
    invoke-virtual/range {v16 .. v16}, Ljava/io/File;->exists()Z

    move-result v20

    if-nez v20, :cond_a

    invoke-virtual/range {v16 .. v16}, Ljava/io/File;->mkdirs()Z

    move-result v20

    if-nez v20, :cond_a

    .line 2980
    const-string v20, "Mms/compose"

    new-instance v21, Ljava/lang/StringBuilder;

    invoke-direct/range {v21 .. v21}, Ljava/lang/StringBuilder;-><init>()V

    const-string v22, "[MMS] copyPart: mkdirs for "

    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v21

    invoke-virtual/range {v16 .. v16}, Ljava/io/File;->getPath()Ljava/lang/String;

    move-result-object v22

    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v21

    const-string v22, " failed!"

    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v21

    invoke-virtual/range {v21 .. v21}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v21

    invoke-static/range {v20 .. v21}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_9

    .line 2981
    const/16 v20, 0x0

    .line 3002
    if-eqz v12, :cond_6

    .line 3004
    :try_start_1
    invoke-virtual {v12}, Ljava/io/InputStream;->close()V
    :try_end_1
    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_1

    .line 3011
    :cond_6
    if-eqz v9, :cond_1

    .line 3013
    :try_start_2
    throw v9
    :try_end_2
    .catch Ljava/io/IOException; {:try_start_2 .. :try_end_2} :catch_0

    goto/16 :goto_0

    .line 3014
    :catch_0
    move-exception v4

    .line 3016
    .local v4, e:Ljava/io/IOException;
    const-string v20, "Mms/compose"

    const-string v21, "IOException caught while closing stream"

    move-object/from16 v0, v20

    move-object/from16 v1, v21

    invoke-static {v0, v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 3017
    const/16 v20, 0x0

    goto/16 :goto_0

    .line 2951
    .end local v3           #dir:Ljava/lang/String;
    .end local v4           #e:Ljava/io/IOException;
    .end local v5           #extension:Ljava/lang/String;
    .end local v6           #file:Ljava/io/File;
    .end local v7           #fileName:Ljava/lang/String;
    .end local v11           #index:I
    .end local v15           #originalFile:Ljava/io/File;
    .end local v16           #parentFile:Ljava/io/File;
    :cond_7
    :try_start_3
    new-instance v7, Ljava/lang/String;

    invoke-direct {v7, v14}, Ljava/lang/String;-><init>([B)V

    .restart local v7       #fileName:Ljava/lang/String;
    goto/16 :goto_1

    .line 2960
    .restart local v15       #originalFile:Ljava/io/File;
    :cond_8
    sget-object v20, Landroid/os/Environment;->DIRECTORY_DOWNLOADS:Ljava/lang/String;

    goto/16 :goto_2

    .line 2968
    .restart local v3       #dir:Ljava/lang/String;
    .restart local v11       #index:I
    :cond_9
    add-int/lit8 v20, v11, 0x1

    invoke-virtual {v7}, Ljava/lang/String;->length()I

    move-result v21

    move/from16 v0, v20

    move/from16 v1, v21

    invoke-virtual {v7, v0, v1}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v5

    .line 2969
    .restart local v5       #extension:Ljava/lang/String;
    const/16 v20, 0x0

    move/from16 v0, v20

    invoke-virtual {v7, v0, v11}, Ljava/lang/String;->substring(II)Ljava/lang/String;
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_0
    .catch Ljava/io/IOException; {:try_start_3 .. :try_end_3} :catch_9

    move-result-object v7

    goto/16 :goto_3

    .line 3005
    .restart local v6       #file:Ljava/io/File;
    .restart local v16       #parentFile:Ljava/io/File;
    :catch_1
    move-exception v4

    .line 3007
    .restart local v4       #e:Ljava/io/IOException;
    const-string v20, "Mms/compose"

    const-string v21, "IOException caught while closing stream"

    move-object/from16 v0, v20

    move-object/from16 v1, v21

    invoke-static {v0, v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 3008
    const/16 v20, 0x0

    goto/16 :goto_0

    .line 2984
    .end local v4           #e:Ljava/io/IOException;
    :cond_a
    :try_start_4
    new-instance v10, Ljava/io/FileOutputStream;

    invoke-direct {v10, v6}, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_0
    .catch Ljava/io/IOException; {:try_start_4 .. :try_end_4} :catch_9

    .line 2986
    .end local v9           #fout:Ljava/io/FileOutputStream;
    .local v10, fout:Ljava/io/FileOutputStream;
    const/16 v20, 0x1f40

    :try_start_5
    move/from16 v0, v20

    new-array v2, v0, [B

    .line 2987
    .local v2, buffer:[B
    const/16 v17, 0x0

    .line 2988
    .local v17, size:I
    :goto_4
    invoke-virtual {v8, v2}, Ljava/io/InputStream;->read([B)I

    move-result v17

    const/16 v20, -0x1

    move/from16 v0, v17

    move/from16 v1, v20

    if-eq v0, v1, :cond_c

    .line 2989
    const/16 v20, 0x0

    move/from16 v0, v20

    move/from16 v1, v17

    invoke-virtual {v10, v2, v0, v1}, Ljava/io/FileOutputStream;->write([BII)V
    :try_end_5
    .catchall {:try_start_5 .. :try_end_5} :catchall_1
    .catch Ljava/io/IOException; {:try_start_5 .. :try_end_5} :catch_2

    goto :goto_4

    .line 2997
    .end local v2           #buffer:[B
    .end local v17           #size:I
    :catch_2
    move-exception v4

    move-object v9, v10

    .line 2999
    .end local v3           #dir:Ljava/lang/String;
    .end local v5           #extension:Ljava/lang/String;
    .end local v6           #file:Ljava/io/File;
    .end local v7           #fileName:Ljava/lang/String;
    .end local v8           #fin:Ljava/io/FileInputStream;
    .end local v10           #fout:Ljava/io/FileOutputStream;
    .end local v11           #index:I
    .end local v14           #location:[B
    .end local v15           #originalFile:Ljava/io/File;
    .end local v16           #parentFile:Ljava/io/File;
    .restart local v4       #e:Ljava/io/IOException;
    .restart local v9       #fout:Ljava/io/FileOutputStream;
    :goto_5
    :try_start_6
    const-string v20, "Mms/compose"

    const-string v21, "IOException caught while opening or reading stream"

    move-object/from16 v0, v20

    move-object/from16 v1, v21

    invoke-static {v0, v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_0

    .line 3000
    const/16 v20, 0x0

    .line 3002
    if-eqz v12, :cond_b

    .line 3004
    :try_start_7
    invoke-virtual {v12}, Ljava/io/InputStream;->close()V
    :try_end_7
    .catch Ljava/io/IOException; {:try_start_7 .. :try_end_7} :catch_6

    .line 3011
    :cond_b
    if-eqz v9, :cond_1

    .line 3013
    :try_start_8
    invoke-virtual {v9}, Ljava/io/FileOutputStream;->close()V
    :try_end_8
    .catch Ljava/io/IOException; {:try_start_8 .. :try_end_8} :catch_3

    goto/16 :goto_0

    .line 3014
    :catch_3
    move-exception v4

    .line 3016
    const-string v20, "Mms/compose"

    const-string v21, "IOException caught while closing stream"

    move-object/from16 v0, v20

    move-object/from16 v1, v21

    invoke-static {v0, v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 3017
    const/16 v20, 0x0

    goto/16 :goto_0

    .line 2994
    .end local v4           #e:Ljava/io/IOException;
    .end local v9           #fout:Ljava/io/FileOutputStream;
    .restart local v2       #buffer:[B
    .restart local v3       #dir:Ljava/lang/String;
    .restart local v5       #extension:Ljava/lang/String;
    .restart local v6       #file:Ljava/io/File;
    .restart local v7       #fileName:Ljava/lang/String;
    .restart local v8       #fin:Ljava/io/FileInputStream;
    .restart local v10       #fout:Ljava/io/FileOutputStream;
    .restart local v11       #index:I
    .restart local v14       #location:[B
    .restart local v15       #originalFile:Ljava/io/File;
    .restart local v16       #parentFile:Ljava/io/File;
    .restart local v17       #size:I
    :cond_c
    :try_start_9
    new-instance v20, Landroid/content/Intent;

    const-string v21, "android.intent.action.MEDIA_SCANNER_SCAN_FILE"

    invoke-static {v6}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v22

    invoke-direct/range {v20 .. v22}, Landroid/content/Intent;-><init>(Ljava/lang/String;Landroid/net/Uri;)V

    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-virtual {v0, v1}, Landroid/content/ContextWrapper;->sendBroadcast(Landroid/content/Intent;)V
    :try_end_9
    .catchall {:try_start_9 .. :try_end_9} :catchall_1
    .catch Ljava/io/IOException; {:try_start_9 .. :try_end_9} :catch_2

    move-object v9, v10

    .line 3002
    .end local v2           #buffer:[B
    .end local v3           #dir:Ljava/lang/String;
    .end local v5           #extension:Ljava/lang/String;
    .end local v6           #file:Ljava/io/File;
    .end local v7           #fileName:Ljava/lang/String;
    .end local v8           #fin:Ljava/io/FileInputStream;
    .end local v10           #fout:Ljava/io/FileOutputStream;
    .end local v11           #index:I
    .end local v14           #location:[B
    .end local v15           #originalFile:Ljava/io/File;
    .end local v16           #parentFile:Ljava/io/File;
    .end local v17           #size:I
    .restart local v9       #fout:Ljava/io/FileOutputStream;
    :cond_d
    if-eqz v12, :cond_e

    .line 3004
    :try_start_a
    invoke-virtual {v12}, Ljava/io/InputStream;->close()V
    :try_end_a
    .catch Ljava/io/IOException; {:try_start_a .. :try_end_a} :catch_4

    .line 3011
    :cond_e
    if-eqz v9, :cond_f

    .line 3013
    :try_start_b
    invoke-virtual {v9}, Ljava/io/FileOutputStream;->close()V
    :try_end_b
    .catch Ljava/io/IOException; {:try_start_b .. :try_end_b} :catch_5

    .line 3021
    :cond_f
    const/16 v20, 0x1

    goto/16 :goto_0

    .line 3005
    :catch_4
    move-exception v4

    .line 3007
    .restart local v4       #e:Ljava/io/IOException;
    const-string v20, "Mms/compose"

    const-string v21, "IOException caught while closing stream"

    move-object/from16 v0, v20

    move-object/from16 v1, v21

    invoke-static {v0, v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 3008
    const/16 v20, 0x0

    goto/16 :goto_0

    .line 3014
    .end local v4           #e:Ljava/io/IOException;
    :catch_5
    move-exception v4

    .line 3016
    .restart local v4       #e:Ljava/io/IOException;
    const-string v20, "Mms/compose"

    const-string v21, "IOException caught while closing stream"

    move-object/from16 v0, v20

    move-object/from16 v1, v21

    invoke-static {v0, v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 3017
    const/16 v20, 0x0

    goto/16 :goto_0

    .line 3005
    :catch_6
    move-exception v4

    .line 3007
    const-string v20, "Mms/compose"

    const-string v21, "IOException caught while closing stream"

    move-object/from16 v0, v20

    move-object/from16 v1, v21

    invoke-static {v0, v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 3008
    const/16 v20, 0x0

    goto/16 :goto_0

    .line 3002
    .end local v4           #e:Ljava/io/IOException;
    :catchall_0
    move-exception v20

    :goto_6
    if-eqz v12, :cond_10

    .line 3004
    :try_start_c
    invoke-virtual {v12}, Ljava/io/InputStream;->close()V
    :try_end_c
    .catch Ljava/io/IOException; {:try_start_c .. :try_end_c} :catch_7

    .line 3011
    :cond_10
    if-eqz v9, :cond_11

    .line 3013
    :try_start_d
    invoke-virtual {v9}, Ljava/io/FileOutputStream;->close()V
    :try_end_d
    .catch Ljava/io/IOException; {:try_start_d .. :try_end_d} :catch_8

    .line 3017
    :cond_11
    throw v20

    .line 3005
    :catch_7
    move-exception v4

    .line 3007
    .restart local v4       #e:Ljava/io/IOException;
    const-string v20, "Mms/compose"

    const-string v21, "IOException caught while closing stream"

    move-object/from16 v0, v20

    move-object/from16 v1, v21

    invoke-static {v0, v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 3008
    const/16 v20, 0x0

    goto/16 :goto_0

    .line 3014
    .end local v4           #e:Ljava/io/IOException;
    :catch_8
    move-exception v4

    .line 3016
    .restart local v4       #e:Ljava/io/IOException;
    const-string v20, "Mms/compose"

    const-string v21, "IOException caught while closing stream"

    move-object/from16 v0, v20

    move-object/from16 v1, v21

    invoke-static {v0, v1, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 3017
    const/16 v20, 0x0

    goto/16 :goto_0

    .line 3002
    .end local v4           #e:Ljava/io/IOException;
    .end local v9           #fout:Ljava/io/FileOutputStream;
    .restart local v3       #dir:Ljava/lang/String;
    .restart local v5       #extension:Ljava/lang/String;
    .restart local v6       #file:Ljava/io/File;
    .restart local v7       #fileName:Ljava/lang/String;
    .restart local v8       #fin:Ljava/io/FileInputStream;
    .restart local v10       #fout:Ljava/io/FileOutputStream;
    .restart local v11       #index:I
    .restart local v14       #location:[B
    .restart local v15       #originalFile:Ljava/io/File;
    .restart local v16       #parentFile:Ljava/io/File;
    :catchall_1
    move-exception v20

    move-object v9, v10

    .end local v10           #fout:Ljava/io/FileOutputStream;
    .restart local v9       #fout:Ljava/io/FileOutputStream;
    goto :goto_6

    .line 2997
    .end local v3           #dir:Ljava/lang/String;
    .end local v5           #extension:Ljava/lang/String;
    .end local v6           #file:Ljava/io/File;
    .end local v7           #fileName:Ljava/lang/String;
    .end local v8           #fin:Ljava/io/FileInputStream;
    .end local v11           #index:I
    .end local v14           #location:[B
    .end local v15           #originalFile:Ljava/io/File;
    .end local v16           #parentFile:Ljava/io/File;
    :catch_9
    move-exception v4

    goto/16 :goto_5
.end method

.method private copyToClipboard(Ljava/lang/String;)V
    .locals 2
    .parameter "str"

    .prologue
    .line 2307
    const-string v1, "clipboard"

    invoke-virtual {p0, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/content/ClipboardManager;

    .line 2308
    .local v0, clipboard:Landroid/content/ClipboardManager;
    const/4 v1, 0x0

    invoke-static {v1, p1}, Landroid/content/ClipData;->newPlainText(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Landroid/content/ClipData;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/content/ClipboardManager;->setPrimaryClip(Landroid/content/ClipData;)V

    .line 2309
    return-void
.end method

.method public static createIntent(Landroid/content/Context;J)Landroid/content/Intent;
    .locals 3
    .parameter "context"
    .parameter "threadId"

    .prologue
    .line 8381
    new-instance v0, Landroid/content/Intent;

    const-class v1, Lcom/android/mms/ui/ComposeMessageActivity;

    invoke-direct {v0, p0, v1}, Landroid/content/Intent;-><init>(Landroid/content/Context;Ljava/lang/Class;)V

    .line 8383
    .local v0, intent:Landroid/content/Intent;
    const-wide/16 v1, 0x0

    cmp-long v1, p1, v1

    if-lez v1, :cond_0

    .line 8384
    invoke-static {p1, p2}, Lcom/android/mms/data/Conversation;->getUri(J)Landroid/net/Uri;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/content/Intent;->setData(Landroid/net/Uri;)Landroid/content/Intent;

    .line 8387
    :cond_0
    return-object v0
.end method

.method private createThumbnailForIpMessage(Landroid/graphics/Bitmap;ILandroid/graphics/drawable/Drawable;Landroid/net/Uri;)V
    .locals 2
    .parameter "bitmap"
    .parameter "resId"
    .parameter "drawable"
    .parameter "uri"

    .prologue
    .line 12313
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageThumbnail:Landroid/widget/ImageView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 12314
    if-eqz p1, :cond_1

    .line 12315
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageThumbnail:Landroid/widget/ImageView;

    invoke-virtual {v0, p1}, Landroid/widget/ImageView;->setImageBitmap(Landroid/graphics/Bitmap;)V

    .line 12323
    :cond_0
    :goto_0
    return-void

    .line 12316
    :cond_1
    if-lez p2, :cond_2

    .line 12317
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageThumbnail:Landroid/widget/ImageView;

    invoke-virtual {v0, p2}, Landroid/widget/ImageView;->setImageResource(I)V

    goto :goto_0

    .line 12318
    :cond_2
    if-eqz p3, :cond_3

    .line 12319
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageThumbnail:Landroid/widget/ImageView;

    invoke-virtual {v0, p3}, Landroid/widget/ImageView;->setImageDrawable(Landroid/graphics/drawable/Drawable;)V

    goto :goto_0

    .line 12320
    :cond_3
    if-eqz p4, :cond_0

    .line 12321
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageThumbnail:Landroid/widget/ImageView;

    invoke-virtual {v0, p4}, Landroid/widget/ImageView;->setImageURI(Landroid/net/Uri;)V

    goto :goto_0
.end method

.method private deleteEmoticon()V
    .locals 9

    .prologue
    const/4 v8, 0x0

    .line 10798
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v7}, Landroid/widget/TextView;->getEditableText()Landroid/text/Editable;

    move-result-object v1

    .line 10799
    .local v1, edit:Landroid/text/Editable;
    invoke-interface {v1}, Landroid/text/Editable;->length()I

    move-result v3

    .line 10800
    .local v3, length:I
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v7}, Landroid/widget/TextView;->getSelectionStart()I

    move-result v0

    .line 10801
    .local v0, cursor:I
    if-eqz v3, :cond_0

    if-nez v0, :cond_1

    .line 10819
    :cond_0
    :goto_0
    return-void

    .line 10804
    :cond_1
    const-class v7, Landroid/text/style/ImageSpan;

    invoke-interface {v1, v8, v0, v7}, Landroid/text/Editable;->getSpans(IILjava/lang/Class;)[Ljava/lang/Object;

    move-result-object v5

    check-cast v5, [Landroid/text/style/ImageSpan;

    .line 10805
    .local v5, spans:[Landroid/text/style/ImageSpan;
    const/4 v4, 0x0

    .line 10806
    .local v4, span:Landroid/text/style/ImageSpan;
    const/4 v2, 0x0

    .line 10807
    .local v2, index:I
    if-eqz v5, :cond_2

    array-length v7, v5

    if-eqz v7, :cond_2

    .line 10808
    array-length v7, v5

    add-int/lit8 v7, v7, -0x1

    aget-object v4, v5, v7

    .line 10809
    invoke-interface {v1, v4}, Landroid/text/Editable;->getSpanEnd(Ljava/lang/Object;)I

    move-result v2

    .line 10811
    :cond_2
    iput-boolean v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsNeedParseEmoticon:Z

    .line 10812
    if-ne v2, v0, :cond_3

    .line 10813
    invoke-interface {v1, v4}, Landroid/text/Editable;->getSpanStart(Ljava/lang/Object;)I

    move-result v6

    .line 10814
    .local v6, start:I
    invoke-interface {v1, v6, v0}, Landroid/text/Editable;->delete(II)Landroid/text/Editable;

    goto :goto_0

    .line 10816
    .end local v6           #start:I
    :cond_3
    add-int/lit8 v7, v0, -0x1

    invoke-interface {v1, v7, v0}, Landroid/text/Editable;->delete(II)Landroid/text/Editable;

    goto :goto_0
.end method

.method private dialRecipient(Ljava/lang/Boolean;)V
    .locals 5
    .parameter "isVideoCall"

    .prologue
    .line 4903
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientCallable()Z

    move-result v2

    if-eqz v2, :cond_0

    .line 4904
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v2

    const/4 v3, 0x0

    invoke-virtual {v2, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/mms/data/Contact;

    invoke-virtual {v2}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v1

    .line 4906
    .local v1, number:Ljava/lang/String;
    invoke-virtual {p1}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v2

    if-eqz v2, :cond_1

    .line 4907
    new-instance v0, Landroid/content/Intent;

    const-string v2, "android.intent.action.CALL"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "tel:"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v3}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v3

    invoke-direct {v0, v2, v3}, Landroid/content/Intent;-><init>(Ljava/lang/String;Landroid/net/Uri;)V

    .line 4908
    .local v0, dialIntent:Landroid/content/Intent;
    const-string v2, "com.android.phone.extra.video"

    const/4 v3, 0x1

    invoke-virtual {v0, v2, v3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Z)Landroid/content/Intent;

    .line 4912
    :goto_0
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideInputMethod()V

    .line 4913
    invoke-virtual {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivity(Landroid/content/Intent;)V

    .line 4915
    .end local v0           #dialIntent:Landroid/content/Intent;
    .end local v1           #number:Ljava/lang/String;
    :cond_0
    return-void

    .line 4910
    .restart local v1       #number:Ljava/lang/String;
    :cond_1
    new-instance v0, Landroid/content/Intent;

    const-string v2, "android.intent.action.DIAL"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "tel:"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v3}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v3

    invoke-direct {v0, v2, v3}, Landroid/content/Intent;-><init>(Ljava/lang/String;Landroid/net/Uri;)V

    .restart local v0       #dialIntent:Landroid/content/Intent;
    goto :goto_0
.end method

.method private doMmsAction(Landroid/os/Message;)V
    .locals 7
    .parameter "msg"

    .prologue
    const/4 v5, 0x0

    const/4 v4, 0x1

    .line 10872
    const/4 v2, 0x0

    .line 10873
    .local v2, commonAttachmentType:I
    invoke-virtual {p1}, Landroid/os/Message;->getData()Landroid/os/Bundle;

    move-result-object v1

    .line 10874
    .local v1, bundle:Landroid/os/Bundle;
    const-string v6, "shareAction"

    invoke-virtual {v1, v6}, Landroid/os/Bundle;->getInt(Ljava/lang/String;)I

    move-result v0

    .line 10875
    .local v0, action:I
    packed-switch v0, :pswitch_data_0

    .line 10914
    const-string v4, "Mms/ipmsg/compose"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "doMoreActionForMms(): invalid share action type: "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v4, v5}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 10915
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideSharePanelOrEmoticonPanel()V

    .line 10940
    :goto_0
    return-void

    .line 10877
    :pswitch_0
    const/4 v2, 0x1

    .line 10920
    :goto_1
    const/4 v6, 0x5

    invoke-static {v6}, Lcom/android/mms/MmsPluginManager;->getMmsPluginObject(I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;

    .line 10923
    .local v3, mMmsAttachmentEnhancePlugin:Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;
    if-eqz v3, :cond_2

    .line 10924
    invoke-interface {v3}, Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;->isSupportAttachmentEnhance()Z

    move-result v6

    if-eqz v6, :cond_0

    .line 10926
    invoke-direct {p0, v2, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->addAttachment(IZ)V

    .line 10927
    const-string v4, "Mms/compose"

    const-string v5, "attach: addAttachment(commonAttachmentType, true)"

    invoke-static {v4, v5}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 10939
    :goto_2
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideSharePanelOrEmoticonPanel()V

    goto :goto_0

    .line 10881
    .end local v3           #mMmsAttachmentEnhancePlugin:Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;
    :pswitch_1
    const/4 v2, 0x3

    .line 10882
    goto :goto_1

    .line 10885
    :pswitch_2
    const/4 v2, 0x5

    .line 10886
    goto :goto_1

    .line 10889
    :pswitch_3
    const/4 v2, 0x7

    .line 10890
    goto :goto_1

    .line 10893
    :pswitch_4
    const/4 v2, 0x0

    .line 10894
    goto :goto_1

    .line 10897
    :pswitch_5
    const/4 v2, 0x2

    .line 10898
    goto :goto_1

    .line 10902
    :pswitch_6
    const/4 v2, 0x4

    .line 10903
    goto :goto_1

    .line 10906
    :pswitch_7
    const/16 v2, 0x8

    .line 10907
    goto :goto_1

    .line 10910
    :pswitch_8
    const/4 v2, 0x6

    .line 10911
    goto :goto_1

    .line 10930
    .restart local v3       #mMmsAttachmentEnhancePlugin:Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;
    :cond_0
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v6}, Lcom/android/mms/data/WorkingMessage;->hasAttachedFiles()Z

    move-result v6

    if-nez v6, :cond_1

    :goto_3
    invoke-direct {p0, v2, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->addAttachment(IZ)V

    .line 10931
    const-string v4, "Mms/compose"

    const-string v5, "attach: addAttachment(commonAttachmentType, !mWorkingMessage.hasAttachedFiles())"

    invoke-static {v4, v5}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_2

    :cond_1
    move v4, v5

    .line 10930
    goto :goto_3

    .line 10934
    :cond_2
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v6}, Lcom/android/mms/data/WorkingMessage;->hasAttachedFiles()Z

    move-result v6

    if-nez v6, :cond_3

    :goto_4
    invoke-direct {p0, v2, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->addAttachment(IZ)V

    .line 10935
    const-string v4, "Mms/compose"

    const-string v5, "attach: addAttachment(commonAttachmentType, !mWorkingMessage.hasAttachedFiles())"

    invoke-static {v4, v5}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_2

    :cond_3
    move v4, v5

    .line 10934
    goto :goto_4

    .line 10875
    nop

    :pswitch_data_0
    .packed-switch 0x0
        :pswitch_0
        :pswitch_1
        :pswitch_2
        :pswitch_3
        :pswitch_4
        :pswitch_5
        :pswitch_6
        :pswitch_7
        :pswitch_8
    .end packed-switch
.end method

.method private doMoreAction(Landroid/os/Message;)V
    .locals 7
    .parameter "msg"

    .prologue
    const/4 v3, 0x1

    const/4 v4, 0x0

    .line 10943
    invoke-virtual {p1}, Landroid/os/Message;->getData()Landroid/os/Bundle;

    move-result-object v1

    .line 10944
    .local v1, bundle:Landroid/os/Bundle;
    const-string v5, "shareAction"

    invoke-virtual {v1, v5}, Landroid/os/Bundle;->getInt(Ljava/lang/String;)I

    move-result v0

    .line 10946
    .local v0, action:I
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v5}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v5

    if-nez v5, :cond_0

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isCurrentRecipientIpMessageUser()Z

    move-result v5

    if-nez v5, :cond_1

    :cond_0
    const/16 v5, 0x67

    if-eq v0, v5, :cond_1

    const/16 v5, 0x6b

    if-eq v0, v5, :cond_1

    .line 10948
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->doMoreActionForMms(Landroid/os/Message;)V

    .line 11059
    :goto_0
    return-void

    .line 10952
    :cond_1
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v5

    if-eqz v5, :cond_2

    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v5}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-eqz v5, :cond_2

    move v2, v3

    .line 10953
    .local v2, isNoRecipient:Z
    :goto_1
    packed-switch v0, :pswitch_data_0

    .line 11055
    const-string v3, "Mms/ipmsg/compose"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "doMoreAction(): invalid share action type: "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 11058
    :goto_2
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideSharePanelOrEmoticonPanel()V

    goto :goto_0

    .end local v2           #isNoRecipient:Z
    :cond_2
    move v2, v4

    .line 10952
    goto :goto_1

    .line 10955
    .restart local v2       #isNoRecipient:Z
    :pswitch_0
    if-eqz v2, :cond_4

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    if-eqz v3, :cond_3

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImageCaptionOn:Z

    if-nez v3, :cond_4

    .line 10956
    :cond_3
    invoke-static {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->toastNoRecipients(Landroid/content/Context;)V

    goto :goto_0

    .line 10959
    :cond_4
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->takePhoto()V

    goto :goto_2

    .line 10963
    :pswitch_1
    if-eqz v2, :cond_6

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    if-eqz v3, :cond_5

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsVideoCaptionOn:Z

    if-nez v3, :cond_6

    .line 10964
    :cond_5
    invoke-static {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->toastNoRecipients(Landroid/content/Context;)V

    goto :goto_0

    .line 10967
    :cond_6
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->recordVideo()V

    goto :goto_2

    .line 10971
    :pswitch_2
    if-eqz v2, :cond_7

    .line 10972
    invoke-static {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->toastNoRecipients(Landroid/content/Context;)V

    goto :goto_0

    .line 10976
    :cond_7
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isCurrentRecipientIpMessageUser()Z

    move-result v3

    if-eqz v3, :cond_8

    .line 10977
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->drawSketch()V

    goto :goto_2

    .line 10979
    :cond_8
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->doMoreActionForMms(Landroid/os/Message;)V

    goto :goto_2

    .line 10985
    :pswitch_3
    if-eqz v2, :cond_9

    .line 10986
    invoke-static {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->toastNoRecipients(Landroid/content/Context;)V

    goto :goto_0

    .line 10989
    :cond_9
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->shareContact()V

    goto :goto_2

    .line 10993
    :pswitch_4
    if-eqz v2, :cond_b

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    if-eqz v3, :cond_a

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImageCaptionOn:Z

    if-nez v3, :cond_b

    .line 10994
    :cond_a
    invoke-static {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->toastNoRecipients(Landroid/content/Context;)V

    goto/16 :goto_0

    .line 10997
    :cond_b
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->choosePhoto()V

    goto :goto_2

    .line 11001
    :pswitch_5
    if-eqz v2, :cond_d

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    if-eqz v3, :cond_c

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsVideoCaptionOn:Z

    if-nez v3, :cond_d

    .line 11002
    :cond_c
    invoke-static {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->toastNoRecipients(Landroid/content/Context;)V

    goto/16 :goto_0

    .line 11005
    :cond_d
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->chooseVideo()V

    goto :goto_2

    .line 11009
    :pswitch_6
    if-eqz v2, :cond_f

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    if-eqz v3, :cond_e

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsAudioCaptionOn:Z

    if-nez v3, :cond_f

    .line 11010
    :cond_e
    invoke-static {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->toastNoRecipients(Landroid/content/Context;)V

    goto/16 :goto_0

    .line 11013
    :cond_f
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->recordAudio()V

    goto :goto_2

    .line 11017
    :pswitch_7
    if-eqz v2, :cond_10

    .line 11018
    invoke-static {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->toastNoRecipients(Landroid/content/Context;)V

    goto/16 :goto_0

    .line 11022
    :cond_10
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isCurrentRecipientIpMessageUser()Z

    move-result v3

    if-eqz v3, :cond_11

    .line 11023
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->shareLocation()V

    goto/16 :goto_2

    .line 11025
    :cond_11
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->shareSMSLocation()V

    goto/16 :goto_2

    .line 11031
    :pswitch_8
    if-eqz v2, :cond_13

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    if-eqz v3, :cond_12

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsAudioCaptionOn:Z

    if-nez v3, :cond_13

    .line 11032
    :cond_12
    invoke-static {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->toastNoRecipients(Landroid/content/Context;)V

    goto/16 :goto_0

    .line 11035
    :cond_13
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->chooseAudio()V

    goto/16 :goto_2

    .line 11039
    :pswitch_9
    if-eqz v2, :cond_14

    .line 11040
    invoke-static {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->toastNoRecipients(Landroid/content/Context;)V

    goto/16 :goto_0

    .line 11043
    :cond_14
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->shareCalendar()V

    goto/16 :goto_2

    .line 11049
    :pswitch_a
    invoke-virtual {p0, v4, v4, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->showSharePanelOrEmoticonPanel(ZZZ)V

    .line 11050
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsEditingSlideshow:Z

    .line 11051
    const/4 v5, 0x6

    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v6}, Lcom/android/mms/data/WorkingMessage;->hasAttachedFiles()Z

    move-result v6

    if-nez v6, :cond_15

    :goto_3
    invoke-direct {p0, v5, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->addAttachment(IZ)V

    goto/16 :goto_2

    :cond_15
    move v3, v4

    goto :goto_3

    .line 10953
    nop

    :pswitch_data_0
    .packed-switch 0x64
        :pswitch_0
        :pswitch_1
        :pswitch_6
        :pswitch_2
        :pswitch_4
        :pswitch_5
        :pswitch_8
        :pswitch_7
        :pswitch_3
        :pswitch_9
        :pswitch_a
    .end packed-switch
.end method

.method private doMoreActionForMms(Landroid/os/Message;)V
    .locals 8
    .parameter "msg"

    .prologue
    const/4 v3, 0x1

    const/4 v4, 0x0

    .line 11062
    const/4 v2, 0x0

    .line 11063
    .local v2, commonAttachmentType:I
    invoke-virtual {p1}, Landroid/os/Message;->getData()Landroid/os/Bundle;

    move-result-object v1

    .line 11064
    .local v1, bundle:Landroid/os/Bundle;
    const-string v5, "shareAction"

    invoke-virtual {v1, v5}, Landroid/os/Bundle;->getInt(Ljava/lang/String;)I

    move-result v0

    .line 11065
    .local v0, action:I
    packed-switch v0, :pswitch_data_0

    .line 11135
    :cond_0
    const-string v3, "Mms/ipmsg/compose"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "doMoreActionForMms(): invalid share action type: "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 11136
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideSharePanelOrEmoticonPanel()V

    .line 11141
    :goto_0
    return-void

    .line 11067
    :pswitch_0
    const/4 v2, 0x1

    .line 11139
    :goto_1
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v5}, Lcom/android/mms/data/WorkingMessage;->hasAttachedFiles()Z

    move-result v5

    if-nez v5, :cond_6

    :goto_2
    invoke-direct {p0, v2, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->addAttachment(IZ)V

    .line 11140
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideSharePanelOrEmoticonPanel()V

    goto :goto_0

    .line 11071
    :pswitch_1
    const/4 v2, 0x3

    .line 11072
    goto :goto_1

    .line 11075
    :pswitch_2
    const/4 v2, 0x7

    .line 11076
    goto :goto_1

    .line 11079
    :pswitch_3
    const/4 v2, 0x0

    .line 11080
    goto :goto_1

    .line 11083
    :pswitch_4
    const/4 v2, 0x2

    .line 11084
    goto :goto_1

    .line 11087
    :pswitch_5
    const/4 v2, 0x5

    .line 11088
    goto :goto_1

    .line 11091
    :pswitch_6
    const/4 v2, 0x4

    .line 11092
    goto :goto_1

    .line 11095
    :pswitch_7
    const/16 v2, 0x8

    .line 11096
    goto :goto_1

    .line 11099
    :pswitch_8
    const/4 v2, 0x6

    .line 11100
    goto :goto_1

    .line 11104
    :pswitch_9
    const-string v5, "Mms/ipmsg/compose"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "doMoreActionForMms(): unsupport action type: "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v5, v6}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 11105
    iget v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    if-nez v5, :cond_1

    .line 11106
    invoke-static {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->toastNoSimCard(Landroid/content/Context;)V

    goto :goto_0

    .line 11109
    :cond_1
    invoke-static {}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getSDCardStatus()Z

    move-result v5

    if-nez v5, :cond_2

    .line 11110
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v3

    const/16 v4, 0xc5

    invoke-virtual {v3, v4}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v3

    invoke-static {p0, v3}, Lcom/android/mms/ui/MessageUtils;->createLoseSDCardNotice(Landroid/content/Context;Ljava/lang/String;)V

    goto :goto_0

    .line 11115
    :cond_2
    invoke-direct {p0, p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isNetworkConnected(Landroid/content/Context;)Z

    move-result v5

    if-nez v5, :cond_3

    .line 11116
    const v3, 0x7f0b01db

    invoke-static {p0, v3, v4}, Landroid/widget/Toast;->makeText(Landroid/content/Context;II)Landroid/widget/Toast;

    move-result-object v3

    invoke-virtual {v3}, Landroid/widget/Toast;->show()V

    goto :goto_0

    .line 11120
    :cond_3
    const/4 v5, 0x0

    const/4 v6, 0x3

    invoke-static {p0, v3, v5, v6}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->checkCurrentIpMessageServiceStatus(Landroid/app/Activity;ZLandroid/os/Handler;I)Z

    move-result v5

    if-eqz v5, :cond_5

    .line 11122
    const/16 v5, 0x67

    if-ne v0, v5, :cond_4

    .line 11123
    const/16 v2, 0x9

    .line 11124
    goto :goto_1

    .line 11125
    :cond_4
    const/16 v3, 0x6b

    if-ne v0, v3, :cond_0

    .line 11126
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideSharePanelOrEmoticonPanel()V

    goto :goto_0

    .line 11130
    :cond_5
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideSharePanelOrEmoticonPanel()V

    goto/16 :goto_0

    :cond_6
    move v3, v4

    .line 11139
    goto :goto_2

    .line 11065
    :pswitch_data_0
    .packed-switch 0x64
        :pswitch_0
        :pswitch_1
        :pswitch_5
        :pswitch_9
        :pswitch_3
        :pswitch_4
        :pswitch_6
        :pswitch_9
        :pswitch_2
        :pswitch_7
        :pswitch_8
    .end packed-switch
.end method

.method private drawBottomPanel()V
    .locals 5

    .prologue
    const/4 v4, 0x0

    .line 6454
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDrawBottomPanel:Z

    .line 6459
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->hasSlideshow()Z

    move-result v2

    if-eqz v2, :cond_1

    .line 6460
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->getIsUpdateAttachEditor()Z

    move-result v2

    if-eqz v2, :cond_0

    .line 6461
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBottomPanel:Landroid/view/View;

    const/16 v3, 0x8

    invoke-virtual {v2, v3}, Landroid/view/View;->setVisibility(I)V

    .line 6463
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v2}, Lcom/mediatek/mms/ext/IMmsCompose;->hideCTButtonPanel()Z

    .line 6464
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2, v3}, Lcom/android/mms/ui/AttachmentEditor;->update(Lcom/android/mms/data/WorkingMessage;)Z

    .line 6465
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

    invoke-virtual {v2}, Landroid/view/View;->requestFocus()Z

    .line 6496
    :goto_0
    return-void

    .line 6467
    :cond_0
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    const/4 v3, 0x1

    invoke-virtual {v2, v3}, Lcom/android/mms/data/WorkingMessage;->setIsUpdateAttachEditor(Z)V

    goto :goto_0

    .line 6471
    :cond_1
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2, v3}, Lcom/android/mms/ui/AttachmentEditor;->update(Lcom/android/mms/data/WorkingMessage;)Z

    .line 6472
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateTextEditorHeightInFullScreen()V

    .line 6474
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBottomPanel:Landroid/view/View;

    invoke-virtual {v2, v4}, Landroid/view/View;->setVisibility(I)V

    .line 6476
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v2}, Lcom/mediatek/mms/ext/IMmsCompose;->showCTButtonPanel()Z

    .line 6478
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->getText()Ljava/lang/CharSequence;

    move-result-object v1

    .line 6481
    .local v1, text:Ljava/lang/CharSequence;
    if-eqz v1, :cond_2

    .line 6482
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v2, v1}, Landroid/widget/TextView;->setTextKeepState(Ljava/lang/CharSequence;)V

    .line 6485
    :try_start_0
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v3}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/String;->length()I

    move-result v3

    invoke-virtual {v2, v3}, Landroid/widget/EditText;->setSelection(I)V
    :try_end_0
    .catch Ljava/lang/IndexOutOfBoundsException; {:try_start_0 .. :try_end_0} :catch_0

    .line 6495
    :goto_1
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->getText()Ljava/lang/CharSequence;

    move-result-object v2

    invoke-direct {p0, v2, v4, v4, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->updateCounter(Ljava/lang/CharSequence;III)V

    goto :goto_0

    .line 6486
    :catch_0
    move-exception v0

    .line 6487
    .local v0, e:Ljava/lang/IndexOutOfBoundsException;
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v3}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/String;->length()I

    move-result v3

    add-int/lit8 v3, v3, -0x1

    invoke-virtual {v2, v3}, Landroid/widget/EditText;->setSelection(I)V

    goto :goto_1

    .line 6491
    .end local v0           #e:Ljava/lang/IndexOutOfBoundsException;
    :cond_2
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    const-string v3, ""

    invoke-virtual {v2, v3}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    goto :goto_1
.end method

.method private drawTopPanel(Z)V
    .locals 4
    .parameter "showSubjectEditor"

    .prologue
    .line 6503
    const/4 v1, 0x0

    .line 6504
    .local v1, isHasSubject:Z
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    if-nez v2, :cond_1

    .line 6505
    const/4 v1, 0x0

    .line 6509
    :goto_0
    const/4 v0, 0x0

    .line 6510
    .local v0, isDeleteMode:Z
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    if-nez v2, :cond_2

    .line 6511
    const/4 v0, 0x0

    .line 6515
    :goto_1
    if-nez p1, :cond_0

    if-eqz v1, :cond_3

    :cond_0
    if-nez v0, :cond_3

    const/4 v2, 0x1

    :goto_2
    invoke-direct {p0, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->showSubjectEditor(Z)V

    .line 6516
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2, v3}, Lcom/android/mms/ui/AttachmentEditor;->update(Lcom/android/mms/data/WorkingMessage;)Z

    .line 6517
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateTextEditorHeightInFullScreen()V

    .line 6519
    return-void

    .line 6507
    .end local v0           #isDeleteMode:Z
    :cond_1
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->hasSubject()Z

    move-result v1

    goto :goto_0

    .line 6513
    .restart local v0       #isDeleteMode:Z
    :cond_2
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    iget-boolean v0, v2, Lcom/android/mms/ui/MessageListAdapter;->mIsDeleteMode:Z

    goto :goto_1

    .line 6515
    :cond_3
    const/4 v2, 0x0

    goto :goto_2
.end method

.method private editMessageItem(Lcom/android/mms/ui/MessageItem;)V
    .locals 6
    .parameter "msgItem"

    .prologue
    const/4 v5, 0x0

    const/4 v4, 0x0

    const/4 v3, 0x1

    .line 2200
    const-string v1, "sms"

    iget-object v2, p1, Lcom/android/mms/ui/MessageItem;->mType:Ljava/lang/String;

    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-eqz v1, :cond_3

    .line 2201
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1}, Lcom/android/mms/data/WorkingMessage;->hasSlideshow()Z

    move-result v1

    if-eqz v1, :cond_1

    .line 2203
    const v1, 0x7f0b026f

    new-array v2, v3, [Ljava/lang/Object;

    const v3, 0x7f0b00f1

    invoke-virtual {p0, v3}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v3

    aput-object v3, v2, v4

    invoke-virtual {p0, v1, v2}, Landroid/content/Context;->getString(I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    .line 2204
    .local v0, message:Ljava/lang/String;
    invoke-static {p0, v0, v4}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v1

    invoke-virtual {v1}, Landroid/widget/Toast;->show()V

    .line 2223
    .end local v0           #message:Ljava/lang/String;
    :cond_0
    :goto_0
    return-void

    .line 2207
    :cond_1
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->editSmsMessageItem(Lcom/android/mms/ui/MessageItem;)V

    .line 2214
    :goto_1
    invoke-virtual {p1}, Lcom/android/mms/ui/MessageItem;->isFailedMessage()Z

    move-result v1

    if-nez v1, :cond_2

    invoke-virtual {p1}, Lcom/android/mms/ui/MessageItem;->isSending()Z

    move-result v1

    if-eqz v1, :cond_0

    :cond_2
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v1}, Landroid/widget/CursorAdapter;->getCount()I

    move-result v1

    if-gt v1, v3, :cond_0

    .line 2216
    invoke-direct {p0, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->initRecipientsEditor(Landroid/os/Bundle;)V

    .line 2218
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->isInitRecipientsEditor:Z

    .line 2220
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v1, v5}, Lcom/android/mms/ui/MessageListAdapter;->changeCursor(Landroid/database/Cursor;)V

    .line 2221
    invoke-virtual {p0}, Landroid/app/Activity;->invalidateOptionsMenu()V

    goto :goto_0

    .line 2210
    :cond_3
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->editMmsMessageItem(Lcom/android/mms/ui/MessageItem;)V

    .line 2211
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1, v3}, Lcom/android/mms/data/WorkingMessage;->setHasMmsDraft(Z)V

    goto :goto_1
.end method

.method private editMmsMessageItem(Lcom/android/mms/ui/MessageItem;)V
    .locals 10
    .parameter "msgItem"

    .prologue
    const/4 v9, 0x1

    const/4 v8, 0x0

    .line 2254
    iget-wide v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEditClickTime:J

    .line 2255
    .local v2, oldTime:J
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v4

    iput-wide v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEditClickTime:J

    .line 2256
    iget-wide v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEditClickTime:J

    sub-long/2addr v4, v2

    const-wide/16 v6, 0x3e8

    cmp-long v4, v4, v6

    if-gez v4, :cond_0

    iget-wide v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEditClickTime:J

    sub-long/2addr v4, v2

    const-wide/16 v6, 0x0

    cmp-long v4, v4, v6

    if-lez v4, :cond_0

    .line 2257
    const-string v4, "Mms/compose"

    const-string v5, "editMmsMessageItem, ignore a click if too close"

    invoke-static {v4, v5}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 2304
    :goto_0
    return-void

    .line 2262
    :cond_0
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v4}, Lcom/android/mms/data/Conversation;->getMessageCount()I

    move-result v4

    if-ne v4, v9, :cond_1

    .line 2263
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v4, v8}, Lcom/android/mms/data/Conversation;->setMessageCount(I)V

    .line 2266
    :cond_1
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->discard()V

    .line 2269
    iget-object v4, p1, Lcom/android/mms/ui/MessageItem;->mMessageUri:Landroid/net/Uri;

    invoke-static {p0, v4}, Lcom/android/mms/data/WorkingMessage;->load(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;)Lcom/android/mms/data/WorkingMessage;

    move-result-object v1

    .line 2270
    .local v1, newWorkingMessage:Lcom/android/mms/data/WorkingMessage;
    if-nez v1, :cond_2

    .line 2271
    const-string v4, "Mms/compose"

    const-string v5, "editMmsMessageItem, load returns null message"

    invoke-static {v4, v5}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0

    .line 2274
    :cond_2
    iput-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    .line 2275
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v4, v5}, Lcom/android/mms/data/WorkingMessage;->setConversation(Lcom/android/mms/data/Conversation;)V

    .line 2276
    invoke-virtual {p0}, Landroid/app/Activity;->invalidateOptionsMenu()V

    .line 2278
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4, v5}, Lcom/android/mms/ui/AttachmentEditor;->update(Lcom/android/mms/data/WorkingMessage;)Z

    .line 2279
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateTextEditorHeightInFullScreen()V

    .line 2281
    invoke-direct {p0, v8}, Lcom/android/mms/ui/ComposeMessageActivity;->drawTopPanel(Z)V

    .line 2286
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    iget-object v5, p1, Lcom/android/mms/ui/MessageItem;->mSubject:Ljava/lang/String;

    invoke-virtual {v4, v5, v8}, Lcom/android/mms/data/WorkingMessage;->setSubject(Ljava/lang/CharSequence;Z)V

    .line 2288
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->hasSubject()Z

    move-result v4

    if-eqz v4, :cond_3

    .line 2289
    invoke-direct {p0, v9}, Lcom/android/mms/ui/ComposeMessageActivity;->showSubjectEditor(Z)V

    .line 2293
    :cond_3
    move-object v0, p1

    .line 2294
    .local v0, item:Lcom/android/mms/ui/MessageItem;
    new-instance v4, Ljava/lang/Thread;

    new-instance v5, Lcom/android/mms/ui/ComposeMessageActivity$19;

    invoke-direct {v5, p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity$19;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/MessageItem;)V

    invoke-direct {v4, v5}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v4}, Ljava/lang/Thread;->start()V

    goto :goto_0
.end method

.method private editSlideshow()V
    .locals 4

    .prologue
    .line 910
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getAsyncDialog()Lcom/android/mms/ui/AsyncDialog;

    move-result-object v0

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$8;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$8;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$9;

    invoke-direct {v2, p0}, Lcom/android/mms/ui/ComposeMessageActivity$9;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    const v3, 0x7f0b0110

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/mms/ui/AsyncDialog;->runAsync(Ljava/lang/Runnable;Ljava/lang/Runnable;I)V

    .line 939
    return-void
.end method

.method private editSmsMessageItem(Lcom/android/mms/ui/MessageItem;)V
    .locals 6
    .parameter "msgItem"

    .prologue
    const/4 v5, 0x0

    .line 2233
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    monitor-enter v2

    .line 2236
    :try_start_0
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v1}, Landroid/widget/CursorAdapter;->getCursor()Landroid/database/Cursor;

    move-result-object v1

    invoke-interface {v1}, Landroid/database/Cursor;->getCount()I

    move-result v1

    const/4 v3, 0x1

    if-gt v1, v3, :cond_0

    .line 2238
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v1}, Lcom/android/mms/data/Conversation;->clearThreadId()V

    .line 2239
    const-wide/16 v3, -0x2

    invoke-static {v3, v4}, Lcom/android/mms/transaction/MessagingNotification;->setCurrentlyDisplayedThreadId(J)V

    .line 2242
    :cond_0
    monitor-exit v2
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 2244
    sget-object v1, Landroid/provider/Telephony$Sms;->CONTENT_URI:Landroid/net/Uri;

    iget-wide v2, p1, Lcom/android/mms/ui/MessageItem;->mMsgId:J

    invoke-static {v1, v2, v3}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v0

    .line 2245
    .local v0, uri:Landroid/net/Uri;
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContentResolver:Landroid/content/ContentResolver;

    invoke-static {p0, v1, v0, v5, v5}, Landroid/database/sqlite/SqliteWrapper;->delete(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I

    .line 2248
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v1, v2}, Lcom/android/mms/data/WorkingMessage;->setConversation(Lcom/android/mms/data/Conversation;)V

    .line 2249
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    iget-object v2, p1, Lcom/android/mms/ui/MessageItem;->mBody:Ljava/lang/String;

    invoke-virtual {v1, v2}, Lcom/android/mms/data/WorkingMessage;->setText(Ljava/lang/CharSequence;)V

    .line 2250
    return-void

    .line 2242
    .end local v0           #uri:Landroid/net/Uri;
    :catchall_0
    move-exception v1

    :try_start_1
    monitor-exit v2
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    throw v1
.end method

.method private exitComposeMessageActivity(Ljava/lang/Runnable;)V
    .locals 4
    .parameter "exit"

    .prologue
    const/4 v3, 0x1

    .line 4630
    invoke-static {}, Lcom/android/mms/ui/VideoThumbnailCache;->clear()V

    .line 4633
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->isWorthSaving()Z

    move-result v0

    if-nez v0, :cond_0

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v0, :cond_0

    .line 4635
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->discard()V

    .line 4636
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHasDiscardWorkingMessage:Z

    .line 4638
    invoke-interface {p1}, Ljava/lang/Runnable;->run()V

    .line 4660
    :goto_0
    return-void

    .line 4642
    :cond_0
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v0

    if-eqz v0, :cond_1

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v1

    invoke-virtual {v0, v1}, Lcom/android/mms/ui/RecipientsEditor;->hasValidRecipient(Z)Z

    move-result v0

    if-nez v0, :cond_1

    .line 4644
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$DiscardDraftListener;

    const/4 v1, 0x0

    invoke-direct {v0, p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity$DiscardDraftListener;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/ComposeMessageActivity$1;)V

    invoke-static {p0, v0}, Lcom/android/mms/ui/MessageUtils;->showDiscardDraftConfirmDialog(Landroid/content/Context;Landroid/content/DialogInterface$OnClickListener;)V

    goto :goto_0

    .line 4648
    :cond_1
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->needSaveDraft()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 4649
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

    if-eqz v0, :cond_2

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

    invoke-static {}, Lcom/android/mms/MmsConfig;->getDeviceStorageFullStatus()Z

    move-result v1

    const/4 v2, 0x0

    invoke-interface {v0, p0, v1, v3, v2}, Lcom/mediatek/mms/ext/IMmsUtils;->allowSafeDraft(Landroid/app/Activity;ZZI)Z

    move-result v0

    if-eqz v0, :cond_2

    .line 4653
    invoke-static {}, Lcom/android/mms/ui/SearchActivity;->setNeedRequery()V

    .line 4654
    invoke-static {}, Lcom/android/mms/util/DraftCache;->getInstance()Lcom/android/mms/util/DraftCache;

    move-result-object v0

    invoke-virtual {v0, v3}, Lcom/android/mms/util/DraftCache;->setSavingDraft(Z)V

    .line 4657
    :cond_2
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-static {v3}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;

    move-result-object v1

    invoke-virtual {v0, v1}, Lcom/android/mms/data/WorkingMessage;->setNeedDeleteOldMmsDraft(Ljava/lang/Boolean;)V

    .line 4658
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mToastForDraftSave:Z

    .line 4659
    invoke-interface {p1}, Ljava/lang/Runnable;->run()V

    goto :goto_0
.end method

.method private formatLastOnlineTime(I)Ljava/lang/String;
    .locals 4
    .parameter "time"

    .prologue
    .line 12364
    int-to-long v0, p1

    const-wide/16 v2, 0x3e8

    mul-long/2addr v0, v2

    const/4 v2, 0x1

    invoke-static {p0, v0, v1, v2}, Lcom/android/mms/ui/MessageUtils;->formatTimeStampString(Landroid/content/Context;JZ)Ljava/lang/String;

    move-result-object v0

    return-object v0
.end method

.method private forwardIpMsg(Landroid/content/Context;J)Z
    .locals 5
    .parameter "context"
    .parameter "msgId"

    .prologue
    const-wide/16 v3, 0x0

    const/4 v1, 0x1

    .line 14013
    cmp-long v2, p2, v3

    if-gtz v2, :cond_0

    .line 14014
    const/4 v1, 0x0

    .line 14022
    :goto_0
    return v1

    .line 14016
    :cond_0
    invoke-static {p1, v3, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->createIntent(Landroid/content/Context;J)Landroid/content/Intent;

    move-result-object v0

    .line 14017
    .local v0, intent:Landroid/content/Intent;
    const-string v2, "forwarded_message"

    invoke-virtual {v0, v2, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Z)Landroid/content/Intent;

    .line 14018
    const-string v2, "forwarded_ip_message"

    invoke-virtual {v0, v2, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Z)Landroid/content/Intent;

    .line 14019
    const-string v2, "ip_msg_id"

    invoke-virtual {v0, v2, p2, p3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;J)Landroid/content/Intent;

    .line 14020
    const-string v2, "com.android.mms.ui.ForwardMessageActivity"

    invoke-virtual {v0, p1, v2}, Landroid/content/Intent;->setClassName(Landroid/content/Context;Ljava/lang/String;)Landroid/content/Intent;

    .line 14021
    invoke-virtual {p1, v0}, Landroid/content/Context;->startActivity(Landroid/content/Intent;)V

    goto :goto_0
.end method

.method private forwardMessage(Lcom/android/mms/ui/MessageItem;)V
    .locals 4
    .parameter "msgItem"

    .prologue
    .line 2313
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideInputMethod()V

    .line 2316
    const-wide/16 v0, 0x0

    iput-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTempThreadId:J

    .line 2322
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getAsyncDialog()Lcom/android/mms/ui/AsyncDialog;

    move-result-object v0

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$20;

    invoke-direct {v1, p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity$20;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/MessageItem;)V

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$21;

    invoke-direct {v2, p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity$21;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/MessageItem;)V

    const v3, 0x7f0b0110

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/mms/ui/AsyncDialog;->runAsync(Ljava/lang/Runnable;Ljava/lang/Runnable;I)V

    .line 2410
    return-void
.end method

.method private getActiveNetworkInfo(Landroid/content/Context;)Landroid/net/NetworkInfo;
    .locals 2
    .parameter "context"

    .prologue
    .line 14095
    const-string v1, "connectivity"

    invoke-virtual {p1, v1}, Landroid/content/Context;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/net/ConnectivityManager;

    .line 14097
    .local v0, connectivity:Landroid/net/ConnectivityManager;
    if-nez v0, :cond_0

    .line 14098
    const/4 v1, 0x0

    .line 14100
    :goto_0
    return-object v1

    :cond_0
    invoke-virtual {v0}, Landroid/net/ConnectivityManager;->getActiveNetworkInfo()Landroid/net/NetworkInfo;

    move-result-object v1

    goto :goto_0
.end method

.method private getAllFailedIpMsgByThreadId(J)[[J
    .locals 10
    .parameter "threadId"

    .prologue
    const/4 v2, 0x2

    const/4 v4, 0x0

    const/4 v9, 0x1

    const/4 v5, 0x0

    .line 13802
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v0

    sget-object v1, Landroid/provider/Telephony$Sms;->CONTENT_URI:Landroid/net/Uri;

    new-array v2, v2, [Ljava/lang/String;

    const-string v3, "_id"

    aput-object v3, v2, v5

    const-string v3, "sim_id"

    aput-object v3, v2, v9

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "thread_id = "

    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p1, p2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v5, " and ipmsg_id > 0 and type = "

    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const/4 v5, 0x5

    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    move-object v5, v4

    invoke-virtual/range {v0 .. v5}, Landroid/content/ContentResolver;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v7

    .line 13806
    .local v7, cursor:Landroid/database/Cursor;
    if-nez v7, :cond_0

    .line 13807
    const/4 v0, 0x0

    :try_start_0
    check-cast v0, [[J
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 13818
    invoke-interface {v7}, Landroid/database/Cursor;->close()V

    :goto_0
    return-object v0

    .line 13809
    :cond_0
    :try_start_1
    invoke-interface {v7}, Landroid/database/Cursor;->getCount()I

    move-result v0

    const/4 v1, 0x2

    filled-new-array {v0, v1}, [I

    move-result-object v0

    sget-object v1, Ljava/lang/Long;->TYPE:Ljava/lang/Class;

    invoke-static {v1, v0}, Ljava/lang/reflect/Array;->newInstance(Ljava/lang/Class;[I)Ljava/lang/Object;

    move-result-object v6

    check-cast v6, [[J

    .line 13810
    .local v6, count:[[J
    const/4 v8, 0x0

    .line 13811
    .local v8, index:I
    :goto_1
    invoke-interface {v7}, Landroid/database/Cursor;->moveToNext()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 13812
    aget-object v0, v6, v8

    const/4 v1, 0x0

    const/4 v2, 0x0

    invoke-interface {v7, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v2

    aput-wide v2, v0, v1

    .line 13813
    aget-object v0, v6, v8

    const/4 v1, 0x1

    const/4 v2, 0x1

    invoke-interface {v7, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v2

    aput-wide v2, v0, v1
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 13814
    add-int/lit8 v8, v8, 0x1

    goto :goto_1

    .line 13818
    :cond_1
    invoke-interface {v7}, Landroid/database/Cursor;->close()V

    move-object v0, v6

    goto :goto_0

    .end local v6           #count:[[J
    .end local v8           #index:I
    :catchall_0
    move-exception v0

    invoke-interface {v7}, Landroid/database/Cursor;->close()V

    throw v0
.end method

.method private getAudio(Landroid/content/Intent;)Z
    .locals 13
    .parameter "data"

    .prologue
    const/4 v12, 0x1

    const/4 v2, 0x0

    const/4 v11, 0x0

    .line 11930
    const-string v3, "android.intent.extra.ringtone.PICKED_URI"

    invoke-virtual {p1, v3}, Landroid/content/Intent;->getParcelableExtra(Ljava/lang/String;)Landroid/os/Parcelable;

    move-result-object v1

    check-cast v1, Landroid/net/Uri;

    .line 11931
    .local v1, uri:Landroid/net/Uri;
    sget-object v3, Lcom/mediatek/encapsulation/android/provider/EncapsulatedSettings$System;->DEFAULT_RINGTONE_URI:Landroid/net/Uri;

    invoke-virtual {v3, v1}, Landroid/net/Uri;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_0

    move v2, v11

    .line 11981
    :goto_0
    return v2

    .line 11934
    :cond_0
    if-nez v1, :cond_1

    .line 11935
    invoke-virtual {p1}, Landroid/content/Intent;->getData()Landroid/net/Uri;

    move-result-object v1

    .line 11937
    :cond_1
    if-nez v1, :cond_2

    .line 11938
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "getAudio(): choose audio failed, uri is null"

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    move v2, v11

    .line 11939
    goto :goto_0

    .line 11941
    :cond_2
    invoke-virtual {v1}, Landroid/net/Uri;->getScheme()Ljava/lang/String;

    move-result-object v10

    .line 11942
    .local v10, scheme:Ljava/lang/String;
    const-string v3, "file"

    invoke-virtual {v10, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_3

    .line 11943
    invoke-virtual {v1}, Landroid/net/Uri;->getEncodedPath()Ljava/lang/String;

    move-result-object v2

    iput-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    .line 11952
    :goto_1
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-static {v2}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->isAudio(Ljava/lang/String;)Z

    move-result v2

    if-nez v2, :cond_4

    .line 11953
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v2

    const/16 v3, 0xcc

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v2

    invoke-static {p0, v2, v11}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v2

    invoke-virtual {v2}, Landroid/widget/Toast;->show()V

    move v2, v11

    .line 11957
    goto :goto_0

    .line 11945
    :cond_3
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v0

    .local v0, cr:Landroid/content/ContentResolver;
    move-object v3, v2

    move-object v4, v2

    move-object v5, v2

    .line 11946
    invoke-virtual/range {v0 .. v5}, Landroid/content/ContentResolver;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v6

    .line 11947
    .local v6, c:Landroid/database/Cursor;
    invoke-interface {v6}, Landroid/database/Cursor;->moveToFirst()Z

    .line 11948
    const-string v2, "_data"

    invoke-interface {v6, v2}, Landroid/database/Cursor;->getColumnIndexOrThrow(Ljava/lang/String;)I

    move-result v2

    invoke-interface {v6, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v2

    iput-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    .line 11949
    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    goto :goto_1

    .line 11960
    .end local v0           #cr:Landroid/content/ContentResolver;
    .end local v6           #c:Landroid/database/Cursor;
    :cond_4
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getServiceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ServiceManager;

    move-result-object v2

    const/16 v3, 0x11

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ServiceManager;->isFeatureSupported(I)Z

    move-result v2

    if-nez v2, :cond_5

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-static {p0, v2}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->isFileStatusOk(Landroid/content/Context;Ljava/lang/String;)Z

    move-result v2

    if-nez v2, :cond_5

    .line 11962
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "getAudio(): choose audio failed, invalid file"

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    move v2, v11

    .line 11963
    goto :goto_0

    .line 11966
    :cond_5
    new-instance v9, Landroid/media/MediaMetadataRetriever;

    invoke-direct {v9}, Landroid/media/MediaMetadataRetriever;-><init>()V

    .line 11968
    .local v9, retriever:Landroid/media/MediaMetadataRetriever;
    :try_start_0
    invoke-virtual {v9, p0, v1}, Landroid/media/MediaMetadataRetriever;->setDataSource(Landroid/content/Context;Landroid/net/Uri;)V

    .line 11969
    const/16 v2, 0x9

    invoke-virtual {v9, v2}, Landroid/media/MediaMetadataRetriever;->extractMetadata(I)Ljava/lang/String;

    move-result-object v7

    .line 11971
    .local v7, dur:Ljava/lang/String;
    if-eqz v7, :cond_6

    .line 11972
    invoke-static {v7}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v2

    iput v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    .line 11973
    iget v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    div-int/lit16 v2, v2, 0x3e8

    if-nez v2, :cond_7

    move v2, v12

    :goto_2
    iput v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 11979
    :cond_6
    invoke-virtual {v9}, Landroid/media/MediaMetadataRetriever;->release()V

    move v2, v12

    .line 11981
    goto/16 :goto_0

    .line 11973
    :cond_7
    :try_start_1
    iget v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    div-int/lit16 v2, v2, 0x3e8
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0
    .catch Ljava/lang/Exception; {:try_start_1 .. :try_end_1} :catch_0

    goto :goto_2

    .line 11975
    .end local v7           #dur:Ljava/lang/String;
    :catch_0
    move-exception v8

    .line 11976
    .local v8, ex:Ljava/lang/Exception;
    :try_start_2
    const-string v2, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "getAudio(): MediaMetadataRetriever failed to get duration for "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v1}, Landroid/net/Uri;->getPath()Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3, v8}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    .line 11979
    invoke-virtual {v9}, Landroid/media/MediaMetadataRetriever;->release()V

    move v2, v11

    goto/16 :goto_0

    .end local v8           #ex:Ljava/lang/Exception;
    :catchall_0
    move-exception v2

    invoke-virtual {v9}, Landroid/media/MediaMetadataRetriever;->release()V

    throw v2
.end method

.method private getAutoSelectSimId()I
    .locals 12

    .prologue
    const/4 v11, -0x1

    .line 9687
    const/4 v4, -0x1

    .line 9688
    .local v4, simId:I
    const/4 v3, 0x0

    .line 9689
    .local v3, isValid:Z
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v7

    const-string v8, "sms_sim_setting"

    const-wide/16 v9, -0x5

    invoke-static {v7, v8, v9, v10}, Lcom/mediatek/encapsulation/android/provider/EncapsulatedSettings$System;->getLong(Landroid/content/ContentResolver;Ljava/lang/String;J)J

    move-result-wide v5

    .line 9692
    .local v5, simIdinSetting:J
    const-wide/16 v7, -0x3

    cmp-long v7, v5, v7

    if-nez v7, :cond_2

    .line 9693
    invoke-virtual {p0}, Landroid/app/Activity;->getIntent()Landroid/content/Intent;

    move-result-object v7

    const-string v8, "simId"

    invoke-virtual {v7, v8, v11}, Landroid/content/Intent;->getIntExtra(Ljava/lang/String;I)I

    move-result v4

    .line 9694
    if-ne v4, v11, :cond_0

    invoke-static {}, Lcom/android/mms/MmsConfig;->getMmsDirMode()Z

    move-result v7

    if-nez v7, :cond_0

    .line 9695
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    if-eqz v7, :cond_0

    .line 9696
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v7}, Landroid/widget/CursorAdapter;->getCursor()Landroid/database/Cursor;

    move-result-object v0

    .line 9697
    .local v0, c:Landroid/database/Cursor;
    if-eqz v0, :cond_0

    invoke-interface {v0}, Landroid/database/Cursor;->moveToLast()Z

    move-result v7

    if-eqz v7, :cond_0

    .line 9698
    invoke-interface {v0}, Landroid/database/Cursor;->getCount()I

    move-result v1

    .line 9699
    .local v1, count:I
    const-string v7, "Mms/compose"

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    const-string v9, "count = "

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-static {v7, v8}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 9700
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v7, v0}, Lcom/android/mms/ui/MessageListAdapter;->getSimIdFromCursor(Landroid/database/Cursor;)I

    move-result v4

    .line 9704
    .end local v0           #c:Landroid/database/Cursor;
    .end local v1           #count:I
    :cond_0
    const/4 v2, 0x0

    .local v2, i:I
    :goto_0
    iget v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    if-ge v2, v7, :cond_1

    .line 9705
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    invoke-interface {v7, v2}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;

    invoke-virtual {v7}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSimId()J

    move-result-wide v7

    int-to-long v9, v4

    cmp-long v7, v7, v9

    if-nez v7, :cond_3

    .line 9706
    const/4 v3, 0x1

    .line 9710
    :cond_1
    if-nez v3, :cond_2

    .line 9711
    const/4 v4, -0x1

    .line 9714
    .end local v2           #i:I
    :cond_2
    return v4

    .line 9704
    .restart local v2       #i:I
    :cond_3
    add-int/lit8 v2, v2, 0x1

    goto :goto_0
.end method

.method private getBody(Landroid/net/Uri;)Ljava/lang/String;
    .locals 9
    .parameter "uri"

    .prologue
    const/4 v6, 0x0

    .line 8391
    if-nez p1, :cond_1

    .line 8407
    :cond_0
    :goto_0
    return-object v6

    .line 8394
    :cond_1
    invoke-virtual {p1}, Landroid/net/Uri;->getSchemeSpecificPart()Ljava/lang/String;

    move-result-object v5

    .line 8395
    .local v5, urlStr:Ljava/lang/String;
    const-string v7, "?"

    invoke-virtual {v5, v7}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z

    move-result v7

    if-eqz v7, :cond_0

    .line 8398
    const/16 v7, 0x3f

    invoke-virtual {v5, v7}, Ljava/lang/String;->indexOf(I)I

    move-result v7

    add-int/lit8 v7, v7, 0x1

    invoke-virtual {v5, v7}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v5

    .line 8399
    const-string v7, "&"

    invoke-virtual {v5, v7}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v4

    .line 8400
    .local v4, params:[Ljava/lang/String;
    move-object v0, v4

    .local v0, arr$:[Ljava/lang/String;
    array-length v2, v0

    .local v2, len$:I
    const/4 v1, 0x0

    .local v1, i$:I
    :goto_1
    if-ge v1, v2, :cond_0

    aget-object v3, v0, v1

    .line 8401
    .local v3, p:Ljava/lang/String;
    const-string v7, "body="

    invoke-virtual {v3, v7}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v7

    if-eqz v7, :cond_2

    .line 8403
    const/4 v7, 0x5

    :try_start_0
    invoke-virtual {v3, v7}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v7

    const-string v8, "UTF-8"

    invoke-static {v7, v8}, Ljava/net/URLDecoder;->decode(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;
    :try_end_0
    .catch Ljava/io/UnsupportedEncodingException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v6

    goto :goto_0

    .line 8404
    :catch_0
    move-exception v7

    .line 8400
    :cond_2
    add-int/lit8 v1, v1, 0x1

    goto :goto_1
.end method

.method public static getComposeContext()Landroid/app/Activity;
    .locals 1

    .prologue
    .line 9719
    sget-object v0, Lcom/android/mms/ui/ComposeMessageActivity;->sCompose:Ljava/lang/ref/WeakReference;

    if-nez v0, :cond_0

    const/4 v0, 0x0

    :goto_0
    return-object v0

    :cond_0
    sget-object v0, Lcom/android/mms/ui/ComposeMessageActivity;->sCompose:Ljava/lang/ref/WeakReference;

    invoke-virtual {v0}, Ljava/lang/ref/Reference;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/mms/ui/ComposeMessageActivity;

    goto :goto_0
.end method

.method private getContactSIM(Ljava/lang/String;)I
    .locals 7
    .parameter "num"

    .prologue
    .line 9530
    new-instance v5, Lcom/android/mms/ui/ComposeMessageActivity$1Int;

    invoke-direct {v5, p0}, Lcom/android/mms/ui/ComposeMessageActivity$1Int;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    .line 9531
    .local v5, simID:Lcom/android/mms/ui/ComposeMessageActivity$1Int;
    new-instance v4, Ljava/lang/Object;

    invoke-direct {v4}, Ljava/lang/Object;-><init>()V

    .line 9532
    .local v4, dbQueryLock:Ljava/lang/Object;
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v3

    .line 9534
    .local v3, mContextTemp:Landroid/content/Context;
    new-instance v6, Ljava/lang/Thread;

    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$81;

    move-object v1, p0

    move-object v2, p1

    invoke-direct/range {v0 .. v5}, Lcom/android/mms/ui/ComposeMessageActivity$81;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;Landroid/content/Context;Ljava/lang/Object;Lcom/android/mms/ui/ComposeMessageActivity$1Int;)V

    invoke-direct {v6, v0}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v6}, Ljava/lang/Thread;->start()V

    .line 9576
    monitor-enter v4

    .line 9578
    :try_start_0
    const-string v0, "Mms/Txn"

    const-string v1, "before wait"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 9579
    const-wide/16 v0, 0x3e8

    invoke-virtual {v4, v0, v1}, Ljava/lang/Object;->wait(J)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/lang/InterruptedException; {:try_start_0 .. :try_end_0} :catch_0

    .line 9583
    :goto_0
    :try_start_1
    const-string v0, "Mms/Txn"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "simID = "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v5}, Lcom/android/mms/ui/ComposeMessageActivity$1Int;->get()I

    move-result v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 9584
    invoke-virtual {v5}, Lcom/android/mms/ui/ComposeMessageActivity$1Int;->get()I

    move-result v0

    monitor-exit v4

    return v0

    .line 9585
    :catchall_0
    move-exception v0

    monitor-exit v4
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    throw v0

    .line 9580
    :catch_0
    move-exception v0

    goto :goto_0
.end method

.method private getContactUriForEmail(Ljava/lang/String;)Landroid/net/Uri;
    .locals 9
    .parameter "emailAddress"

    .prologue
    const/4 v6, 0x1

    const/4 v5, 0x0

    const/4 v4, 0x0

    .line 1964
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v1

    sget-object v0, Landroid/provider/ContactsContract$CommonDataKinds$Email;->CONTENT_LOOKUP_URI:Landroid/net/Uri;

    invoke-static {p1}, Landroid/net/Uri;->encode(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    invoke-static {v0, v2}, Landroid/net/Uri;->withAppendedPath(Landroid/net/Uri;Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v2

    const/4 v0, 0x2

    new-array v3, v0, [Ljava/lang/String;

    const-string v0, "contact_id"

    aput-object v0, v3, v5

    const-string v0, "display_name"

    aput-object v0, v3, v6

    move-object v0, p0

    move-object v5, v4

    move-object v6, v4

    invoke-static/range {v0 .. v6}, Landroid/database/sqlite/SqliteWrapper;->query(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v7

    .line 1968
    .local v7, cursor:Landroid/database/Cursor;
    if-eqz v7, :cond_1

    .line 1970
    :cond_0
    :try_start_0
    invoke-interface {v7}, Landroid/database/Cursor;->moveToNext()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 1971
    const/4 v0, 0x1

    invoke-interface {v7, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v8

    .line 1972
    .local v8, name:Ljava/lang/String;
    invoke-static {v8}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-nez v0, :cond_0

    .line 1973
    sget-object v0, Landroid/provider/ContactsContract$Contacts;->CONTENT_URI:Landroid/net/Uri;

    const/4 v1, 0x0

    invoke-interface {v7, v1}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v1

    invoke-static {v0, v1, v2}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-object v4

    .line 1977
    invoke-interface {v7}, Landroid/database/Cursor;->close()V

    .line 1980
    .end local v8           #name:Ljava/lang/String;
    :cond_1
    :goto_0
    return-object v4

    .line 1977
    :cond_2
    invoke-interface {v7}, Landroid/database/Cursor;->close()V

    goto :goto_0

    :catchall_0
    move-exception v0

    invoke-interface {v7}, Landroid/database/Cursor;->close()V

    throw v0
.end method

.method private getContactUriForPhoneNumber(Ljava/lang/String;)Landroid/net/Uri;
    .locals 2
    .parameter "phoneNumber"

    .prologue
    .line 1984
    const/4 v1, 0x1

    invoke-static {p1, v1}, Lcom/android/mms/data/Contact;->get(Ljava/lang/String;Z)Lcom/android/mms/data/Contact;

    move-result-object v0

    .line 1985
    .local v0, contact:Lcom/android/mms/data/Contact;
    invoke-virtual {v0}, Lcom/android/mms/data/Contact;->existsInDatabase()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 1986
    invoke-virtual {v0}, Lcom/android/mms/data/Contact;->getUri()Landroid/net/Uri;

    move-result-object v1

    .line 1988
    :goto_0
    return-object v1

    :cond_0
    const/4 v1, 0x0

    goto :goto_0
.end method

.method private getCurTextMessageCount()I
    .locals 5

    .prologue
    const/4 v4, 0x0

    .line 14915
    const/4 v2, 0x0

    .line 14916
    .local v2, params:[I
    const-string v3, "ro.operator.optr"

    invoke-static {v3}, Landroid/os/SystemProperties;->get(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    .line 14917
    .local v1, optr:Ljava/lang/String;
    const-string v3, "OP03"

    invoke-virtual {v3, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_0

    .line 14918
    const/4 v0, 0x0

    .line 14919
    .local v0, encodingType:I
    invoke-static {p0}, Lcom/android/mms/ui/MessageUtils;->getSmsEncodingType(Landroid/content/Context;)I

    move-result v0

    .line 14920
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v3}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v3

    invoke-static {v3, v4, v0}, Landroid/telephony/SmsMessage;->calculateLength(Ljava/lang/CharSequence;ZI)[I

    move-result-object v2

    .line 14924
    .end local v0           #encodingType:I
    :goto_0
    aget v3, v2, v4

    return v3

    .line 14922
    :cond_0
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v3}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v3

    invoke-static {v3, v4}, Landroid/telephony/SmsMessage;->calculateLength(Ljava/lang/CharSequence;Z)[I

    move-result-object v2

    goto :goto_0
.end method

.method private getCurrentNumberString()Ljava/lang/String;
    .locals 2

    .prologue
    .line 12087
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 12088
    const-string v0, ","

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v1}, Lcom/android/mms/ui/RecipientsEditor;->getNumbers()Ljava/util/List;

    move-result-object v1

    invoke-static {v0, v1}, Landroid/text/TextUtils;->join(Ljava/lang/CharSequence;Ljava/lang/Iterable;)Ljava/lang/String;

    move-result-object v0

    .line 12093
    :goto_0
    return-object v0

    .line 12090
    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentNumberString:Ljava/lang/String;

    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-eqz v0, :cond_1

    .line 12091
    const-string v0, ","

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v1}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/mms/data/ContactList;->getNumbers()[Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Landroid/text/TextUtils;->join(Ljava/lang/CharSequence;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentNumberString:Ljava/lang/String;

    .line 12093
    :cond_1
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentNumberString:Ljava/lang/String;

    goto :goto_0
.end method

.method private getDrmMimeMenuStringRsrc(J)I
    .locals 1
    .parameter "msgId"

    .prologue
    .line 2873
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->isDrmRingtoneWithRights(J)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 2874
    const v0, 0x7f0b030e

    .line 2876
    :goto_0
    return v0

    :cond_0
    const/4 v0, 0x0

    goto :goto_0
.end method

.method private getDrmMimeSavedStringRsrc(JZ)I
    .locals 1
    .parameter "msgId"
    .parameter "success"

    .prologue
    .line 2880
    invoke-direct {p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->isDrmRingtoneWithRights(J)Z

    move-result v0

    if-eqz v0, :cond_1

    .line 2881
    if-eqz p3, :cond_0

    const v0, 0x7f0b030f

    .line 2883
    :goto_0
    return v0

    .line 2881
    :cond_0
    const v0, 0x7f0b0310

    goto :goto_0

    .line 2883
    :cond_1
    const/4 v0, 0x0

    goto :goto_0
.end method

.method private getMessageAndSaveToSim(Landroid/content/Intent;)V
    .locals 6
    .parameter "intent"

    .prologue
    .line 8806
    const-string v3, "Mms/Txn"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "get message and save to sim, selected sim id = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    iget v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->v(Ljava/lang/String;Ljava/lang/String;)V

    .line 8807
    const-string v3, "message_type"

    invoke-virtual {p1, v3}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    .line 8808
    .local v2, msgType:Ljava/lang/String;
    const-string v3, "message_id"

    const-wide/16 v4, 0x0

    invoke-virtual {p1, v3, v4, v5}, Landroid/content/Intent;->getLongExtra(Ljava/lang/String;J)J

    move-result-wide v0

    .line 8809
    .local v0, msgId:J
    if-nez v2, :cond_0

    .line 8811
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    const/16 v4, 0x6c

    invoke-virtual {v3, v4}, Landroid/os/Handler;->sendEmptyMessage(I)Z

    .line 8815
    :goto_0
    return-void

    .line 8814
    :cond_0
    invoke-direct {p0, v2, v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->getMessageAndSaveToSim(Ljava/lang/String;J)V

    goto :goto_0
.end method

.method private getMessageAndSaveToSim(Ljava/lang/String;J)V
    .locals 24
    .parameter "msgType"
    .parameter "msgId"

    .prologue
    .line 8818
    const/16 v19, 0x0

    .line 8820
    .local v19, result:I
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v5}, Landroid/widget/CursorAdapter;->getCursor()Landroid/database/Cursor;

    move-result-object v20

    .line 8821
    .local v20, cursor:Landroid/database/Cursor;
    move-object/from16 v0, p0

    iget v5, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mClickedItemPosition:I

    if-ltz v5, :cond_0

    move-object/from16 v0, p0

    iget v5, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mClickedItemPosition:I

    invoke-interface/range {v20 .. v20}, Landroid/database/Cursor;->getCount()I

    move-result v11

    if-ge v5, v11, :cond_0

    .line 8822
    move-object/from16 v0, p0

    iget v5, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mClickedItemPosition:I

    move-object/from16 v0, v20

    invoke-interface {v0, v5}, Landroid/database/Cursor;->moveToPosition(I)Z

    .line 8824
    :cond_0
    const/4 v5, 0x1

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-wide/from16 v2, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->getMessageItem(Ljava/lang/String;JZ)Lcom/android/mms/ui/MessageItem;

    move-result-object v22

    .line 8825
    .local v22, msgItem:Lcom/android/mms/ui/MessageItem;
    if-eqz v22, :cond_1

    move-object/from16 v0, v22

    iget-object v5, v0, Lcom/android/mms/ui/MessageItem;->mBody:Ljava/lang/String;

    if-nez v5, :cond_2

    .line 8826
    :cond_1
    const-string v5, "Mms/Txn"

    const-string v11, "getMessageAndSaveToSim, can not get Message Item."

    invoke-static {v5, v11}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 8903
    :goto_0
    return-void

    .line 8830
    :cond_2
    const/4 v4, 0x0

    .line 8832
    .local v4, scAddress:Ljava/lang/String;
    const/4 v6, 0x0

    .line 8833
    .local v6, messages:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/String;>;"
    move-object/from16 v0, v22

    iget-object v5, v0, Lcom/android/mms/ui/MessageItem;->mBody:Ljava/lang/String;

    invoke-static {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSmsManager;->divideMessage(Ljava/lang/String;)Ljava/util/ArrayList;

    move-result-object v6

    .line 8835
    const/4 v7, 0x0

    .line 8836
    .local v7, smsStatus:I
    const-wide/16 v8, 0x0

    .line 8837
    .local v8, timeStamp:J
    invoke-virtual/range {v22 .. v22}, Lcom/android/mms/ui/MessageItem;->isReceivedMessage()Z

    move-result v5

    if-eqz v5, :cond_5

    .line 8838
    const/4 v7, 0x1

    .line 8839
    move-object/from16 v0, v22

    iget-wide v8, v0, Lcom/android/mms/ui/MessageItem;->mSmsDate:J

    .line 8840
    invoke-virtual/range {v22 .. v22}, Lcom/android/mms/ui/MessageItem;->getServiceCenter()Ljava/lang/String;

    move-result-object v4

    .line 8849
    :goto_1
    invoke-static {}, Lcom/mediatek/encapsulation/com/android/internal/telephony/EncapsulatedTelephonyService;->getInstance()Lcom/mediatek/encapsulation/com/android/internal/telephony/EncapsulatedTelephonyService;

    move-result-object v23

    .line 8850
    .local v23, teleService:Lcom/mediatek/encapsulation/com/android/internal/telephony/EncapsulatedTelephonyService;
    if-nez v4, :cond_3

    .line 8853
    :try_start_0
    move-object/from16 v0, p0

    iget v5, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    int-to-long v11, v5

    move-object/from16 v0, p0

    invoke-static {v0, v11, v12}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSlotById(Landroid/content/Context;J)I

    move-result v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Lcom/mediatek/encapsulation/com/android/internal/telephony/EncapsulatedTelephonyService;->getScAddressGemini(I)Ljava/lang/String;
    :try_end_0
    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v4

    .line 8862
    :cond_3
    :goto_2
    const-string v5, "Mms/Txn"

    new-instance v11, Ljava/lang/StringBuilder;

    invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V

    const-string v12, "\t scAddress\t= "

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v11

    invoke-static {v5, v11}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 8863
    const-string v5, "Mms/Txn"

    new-instance v11, Ljava/lang/StringBuilder;

    invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V

    const-string v12, "\t Address\t= "

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    move-object/from16 v0, v22

    iget-object v12, v0, Lcom/android/mms/ui/MessageItem;->mAddress:Ljava/lang/String;

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v11

    invoke-static {v5, v11}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 8864
    const-string v5, "Mms/Txn"

    new-instance v11, Ljava/lang/StringBuilder;

    invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V

    const-string v12, "\t msgBody\t= "

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    move-object/from16 v0, v22

    iget-object v12, v0, Lcom/android/mms/ui/MessageItem;->mBody:Ljava/lang/String;

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v11

    invoke-static {v5, v11}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 8865
    const-string v5, "Mms/Txn"

    new-instance v11, Ljava/lang/StringBuilder;

    invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V

    const-string v12, "\t smsStatus\t= "

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11, v7}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v11

    invoke-static {v5, v11}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 8866
    const-string v5, "Mms/Txn"

    new-instance v11, Ljava/lang/StringBuilder;

    invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V

    const-string v12, "\t timeStamp\t= "

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11, v8, v9}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v11

    invoke-static {v5, v11}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 8868
    const/4 v10, -0x1

    .line 8870
    .local v10, slotId:I
    move-object/from16 v0, p0

    iget v5, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    const/4 v11, 0x1

    if-ne v5, v11, :cond_8

    .line 8871
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    const/4 v11, 0x0

    invoke-interface {v5, v11}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;

    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSlot()I

    move-result v10

    .line 8875
    :goto_3
    const-string v5, "Mms/Txn"

    new-instance v11, Ljava/lang/StringBuilder;

    invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V

    const-string v12, "\t slot Id\t= "

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v11

    invoke-static {v5, v11}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 8877
    move-object/from16 v0, v22

    iget-object v5, v0, Lcom/android/mms/ui/MessageItem;->mAddress:Ljava/lang/String;

    invoke-static/range {v4 .. v10}, Lcom/mediatek/encapsulation/android/telephony/gemini/EncapsulatedGeminiSmsManager;->copyTextMessageToIccCardGemini(Ljava/lang/String;Ljava/lang/String;Ljava/util/List;IJI)I

    move-result v19

    .line 8885
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v5}, Lcom/mediatek/mms/ext/IMmsCompose;->isMassTextEnable()Z

    move-result v5

    if-eqz v5, :cond_4

    move-object/from16 v0, v22

    iget-wide v11, v0, Lcom/android/mms/ui/MessageItem;->mIpMessageId:J

    const-wide/16 v13, 0x0

    cmp-long v5, v11, v13

    if-gez v5, :cond_4

    if-eqz v19, :cond_4

    const/4 v5, 0x7

    move/from16 v0, v19

    if-eq v0, v5, :cond_4

    .line 8888
    move-object/from16 v0, p0

    iget-object v11, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v5}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v5

    invoke-virtual {v5}, Lcom/android/mms/data/ContactList;->getNumbers()[Ljava/lang/String;

    move-result-object v12

    move-object v13, v4

    move-object v14, v6

    move v15, v7

    move-wide/from16 v16, v8

    move/from16 v18, v10

    invoke-interface/range {v11 .. v19}, Lcom/mediatek/mms/ext/IMmsCompose;->getSmsMessageAndSaveToSim([Ljava/lang/String;Ljava/lang/String;Ljava/util/ArrayList;IJII)I

    move-result v19

    .line 8892
    :cond_4
    if-nez v19, :cond_9

    .line 8893
    const-string v5, "Mms/Txn"

    const-string v11, "save message to sim succeed."

    invoke-static {v5, v11}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 8894
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    const/16 v11, 0x6a

    invoke-virtual {v5, v11}, Landroid/os/Handler;->sendEmptyMessage(I)Z

    .line 8902
    :goto_4
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSaveMsgHandler:Landroid/os/Handler;

    const/16 v11, 0x64

    const-wide/16 v12, 0x1388

    invoke-virtual {v5, v11, v12, v13}, Landroid/os/Handler;->sendEmptyMessageDelayed(IJ)Z

    goto/16 :goto_0

    .line 8841
    .end local v10           #slotId:I
    .end local v23           #teleService:Lcom/mediatek/encapsulation/com/android/internal/telephony/EncapsulatedTelephonyService;
    :cond_5
    invoke-virtual/range {v22 .. v22}, Lcom/android/mms/ui/MessageItem;->isSentMessage()Z

    move-result v5

    if-eqz v5, :cond_6

    .line 8842
    const/4 v7, 0x5

    goto/16 :goto_1

    .line 8843
    :cond_6
    invoke-virtual/range {v22 .. v22}, Lcom/android/mms/ui/MessageItem;->isFailedMessage()Z

    move-result v5

    if-eqz v5, :cond_7

    .line 8844
    const/4 v7, 0x7

    goto/16 :goto_1

    .line 8846
    :cond_7
    const-string v5, "Mms/Txn"

    const-string v11, "Unknown sms status"

    invoke-static {v5, v11}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_1

    .line 8857
    .restart local v23       #teleService:Lcom/mediatek/encapsulation/com/android/internal/telephony/EncapsulatedTelephonyService;
    :catch_0
    move-exception v21

    .line 8858
    .local v21, e:Landroid/os/RemoteException;
    const-string v5, "Mms/Txn"

    new-instance v11, Ljava/lang/StringBuilder;

    invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V

    const-string v12, "getScAddressGemini is failed.\n"

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual/range {v21 .. v21}, Ljava/lang/Throwable;->toString()Ljava/lang/String;

    move-result-object v12

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v11

    invoke-static {v5, v11}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_2

    .line 8873
    .end local v21           #e:Landroid/os/RemoteException;
    .restart local v10       #slotId:I
    :cond_8
    move-object/from16 v0, p0

    iget v5, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    int-to-long v11, v5

    move-object/from16 v0, p0

    invoke-static {v0, v11, v12}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSlotById(Landroid/content/Context;J)I

    move-result v10

    goto/16 :goto_3

    .line 8895
    :cond_9
    const/4 v5, 0x7

    move/from16 v0, v19

    if-ne v0, v5, :cond_a

    .line 8896
    const-string v5, "Mms/Txn"

    const-string v11, "save message to sim failed: sim memory full."

    invoke-static {v5, v11}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 8897
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    const/16 v11, 0x6e

    invoke-virtual {v5, v11}, Landroid/os/Handler;->sendEmptyMessage(I)Z

    goto :goto_4

    .line 8899
    :cond_a
    const-string v5, "Mms/Txn"

    const-string v11, "save message to sim failed: generic error."

    invoke-static {v5, v11}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 8900
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    const/16 v11, 0x6c

    invoke-virtual {v5, v11}, Landroid/os/Handler;->sendEmptyMessage(I)Z

    goto :goto_4
.end method

.method private getMessageDate(Landroid/net/Uri;)J
    .locals 9
    .parameter "uri"

    .prologue
    const/4 v8, 0x1

    const/4 v2, 0x0

    const/4 v4, 0x0

    .line 7513
    if-eqz p1, :cond_1

    .line 7514
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContentResolver:Landroid/content/ContentResolver;

    new-array v3, v8, [Ljava/lang/String;

    const-string v0, "date"

    aput-object v0, v3, v2

    move-object v0, p0

    move-object v2, p1

    move-object v5, v4

    move-object v6, v4

    invoke-static/range {v0 .. v6}, Landroid/database/sqlite/SqliteWrapper;->query(Landroid/content/Context;Landroid/content/ContentResolver;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v7

    .line 7516
    .local v7, cursor:Landroid/database/Cursor;
    if-eqz v7, :cond_1

    .line 7518
    :try_start_0
    invoke-interface {v7}, Landroid/database/Cursor;->getCount()I

    move-result v0

    if-ne v0, v8, :cond_0

    invoke-interface {v7}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 7519
    const/4 v0, 0x0

    invoke-interface {v7, v0}, Landroid/database/Cursor;->getLong(I)J
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-wide v0

    const-wide/16 v2, 0x3e8

    mul-long/2addr v0, v2

    .line 7522
    invoke-interface {v7}, Landroid/database/Cursor;->close()V

    .line 7526
    .end local v7           #cursor:Landroid/database/Cursor;
    :goto_0
    return-wide v0

    .line 7522
    .restart local v7       #cursor:Landroid/database/Cursor;
    :cond_0
    invoke-interface {v7}, Landroid/database/Cursor;->close()V

    .line 7526
    .end local v7           #cursor:Landroid/database/Cursor;
    :cond_1
    const-wide/16 v0, -0x1

    goto :goto_0

    .line 7522
    .restart local v7       #cursor:Landroid/database/Cursor;
    :catchall_0
    move-exception v0

    invoke-interface {v7}, Landroid/database/Cursor;->close()V

    throw v0
.end method

.method private getMessageItem(Ljava/lang/String;JZ)Lcom/android/mms/ui/MessageItem;
    .locals 2
    .parameter "type"
    .parameter "msgId"
    .parameter "createFromCursorIfNotInCache"

    .prologue
    .line 1231
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    if-eqz p4, :cond_0

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v0}, Landroid/widget/CursorAdapter;->getCursor()Landroid/database/Cursor;

    move-result-object v0

    :goto_0
    invoke-virtual {v1, p1, p2, p3, v0}, Lcom/android/mms/ui/MessageListAdapter;->getCachedMessageItem(Ljava/lang/String;JLandroid/database/Cursor;)Lcom/android/mms/ui/MessageItem;

    move-result-object v0

    return-object v0

    :cond_0
    const/4 v0, 0x0

    goto :goto_0
.end method

.method private getNameViaContactId(J)Ljava/lang/String;
    .locals 10
    .parameter "contactId"

    .prologue
    const/4 v5, 0x0

    const/4 v4, 0x1

    const/4 v9, 0x0

    .line 12097
    const-wide/16 v0, 0x0

    cmp-long v0, p1, v0

    if-gtz v0, :cond_0

    .line 12098
    const-string v0, "Mms/ipmsg/compose"

    const-string v1, "getNameViaContactId(): contactId is invalid!"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12113
    :goto_0
    return-object v5

    .line 12102
    :cond_0
    const-string v7, ""

    .line 12104
    .local v7, displayName:Ljava/lang/String;
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContentResolver:Landroid/content/ContentResolver;

    sget-object v1, Landroid/provider/ContactsContract$Contacts;->CONTENT_URI:Landroid/net/Uri;

    new-array v2, v4, [Ljava/lang/String;

    const-string v3, "display_name"

    aput-object v3, v2, v9

    const-string v3, "_id=?"

    new-array v4, v4, [Ljava/lang/String;

    invoke-static {p1, p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v8

    aput-object v8, v4, v9

    invoke-virtual/range {v0 .. v5}, Landroid/content/ContentResolver;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v6

    .line 12106
    .local v6, cursor:Landroid/database/Cursor;
    if-eqz v6, :cond_1

    invoke-interface {v6}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 12107
    const-string v0, "display_name"

    invoke-interface {v6, v0}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I

    move-result v0

    invoke-interface {v6, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v7

    .line 12109
    :cond_1
    if-eqz v6, :cond_2

    .line 12110
    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    .line 12113
    :cond_2
    if-nez v7, :cond_3

    const-string v7, ""

    .end local v7           #displayName:Ljava/lang/String;
    :cond_3
    move-object v5, v7

    goto :goto_0
.end method

.method private getOnlineDividerString(I)Ljava/lang/String;
    .locals 7
    .parameter "currentRecipientStatus"

    .prologue
    const/4 v6, 0x1

    const/4 v5, 0x0

    .line 12327
    const-string v2, "Mms/divider"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "compose.getOnlineDividerString(): currentRecipientStatus = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12328
    invoke-static {p0}, Lcom/android/mms/MmsConfig;->isActivated(Landroid/content/Context;)Z

    move-result v2

    if-eqz v2, :cond_0

    iget-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpMessageRecipients:Z

    if-eqz v2, :cond_0

    .line 12329
    packed-switch p1, :pswitch_data_0

    .line 12356
    :pswitch_0
    const-string v2, "Mms/divider"

    const-string v3, "compose.getOnlineDividerString(): unknown user status!"

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 12360
    :cond_0
    :goto_0
    const-string v0, ""

    :goto_1
    return-object v0

    .line 12331
    :pswitch_1
    const-string v2, "Mms/divider"

    const-string v3, "compose.getOnlineDividerString(): OFFLINE"

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12332
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getContactManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ContactManager;

    move-result-object v3

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v2}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v2

    invoke-virtual {v2, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/mms/data/Contact;

    invoke-virtual {v2}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v3, v2}, Lcom/mediatek/mms/ipmessage/ContactManager;->getOnlineTimeByNumber(Ljava/lang/String;)I

    move-result v1

    .line 12334
    .local v1, time:I
    if-lez v1, :cond_1

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v2

    const/16 v3, 0xbd

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v2

    new-array v3, v6, [Ljava/lang/Object;

    invoke-direct {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->formatLastOnlineTime(I)Ljava/lang/String;

    move-result-object v4

    aput-object v4, v3, v5

    invoke-static {v2, v3}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    .line 12341
    .local v0, onlineTimeString:Ljava/lang/String;
    :goto_2
    const-string v2, "Mms/divider"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "compose.getOnlineDividerString(): OFFLINE, time = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, ", onlineTimeString = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_1

    .line 12334
    .end local v0           #onlineTimeString:Ljava/lang/String;
    :cond_1
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v2

    const/16 v3, 0xbe

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v0

    goto :goto_2

    .line 12348
    .end local v1           #time:I
    :pswitch_2
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v2

    const/16 v3, 0xbc

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v3

    new-array v4, v6, [Ljava/lang/Object;

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v2}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v2

    invoke-virtual {v2, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/mms/data/Contact;

    invoke-virtual {v2}, Lcom/android/mms/data/Contact;->getName()Ljava/lang/String;

    move-result-object v2

    aput-object v2, v4, v5

    invoke-static {v3, v4}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    goto/16 :goto_1

    .line 12353
    :pswitch_3
    const-string v2, "Mms/divider"

    const-string v3, "compose.getOnlineDividerString(): STATUSCOUNT"

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_0

    .line 12329
    nop

    :pswitch_data_0
    .packed-switch 0x0
        :pswitch_1
        :pswitch_2
        :pswitch_2
        :pswitch_0
        :pswitch_2
        :pswitch_0
        :pswitch_2
        :pswitch_0
        :pswitch_3
    .end packed-switch
.end method

.method private getRecipients()Lcom/android/mms/data/ContactList;
    .locals 1

    .prologue
    .line 3092
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 3093
    sget-object v0, Lcom/android/mms/ui/ComposeMessageActivity;->sEmptyContactList:Lcom/android/mms/data/ContactList;

    if-nez v0, :cond_0

    .line 3094
    new-instance v0, Lcom/android/mms/data/ContactList;

    invoke-direct {v0}, Lcom/android/mms/data/ContactList;-><init>()V

    sput-object v0, Lcom/android/mms/ui/ComposeMessageActivity;->sEmptyContactList:Lcom/android/mms/data/ContactList;

    .line 3096
    :cond_0
    sget-object v0, Lcom/android/mms/ui/ComposeMessageActivity;->sEmptyContactList:Lcom/android/mms/data/ContactList;

    .line 3098
    :goto_0
    return-object v0

    :cond_1
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    goto :goto_0
.end method

.method private getResourcesString(I)Ljava/lang/String;
    .locals 2
    .parameter "id"

    .prologue
    .line 9336
    invoke-virtual {p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v0

    .line 9337
    .local v0, r:Landroid/content/res/Resources;
    invoke-virtual {v0, p1}, Landroid/content/res/Resources;->getString(I)Ljava/lang/String;

    move-result-object v1

    return-object v1
.end method

.method private getResourcesString(ILjava/lang/String;)Ljava/lang/String;
    .locals 3
    .parameter "id"
    .parameter "mediaName"

    .prologue
    .line 6447
    invoke-virtual {p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v0

    .line 6448
    .local v0, r:Landroid/content/res/Resources;
    const/4 v1, 0x1

    new-array v1, v1, [Ljava/lang/Object;

    const/4 v2, 0x0

    aput-object p2, v1, v2

    invoke-virtual {v0, p1, v1}, Landroid/content/res/Resources;->getString(I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v1

    return-object v1
.end method

.method private getSIMInfoList()V
    .locals 1

    .prologue
    .line 14246
    invoke-static {p0}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getInsertedSimInfoList(Landroid/content/Context;)Ljava/util/List;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    .line 14247
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    invoke-interface {v0}, Ljava/util/List;->isEmpty()Z

    move-result v0

    if-eqz v0, :cond_0

    const/4 v0, 0x0

    :goto_0
    iput v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    .line 14248
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    .line 14249
    return-void

    .line 14247
    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    invoke-interface {v0}, Ljava/util/List;->size()I

    move-result v0

    goto :goto_0
.end method

.method private getSelectedUriFromMessageList(Landroid/widget/ListView;I)Landroid/net/Uri;
    .locals 11
    .parameter "listView"
    .parameter "position"

    .prologue
    const/4 v8, 0x0

    .line 1828
    invoke-virtual {p1, p2}, Landroid/view/ViewGroup;->getChildAt(I)Landroid/view/View;

    move-result-object v2

    check-cast v2, Lcom/android/mms/ui/MessageListItem;

    .line 1829
    .local v2, msglistItem:Lcom/android/mms/ui/MessageListItem;
    if-nez v2, :cond_1

    .line 1877
    :cond_0
    :goto_0
    return-object v8

    .line 1839
    :cond_1
    const/4 v5, 0x0

    .line 1840
    .local v5, text:Ljava/lang/CharSequence;
    const/4 v4, -0x1

    .line 1841
    .local v4, selStart:I
    const/4 v3, -0x1

    .line 1844
    .local v3, selEnd:I
    const v9, 0x7f0f0025

    invoke-virtual {v2, v9}, Landroid/view/View;->findViewById(I)Landroid/view/View;

    move-result-object v6

    check-cast v6, Landroid/widget/TextView;

    .line 1845
    .local v6, textView:Landroid/widget/TextView;
    if-eqz v6, :cond_2

    .line 1846
    invoke-virtual {v6}, Landroid/widget/TextView;->getText()Ljava/lang/CharSequence;

    move-result-object v5

    .line 1847
    invoke-virtual {v6}, Landroid/widget/TextView;->getSelectionStart()I

    move-result v4

    .line 1848
    invoke-virtual {v6}, Landroid/widget/TextView;->getSelectionEnd()I

    move-result v3

    .line 1852
    :cond_2
    const/4 v9, -0x1

    if-ne v4, v9, :cond_3

    .line 1853
    const v9, 0x7f0f0163

    invoke-virtual {v2, v9}, Landroid/view/View;->findViewById(I)Landroid/view/View;

    move-result-object v6

    .end local v6           #textView:Landroid/widget/TextView;
    check-cast v6, Landroid/widget/TextView;

    .line 1854
    .restart local v6       #textView:Landroid/widget/TextView;
    if-eqz v6, :cond_3

    .line 1855
    invoke-virtual {v6}, Landroid/widget/TextView;->getText()Ljava/lang/CharSequence;

    move-result-object v5

    .line 1856
    invoke-virtual {v6}, Landroid/widget/TextView;->getSelectionStart()I

    move-result v4

    .line 1857
    invoke-virtual {v6}, Landroid/widget/TextView;->getSelectionEnd()I

    move-result v3

    .line 1864
    :cond_3
    if-eq v4, v3, :cond_0

    .line 1865
    invoke-static {v4, v3}, Ljava/lang/Math;->min(II)I

    move-result v1

    .line 1866
    .local v1, min:I
    invoke-static {v4, v3}, Ljava/lang/Math;->max(II)I

    move-result v0

    .line 1868
    .local v0, max:I
    check-cast v5, Landroid/text/Spanned;

    .end local v5           #text:Ljava/lang/CharSequence;
    const-class v9, Landroid/text/style/URLSpan;

    invoke-interface {v5, v1, v0, v9}, Landroid/text/Spanned;->getSpans(IILjava/lang/Class;)[Ljava/lang/Object;

    move-result-object v7

    check-cast v7, [Landroid/text/style/URLSpan;

    .line 1871
    .local v7, urls:[Landroid/text/style/URLSpan;
    array-length v9, v7

    const/4 v10, 0x1

    if-ne v9, v10, :cond_0

    .line 1872
    const/4 v8, 0x0

    aget-object v8, v7, v8

    invoke-virtual {v8}, Landroid/text/style/URLSpan;->getURL()Ljava/lang/String;

    move-result-object v8

    invoke-static {v8}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v8

    goto :goto_0
.end method

.method private getSimInfoList()V
    .locals 3

    .prologue
    .line 8915
    invoke-static {p0}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getInsertedSimInfoList(Landroid/content/Context;)Ljava/util/List;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    .line 8916
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    invoke-interface {v0}, Ljava/util/List;->isEmpty()Z

    move-result v0

    if-eqz v0, :cond_0

    const/4 v0, 0x0

    :goto_0
    iput v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    .line 8917
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "ComposeMessageActivity.getSimInfoList(): mSimCount = "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    iget v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->v(Ljava/lang/String;Ljava/lang/String;)V

    .line 8918
    return-void

    .line 8916
    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    invoke-interface {v0}, Ljava/util/List;->size()I

    move-result v0

    goto :goto_0
.end method

.method private getStringForMultipleRecipients(Ljava/lang/String;)Ljava/lang/String;
    .locals 12
    .parameter "recipientsString"

    .prologue
    .line 9914
    const-string v10, ","

    const-string v11, ";"

    invoke-virtual {p1, v10, v11}, Ljava/lang/String;->replaceAll(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p1

    .line 9915
    const-string v10, ";"

    invoke-virtual {p1, v10}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v9

    .line 9916
    .local v9, recipients_all:[Ljava/lang/String;
    new-instance v7, Ljava/util/ArrayList;

    invoke-direct {v7}, Ljava/util/ArrayList;-><init>()V

    .line 9917
    .local v7, recipientsList:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    move-object v0, v9

    .local v0, arr$:[Ljava/lang/String;
    array-length v5, v0

    .local v5, len$:I
    const/4 v4, 0x0

    .local v4, i$:I
    :goto_0
    if-ge v4, v5, :cond_0

    aget-object v6, v0, v4

    .line 9918
    .local v6, recipient:Ljava/lang/String;
    invoke-interface {v7, v6}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    .line 9917
    add-int/lit8 v4, v4, 0x1

    goto :goto_0

    .line 9921
    .end local v6           #recipient:Ljava/lang/String;
    :cond_0
    new-instance v8, Ljava/util/HashSet;

    invoke-direct {v8}, Ljava/util/HashSet;-><init>()V

    .line 9922
    .local v8, recipientsSet:Ljava/util/Set;,"Ljava/util/Set<Ljava/lang/String;>;"
    invoke-interface {v8, v7}, Ljava/util/Set;->addAll(Ljava/util/Collection;)Z

    .line 9924
    invoke-interface {v8}, Ljava/util/Set;->size()I

    move-result v10

    sget v11, Lcom/android/mms/ui/ComposeMessageActivity;->RECIPIENTS_LIMIT_FOR_SMS:I

    if-le v10, v11, :cond_1

    .line 9925
    array-length v10, v9

    invoke-direct {p0, v10}, Lcom/android/mms/ui/ComposeMessageActivity;->toastTooManyRecipients(I)V

    .line 9928
    :cond_1
    invoke-interface {v7}, Ljava/util/List;->clear()V

    .line 9929
    invoke-interface {v7, v8}, Ljava/util/List;->addAll(Ljava/util/Collection;)Z

    .line 9931
    const-string p1, ""

    .line 9932
    invoke-interface {v7}, Ljava/util/List;->size()I

    move-result v10

    sget v11, Lcom/android/mms/ui/ComposeMessageActivity;->RECIPIENTS_LIMIT_FOR_SMS:I

    if-le v10, v11, :cond_2

    sget v2, Lcom/android/mms/ui/ComposeMessageActivity;->RECIPIENTS_LIMIT_FOR_SMS:I

    .line 9933
    .local v2, count:I
    :goto_1
    new-instance v1, Ljava/lang/StringBuffer;

    invoke-direct {v1}, Ljava/lang/StringBuffer;-><init>()V

    .line 9934
    .local v1, buf:Ljava/lang/StringBuffer;
    invoke-virtual {v1, p1}, Ljava/lang/StringBuffer;->append(Ljava/lang/String;)Ljava/lang/StringBuffer;

    .line 9935
    const/4 v3, 0x0

    .local v3, i:I
    :goto_2
    if-ge v3, v2, :cond_4

    .line 9936
    add-int/lit8 v10, v2, -0x1

    if-ne v3, v10, :cond_3

    .line 9937
    invoke-interface {v7, v3}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Ljava/lang/String;

    invoke-virtual {v1, v10}, Ljava/lang/StringBuffer;->append(Ljava/lang/String;)Ljava/lang/StringBuffer;

    .line 9935
    :goto_3
    add-int/lit8 v3, v3, 0x1

    goto :goto_2

    .line 9932
    .end local v1           #buf:Ljava/lang/StringBuffer;
    .end local v2           #count:I
    .end local v3           #i:I
    :cond_2
    invoke-interface {v7}, Ljava/util/List;->size()I

    move-result v2

    goto :goto_1

    .line 9939
    .restart local v1       #buf:Ljava/lang/StringBuffer;
    .restart local v2       #count:I
    .restart local v3       #i:I
    :cond_3
    new-instance v11, Ljava/lang/StringBuilder;

    invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V

    invoke-interface {v7, v3}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Ljava/lang/String;

    invoke-virtual {v11, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ";"

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v1, v10}, Ljava/lang/StringBuffer;->append(Ljava/lang/String;)Ljava/lang/StringBuffer;

    goto :goto_3

    .line 9942
    :cond_4
    invoke-virtual {v1}, Ljava/lang/StringBuffer;->toString()Ljava/lang/String;

    move-result-object p1

    .line 9943
    return-object p1
.end method

.method private getUniqueDestination(Ljava/lang/String;Ljava/lang/String;)Ljava/io/File;
    .locals 4
    .parameter "base"
    .parameter "extension"

    .prologue
    .line 3025
    new-instance v0, Ljava/io/File;

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "."

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-direct {v0, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 3027
    .local v0, file:Ljava/io/File;
    const/4 v1, 0x2

    .local v1, i:I
    :goto_0
    invoke-virtual {v0}, Ljava/io/File;->exists()Z

    move-result v2

    if-eqz v2, :cond_0

    .line 3028
    new-instance v0, Ljava/io/File;

    .end local v0           #file:Ljava/io/File;
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "_"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "."

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-direct {v0, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 3027
    .restart local v0       #file:Ljava/io/File;
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    .line 3030
    :cond_0
    return-object v0
.end method

.method private goToConversationList()V
    .locals 3

    .prologue
    const/high16 v2, 0x3400

    .line 4663
    invoke-virtual {p0}, Landroid/app/Activity;->finish()V

    .line 4665
    invoke-static {}, Lcom/android/mms/MmsConfig;->getMmsDirMode()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 4666
    new-instance v0, Landroid/content/Intent;

    const-class v1, Lcom/android/mms/ui/FolderViewList;

    invoke-direct {v0, p0, v1}, Landroid/content/Intent;-><init>(Landroid/content/Context;Ljava/lang/Class;)V

    .line 4667
    .local v0, it:Landroid/content/Intent;
    invoke-virtual {v0, v2}, Landroid/content/Intent;->setFlags(I)Landroid/content/Intent;

    .line 4670
    const-string v1, "floderview_key"

    iget v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHomeBox:I

    invoke-virtual {v0, v1, v2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 4671
    invoke-virtual {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivity(Landroid/content/Intent;)V

    .line 4681
    :goto_0
    return-void

    .line 4675
    .end local v0           #it:Landroid/content/Intent;
    :cond_0
    new-instance v0, Landroid/content/Intent;

    const-class v1, Lcom/android/mms/ui/ConversationList;

    invoke-direct {v0, p0, v1}, Landroid/content/Intent;-><init>(Landroid/content/Context;Ljava/lang/Class;)V

    .line 4676
    .restart local v0       #it:Landroid/content/Intent;
    invoke-virtual {v0, v2}, Landroid/content/Intent;->setFlags(I)Landroid/content/Intent;

    .line 4679
    invoke-virtual {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivity(Landroid/content/Intent;)V

    goto :goto_0
.end method

.method private handleAddAttachmentError(II)V
    .locals 3
    .parameter "error"
    .parameter "mediaTypeStringId"

    .prologue
    .line 5969
    if-nez p1, :cond_0

    .line 6022
    :goto_0
    return-void

    .line 5972
    :cond_0
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "handleAddAttachmentError: "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 5974
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$48;

    invoke-direct {v0, p0, p2, p1}, Lcom/android/mms/ui/ComposeMessageActivity$48;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;II)V

    invoke-virtual {p0, v0}, Landroid/app/Activity;->runOnUiThread(Ljava/lang/Runnable;)V

    goto :goto_0
.end method

.method private handleForwardedMessage()Z
    .locals 18

    .prologue
    .line 6191
    invoke-virtual/range {p0 .. p0}, Landroid/app/Activity;->getIntent()Landroid/content/Intent;

    move-result-object v3

    .line 6195
    .local v3, intent:Landroid/content/Intent;
    const-string v15, "forwarded_message"

    const/16 v16, 0x0

    move/from16 v0, v16

    invoke-virtual {v3, v15, v0}, Landroid/content/Intent;->getBooleanExtra(Ljava/lang/String;Z)Z

    move-result v15

    if-nez v15, :cond_0

    .line 6196
    const/4 v15, 0x0

    .line 6258
    :goto_0
    return v15

    .line 6199
    :cond_0
    const-string v15, "msg_uri"

    invoke-virtual {v3, v15}, Landroid/content/Intent;->getParcelableExtra(Ljava/lang/String;)Landroid/os/Parcelable;

    move-result-object v14

    check-cast v14, Landroid/net/Uri;

    .line 6201
    .local v14, uri:Landroid/net/Uri;
    const-string v15, "Mms:app"

    const/16 v16, 0x3

    invoke-static/range {v15 .. v16}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v15

    if-eqz v15, :cond_1

    .line 6202
    new-instance v15, Ljava/lang/StringBuilder;

    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V

    const-string v16, "handle forwarded message "

    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v15

    invoke-virtual {v15, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v15

    invoke-virtual {v15}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v15

    invoke-static {v15}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 6205
    :cond_1
    if-eqz v14, :cond_3

    .line 6206
    move-object/from16 v0, p0

    invoke-static {v0, v14}, Lcom/android/mms/data/WorkingMessage;->load(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;)Lcom/android/mms/data/WorkingMessage;

    move-result-object v15

    move-object/from16 v0, p0

    iput-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    .line 6207
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    const-string v16, "subject"

    move-object/from16 v0, v16

    invoke-virtual {v3, v0}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v16

    const/16 v17, 0x0

    invoke-virtual/range {v15 .. v17}, Lcom/android/mms/data/WorkingMessage;->setSubject(Ljava/lang/CharSequence;Z)V

    .line 6209
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v15}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v7

    .line 6210
    .local v7, mSlideshowModel:Lcom/android/mms/model/SlideshowModel;
    if-eqz v7, :cond_5

    .line 6211
    invoke-virtual {v7}, Lcom/android/mms/model/SlideshowModel;->size()I

    move-result v8

    .line 6212
    .local v8, mSsmSize:I
    const/4 v2, 0x0

    .local v2, index:I
    :goto_1
    if-ge v2, v8, :cond_5

    .line 6213
    invoke-virtual {v7, v2}, Lcom/android/mms/model/SlideshowModel;->get(I)Lcom/android/mms/model/SlideModel;

    move-result-object v6

    .line 6214
    .local v6, mSlideModel:Lcom/android/mms/model/SlideModel;
    if-eqz v6, :cond_2

    .line 6215
    invoke-virtual {v6}, Lcom/android/mms/model/SlideModel;->hasText()Z

    move-result v15

    if-eqz v15, :cond_2

    .line 6216
    invoke-virtual {v6}, Lcom/android/mms/model/SlideModel;->getText()Lcom/android/mms/model/TextModel;

    move-result-object v9

    .line 6217
    .local v9, mTextModel:Lcom/android/mms/model/TextModel;
    invoke-virtual {v9}, Lcom/android/mms/model/TextModel;->getText()Ljava/lang/String;

    move-result-object v11

    .line 6218
    .local v11, textChar:Ljava/lang/String;
    invoke-virtual {v11}, Ljava/lang/String;->length()I

    move-result v15

    int-to-long v12, v15

    .line 6219
    .local v12, textLength:J
    invoke-static {}, Lcom/android/mms/MmsConfig;->getMaxTextLimit()I

    move-result v15

    int-to-long v15, v15

    cmp-long v15, v12, v15

    if-lez v15, :cond_2

    .line 6220
    const/4 v15, 0x0

    invoke-static {}, Lcom/android/mms/MmsConfig;->getMaxTextLimit()I

    move-result v16

    move/from16 v0, v16

    invoke-virtual {v11, v15, v0}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v15

    invoke-virtual {v9, v15}, Lcom/android/mms/model/TextModel;->setText(Ljava/lang/CharSequence;)V

    .line 6212
    .end local v9           #mTextModel:Lcom/android/mms/model/TextModel;
    .end local v11           #textChar:Ljava/lang/String;
    .end local v12           #textLength:J
    :cond_2
    add-int/lit8 v2, v2, 0x1

    goto :goto_1

    .line 6227
    .end local v2           #index:I
    .end local v6           #mSlideModel:Lcom/android/mms/model/SlideModel;
    .end local v7           #mSlideshowModel:Lcom/android/mms/model/SlideshowModel;
    .end local v8           #mSsmSize:I
    :cond_3
    const/4 v10, 0x0

    .line 6228
    .local v10, smsAddress:Ljava/lang/String;
    const-string v15, "sms_address"

    invoke-virtual {v3, v15}, Landroid/content/Intent;->hasExtra(Ljava/lang/String;)Z

    move-result v15

    if-eqz v15, :cond_4

    .line 6229
    const-string v15, "sms_address"

    invoke-virtual {v3, v15}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v10

    .line 6230
    if-eqz v10, :cond_4

    .line 6235
    :cond_4
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    const-string v16, "sms_body"

    move-object/from16 v0, v16

    invoke-virtual {v3, v0}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v16

    invoke-virtual/range {v15 .. v16}, Lcom/android/mms/data/WorkingMessage;->setText(Ljava/lang/CharSequence;)V

    .line 6238
    .end local v10           #smsAddress:Ljava/lang/String;
    :cond_5
    const-string v15, "forwarded_ip_message"

    const/16 v16, 0x0

    move/from16 v0, v16

    invoke-virtual {v3, v15, v0}, Landroid/content/Intent;->getBooleanExtra(Ljava/lang/String;Z)Z

    move-result v15

    if-eqz v15, :cond_7

    .line 6239
    const-string v15, "ip_msg_id"

    const-wide/16 v16, 0x0

    move-wide/from16 v0, v16

    invoke-virtual {v3, v15, v0, v1}, Landroid/content/Intent;->getLongExtra(Ljava/lang/String;J)J

    move-result-wide v4

    .line 6240
    .local v4, ipMsgId:J
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getMessageManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/MessageManager;

    move-result-object v15

    invoke-virtual {v15, v4, v5}, Lcom/mediatek/mms/ipmessage/MessageManager;->getIpMsgInfo(J)Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-result-object v15

    move-object/from16 v0, p0

    iput-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 6241
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    const/16 v16, 0x0

    invoke-virtual/range {v15 .. v16}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->setId(I)V

    .line 6242
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v15}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v15

    const/16 v16, 0x4

    move/from16 v0, v16

    if-ne v15, v0, :cond_8

    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v15, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;

    invoke-virtual {v15}, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;->getCaption()Ljava/lang/String;

    move-result-object v15

    invoke-static {v15}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v15

    if-nez v15, :cond_8

    .line 6244
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v16, v0

    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v15, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;

    invoke-virtual {v15}, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;->getCaption()Ljava/lang/String;

    move-result-object v15

    move-object/from16 v0, v16

    invoke-virtual {v0, v15}, Lcom/android/mms/data/WorkingMessage;->setText(Ljava/lang/CharSequence;)V

    .line 6252
    :cond_6
    :goto_2
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-object/from16 v0, p0

    invoke-direct {v0, v15}, Lcom/android/mms/ui/ComposeMessageActivity;->saveIpMessageForAWhile(Lcom/mediatek/mms/ipmessage/message/IpMessage;)V

    .line 6256
    .end local v4           #ipMsgId:J
    :cond_7
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    const/16 v16, 0x0

    invoke-virtual/range {v15 .. v16}, Lcom/android/mms/ui/MessageListAdapter;->changeCursor(Landroid/database/Cursor;)V

    .line 6258
    const/4 v15, 0x1

    goto/16 :goto_0

    .line 6245
    .restart local v4       #ipMsgId:J
    :cond_8
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v15}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v15

    const/16 v16, 0x5

    move/from16 v0, v16

    if-ne v15, v0, :cond_9

    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v15, Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;

    invoke-virtual {v15}, Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;->getCaption()Ljava/lang/String;

    move-result-object v15

    invoke-static {v15}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v15

    if-nez v15, :cond_9

    .line 6247
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v16, v0

    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v15, Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;

    invoke-virtual {v15}, Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;->getCaption()Ljava/lang/String;

    move-result-object v15

    move-object/from16 v0, v16

    invoke-virtual {v0, v15}, Lcom/android/mms/data/WorkingMessage;->setText(Ljava/lang/CharSequence;)V

    goto :goto_2

    .line 6248
    :cond_9
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v15}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v15

    const/16 v16, 0x9

    move/from16 v0, v16

    if-ne v15, v0, :cond_6

    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v15, Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;

    invoke-virtual {v15}, Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;->getCaption()Ljava/lang/String;

    move-result-object v15

    invoke-static {v15}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v15

    if-nez v15, :cond_6

    .line 6250
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v16, v0

    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v15, Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;

    invoke-virtual {v15}, Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;->getCaption()Ljava/lang/String;

    move-result-object v15

    move-object/from16 v0, v16

    invoke-virtual {v0, v15}, Lcom/android/mms/data/WorkingMessage;->setText(Ljava/lang/CharSequence;)V

    goto :goto_2
.end method

.method private handleSendIntent()Z
    .locals 21

    .prologue
    .line 6264
    invoke-virtual/range {p0 .. p0}, Landroid/app/Activity;->getIntent()Landroid/content/Intent;

    move-result-object v8

    .line 6265
    .local v8, intent:Landroid/content/Intent;
    invoke-virtual {v8}, Landroid/content/Intent;->getExtras()Landroid/os/Bundle;

    move-result-object v5

    .line 6266
    .local v5, extras:Landroid/os/Bundle;
    if-nez v5, :cond_0

    .line 6267
    const/16 v17, 0x0

    .line 6401
    :goto_0
    return v17

    .line 6271
    :cond_0
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v17, v0

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v18, v0

    invoke-virtual/range {v17 .. v18}, Lcom/android/mms/data/WorkingMessage;->setConversation(Lcom/android/mms/data/Conversation;)V

    .line 6272
    invoke-virtual {v8}, Landroid/content/Intent;->getType()Ljava/lang/String;

    move-result-object v11

    .line 6273
    .local v11, mimeType:Ljava/lang/String;
    invoke-virtual {v8}, Landroid/content/Intent;->getAction()Ljava/lang/String;

    move-result-object v3

    .line 6274
    .local v3, action:Ljava/lang/String;
    const-string v17, "Mms/compose"

    new-instance v18, Ljava/lang/StringBuilder;

    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V

    const-string v19, "Get mimeType: "

    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v18

    move-object/from16 v0, v18

    invoke-virtual {v0, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v18

    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v18

    invoke-static/range {v17 .. v18}, Lcom/mediatek/encapsulation/MmsLog;->i(Ljava/lang/String;Ljava/lang/String;)V

    .line 6275
    const-string v17, "Mms/compose"

    new-instance v18, Ljava/lang/StringBuilder;

    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V

    const-string v19, "Get action: "

    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v18

    move-object/from16 v0, v18

    invoke-virtual {v0, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v18

    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v18

    invoke-static/range {v17 .. v18}, Lcom/mediatek/encapsulation/MmsLog;->i(Ljava/lang/String;Ljava/lang/String;)V

    .line 6276
    const-string v17, "android.intent.action.SEND"

    move-object/from16 v0, v17

    invoke-virtual {v0, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v17

    if-eqz v17, :cond_4

    .line 6277
    const-string v17, "android.intent.extra.STREAM"

    move-object/from16 v0, v17

    invoke-virtual {v5, v0}, Landroid/os/Bundle;->containsKey(Ljava/lang/String;)Z

    move-result v17

    if-eqz v17, :cond_3

    .line 6278
    const-string v17, "android.intent.extra.STREAM"

    move-object/from16 v0, v17

    invoke-virtual {v5, v0}, Landroid/os/Bundle;->getParcelable(Ljava/lang/String;)Landroid/os/Parcelable;

    move-result-object v15

    check-cast v15, Landroid/net/Uri;

    .line 6279
    .local v15, uri:Landroid/net/Uri;
    const-string v17, "text/plain"

    move-object/from16 v0, v17

    invoke-virtual {v11, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v17

    if-eqz v17, :cond_2

    .line 6280
    const-string v6, ""

    .line 6281
    .local v6, fileName:Ljava/lang/String;
    if-eqz v15, :cond_1

    .line 6282
    invoke-virtual {v15}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v17

    invoke-static/range {v17 .. v17}, Landroid/net/Uri;->decode(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v10

    .line 6283
    .local v10, mUriStr:Ljava/lang/String;
    const-string v17, "/"

    move-object/from16 v0, v17

    invoke-virtual {v10, v0}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v17

    add-int/lit8 v17, v17, 0x1

    invoke-virtual {v10}, Ljava/lang/String;->length()I

    move-result v18

    move/from16 v0, v17

    move/from16 v1, v18

    invoke-virtual {v10, v0, v1}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v6

    .line 6285
    .end local v10           #mUriStr:Ljava/lang/String;
    :cond_1
    const v17, 0x7f0b026f

    const/16 v18, 0x1

    move/from16 v0, v18

    new-array v0, v0, [Ljava/lang/Object;

    move-object/from16 v18, v0

    const/16 v19, 0x0

    aput-object v6, v18, v19

    move-object/from16 v0, p0

    move/from16 v1, v17

    move-object/from16 v2, v18

    invoke-virtual {v0, v1, v2}, Landroid/content/Context;->getString(I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v9

    .line 6286
    .local v9, mMessage:Ljava/lang/String;
    const/16 v17, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v17

    invoke-static {v0, v9, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v17

    invoke-virtual/range {v17 .. v17}, Landroid/widget/Toast;->show()V

    .line 6287
    const/16 v17, 0x0

    goto/16 :goto_0

    .line 6289
    .end local v6           #fileName:Ljava/lang/String;
    .end local v9           #mMessage:Ljava/lang/String;
    :cond_2
    invoke-virtual/range {p0 .. p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getAsyncDialog()Lcom/android/mms/ui/AsyncDialog;

    move-result-object v17

    new-instance v18, Lcom/android/mms/ui/ComposeMessageActivity$54;

    move-object/from16 v0, v18

    move-object/from16 v1, p0

    invoke-direct {v0, v1, v15, v11}, Lcom/android/mms/ui/ComposeMessageActivity$54;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;Ljava/lang/String;)V

    const/16 v19, 0x0

    const v20, 0x7f0b0283

    invoke-virtual/range {v17 .. v20}, Lcom/android/mms/ui/AsyncDialog;->runAsync(Ljava/lang/Runnable;Ljava/lang/Runnable;I)V

    .line 6343
    const-string v17, "ForCreateAfterKilledBySystem"

    move-object/from16 v0, v17

    invoke-virtual {v8, v0}, Landroid/content/Intent;->setAction(Ljava/lang/String;)Landroid/content/Intent;

    .line 6344
    const/16 v17, 0x1

    goto/16 :goto_0

    .line 6345
    .end local v15           #uri:Landroid/net/Uri;
    :cond_3
    const-string v17, "android.intent.extra.TEXT"

    move-object/from16 v0, v17

    invoke-virtual {v5, v0}, Landroid/os/Bundle;->containsKey(Ljava/lang/String;)Z

    move-result v17

    if-eqz v17, :cond_8

    .line 6346
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v17, v0

    const-string v18, "android.intent.extra.TEXT"

    move-object/from16 v0, v18

    invoke-virtual {v5, v0}, Landroid/os/Bundle;->getString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v18

    invoke-virtual/range {v17 .. v18}, Lcom/android/mms/data/WorkingMessage;->setText(Ljava/lang/CharSequence;)V

    .line 6347
    const-string v17, "ForCreateAfterKilledBySystem"

    move-object/from16 v0, v17

    invoke-virtual {v8, v0}, Landroid/content/Intent;->setAction(Ljava/lang/String;)Landroid/content/Intent;

    .line 6348
    const/16 v17, 0x1

    goto/16 :goto_0

    .line 6350
    :cond_4
    const-string v17, "android.intent.action.SEND_MULTIPLE"

    move-object/from16 v0, v17

    invoke-virtual {v0, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v17

    if-eqz v17, :cond_7

    const-string v17, "android.intent.extra.STREAM"

    move-object/from16 v0, v17

    invoke-virtual {v5, v0}, Landroid/os/Bundle;->containsKey(Ljava/lang/String;)Z

    move-result v17

    if-eqz v17, :cond_7

    .line 6352
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v17, v0

    invoke-virtual/range {v17 .. v17}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v14

    .line 6353
    .local v14, slideShow:Lcom/android/mms/model/SlideshowModel;
    const-string v17, "android.intent.extra.STREAM"

    move-object/from16 v0, v17

    invoke-virtual {v5, v0}, Landroid/os/Bundle;->getParcelableArrayList(Ljava/lang/String;)Ljava/util/ArrayList;

    move-result-object v16

    .line 6354
    .local v16, uris:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Landroid/os/Parcelable;>;"
    if-eqz v14, :cond_6

    invoke-virtual {v14}, Lcom/android/mms/model/SlideshowModel;->size()I

    move-result v4

    .line 6355
    .local v4, currentSlideCount:I
    :goto_1
    invoke-virtual/range {v16 .. v16}, Ljava/util/ArrayList;->size()I

    move-result v7

    .line 6356
    .local v7, importCount:I
    add-int v17, v7, v4

    const/16 v18, 0x14

    move/from16 v0, v17

    move/from16 v1, v18

    if-le v0, v1, :cond_5

    .line 6357
    rsub-int/lit8 v17, v4, 0x14

    move/from16 v0, v17

    invoke-static {v0, v7}, Ljava/lang/Math;->min(II)I

    move-result v7

    .line 6364
    :cond_5
    move v13, v7

    .line 6365
    .local v13, numberToImport:I
    const-string v17, "Mms/compose"

    new-instance v18, Ljava/lang/StringBuilder;

    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V

    const-string v19, "numberToImport: "

    invoke-virtual/range {v18 .. v19}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v18

    move-object/from16 v0, v18

    invoke-virtual {v0, v13}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v18

    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v18

    invoke-static/range {v17 .. v18}, Lcom/mediatek/encapsulation/MmsLog;->i(Ljava/lang/String;Ljava/lang/String;)V

    .line 6366
    move-object/from16 v0, p0

    iget-object v12, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    .line 6367
    .local v12, msg:Lcom/android/mms/data/WorkingMessage;
    invoke-virtual/range {p0 .. p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getAsyncDialog()Lcom/android/mms/ui/AsyncDialog;

    move-result-object v17

    new-instance v18, Lcom/android/mms/ui/ComposeMessageActivity$55;

    move-object/from16 v0, v18

    move-object/from16 v1, p0

    move-object/from16 v2, v16

    invoke-direct {v0, v1, v13, v2, v11}, Lcom/android/mms/ui/ComposeMessageActivity$55;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;ILjava/util/ArrayList;Ljava/lang/String;)V

    const/16 v19, 0x0

    const v20, 0x7f0b0283

    invoke-virtual/range {v17 .. v20}, Lcom/android/mms/ui/AsyncDialog;->runAsync(Ljava/lang/Runnable;Ljava/lang/Runnable;I)V

    .line 6395
    const-string v17, "ForCreateAfterKilledBySystem"

    move-object/from16 v0, v17

    invoke-virtual {v8, v0}, Landroid/content/Intent;->setAction(Ljava/lang/String;)Landroid/content/Intent;

    .line 6396
    const/16 v17, 0x1

    goto/16 :goto_0

    .line 6354
    .end local v4           #currentSlideCount:I
    .end local v7           #importCount:I
    .end local v12           #msg:Lcom/android/mms/data/WorkingMessage;
    .end local v13           #numberToImport:I
    :cond_6
    const/4 v4, 0x0

    goto :goto_1

    .line 6397
    .end local v14           #slideShow:Lcom/android/mms/model/SlideshowModel;
    .end local v16           #uris:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Landroid/os/Parcelable;>;"
    :cond_7
    const-string v17, "ForCreateAfterKilledBySystem"

    move-object/from16 v0, v17

    invoke-virtual {v0, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v17

    if-eqz v17, :cond_8

    .line 6399
    const/16 v17, 0x1

    goto/16 :goto_0

    .line 6401
    :cond_8
    const/16 v17, 0x0

    goto/16 :goto_0
.end method

.method private haveSomethingToCopyToSDCard(J)Z
    .locals 16
    .parameter "msgId"

    .prologue
    .line 2706
    const/4 v2, 0x0

    .line 2708
    .local v2, body:Lcom/google/android/mms/pdu/PduBody;
    :try_start_0
    sget-object v13, Landroid/provider/Telephony$Mms;->CONTENT_URI:Landroid/net/Uri;

    move-wide/from16 v0, p1

    invoke-static {v13, v0, v1}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v13

    move-object/from16 v0, p0

    invoke-static {v0, v13}, Lcom/android/mms/model/SlideshowModel;->getPduBody(Landroid/content/Context;Landroid/net/Uri;)Lcom/google/android/mms/pdu/PduBody;
    :try_end_0
    .catch Lcom/google/android/mms/MmsException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v2

    .line 2713
    :goto_0
    if-nez v2, :cond_1

    .line 2714
    const/4 v11, 0x0

    .line 2774
    :cond_0
    :goto_1
    return v11

    .line 2710
    :catch_0
    move-exception v3

    .line 2711
    .local v3, e:Lcom/google/android/mms/MmsException;
    const-string v13, "Mms/compose"

    new-instance v14, Ljava/lang/StringBuilder;

    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V

    const-string v15, "haveSomethingToCopyToSDCard can\'t load pdu body: "

    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v14

    move-wide/from16 v0, p1

    invoke-virtual {v14, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v14

    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v14

    invoke-static {v13, v14}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_0

    .line 2717
    .end local v3           #e:Lcom/google/android/mms/MmsException;
    :cond_1
    const/4 v11, 0x0

    .line 2718
    .local v11, result:Z
    invoke-virtual {v2}, Lcom/google/android/mms/pdu/PduBody;->getPartsNum()I

    move-result v10

    .line 2719
    .local v10, partNum:I
    const/4 v5, 0x0

    .local v5, i:I
    :goto_2
    if-ge v5, v10, :cond_6

    .line 2720
    invoke-virtual {v2, v5}, Lcom/google/android/mms/pdu/PduBody;->getPart(I)Lcom/google/android/mms/pdu/PduPart;

    move-result-object v9

    .line 2722
    .local v9, part:Lcom/google/android/mms/pdu/PduPart;
    invoke-virtual {v9}, Lcom/google/android/mms/pdu/PduPart;->getFilename()[B

    move-result-object v4

    .line 2723
    .local v4, fileName:[B
    const/4 v8, 0x0

    .line 2724
    .local v8, mSrc:Ljava/lang/String;
    if-nez v4, :cond_2

    .line 2725
    invoke-virtual {v9}, Lcom/google/android/mms/pdu/PduPart;->getContentLocation()[B

    move-result-object v4

    .line 2727
    :cond_2
    if-eqz v4, :cond_3

    .line 2728
    new-instance v8, Ljava/lang/String;

    .end local v8           #mSrc:Ljava/lang/String;
    invoke-direct {v8, v4}, Ljava/lang/String;-><init>([B)V

    .line 2730
    .restart local v8       #mSrc:Ljava/lang/String;
    :cond_3
    new-instance v13, Ljava/lang/String;

    invoke-virtual {v9}, Lcom/google/android/mms/pdu/PduPart;->getContentType()[B

    move-result-object v14

    invoke-direct {v13, v14}, Ljava/lang/String;-><init>([B)V

    invoke-static {v13, v8}, Lcom/android/mms/ui/MessageUtils;->getContentType(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v12

    .line 2731
    .local v12, type:Ljava/lang/String;
    invoke-virtual {v12}, Ljava/lang/String;->getBytes()[B

    move-result-object v13

    invoke-virtual {v9, v13}, Lcom/google/android/mms/pdu/PduPart;->setContentType([B)V

    .line 2732
    const-string v13, "Mms:app"

    const/4 v14, 0x2

    invoke-static {v13, v14}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v13

    if-eqz v13, :cond_4

    .line 2733
    new-instance v13, Ljava/lang/StringBuilder;

    invoke-direct {v13}, Ljava/lang/StringBuilder;-><init>()V

    const-string v14, "[CMA] haveSomethingToCopyToSDCard: part["

    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v13

    invoke-virtual {v13, v5}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v13

    const-string v14, "] contentType="

    invoke-virtual {v13, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v13

    invoke-virtual {v13, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v13

    invoke-virtual {v13}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v13

    invoke-static {v13}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 2737
    :cond_4
    invoke-static {v12}, Lcom/mediatek/encapsulation/com/google/android/mms/EncapsulatedContentType;->isImageType(Ljava/lang/String;)Z

    move-result v13

    if-nez v13, :cond_5

    invoke-static {v12}, Lcom/mediatek/encapsulation/com/google/android/mms/EncapsulatedContentType;->isVideoType(Ljava/lang/String;)Z

    move-result v13

    if-nez v13, :cond_5

    invoke-static {v12}, Lcom/mediatek/encapsulation/com/google/android/mms/EncapsulatedContentType;->isAudioType(Ljava/lang/String;)Z

    move-result v13

    if-nez v13, :cond_5

    invoke-static {v12}, Lcom/android/mms/drm/DrmUtils;->isDrmType(Ljava/lang/String;)Z

    move-result v13

    if-nez v13, :cond_5

    const-string v13, "application/ogg"

    invoke-virtual {v13, v12}, Ljava/lang/String;->equalsIgnoreCase(Ljava/lang/String;)Z

    move-result v13

    if-nez v13, :cond_5

    invoke-static {v9}, Lcom/android/mms/model/FileAttachmentModel;->isSupportedFile(Lcom/google/android/mms/pdu/PduPart;)Z

    move-result v13

    if-nez v13, :cond_5

    if-eqz v8, :cond_7

    invoke-virtual {v8}, Ljava/lang/String;->toLowerCase()Ljava/lang/String;

    move-result-object v13

    const-string v14, ".dcf"

    invoke-virtual {v13, v14}, Ljava/lang/String;->endsWith(Ljava/lang/String;)Z

    move-result v13

    if-eqz v13, :cond_7

    .line 2743
    :cond_5
    const/4 v11, 0x1

    .line 2752
    .end local v4           #fileName:[B
    .end local v8           #mSrc:Ljava/lang/String;
    .end local v9           #part:Lcom/google/android/mms/pdu/PduPart;
    .end local v12           #type:Ljava/lang/String;
    :cond_6
    const/4 v13, 0x5

    invoke-static {v13}, Lcom/android/mms/MmsPluginManager;->getMmsPluginObject(I)Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;

    .line 2756
    .local v6, mMmsAttachmentEnhancePlugin:Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;
    if-eqz v6, :cond_0

    .line 2757
    invoke-interface {v6}, Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;->isSupportAttachmentEnhance()Z

    move-result v13

    if-eqz v13, :cond_0

    .line 2758
    const/4 v7, 0x0

    .line 2760
    .local v7, mSlideShow:Lcom/android/mms/model/SlideshowModel;
    :try_start_1
    move-object/from16 v0, p0

    invoke-static {v0, v2}, Lcom/android/mms/model/SlideshowModel;->createFromPduBody(Landroid/content/Context;Lcom/google/android/mms/pdu/PduBody;)Lcom/android/mms/model/SlideshowModel;
    :try_end_1
    .catch Lcom/google/android/mms/MmsException; {:try_start_1 .. :try_end_1} :catch_1

    move-result-object v7

    .line 2765
    :goto_3
    if-eqz v7, :cond_0

    .line 2766
    invoke-virtual {v7}, Lcom/android/mms/model/SlideshowModel;->getAttachFiles()Ljava/util/ArrayList;

    move-result-object v13

    if-eqz v13, :cond_0

    .line 2767
    invoke-virtual {v7}, Lcom/android/mms/model/SlideshowModel;->getAttachFiles()Ljava/util/ArrayList;

    move-result-object v13

    invoke-virtual {v13}, Ljava/util/ArrayList;->size()I

    move-result v13

    if-eqz v13, :cond_0

    .line 2768
    const/4 v11, 0x1

    goto/16 :goto_1

    .line 2719
    .end local v6           #mMmsAttachmentEnhancePlugin:Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;
    .end local v7           #mSlideShow:Lcom/android/mms/model/SlideshowModel;
    .restart local v4       #fileName:[B
    .restart local v8       #mSrc:Ljava/lang/String;
    .restart local v9       #part:Lcom/google/android/mms/pdu/PduPart;
    .restart local v12       #type:Ljava/lang/String;
    :cond_7
    add-int/lit8 v5, v5, 0x1

    goto/16 :goto_2

    .line 2761
    .end local v4           #fileName:[B
    .end local v8           #mSrc:Ljava/lang/String;
    .end local v9           #part:Lcom/google/android/mms/pdu/PduPart;
    .end local v12           #type:Ljava/lang/String;
    .restart local v6       #mMmsAttachmentEnhancePlugin:Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;
    .restart local v7       #mSlideShow:Lcom/android/mms/model/SlideshowModel;
    :catch_1
    move-exception v3

    .line 2762
    .restart local v3       #e:Lcom/google/android/mms/MmsException;
    const-string v13, "Mms/compose"

    const-string v14, "Create from pdubody exception!"

    invoke-static {v13, v14}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_3
.end method

.method private hideAllSrcButton()Z
    .locals 2

    .prologue
    const/16 v1, 0x8

    .line 14478
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonMms:Landroid/widget/TextView;

    if-eqz v0, :cond_0

    .line 14479
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonMms:Landroid/widget/TextView;

    invoke-virtual {v0, v1}, Landroid/view/View;->setVisibility(I)V

    .line 14481
    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonSms:Landroid/widget/ImageButton;

    if-eqz v0, :cond_1

    .line 14482
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonSms:Landroid/widget/ImageButton;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 14484
    :cond_1
    const/4 v0, 0x1

    return v0
.end method

.method private hideInputMethod()V
    .locals 3

    .prologue
    const/4 v2, 0x0

    .line 9474
    const-string v0, "Mms/compose"

    const-string v1, "hideInputMethod()"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 9475
    invoke-virtual {p0}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v0

    if-eqz v0, :cond_0

    invoke-virtual {p0}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v0

    invoke-virtual {v0}, Landroid/view/Window;->getCurrentFocus()Landroid/view/View;

    move-result-object v0

    if-eqz v0, :cond_0

    .line 9476
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInputMethodManager:Landroid/view/inputmethod/InputMethodManager;

    invoke-virtual {p0}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/Window;->getCurrentFocus()Landroid/view/View;

    move-result-object v1

    invoke-virtual {v1}, Landroid/view/View;->getWindowToken()Landroid/os/IBinder;

    move-result-object v1

    invoke-virtual {v0, v1, v2}, Landroid/view/inputmethod/InputMethodManager;->hideSoftInputFromWindow(Landroid/os/IBinder;I)Z

    .line 9477
    iput-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsKeyboardOpen:Z

    .line 9479
    :cond_0
    return-void
.end method

.method private hideKeyboard()V
    .locals 4

    .prologue
    const/4 v3, 0x0

    .line 7444
    const-string v1, "Mms/compose"

    const-string v2, "hideKeyboard()"

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 7445
    const-string v1, "input_method"

    invoke-virtual {p0, v1}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/view/inputmethod/InputMethodManager;

    .line 7447
    .local v0, inputMethodManager:Landroid/view/inputmethod/InputMethodManager;
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v1}, Landroid/view/View;->getWindowToken()Landroid/os/IBinder;

    move-result-object v1

    invoke-virtual {v0, v1, v3}, Landroid/view/inputmethod/InputMethodManager;->hideSoftInputFromWindow(Landroid/os/IBinder;I)Z

    .line 7448
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsKeyboardOpen:Z

    .line 7449
    return-void
.end method

.method private hideOrShowTopPanel()V
    .locals 3

    .prologue
    const/4 v1, 0x0

    .line 3562
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isSubjectEditorVisible()Z

    move-result v2

    if-nez v2, :cond_0

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v2

    if-eqz v2, :cond_1

    :cond_0
    const/4 v0, 0x1

    .line 3563
    .local v0, anySubViewsVisible:Z
    :goto_0
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTopPanel:Landroid/view/View;

    if-eqz v0, :cond_2

    :goto_1
    invoke-virtual {v2, v1}, Landroid/view/View;->setVisibility(I)V

    .line 3564
    return-void

    .end local v0           #anySubViewsVisible:Z
    :cond_1
    move v0, v1

    .line 3562
    goto :goto_0

    .line 3563
    .restart local v0       #anySubViewsVisible:Z
    :cond_2
    const/16 v1, 0x8

    goto :goto_1
.end method

.method private hideRecipientEditor()V
    .locals 3

    .prologue
    const/16 v2, 0x8

    .line 4684
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    if-eqz v0, :cond_0

    .line 4685
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsWatcher:Landroid/text/TextWatcher;

    invoke-virtual {v0, v1}, Lcom/android/ex/chips/MTKRecipientEditTextView;->removeTextChangedListener(Landroid/text/TextWatcher;)V

    .line 4686
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v0, v2}, Landroid/view/View;->setVisibility(I)V

    .line 4689
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsPicker:Landroid/widget/ImageButton;

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 4691
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideOrShowTopPanel()V

    .line 4693
    :cond_0
    return-void
.end method

.method private initActivityState(Landroid/os/Bundle;)V
    .locals 24
    .parameter "bundle"

    .prologue
    .line 7565
    invoke-virtual/range {p0 .. p0}, Landroid/app/Activity;->getIntent()Landroid/content/Intent;

    move-result-object v10

    .line 7568
    .local v10, intent:Landroid/content/Intent;
    const/16 v20, 0x0

    move/from16 v0, v20

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mIsTooManyRecipients:Z

    .line 7569
    if-eqz p1, :cond_6

    .line 7570
    const-string v20, "compressing_image"

    const/16 v21, 0x0

    move-object/from16 v0, p1

    move-object/from16 v1, v20

    move/from16 v2, v21

    invoke-virtual {v0, v1, v2}, Landroid/os/Bundle;->getBoolean(Ljava/lang/String;Z)Z

    move-result v20

    move/from16 v0, v20

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mCompressingImage:Z

    .line 7571
    const-string v20, "recipients"

    move-object/from16 v0, p1

    move-object/from16 v1, v20

    invoke-virtual {v0, v1}, Landroid/os/Bundle;->getString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v13

    .line 7572
    .local v13, recipientsStr:Ljava/lang/String;
    const/4 v12, 0x0

    .line 7573
    .local v12, recipientCount:I
    if-eqz v13, :cond_4

    .line 7574
    const-string v20, ";"

    move-object/from16 v0, v20

    invoke-virtual {v13, v0}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v20

    move-object/from16 v0, v20

    array-length v12, v0

    .line 7575
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v20

    const/16 v21, 0x0

    const/16 v22, 0x1

    move/from16 v0, v21

    move/from16 v1, v22

    invoke-static {v13, v0, v1}, Lcom/android/mms/data/ContactList;->getByNumbers(Ljava/lang/String;ZZ)Lcom/android/mms/data/ContactList;

    move-result-object v21

    const/16 v22, 0x0

    invoke-static/range {v20 .. v22}, Lcom/android/mms/data/Conversation;->get(Landroid/content/Context;Lcom/android/mms/data/ContactList;Z)Lcom/android/mms/data/Conversation;

    move-result-object v20

    move-object/from16 v0, v20

    move-object/from16 v1, p0

    iput-object v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    .line 7583
    :goto_0
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v21, v0

    invoke-virtual/range {v20 .. v21}, Lcom/android/mms/data/WorkingMessage;->setConversation(Lcom/android/mms/data/Conversation;)V

    .line 7585
    const-string v20, "exit_on_sent"

    const/16 v21, 0x0

    move-object/from16 v0, p1

    move-object/from16 v1, v20

    move/from16 v2, v21

    invoke-virtual {v0, v1, v2}, Landroid/os/Bundle;->getBoolean(Ljava/lang/String;Z)Z

    move-result v20

    move/from16 v0, v20

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mExitOnSent:Z

    .line 7586
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    move-object/from16 v0, v20

    move-object/from16 v1, p1

    invoke-virtual {v0, v1}, Lcom/android/mms/data/WorkingMessage;->readStateFromBundle(Landroid/os/Bundle;)V

    .line 7588
    invoke-static {}, Lcom/android/mms/MmsConfig;->getMmsDirMode()Z

    move-result v20

    if-eqz v20, :cond_0

    .line 7589
    const/16 v20, 0x1

    move/from16 v0, v20

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mExitOnSent:Z

    .line 7593
    :cond_0
    const-string v20, "saved_ipmessage_draft"

    const/16 v21, 0x0

    move-object/from16 v0, p1

    move-object/from16 v1, v20

    move/from16 v2, v21

    invoke-virtual {v0, v1, v2}, Landroid/os/Bundle;->getBoolean(Ljava/lang/String;Z)Z

    move-result v8

    .line 7594
    .local v8, hasIpMessageDraft:Z
    move-object/from16 v0, p0

    iget-boolean v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mCompressingImage:Z

    move/from16 v20, v0

    if-nez v20, :cond_2

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v20, v0

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/data/Conversation;->hasDraft()Z

    move-result v20

    if-eqz v20, :cond_2

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v20, v0

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/data/Conversation;->getMessageCount()I

    move-result v20

    if-nez v20, :cond_2

    if-nez v8, :cond_2

    .line 7595
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v20

    if-nez v20, :cond_5

    .line 7596
    const-string v20, "Mms/compose"

    const-string v21, "delete sms draft"

    invoke-static/range {v20 .. v21}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    .line 7597
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v21, v0

    invoke-virtual/range {v20 .. v21}, Lcom/android/mms/data/WorkingMessage;->asyncDeleteDraftSmsMessage(Lcom/android/mms/data/Conversation;)V

    .line 7609
    :cond_1
    :goto_1
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v21, v0

    const/16 v22, 0x1

    invoke-virtual/range {v20 .. v22}, Lcom/android/mms/data/WorkingMessage;->clearConversation(Lcom/android/mms/data/Conversation;Z)V

    .line 7611
    :cond_2
    sget v20, Lcom/android/mms/ui/ComposeMessageActivity;->RECIPIENTS_LIMIT_FOR_SMS:I

    move/from16 v0, v20

    if-le v12, v0, :cond_3

    .line 7612
    const/16 v20, 0x1

    move/from16 v0, v20

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mIsTooManyRecipients:Z

    .line 7614
    :cond_3
    const/16 v20, 0x0

    move/from16 v0, v20

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mCompressingImage:Z

    .line 7702
    .end local v8           #hasIpMessageDraft:Z
    .end local v12           #recipientCount:I
    .end local v13           #recipientsStr:Ljava/lang/String;
    :goto_2
    return-void

    .line 7579
    .restart local v12       #recipientCount:I
    .restart local v13       #recipientsStr:Ljava/lang/String;
    :cond_4
    const-string v20, "thread"

    const-wide/16 v21, 0x0

    move-object/from16 v0, p1

    move-object/from16 v1, v20

    move-wide/from16 v2, v21

    invoke-virtual {v0, v1, v2, v3}, Landroid/os/Bundle;->getLong(Ljava/lang/String;J)J

    move-result-wide v20

    invoke-static/range {v20 .. v21}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v16

    .line 7580
    .local v16, threadId:Ljava/lang/Long;
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v20

    invoke-virtual/range {v16 .. v16}, Ljava/lang/Long;->longValue()J

    move-result-wide v21

    const/16 v23, 0x0

    invoke-static/range {v20 .. v23}, Lcom/android/mms/data/Conversation;->get(Landroid/content/Context;JZ)Lcom/android/mms/data/Conversation;

    move-result-object v20

    move-object/from16 v0, v20

    move-object/from16 v1, p0

    iput-object v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    goto/16 :goto_0

    .line 7599
    .end local v16           #threadId:Ljava/lang/Long;
    .restart local v8       #hasIpMessageDraft:Z
    :cond_5
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v20

    if-eqz v20, :cond_1

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v20

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/model/SlideshowModel;->size()I

    move-result v20

    const/16 v21, 0x1

    move/from16 v0, v20

    move/from16 v1, v21

    if-ne v0, v1, :cond_1

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v20

    const/16 v21, 0x0

    invoke-virtual/range {v20 .. v21}, Lcom/android/mms/model/SlideshowModel;->get(I)Lcom/android/mms/model/SlideModel;

    move-result-object v20

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/model/SlideModel;->hasAudio()Z

    move-result v20

    if-nez v20, :cond_1

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v20

    const/16 v21, 0x0

    invoke-virtual/range {v20 .. v21}, Lcom/android/mms/model/SlideshowModel;->get(I)Lcom/android/mms/model/SlideModel;

    move-result-object v20

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/model/SlideModel;->hasImage()Z

    move-result v20

    if-nez v20, :cond_1

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v20

    const/16 v21, 0x0

    invoke-virtual/range {v20 .. v21}, Lcom/android/mms/model/SlideshowModel;->get(I)Lcom/android/mms/model/SlideModel;

    move-result-object v20

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/model/SlideModel;->hasVideo()Z

    move-result v20

    if-nez v20, :cond_1

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v20

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/model/SlideshowModel;->sizeOfFilesAttach()I

    move-result v20

    if-nez v20, :cond_1

    .line 7604
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v21, v0

    invoke-virtual/range {v20 .. v21}, Lcom/android/mms/data/WorkingMessage;->asyncDeleteDraftMmsMessage(Lcom/android/mms/data/Conversation;)V

    .line 7605
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    invoke-virtual/range {v20 .. v20}, Lcom/android/mms/data/WorkingMessage;->removeAllFileAttaches()V

    .line 7606
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    const/16 v21, 0x0

    invoke-virtual/range {v20 .. v21}, Lcom/android/mms/data/WorkingMessage;->removeAttachment(Z)V

    goto/16 :goto_1

    .line 7619
    .end local v8           #hasIpMessageDraft:Z
    .end local v12           #recipientCount:I
    .end local v13           #recipientsStr:Ljava/lang/String;
    :cond_6
    const-string v20, "multi_export_contacts"

    move-object/from16 v0, v20

    invoke-virtual {v10, v0}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v19

    .line 7620
    .local v19, vCardContactsIds:Ljava/lang/String;
    const/4 v6, 0x0

    .line 7621
    .local v6, contactsIds:[J
    if-eqz v19, :cond_7

    const-string v20, ""

    invoke-virtual/range {v19 .. v20}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v20

    if-nez v20, :cond_7

    .line 7622
    const-string v20, ","

    invoke-virtual/range {v19 .. v20}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v18

    .line 7623
    .local v18, vCardConIds:[Ljava/lang/String;
    const-string v20, "Mms/compose"

    new-instance v21, Ljava/lang/StringBuilder;

    invoke-direct/range {v21 .. v21}, Ljava/lang/StringBuilder;-><init>()V

    const-string v22, "ComposeMessage.initActivityState(): vCardConIds.length"

    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v21

    move-object/from16 v0, v18

    array-length v0, v0

    move/from16 v22, v0

    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v21

    invoke-virtual/range {v21 .. v21}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v21

    invoke-static/range {v20 .. v21}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 7624
    move-object/from16 v0, v18

    array-length v0, v0

    move/from16 v20, v0

    move/from16 v0, v20

    new-array v6, v0, [J

    .line 7626
    const/4 v9, 0x0

    .local v9, i:I
    :goto_3
    :try_start_0
    move-object/from16 v0, v18

    array-length v0, v0

    move/from16 v20, v0

    move/from16 v0, v20

    if-ge v9, v0, :cond_7

    .line 7627
    aget-object v20, v18, v9

    invoke-static/range {v20 .. v20}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v20

    aput-wide v20, v6, v9
    :try_end_0
    .catch Ljava/lang/NumberFormatException; {:try_start_0 .. :try_end_0} :catch_0

    .line 7626
    add-int/lit8 v9, v9, 0x1

    goto :goto_3

    .line 7629
    :catch_0
    move-exception v7

    .line 7630
    .local v7, e:Ljava/lang/NumberFormatException;
    const/4 v6, 0x0

    .line 7635
    .end local v7           #e:Ljava/lang/NumberFormatException;
    .end local v9           #i:I
    .end local v18           #vCardConIds:[Ljava/lang/String;
    :cond_7
    const-string v20, "thread_id"

    const-wide/16 v21, 0x0

    move-object/from16 v0, v20

    move-wide/from16 v1, v21

    invoke-virtual {v10, v0, v1, v2}, Landroid/content/Intent;->getLongExtra(Ljava/lang/String;J)J

    move-result-wide v16

    .line 7636
    .local v16, threadId:J
    const-wide/16 v20, 0x0

    cmp-long v20, v16, v20

    if-lez v20, :cond_a

    .line 7638
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v20

    const/16 v21, 0x0

    move-object/from16 v0, v20

    move-wide/from16 v1, v16

    move/from16 v3, v21

    invoke-static {v0, v1, v2, v3}, Lcom/android/mms/data/Conversation;->get(Landroid/content/Context;JZ)Lcom/android/mms/data/Conversation;

    move-result-object v20

    move-object/from16 v0, v20

    move-object/from16 v1, p0

    iput-object v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    .line 7678
    :goto_4
    invoke-direct/range {p0 .. p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateThreadIdIfRunning()V

    .line 7680
    const-string v20, "exit_on_sent"

    const/16 v21, 0x0

    move-object/from16 v0, v20

    move/from16 v1, v21

    invoke-virtual {v10, v0, v1}, Landroid/content/Intent;->getBooleanExtra(Ljava/lang/String;Z)Z

    move-result v20

    move/from16 v0, v20

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mExitOnSent:Z

    .line 7681
    const-string v20, "sms_body"

    move-object/from16 v0, v20

    invoke-virtual {v10, v0}, Landroid/content/Intent;->hasExtra(Ljava/lang/String;)Z

    move-result v20

    if-eqz v20, :cond_8

    .line 7684
    const-string v20, "sms_body"

    move-object/from16 v0, v20

    invoke-virtual {v10, v0}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v15

    .line 7686
    .local v15, sms_body:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    move-object/from16 v0, v20

    invoke-virtual {v0, v15}, Lcom/android/mms/data/WorkingMessage;->setText(Ljava/lang/CharSequence;)V

    .line 7689
    .end local v15           #sms_body:Ljava/lang/String;
    :cond_8
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    const-string v21, "subject"

    move-object/from16 v0, v21

    invoke-virtual {v10, v0}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v21

    const/16 v22, 0x0

    invoke-virtual/range {v20 .. v22}, Lcom/android/mms/data/WorkingMessage;->setSubject(Ljava/lang/CharSequence;Z)V

    .line 7692
    invoke-static {}, Lcom/android/mms/MmsConfig;->getMmsDirMode()Z

    move-result v20

    if-eqz v20, :cond_9

    .line 7693
    const/16 v20, 0x1

    move/from16 v0, v20

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mExitOnSent:Z

    .line 7698
    :cond_9
    const-string v20, "simId"

    const/16 v21, -0x1

    move-object/from16 v0, v20

    move/from16 v1, v21

    invoke-virtual {v10, v0, v1}, Landroid/content/Intent;->getIntExtra(Ljava/lang/String;I)I

    move-result v14

    .line 7699
    .local v14, slot_id:I
    move-object/from16 v0, p0

    invoke-static {v0, v14}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getIdBySlot(Landroid/content/Context;I)J

    move-result-wide v20

    move-wide/from16 v0, v20

    long-to-int v0, v0

    move/from16 v20, v0

    move/from16 v0, v20

    move-object/from16 v1, p0

    iput v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->send_sim_id:I

    .line 7700
    const-string v20, "Mms/compose"

    new-instance v21, Ljava/lang/StringBuilder;

    invoke-direct/range {v21 .. v21}, Ljava/lang/StringBuilder;-><init>()V

    const-string v22, "init get simId from intent = "

    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v21

    move-object/from16 v0, p0

    iget v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->send_sim_id:I

    move/from16 v22, v0

    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v21

    invoke-virtual/range {v21 .. v21}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v21

    invoke-static/range {v20 .. v21}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_2

    .line 7640
    .end local v14           #slot_id:I
    :cond_a
    if-eqz v6, :cond_b

    array-length v0, v6

    move/from16 v20, v0

    if-lez v20, :cond_b

    .line 7642
    move-object/from16 v0, p0

    invoke-direct {v0, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->addTextVCardAsync([J)V

    .line 7643
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v20

    invoke-static/range {v20 .. v20}, Lcom/android/mms/data/Conversation;->createNew(Landroid/content/Context;)Lcom/android/mms/data/Conversation;

    move-result-object v20

    move-object/from16 v0, v20

    move-object/from16 v1, p0

    iput-object v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    goto/16 :goto_2

    .line 7647
    :cond_b
    invoke-virtual {v10}, Landroid/content/Intent;->getData()Landroid/net/Uri;

    move-result-object v11

    .line 7650
    .local v11, intentData:Landroid/net/Uri;
    invoke-virtual {v10}, Landroid/content/Intent;->getAction()Ljava/lang/String;

    move-result-object v4

    .line 7651
    .local v4, action:Ljava/lang/String;
    if-eqz v11, :cond_e

    invoke-static {v4}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v20

    if-nez v20, :cond_c

    const-string v20, "android.intent.action.SEND"

    move-object/from16 v0, v20

    invoke-virtual {v4, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v20

    if-nez v20, :cond_e

    .line 7655
    :cond_c
    invoke-virtual {v11}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v20

    invoke-interface/range {v20 .. v20}, Ljava/util/List;->size()I

    move-result v20

    const/16 v21, 0x2

    move/from16 v0, v20

    move/from16 v1, v21

    if-ge v0, v1, :cond_d

    .line 7656
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v20, v0

    invoke-virtual/range {p0 .. p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v20

    invoke-static {v11}, Lcom/android/mms/data/Conversation;->getRecipients(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v21

    move-object/from16 v0, p0

    move-object/from16 v1, v21

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->getStringForMultipleRecipients(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v21

    const/16 v22, 0x0

    const/16 v23, 0x1

    invoke-static/range {v21 .. v23}, Lcom/android/mms/data/ContactList;->getByNumbers(Ljava/lang/String;ZZ)Lcom/android/mms/data/ContactList;

    move-result-object v21

    const/16 v22, 0x0

    invoke-static/range {v20 .. v22}, Lcom/android/mms/data/Conversation;->get(Landroid/content/Context;Lcom/android/mms/data/ContactList;Z)Lcom/android/mms/data/Conversation;

    move-result-object v20

    move-object/from16 v0, v20

    move-object/from16 v1, p0

    iput-object v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    .line 7663
    :goto_5
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v20, v0

    move-object/from16 v0, p0

    invoke-direct {v0, v11}, Lcom/android/mms/ui/ComposeMessageActivity;->getBody(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v21

    invoke-virtual/range {v20 .. v21}, Lcom/android/mms/data/WorkingMessage;->setText(Ljava/lang/CharSequence;)V

    goto/16 :goto_4

    .line 7660
    :cond_d
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v20

    const/16 v21, 0x0

    move-object/from16 v0, v20

    move/from16 v1, v21

    invoke-static {v0, v11, v1}, Lcom/android/mms/data/Conversation;->get(Landroid/content/Context;Landroid/net/Uri;Z)Lcom/android/mms/data/Conversation;

    move-result-object v20

    move-object/from16 v0, v20

    move-object/from16 v1, p0

    iput-object v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    goto :goto_5

    .line 7666
    :cond_e
    const-string v20, "address"

    move-object/from16 v0, v20

    invoke-virtual {v10, v0}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    .line 7667
    .local v5, address:Ljava/lang/String;
    invoke-static {v5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v20

    if-nez v20, :cond_f

    .line 7669
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v20

    const/16 v21, 0x0

    const/16 v22, 0x1

    move/from16 v0, v21

    move/from16 v1, v22

    invoke-static {v5, v0, v1}, Lcom/android/mms/data/ContactList;->getByNumbers(Ljava/lang/String;ZZ)Lcom/android/mms/data/ContactList;

    move-result-object v21

    const/16 v22, 0x0

    invoke-static/range {v20 .. v22}, Lcom/android/mms/data/Conversation;->get(Landroid/content/Context;Lcom/android/mms/data/ContactList;Z)Lcom/android/mms/data/Conversation;

    move-result-object v20

    move-object/from16 v0, v20

    move-object/from16 v1, p0

    iput-object v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    goto/16 :goto_4

    .line 7673
    :cond_f
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v20

    invoke-static/range {v20 .. v20}, Lcom/android/mms/data/Conversation;->createNew(Landroid/content/Context;)Lcom/android/mms/data/Conversation;

    move-result-object v20

    move-object/from16 v0, v20

    move-object/from16 v1, p0

    iput-object v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    goto/16 :goto_4
.end method

.method private initFocus()V
    .locals 1

    .prologue
    .line 7705
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsKeyboardOpen:Z

    if-nez v0, :cond_1

    .line 7728
    :cond_0
    :goto_0
    return-void

    .line 7712
    :cond_1
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v0

    if-eqz v0, :cond_2

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v0}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v0

    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-eqz v0, :cond_2

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v0}, Landroid/view/View;->isFocused()Z

    move-result v0

    if-nez v0, :cond_2

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    invoke-virtual {v0}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 7719
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v0}, Landroid/view/View;->requestFocus()Z

    goto :goto_0

    .line 7724
    :cond_2
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    if-eqz v0, :cond_3

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    if-eqz v0, :cond_0

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    invoke-virtual {v0}, Landroid/view/View;->isFocused()Z

    move-result v0

    if-nez v0, :cond_0

    .line 7726
    :cond_3
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v0}, Landroid/view/View;->requestFocus()Z

    goto :goto_0
.end method

.method private initIpMessageResourceRefs()V
    .locals 1

    .prologue
    .line 10858
    const v0, 0x7f0f0045

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/ImageView;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageThumbnail:Landroid/widget/ImageView;

    .line 10859
    const v0, 0x7f0f004d

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/ImageButton;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonIpMessage:Landroid/widget/ImageButton;

    .line 10860
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonIpMessage:Landroid/widget/ImageButton;

    invoke-virtual {v0, p0}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 10862
    const v0, 0x7f0f0039

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/TextView;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTypingStatus:Landroid/widget/TextView;

    .line 10863
    const v0, 0x7f0f0038

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/LinearLayout;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTypingStatusView:Landroid/widget/LinearLayout;

    .line 10865
    const v0, 0x7f0f0055

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteView:Landroid/view/View;

    .line 10866
    const v0, 0x7f0f0056

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/TextView;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteMsg:Landroid/widget/TextView;

    .line 10867
    const v0, 0x7f0f0057

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/Button;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInvitePostiveBtn:Landroid/widget/Button;

    .line 10868
    const v0, 0x7f0f0058

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/Button;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteNegativeBtn:Landroid/widget/Button;

    .line 10869
    return-void
.end method

.method private initMessageList()V
    .locals 13

    .prologue
    const/4 v2, 0x0

    const/4 v4, 0x1

    const/4 v12, 0x0

    .line 7016
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    if-eqz v0, :cond_1

    .line 7080
    :cond_0
    :goto_0
    return-void

    .line 7020
    :cond_1
    invoke-virtual {p0}, Landroid/app/Activity;->getIntent()Landroid/content/Intent;

    move-result-object v0

    const-string v1, "highlight"

    invoke-virtual {v0, v1}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v11

    .line 7021
    .local v11, highlightString:Ljava/lang/String;
    if-nez v11, :cond_2

    move-object v5, v2

    .line 7028
    .local v5, highlight:Ljava/util/regex/Pattern;
    :goto_1
    new-instance v0, Lcom/android/mms/ui/MessageListAdapter;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    move-object v1, p0

    invoke-direct/range {v0 .. v5}, Lcom/android/mms/ui/MessageListAdapter;-><init>(Landroid/content/Context;Landroid/database/Cursor;Landroid/widget/ListView;ZLjava/util/regex/Pattern;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    .line 7030
    invoke-static {}, Lcom/android/mms/MmsConfig;->getMmsDirMode()Z

    move-result v0

    if-eqz v0, :cond_3

    .line 7031
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    const/16 v1, 0x8

    invoke-virtual {v0, v1}, Landroid/view/View;->setVisibility(I)V

    goto :goto_0

    .line 7021
    .end local v5           #highlight:Ljava/util/regex/Pattern;
    :cond_2
    invoke-static {v11}, Ljava/util/regex/Pattern;->quote(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    const/4 v1, 0x2

    invoke-static {v0, v1}, Ljava/util/regex/Pattern;->compile(Ljava/lang/String;I)Ljava/util/regex/Pattern;

    move-result-object v5

    goto :goto_1

    .line 7035
    .restart local v5       #highlight:Ljava/util/regex/Pattern;
    :cond_3
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDataSetChangedListener:Lcom/android/mms/ui/MessageListAdapter$OnDataSetChangedListener;

    invoke-virtual {v0, v1}, Lcom/android/mms/ui/MessageListAdapter;->setOnDataSetChangedListener(Lcom/android/mms/ui/MessageListAdapter$OnDataSetChangedListener;)V

    .line 7036
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageListItemHandler:Landroid/os/Handler;

    invoke-virtual {v0, v1}, Lcom/android/mms/ui/MessageListAdapter;->setMsgListItemHandler(Landroid/os/Handler;)V

    .line 7037
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v0, v1}, Landroid/widget/ListView;->setAdapter(Landroid/widget/ListAdapter;)V

    .line 7038
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    const v1, 0x106000d

    invoke-virtual {v0, v1}, Landroid/widget/AbsListView;->setSelector(I)V

    .line 7039
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v0, v12}, Landroid/widget/ListView;->setItemsCanFocus(Z)V

    .line 7040
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v0, v12}, Landroid/view/View;->setVisibility(I)V

    .line 7041
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListMenuCreateListener:Landroid/view/View$OnCreateContextMenuListener;

    invoke-virtual {v0, v1}, Landroid/view/View;->setOnCreateContextMenuListener(Landroid/view/View$OnCreateContextMenuListener;)V

    .line 7042
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$62;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$62;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1}, Landroid/widget/AdapterView;->setOnItemClickListener(Landroid/widget/AdapterView$OnItemClickListener;)V

    .line 7057
    invoke-virtual {p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v0

    invoke-virtual {v0}, Landroid/content/res/Resources;->getDisplayMetrics()Landroid/util/DisplayMetrics;

    move-result-object v0

    iget v10, v0, Landroid/util/DisplayMetrics;->density:F

    .line 7058
    .local v10, density:F
    const/high16 v6, 0x4000

    .line 7059
    .local v6, DEFAULT_DENSITY:F
    const v9, 0x3f19999a

    .line 7060
    .local v9, FHD_VELOCITY_SCALE:F
    const v8, 0x3ecccccd

    .line 7061
    .local v8, DEFAULT_VELOCITY_SCALE:F
    const v7, 0x3ba3d70a

    .line 7062
    .local v7, DEFAULT_FRICTION:F
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "getDisplayMetrics().density: "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1, v10}, Ljava/lang/StringBuilder;->append(F)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 7064
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    const/high16 v0, 0x4000

    cmpl-float v0, v10, v0

    if-lez v0, :cond_4

    const v0, 0x3f19999a

    :goto_2
    invoke-virtual {v1, v0}, Landroid/widget/AbsListView;->setVelocityScale(F)V

    .line 7065
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    const v1, 0x3ba3d70a

    invoke-virtual {v0, v1}, Landroid/widget/AbsListView;->setFriction(F)V

    .line 7066
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$63;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$63;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1}, Landroid/view/View;->setOnTouchListener(Landroid/view/View$OnTouchListener;)V

    .line 7075
    invoke-static {p0}, Lcom/android/mms/MmsConfig;->getIpMessagServiceId(Landroid/content/Context;)I

    move-result v0

    if-ne v0, v4, :cond_0

    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpMessageRecipients:Z

    if-eqz v0, :cond_0

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    if-ne v0, v4, :cond_0

    .line 7077
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getContactManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ContactManager;

    move-result-object v2

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    invoke-virtual {v0, v12}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/mms/data/Contact;

    invoke-virtual {v0}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v2, v0}, Lcom/mediatek/mms/ipmessage/ContactManager;->getStatusByNumber(Ljava/lang/String;)I

    move-result v0

    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->getOnlineDividerString(I)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v1, v0}, Lcom/android/mms/ui/MessageListAdapter;->setOnlineDividerString(Ljava/lang/String;)V

    goto/16 :goto_0

    .line 7064
    :cond_4
    const v0, 0x3ecccccd

    goto :goto_2
.end method

.method private initMessageSettings()V
    .locals 0

    .prologue
    .line 9160
    invoke-static {p0}, Lcom/android/mms/ui/MessageUtils;->setMmsLimitSize(Landroid/content/Context;)V

    .line 9161
    return-void
.end method

.method private initPlugin(Landroid/content/Context;)V
    .locals 4
    .parameter "context"

    .prologue
    .line 10447
    :try_start_0
    const-class v1, Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-virtual {v1}, Ljava/lang/Class;->getName()Ljava/lang/String;

    move-result-object v1

    const/4 v2, 0x0

    new-array v2, v2, [Landroid/content/pm/Signature;

    invoke-static {p1, v1, v2}, Lcom/mediatek/encapsulation/com/mediatek/pluginmanager/EncapsulatedPluginManager;->createPluginObject(Landroid/content/Context;Ljava/lang/String;[Landroid/content/pm/Signature;)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/mediatek/mms/ext/IMmsCompose;

    iput-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    .line 10449
    const-string v1, "Mms/compose"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "operator mMmsComposePlugin = "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V
    :try_end_0
    .catch Landroid/util/AndroidException; {:try_start_0 .. :try_end_0} :catch_0

    .line 10454
    :goto_0
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v1, p0}, Lcom/mediatek/mms/ext/IMmsCompose;->init(Lcom/mediatek/mms/ext/IMmsComposeHost;)V

    .line 10456
    const/4 v1, 0x2

    invoke-static {v1}, Lcom/android/mms/MmsPluginManager;->getMmsPluginObject(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/mediatek/mms/ext/IMmsTextSizeAdjust;

    iput-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsTextSizeAdjustPlugin:Lcom/mediatek/mms/ext/IMmsTextSizeAdjust;

    .line 10459
    const/16 v1, 0xd

    invoke-static {v1}, Lcom/android/mms/MmsPluginManager;->getMmsPluginObject(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/mediatek/mms/ext/IMmsUtils;

    iput-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

    .line 10462
    const/16 v1, 0xf

    invoke-static {v1}, Lcom/android/mms/MmsPluginManager;->getMmsPluginObject(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/mediatek/mms/ext/IStringReplacement;

    iput-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mStringReplacementPlugin:Lcom/mediatek/mms/ext/IStringReplacement;

    .line 10465
    return-void

    .line 10450
    :catch_0
    move-exception v0

    .line 10451
    .local v0, e:Landroid/util/AndroidException;
    new-instance v1, Lcom/mediatek/mms/ext/MmsComposeImpl;

    invoke-direct {v1, p1}, Lcom/mediatek/mms/ext/MmsComposeImpl;-><init>(Landroid/content/Context;)V

    iput-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    .line 10452
    const-string v1, "Mms/compose"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "default mMmsComposePlugin = "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0
.end method

.method private initRecipientsEditor(Landroid/os/Bundle;)V
    .locals 11
    .parameter "bundle"

    .prologue
    const v10, 0x7f0f0160

    const v8, 0x7f0f015f

    const/4 v9, 0x0

    .line 3209
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v6

    if-eqz v6, :cond_0

    iget-boolean v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->isInitRecipientsEditor:Z

    if-eqz v6, :cond_0

    .line 3338
    :goto_0
    return-void

    .line 3215
    :cond_0
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v2

    .line 3217
    .local v2, recipients:Lcom/android/mms/data/ContactList;
    :goto_1
    invoke-virtual {v2}, Ljava/util/ArrayList;->isEmpty()Z

    move-result v6

    if-nez v6, :cond_1

    invoke-virtual {v2}, Ljava/util/ArrayList;->size()I

    move-result v6

    sget v7, Lcom/android/mms/ui/ComposeMessageActivity;->RECIPIENTS_LIMIT_FOR_SMS:I

    if-le v6, v7, :cond_1

    .line 3218
    sget v6, Lcom/android/mms/ui/ComposeMessageActivity;->RECIPIENTS_LIMIT_FOR_SMS:I

    invoke-virtual {v2, v6}, Ljava/util/ArrayList;->remove(I)Ljava/lang/Object;

    goto :goto_1

    .line 3222
    :cond_1
    const v6, 0x7f0f0034

    invoke-virtual {p0, v6}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v4

    check-cast v4, Landroid/view/ViewStub;

    .line 3223
    .local v4, stub:Landroid/view/ViewStub;
    if-eqz v4, :cond_4

    .line 3224
    invoke-virtual {v4}, Landroid/view/ViewStub;->inflate()Landroid/view/View;

    move-result-object v5

    .line 3225
    .local v5, stubView:Landroid/view/View;
    invoke-virtual {v5, v8}, Landroid/view/View;->findViewById(I)Landroid/view/View;

    move-result-object v6

    check-cast v6, Lcom/android/mms/ui/RecipientsEditor;

    iput-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    .line 3226
    invoke-virtual {v5, v10}, Landroid/view/View;->findViewById(I)Landroid/view/View;

    move-result-object v6

    check-cast v6, Landroid/widget/ImageButton;

    iput-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsPicker:Landroid/widget/ImageButton;

    .line 3236
    .end local v5           #stubView:Landroid/view/View;
    :goto_2
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsPicker:Landroid/widget/ImageButton;

    invoke-virtual {v6, p0}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 3239
    invoke-static {p0}, Landroid/preference/PreferenceManager;->getDefaultSharedPreferences(Landroid/content/Context;)Landroid/content/SharedPreferences;

    move-result-object v1

    .line 3240
    .local v1, prefs:Landroid/content/SharedPreferences;
    const-string v6, "pref_key_show_email_address"

    const/4 v7, 0x1

    invoke-interface {v1, v6, v7}, Landroid/content/SharedPreferences;->getBoolean(Ljava/lang/String;Z)Z

    move-result v3

    .line 3241
    .local v3, showEmailAddress:Z
    const-string v6, "Mms/compose"

    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "initRecipientsEditor(), showEmailAddress = "

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-static {v6, v7}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 3243
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v6}, Landroid/widget/AutoCompleteTextView;->getAdapter()Landroid/widget/ListAdapter;

    move-result-object v6

    if-nez v6, :cond_5

    .line 3244
    new-instance v0, Lcom/android/mms/ui/ChipsRecipientAdapter;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ChipsRecipientAdapter;-><init>(Landroid/content/Context;)V

    .line 3245
    .local v0, chipsAdapter:Lcom/android/mms/ui/ChipsRecipientAdapter;
    invoke-virtual {v0, v3}, Lcom/android/mms/ui/ChipsRecipientAdapter;->setShowEmailAddress(Z)V

    .line 3246
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v6, v0}, Lcom/android/ex/chips/MTKRecipientEditTextView;->setAdapter(Landroid/widget/ListAdapter;)V

    .line 3251
    .end local v0           #chipsAdapter:Lcom/android/mms/ui/ChipsRecipientAdapter;
    :goto_3
    if-nez p1, :cond_2

    .line 3252
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    new-instance v7, Lcom/android/mms/data/ContactList;

    invoke-direct {v7}, Lcom/android/mms/data/ContactList;-><init>()V

    invoke-virtual {v6, v7}, Lcom/android/mms/ui/RecipientsEditor;->populate(Lcom/android/mms/data/ContactList;)V

    .line 3253
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v6, v2}, Lcom/android/mms/ui/RecipientsEditor;->populate(Lcom/android/mms/data/ContactList;)V

    .line 3255
    :cond_2
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsMenuCreateListener:Landroid/view/View$OnCreateContextMenuListener;

    invoke-virtual {v6, v7}, Landroid/view/View;->setOnCreateContextMenuListener(Landroid/view/View$OnCreateContextMenuListener;)V

    .line 3256
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsWatcher:Landroid/text/TextWatcher;

    invoke-virtual {v6, v7}, Lcom/android/ex/chips/MTKRecipientEditTextView;->removeTextChangedListener(Landroid/text/TextWatcher;)V

    .line 3257
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsWatcher:Landroid/text/TextWatcher;

    invoke-virtual {v6, v7}, Landroid/widget/TextView;->addTextChangedListener(Landroid/text/TextWatcher;)V

    .line 3265
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    new-instance v7, Lcom/android/mms/ui/ComposeMessageActivity$25;

    invoke-direct {v7, p0}, Lcom/android/mms/ui/ComposeMessageActivity$25;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v6, v7}, Lcom/android/mms/ui/RecipientsEditor;->setOnSelectChipRunnable(Ljava/lang/Runnable;)V

    .line 3282
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    new-instance v7, Lcom/android/mms/ui/ComposeMessageActivity$26;

    invoke-direct {v7, p0}, Lcom/android/mms/ui/ComposeMessageActivity$26;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v6, v7}, Landroid/view/View;->setOnFocusChangeListener(Landroid/view/View$OnFocusChangeListener;)V

    .line 3315
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    new-instance v7, Lcom/android/mms/ui/ComposeMessageActivity$27;

    invoke-direct {v7, p0}, Lcom/android/mms/ui/ComposeMessageActivity$27;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v6, v7}, Landroid/view/View;->setOnTouchListener(Landroid/view/View$OnTouchListener;)V

    .line 3327
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTopPanel:Landroid/view/View;

    invoke-virtual {v6, v9}, Landroid/view/View;->setVisibility(I)V

    .line 3329
    iget-boolean v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsRecipientHasIntentNotHandle:Z

    if-eqz v6, :cond_3

    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIntent:Landroid/content/Intent;

    if-eqz v6, :cond_3

    .line 3330
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIntent:Landroid/content/Intent;

    invoke-direct {p0, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->processPickResult(Landroid/content/Intent;)V

    .line 3331
    iput-boolean v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsRecipientHasIntentNotHandle:Z

    .line 3332
    const/4 v6, 0x0

    iput-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIntent:Landroid/content/Intent;

    .line 3337
    :cond_3
    const-string v6, ""

    iput-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentNumberString:Ljava/lang/String;

    goto/16 :goto_0

    .line 3228
    .end local v1           #prefs:Landroid/content/SharedPreferences;
    .end local v3           #showEmailAddress:Z
    :cond_4
    invoke-virtual {p0, v8}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v6

    check-cast v6, Lcom/android/mms/ui/RecipientsEditor;

    iput-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    .line 3229
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v6, v9}, Landroid/view/View;->setVisibility(I)V

    .line 3230
    invoke-virtual {p0, v10}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v6

    check-cast v6, Landroid/widget/ImageButton;

    iput-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsPicker:Landroid/widget/ImageButton;

    .line 3233
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsPicker:Landroid/widget/ImageButton;

    invoke-virtual {v6, v9}, Landroid/widget/ImageView;->setVisibility(I)V

    goto/16 :goto_2

    .line 3248
    .restart local v1       #prefs:Landroid/content/SharedPreferences;
    .restart local v3       #showEmailAddress:Z
    :cond_5
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v6}, Landroid/widget/AutoCompleteTextView;->getAdapter()Landroid/widget/ListAdapter;

    move-result-object v6

    check-cast v6, Lcom/android/mms/ui/ChipsRecipientAdapter;

    invoke-virtual {v6, v3}, Lcom/android/mms/ui/ChipsRecipientAdapter;->setShowEmailAddress(Z)V

    goto/16 :goto_3
.end method

.method private initResourceRefs()V
    .locals 5

    .prologue
    const/4 v4, 0x0

    .line 6800
    const v0, 0x7f0f0032

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Lcom/android/mms/ui/HeightChangedLinearLayout;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHeightChangedLinearLayout:Lcom/android/mms/ui/HeightChangedLinearLayout;

    .line 6801
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHeightChangedLinearLayout:Lcom/android/mms/ui/HeightChangedLinearLayout;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLayoutSizeChangedListener:Lcom/android/mms/ui/HeightChangedLinearLayout$LayoutSizeChangedListener;

    invoke-virtual {v0, v1}, Lcom/android/mms/ui/HeightChangedLinearLayout;->setLayoutSizeChangedListener(Lcom/android/mms/ui/HeightChangedLinearLayout$LayoutSizeChangedListener;)V

    .line 6803
    const v0, 0x7f0f0037

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Lcom/android/mms/ui/MessageListView;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    .line 6804
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/widget/ListView;->setDivider(Landroid/graphics/drawable/Drawable;)V

    .line 6805
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    const v2, 0x7f090015

    invoke-virtual {v1, v2}, Landroid/content/res/Resources;->getDimensionPixelOffset(I)I

    move-result v1

    invoke-virtual {v0, v1}, Landroid/widget/ListView;->setDividerHeight(I)V

    .line 6810
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v0, v4}, Landroid/view/ViewGroup;->setClipToPadding(Z)V

    .line 6827
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v0, v4}, Landroid/view/ViewGroup;->setClipChildren(Z)V

    .line 6829
    const v0, 0x7f0f0041

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBottomPanel:Landroid/view/View;

    .line 6830
    const v0, 0x7f0f0036

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Lcom/android/mms/ui/EnhanceEditText;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    .line 6834
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditorWatcher:Landroid/text/TextWatcher;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->removeTextChangedListener(Landroid/text/TextWatcher;)V

    .line 6835
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditorWatcher:Landroid/text/TextWatcher;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->addTextChangedListener(Landroid/text/TextWatcher;)V

    .line 6836
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    const/4 v1, 0x1

    new-array v1, v1, [Landroid/text/InputFilter;

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$TextLengthFilter;

    invoke-static {}, Lcom/android/mms/MmsConfig;->getMaxTextLimit()I

    move-result v3

    invoke-direct {v2, p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity$TextLengthFilter;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;I)V

    aput-object v2, v1, v4

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setFilters([Landroid/text/InputFilter;)V

    .line 6838
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$58;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$58;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1}, Landroid/view/View;->setOnKeyListener(Landroid/view/View$OnKeyListener;)V

    .line 6855
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$59;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$59;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1}, Landroid/view/View;->setOnTouchListener(Landroid/view/View$OnTouchListener;)V

    .line 6871
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$60;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$60;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1}, Landroid/view/View;->addOnLayoutChangeListener(Landroid/view/View$OnLayoutChangeListener;)V

    .line 6888
    const v0, 0x7f0f004a

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/TextView;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextCounter:Landroid/widget/TextView;

    .line 6889
    const v0, 0x7f0f004b

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/TextView;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonMms:Landroid/widget/TextView;

    .line 6890
    const v0, 0x7f0f004c

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/ImageButton;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonSms:Landroid/widget/ImageButton;

    .line 6891
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonMms:Landroid/widget/TextView;

    invoke-virtual {v0, p0}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6892
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonSms:Landroid/widget/ImageButton;

    invoke-virtual {v0, p0}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 6893
    const v0, 0x7f0f0033

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTopPanel:Landroid/view/View;

    .line 6894
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTopPanel:Landroid/view/View;

    invoke-virtual {v0, v4}, Landroid/view/View;->setFocusable(Z)V

    .line 6895
    const v0, 0x7f0f003b

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Lcom/android/mms/ui/AttachmentEditor;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

    .line 6896
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditorHandler:Landroid/os/Handler;

    invoke-virtual {v0, v1}, Lcom/android/mms/ui/AttachmentEditor;->setHandler(Landroid/os/Handler;)V

    .line 6898
    const v0, 0x7f0f0059

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Lcom/android/mms/ui/MmsQuickContactBadge;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQuickContact:Lcom/android/mms/ui/MmsQuickContactBadge;

    .line 6899
    const v0, 0x7f0f0031

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/ImageView;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWallPaper:Landroid/widget/ImageView;

    .line 6901
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v0}, Lcom/mediatek/mms/ext/IMmsCompose;->isDualSendButtonEnable()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 6902
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->initCTSendButton()Z

    .line 6904
    :cond_0
    return-void
.end method

.method private initShareAndEmoticonRessource()V
    .locals 5

    .prologue
    const/4 v4, 0x0

    .line 10504
    const v2, 0x7f0f0043

    invoke-virtual {p0, v2}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v2

    check-cast v2, Landroid/widget/ImageButton;

    iput-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShareButton:Landroid/widget/ImageButton;

    .line 10505
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShareButton:Landroid/widget/ImageButton;

    new-instance v3, Lcom/android/mms/ui/ComposeMessageActivity$92;

    invoke-direct {v3, p0}, Lcom/android/mms/ui/ComposeMessageActivity$92;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v2, v3}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 10516
    const v2, 0x7f0f004f

    invoke-virtual {p0, v2}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v2

    check-cast v2, Lcom/mediatek/ipmsg/ui/SharePanel;

    iput-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSharePanel:Lcom/mediatek/ipmsg/ui/SharePanel;

    .line 10517
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSharePanel:Lcom/mediatek/ipmsg/ui/SharePanel;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    invoke-virtual {v2, v3}, Lcom/mediatek/ipmsg/ui/SharePanel;->setHandler(Landroid/os/Handler;)V

    .line 10519
    const v2, 0x7f0f0044

    invoke-virtual {p0, v2}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v2

    check-cast v2, Landroid/widget/ImageButton;

    iput-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonButton:Landroid/widget/ImageButton;

    .line 10520
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonButton:Landroid/widget/ImageButton;

    new-instance v3, Lcom/android/mms/ui/ComposeMessageActivity$93;

    invoke-direct {v3, p0}, Lcom/android/mms/ui/ComposeMessageActivity$93;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v2, v3}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 10532
    const v2, 0x7f0f004e

    invoke-virtual {p0, v2}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/LinearLayout;

    .line 10533
    .local v0, container:Landroid/widget/LinearLayout;
    invoke-static {p0}, Landroid/view/LayoutInflater;->from(Landroid/content/Context;)Landroid/view/LayoutInflater;

    move-result-object v1

    .line 10534
    .local v1, factory:Landroid/view/LayoutInflater;
    invoke-static {p0}, Lcom/android/mms/MmsConfig;->getIpMessagServiceId(Landroid/content/Context;)I

    move-result v2

    if-nez v2, :cond_0

    .line 10535
    const v2, 0x7f040028

    invoke-virtual {v1, v2, v0}, Landroid/view/LayoutInflater;->inflate(ILandroid/view/ViewGroup;)Landroid/view/View;

    .line 10539
    :goto_0
    const v2, 0x7f0f00a3

    invoke-virtual {v0, v2}, Landroid/view/View;->findViewById(I)Landroid/view/View;

    move-result-object v2

    check-cast v2, Lcom/android/mms/ui/EmoticonPanel;

    iput-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonPanel:Lcom/android/mms/ui/EmoticonPanel;

    .line 10541
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonPanel:Lcom/android/mms/ui/EmoticonPanel;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    invoke-virtual {v2, v3}, Lcom/android/mms/ui/EmoticonPanel;->setHandler(Landroid/os/Handler;)V

    .line 10542
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonPanel:Lcom/android/mms/ui/EmoticonPanel;

    new-instance v3, Lcom/android/mms/ui/ComposeMessageActivity$94;

    invoke-direct {v3, p0}, Lcom/android/mms/ui/ComposeMessageActivity$94;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v2, v3}, Lcom/android/mms/ui/EmoticonPanel;->setEditEmoticonListener(Lcom/android/mms/ui/EmoticonPanel$EditEmoticonListener;)V

    .line 10564
    invoke-virtual {p0, v4, v4, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->showSharePanelOrEmoticonPanel(ZZZ)V

    .line 10565
    return-void

    .line 10537
    :cond_0
    const v2, 0x7f040029

    invoke-virtual {v1, v2, v0}, Landroid/view/LayoutInflater;->inflate(ILandroid/view/ViewGroup;)Landroid/view/View;

    goto :goto_0
.end method

.method private insertEmoticon(Ljava/lang/String;)V
    .locals 11
    .parameter "text"

    .prologue
    const/16 v10, 0x21

    const/4 v9, 0x0

    .line 10757
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v6}, Landroid/view/View;->requestFocus()Z

    .line 10758
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v6}, Landroid/widget/TextView;->getSelectionStart()I

    move-result v4

    .line 10759
    .local v4, index:I
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v6}, Landroid/widget/TextView;->getEditableText()Landroid/text/Editable;

    move-result-object v1

    .line 10761
    .local v1, edit:Landroid/text/Editable;
    invoke-virtual {p1}, Ljava/lang/String;->length()I

    move-result v6

    invoke-static {}, Lcom/android/mms/MmsConfig;->getMaxTextLimit()I

    move-result v7

    invoke-interface {v1}, Landroid/text/Editable;->length()I

    move-result v8

    sub-int/2addr v7, v8

    if-le v6, v7, :cond_1

    .line 10762
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mExceedMessageSizeToast:Landroid/widget/Toast;

    if-eqz v6, :cond_0

    .line 10763
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mExceedMessageSizeToast:Landroid/widget/Toast;

    invoke-virtual {v6}, Landroid/widget/Toast;->show()V

    .line 10794
    :cond_0
    :goto_0
    return-void

    .line 10767
    :cond_1
    invoke-interface {v1}, Landroid/text/Editable;->length()I

    move-result v6

    const-class v7, Landroid/text/style/ImageSpan;

    invoke-interface {v1, v9, v6, v7}, Landroid/text/Editable;->getSpans(IILjava/lang/Class;)[Ljava/lang/Object;

    move-result-object v3

    check-cast v3, [Landroid/text/style/ImageSpan;

    .line 10768
    .local v3, emoticonList:[Landroid/text/style/ImageSpan;
    array-length v6, v3

    iput v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonNumber:I

    .line 10769
    iget v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonNumber:I

    const/16 v7, 0x18

    if-lt v6, v7, :cond_2

    .line 10770
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowPromptRunnable:Ljava/lang/Runnable;

    invoke-virtual {v6, v7}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V

    .line 10771
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowPromptRunnable:Ljava/lang/Runnable;

    const-wide/16 v8, 0x12c

    invoke-virtual {v6, v7, v8, v9}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    goto :goto_0

    .line 10774
    :cond_2
    invoke-interface {v1}, Landroid/text/Editable;->length()I

    move-result v2

    .line 10775
    .local v2, editLen:I
    invoke-virtual {p1}, Ljava/lang/String;->length()I

    move-result v5

    .line 10776
    .local v5, textLen:I
    iput-boolean v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsNeedParseEmoticon:Z

    .line 10777
    if-ltz v4, :cond_3

    invoke-interface {v1}, Landroid/text/Editable;->length()I

    move-result v6

    if-lt v4, v6, :cond_5

    .line 10778
    :cond_3
    invoke-interface {v1, p1}, Landroid/text/Editable;->append(Ljava/lang/CharSequence;)Landroid/text/Editable;

    .line 10783
    :goto_1
    invoke-static {}, Lcom/android/mms/util/SmileyParser2;->getInstance()Lcom/android/mms/util/SmileyParser2;

    move-result-object v6

    invoke-virtual {v6, p1}, Lcom/android/mms/util/SmileyParser2;->getSmileySpanResSingle(Ljava/lang/String;)Landroid/graphics/drawable/Drawable;

    move-result-object v0

    .line 10784
    .local v0, drawable:Landroid/graphics/drawable/Drawable;
    if-eqz v0, :cond_0

    .line 10785
    if-ltz v4, :cond_4

    if-lt v4, v2, :cond_6

    .line 10786
    :cond_4
    new-instance v6, Landroid/text/style/ImageSpan;

    invoke-direct {v6, v0}, Landroid/text/style/ImageSpan;-><init>(Landroid/graphics/drawable/Drawable;)V

    add-int v7, v2, v5

    invoke-interface {v1, v6, v2, v7, v10}, Landroid/text/Editable;->setSpan(Ljava/lang/Object;III)V

    .line 10792
    :goto_2
    iget v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonNumber:I

    add-int/lit8 v6, v6, 0x1

    iput v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonNumber:I

    goto :goto_0

    .line 10780
    .end local v0           #drawable:Landroid/graphics/drawable/Drawable;
    :cond_5
    invoke-interface {v1, v4, p1}, Landroid/text/Editable;->insert(ILjava/lang/CharSequence;)Landroid/text/Editable;

    goto :goto_1

    .line 10789
    .restart local v0       #drawable:Landroid/graphics/drawable/Drawable;
    :cond_6
    new-instance v6, Landroid/text/style/ImageSpan;

    invoke-direct {v6, v0}, Landroid/text/style/ImageSpan;-><init>(Landroid/graphics/drawable/Drawable;)V

    add-int v7, v4, v5

    invoke-interface {v1, v6, v4, v7, v10}, Landroid/text/Editable;->setSpan(Ljava/lang/Object;III)V

    goto :goto_2
.end method

.method private insertText(Landroid/widget/EditText;Ljava/lang/String;)V
    .locals 2
    .parameter "edit"
    .parameter "insertText"

    .prologue
    .line 9425
    invoke-virtual {p1}, Landroid/widget/TextView;->getSelectionStart()I

    move-result v0

    .line 9427
    .local v0, where:I
    const/4 v1, -0x1

    if-ne v0, v1, :cond_0

    .line 9428
    invoke-virtual {p1, p2}, Landroid/widget/TextView;->append(Ljava/lang/CharSequence;)V

    .line 9432
    :goto_0
    return-void

    .line 9430
    :cond_0
    invoke-virtual {p1}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v1

    invoke-interface {v1, v0, p2}, Landroid/text/Editable;->insert(ILjava/lang/CharSequence;)Landroid/text/Editable;

    goto :goto_0
.end method

.method private isChatModeNumber(Ljava/lang/String;)Z
    .locals 2
    .parameter "number"

    .prologue
    const/4 v0, 0x0

    .line 14065
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v1

    if-nez v1, :cond_0

    invoke-static {p1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v1

    if-eqz v1, :cond_1

    .line 14071
    :cond_0
    :goto_0
    return v0

    .line 14068
    :cond_1
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v1, p1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-nez v1, :cond_2

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v1, p1}, Ljava/lang/String;->endsWith(Ljava/lang/String;)Z

    move-result v1

    if-nez v1, :cond_2

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {p1, v1}, Ljava/lang/String;->endsWith(Ljava/lang/String;)Z

    move-result v1

    if-eqz v1, :cond_0

    .line 14069
    :cond_2
    const/4 v0, 0x1

    goto :goto_0
.end method

.method private isCurrentRecipientIpMessageUser()Z
    .locals 8

    .prologue
    const/4 v6, 0x1

    const/4 v5, 0x0

    .line 13118
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getIpMessagePlugin(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/IIpMessagePlugin;

    move-result-object v7

    invoke-interface {v7}, Lcom/mediatek/mms/ipmessage/IIpMessagePlugin;->isActualPlugin()Z

    move-result v7

    if-nez v7, :cond_1

    .line 13139
    :cond_0
    :goto_0
    return v5

    .line 13121
    :cond_1
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v7

    if-eqz v7, :cond_4

    .line 13122
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v7}, Lcom/android/mms/ui/RecipientsEditor;->getNumbers()Ljava/util/List;

    move-result-object v4

    .line 13123
    .local v4, numbers:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    if-eqz v4, :cond_0

    invoke-interface {v4}, Ljava/util/List;->size()I

    move-result v7

    if-lez v7, :cond_0

    .line 13124
    invoke-interface {v4}, Ljava/util/List;->iterator()Ljava/util/Iterator;

    move-result-object v1

    .local v1, i$:Ljava/util/Iterator;
    :cond_2
    invoke-interface {v1}, Ljava/util/Iterator;->hasNext()Z

    move-result v7

    if-eqz v7, :cond_3

    invoke-interface {v1}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Ljava/lang/String;

    .line 13125
    .local v3, number:Ljava/lang/String;
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getContactManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ContactManager;

    move-result-object v7

    invoke-virtual {v7, v3}, Lcom/mediatek/mms/ipmessage/ContactManager;->isIpMessageNumber(Ljava/lang/String;)Z

    move-result v7

    if-nez v7, :cond_2

    goto :goto_0

    .end local v3           #number:Ljava/lang/String;
    :cond_3
    move v5, v6

    .line 13129
    goto :goto_0

    .line 13132
    .end local v1           #i$:Ljava/util/Iterator;
    .end local v4           #numbers:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    :cond_4
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v7}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v7

    invoke-virtual {v7}, Lcom/android/mms/data/ContactList;->getNumbers()[Ljava/lang/String;

    move-result-object v0

    .local v0, arr$:[Ljava/lang/String;
    array-length v2, v0

    .local v2, len$:I
    const/4 v1, 0x0

    .local v1, i$:I
    :goto_1
    if-ge v1, v2, :cond_5

    aget-object v3, v0, v1

    .line 13133
    .restart local v3       #number:Ljava/lang/String;
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getContactManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ContactManager;

    move-result-object v7

    invoke-virtual {v7, v3}, Lcom/mediatek/mms/ipmessage/ContactManager;->isIpMessageNumber(Ljava/lang/String;)Z

    move-result v7

    if-eqz v7, :cond_0

    .line 13132
    add-int/lit8 v1, v1, 0x1

    goto :goto_1

    .end local v3           #number:Ljava/lang/String;
    :cond_5
    move v5, v6

    .line 13137
    goto :goto_0
.end method

.method private isCursorValid()Z
    .locals 4

    .prologue
    .line 1237
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v1}, Landroid/widget/CursorAdapter;->getCursor()Landroid/database/Cursor;

    move-result-object v0

    .line 1238
    .local v0, cursor:Landroid/database/Cursor;
    invoke-interface {v0}, Landroid/database/Cursor;->isClosed()Z

    move-result v1

    if-nez v1, :cond_0

    invoke-interface {v0}, Landroid/database/Cursor;->isBeforeFirst()Z

    move-result v1

    if-nez v1, :cond_0

    invoke-interface {v0}, Landroid/database/Cursor;->isAfterLast()Z

    move-result v1

    if-eqz v1, :cond_1

    .line 1239
    :cond_0
    const-string v1, "Mms/compose"

    const-string v2, "Bad cursor."

    new-instance v3, Ljava/lang/RuntimeException;

    invoke-direct {v3}, Ljava/lang/RuntimeException;-><init>()V

    invoke-static {v1, v2, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 1240
    const/4 v1, 0x0

    .line 1242
    :goto_0
    return v1

    :cond_1
    const/4 v1, 0x1

    goto :goto_0
.end method

.method private isDrmRingtoneWithRights(J)Z
    .locals 11
    .parameter "msgId"

    .prologue
    const/4 v7, 0x0

    .line 2814
    const/4 v0, 0x0

    .line 2816
    .local v0, body:Lcom/google/android/mms/pdu/PduBody;
    :try_start_0
    sget-object v8, Landroid/provider/Telephony$Mms;->CONTENT_URI:Landroid/net/Uri;

    invoke-static {v8, p1, p2}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v8

    invoke-static {p0, v8}, Lcom/android/mms/model/SlideshowModel;->getPduBody(Landroid/content/Context;Landroid/net/Uri;)Lcom/google/android/mms/pdu/PduBody;
    :try_end_0
    .catch Lcom/google/android/mms/MmsException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v0

    .line 2821
    :goto_0
    if-nez v0, :cond_1

    .line 2839
    :cond_0
    :goto_1
    return v7

    .line 2818
    :catch_0
    move-exception v1

    .line 2819
    .local v1, e:Lcom/google/android/mms/MmsException;
    const-string v8, "Mms/compose"

    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, "isDrmRingtoneWithRights can\'t load pdu body: "

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, p1, p2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    invoke-static {v8, v9}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_0

    .line 2825
    .end local v1           #e:Lcom/google/android/mms/MmsException;
    :cond_1
    invoke-virtual {v0}, Lcom/google/android/mms/pdu/PduBody;->getPartsNum()I

    move-result v5

    .line 2826
    .local v5, partNum:I
    const/4 v2, 0x0

    .local v2, i:I
    :goto_2
    if-ge v2, v5, :cond_0

    .line 2827
    invoke-virtual {v0, v2}, Lcom/google/android/mms/pdu/PduBody;->getPart(I)Lcom/google/android/mms/pdu/PduPart;

    move-result-object v4

    .line 2828
    .local v4, part:Lcom/google/android/mms/pdu/PduPart;
    new-instance v6, Ljava/lang/String;

    invoke-virtual {v4}, Lcom/google/android/mms/pdu/PduPart;->getContentType()[B

    move-result-object v8

    invoke-direct {v6, v8}, Ljava/lang/String;-><init>([B)V

    .line 2830
    .local v6, type:Ljava/lang/String;
    invoke-static {v6}, Lcom/android/mms/drm/DrmUtils;->isDrmType(Ljava/lang/String;)Z

    move-result v8

    if-eqz v8, :cond_2

    .line 2831
    invoke-static {}, Lcom/android/mms/MmsApp;->getApplication()Lcom/android/mms/MmsApp;

    move-result-object v8

    invoke-virtual {v8}, Lcom/android/mms/MmsApp;->getDrmManagerClient()Lcom/mediatek/encapsulation/android/drm/EncapsulatedDrmManagerClient;

    move-result-object v8

    invoke-virtual {v4}, Lcom/google/android/mms/pdu/PduPart;->getDataUri()Landroid/net/Uri;

    move-result-object v9

    invoke-virtual {v8, v9}, Lcom/mediatek/encapsulation/android/drm/EncapsulatedDrmManagerClient;->getOriginalMimeType(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v3

    .line 2833
    .local v3, mimeType:Ljava/lang/String;
    invoke-static {v3}, Lcom/mediatek/encapsulation/com/google/android/mms/EncapsulatedContentType;->isAudioType(Ljava/lang/String;)Z

    move-result v8

    if-eqz v8, :cond_2

    invoke-virtual {v4}, Lcom/google/android/mms/pdu/PduPart;->getDataUri()Landroid/net/Uri;

    move-result-object v8

    const/4 v9, 0x2

    invoke-static {v8, v9}, Lcom/android/mms/drm/DrmUtils;->haveRightsForAction(Landroid/net/Uri;I)Z

    move-result v8

    if-eqz v8, :cond_2

    .line 2835
    const/4 v7, 0x1

    goto :goto_1

    .line 2826
    .end local v3           #mimeType:Ljava/lang/String;
    :cond_2
    add-int/lit8 v2, v2, 0x1

    goto :goto_2
.end method

.method private isForwardable(J)Z
    .locals 10
    .parameter "msgId"

    .prologue
    const/4 v6, 0x0

    .line 2848
    const/4 v0, 0x0

    .line 2850
    .local v0, body:Lcom/google/android/mms/pdu/PduBody;
    :try_start_0
    sget-object v7, Landroid/provider/Telephony$Mms;->CONTENT_URI:Landroid/net/Uri;

    invoke-static {v7, p1, p2}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v7

    invoke-static {p0, v7}, Lcom/android/mms/model/SlideshowModel;->getPduBody(Landroid/content/Context;Landroid/net/Uri;)Lcom/google/android/mms/pdu/PduBody;
    :try_end_0
    .catch Lcom/google/android/mms/MmsException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v0

    .line 2855
    :goto_0
    if-nez v0, :cond_1

    .line 2869
    :cond_0
    :goto_1
    return v6

    .line 2852
    :catch_0
    move-exception v1

    .line 2853
    .local v1, e:Lcom/google/android/mms/MmsException;
    const-string v7, "Mms/compose"

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    const-string v9, "getDrmMimeType can\'t load pdu body: "

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8, p1, p2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-static {v7, v8}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_0

    .line 2859
    .end local v1           #e:Lcom/google/android/mms/MmsException;
    :cond_1
    invoke-virtual {v0}, Lcom/google/android/mms/pdu/PduBody;->getPartsNum()I

    move-result v4

    .line 2860
    .local v4, partNum:I
    const/4 v2, 0x0

    .local v2, i:I
    :goto_2
    if-ge v2, v4, :cond_3

    .line 2861
    invoke-virtual {v0, v2}, Lcom/google/android/mms/pdu/PduBody;->getPart(I)Lcom/google/android/mms/pdu/PduPart;

    move-result-object v3

    .line 2862
    .local v3, part:Lcom/google/android/mms/pdu/PduPart;
    new-instance v5, Ljava/lang/String;

    invoke-virtual {v3}, Lcom/google/android/mms/pdu/PduPart;->getContentType()[B

    move-result-object v7

    invoke-direct {v5, v7}, Ljava/lang/String;-><init>([B)V

    .line 2864
    .local v5, type:Ljava/lang/String;
    invoke-static {v5}, Lcom/android/mms/drm/DrmUtils;->isDrmType(Ljava/lang/String;)Z

    move-result v7

    if-eqz v7, :cond_2

    invoke-virtual {v3}, Lcom/google/android/mms/pdu/PduPart;->getDataUri()Landroid/net/Uri;

    move-result-object v7

    const/4 v8, 0x3

    invoke-static {v7, v8}, Lcom/android/mms/drm/DrmUtils;->haveRightsForAction(Landroid/net/Uri;I)Z

    move-result v7

    if-eqz v7, :cond_0

    .line 2860
    :cond_2
    add-int/lit8 v2, v2, 0x1

    goto :goto_2

    .line 2869
    .end local v3           #part:Lcom/google/android/mms/pdu/PduPart;
    .end local v5           #type:Ljava/lang/String;
    :cond_3
    const/4 v6, 0x1

    goto :goto_1
.end method

.method private isHasRecipientCount()Z
    .locals 2

    .prologue
    .line 9331
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->recipientCount()I

    move-result v0

    .line 9332
    .local v0, recipientCount:I
    if-lez v0, :cond_0

    sget v1, Lcom/android/mms/ui/ComposeMessageActivity;->RECIPIENTS_LIMIT_FOR_SMS:I

    if-ge v0, v1, :cond_0

    const/4 v1, 0x1

    :goto_0
    return v1

    :cond_0
    const/4 v1, 0x0

    goto :goto_0
.end method

.method private isIpMessageRecipients(Ljava/lang/String;)Z
    .locals 1
    .parameter "number"

    .prologue
    .line 13143
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getContactManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ContactManager;

    move-result-object v0

    invoke-virtual {v0, p1}, Lcom/mediatek/mms/ipmessage/ContactManager;->isIpMessageNumber(Ljava/lang/String;)Z

    move-result v0

    iput-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpMessageRecipients:Z

    .line 13144
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpMessageRecipients:Z

    return v0
.end method

.method private isNetworkConnected(Landroid/content/Context;)Z
    .locals 4
    .parameter "context"

    .prologue
    .line 14078
    const/4 v1, 0x0

    .line 14079
    .local v1, isNetworkConnected:Z
    const-string v3, "connectivity"

    invoke-virtual {p0, v3}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/net/ConnectivityManager;

    .line 14081
    .local v0, connManager:Landroid/net/ConnectivityManager;
    const/4 v3, 0x1

    invoke-virtual {v0, v3}, Landroid/net/ConnectivityManager;->getNetworkInfo(I)Landroid/net/NetworkInfo;

    move-result-object v3

    invoke-virtual {v3}, Landroid/net/NetworkInfo;->getState()Landroid/net/NetworkInfo$State;

    move-result-object v2

    .line 14082
    .local v2, state:Landroid/net/NetworkInfo$State;
    sget-object v3, Landroid/net/NetworkInfo$State;->CONNECTED:Landroid/net/NetworkInfo$State;

    if-ne v3, v2, :cond_0

    .line 14083
    const/4 v1, 0x1

    .line 14085
    :cond_0
    if-nez v1, :cond_1

    .line 14086
    const/4 v3, 0x0

    invoke-virtual {v0, v3}, Landroid/net/ConnectivityManager;->getNetworkInfo(I)Landroid/net/NetworkInfo;

    move-result-object v3

    invoke-virtual {v3}, Landroid/net/NetworkInfo;->getState()Landroid/net/NetworkInfo$State;

    move-result-object v2

    .line 14087
    sget-object v3, Landroid/net/NetworkInfo$State;->CONNECTED:Landroid/net/NetworkInfo$State;

    if-ne v3, v2, :cond_1

    .line 14088
    const/4 v1, 0x1

    .line 14091
    :cond_1
    return v1
.end method

.method private isPreparedForSending()Z
    .locals 4

    .prologue
    const/4 v1, 0x1

    const/4 v2, 0x0

    .line 7188
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v3

    if-eqz v3, :cond_3

    .line 7189
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v3}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v3

    if-nez v3, :cond_1

    const-string v0, ""

    .line 7192
    .local v0, recipientText:Ljava/lang/String;
    :goto_0
    iget v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    if-lez v3, :cond_2

    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_2

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->hasAttachment()Z

    move-result v3

    if-nez v3, :cond_0

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->hasText()Z

    move-result v3

    if-nez v3, :cond_0

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->hasSubject()Z

    move-result v3

    if-nez v3, :cond_0

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v3, :cond_2

    .line 7196
    .end local v0           #recipientText:Ljava/lang/String;
    :cond_0
    :goto_1
    return v1

    .line 7189
    :cond_1
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v3}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v0

    goto :goto_0

    .restart local v0       #recipientText:Ljava/lang/String;
    :cond_2
    move v1, v2

    .line 7192
    goto :goto_1

    .line 7196
    .end local v0           #recipientText:Ljava/lang/String;
    :cond_3
    iget v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    if-lez v3, :cond_4

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->hasAttachment()Z

    move-result v3

    if-nez v3, :cond_0

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->hasText()Z

    move-result v3

    if-nez v3, :cond_0

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->hasSubject()Z

    move-result v3

    if-nez v3, :cond_0

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v3, :cond_0

    :cond_4
    move v1, v2

    goto :goto_1
.end method

.method private isRecipientCallable()Z
    .locals 3

    .prologue
    const/4 v1, 0x1

    .line 4898
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    .line 4899
    .local v0, recipients:Lcom/android/mms/data/ContactList;
    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ne v2, v1, :cond_0

    invoke-virtual {v0}, Lcom/android/mms/data/ContactList;->containsEmail()Z

    move-result v2

    if-nez v2, :cond_0

    :goto_0
    return v1

    :cond_0
    const/4 v1, 0x0

    goto :goto_0
.end method

.method private isRecipientsEditorVisible()Z
    .locals 1

    .prologue
    .line 4696
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    if-eqz v0, :cond_0

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v0}, Landroid/view/View;->getVisibility()I

    move-result v0

    if-nez v0, :cond_0

    const/4 v0, 0x1

    :goto_0
    return v0

    :cond_0
    const/4 v0, 0x0

    goto :goto_0
.end method

.method private isSpecialChar(C)Z
    .locals 1
    .parameter "c"

    .prologue
    .line 1809
    const/16 v0, 0x2a

    if-eq p1, v0, :cond_0

    const/16 v0, 0x25

    if-eq p1, v0, :cond_0

    const/16 v0, 0x24

    if-ne p1, v0, :cond_1

    :cond_0
    const/4 v0, 0x1

    :goto_0
    return v0

    :cond_1
    const/4 v0, 0x0

    goto :goto_0
.end method

.method private isSubjectEditorVisible()Z
    .locals 1

    .prologue
    .line 4701
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    if-eqz v0, :cond_0

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    invoke-virtual {v0}, Landroid/view/View;->getVisibility()I

    move-result v0

    if-nez v0, :cond_0

    const/4 v0, 0x1

    :goto_0
    return v0

    :cond_0
    const/4 v0, 0x0

    goto :goto_0
.end method

.method private launchMultiplePhonePicker()V
    .locals 9

    .prologue
    const/4 v8, 0x1

    .line 6580
    new-instance v3, Landroid/content/Intent;

    const-string v7, "com.android.contacts.action.GET_MULTIPLE_PHONES"

    invoke-direct {v3, v7}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 6581
    .local v3, intent:Landroid/content/Intent;
    const-string v7, "android.intent.category.DEFAULT"

    invoke-virtual {v3, v7}, Landroid/content/Intent;->addCategory(Ljava/lang/String;)Landroid/content/Intent;

    .line 6582
    const-string v7, "vnd.android.cursor.dir/phone_v2"

    invoke-virtual {v3, v7}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 6584
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v7, v8}, Lcom/android/mms/ui/RecipientsEditor;->constructContactsFromInput(Z)Lcom/android/mms/data/ContactList;

    move-result-object v1

    .line 6585
    .local v1, contacts:Lcom/android/mms/data/ContactList;
    const/4 v5, 0x0

    .line 6586
    .local v5, urisCount:I
    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v7

    new-array v4, v7, [Landroid/net/Uri;

    .line 6587
    .local v4, uris:[Landroid/net/Uri;
    const/4 v5, 0x0

    .line 6588
    invoke-virtual {v1}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;

    move-result-object v2

    .local v2, i$:Ljava/util/Iterator;
    :cond_0
    :goto_0
    invoke-interface {v2}, Ljava/util/Iterator;->hasNext()Z

    move-result v7

    if-eqz v7, :cond_1

    invoke-interface {v2}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/mms/data/Contact;

    .line 6589
    .local v0, contact:Lcom/android/mms/data/Contact;
    invoke-virtual {v0}, Lcom/android/mms/data/Contact;->getContactMethodType()I

    move-result v7

    if-ne v8, v7, :cond_0

    .line 6590
    add-int/lit8 v6, v5, 0x1

    .end local v5           #urisCount:I
    .local v6, urisCount:I
    invoke-virtual {v0}, Lcom/android/mms/data/Contact;->getPhoneUri()Landroid/net/Uri;

    move-result-object v7

    aput-object v7, v4, v5

    move v5, v6

    .end local v6           #urisCount:I
    .restart local v5       #urisCount:I
    goto :goto_0

    .line 6593
    .end local v0           #contact:Lcom/android/mms/data/Contact;
    :cond_1
    if-lez v5, :cond_2

    .line 6594
    const-string v7, "com.android.contacts.extra.PHONE_URIS"

    invoke-virtual {v3, v7, v4}, Landroid/content/Intent;->putExtra(Ljava/lang/String;[Landroid/os/Parcelable;)Landroid/content/Intent;

    .line 6596
    :cond_2
    const/16 v7, 0x6d

    invoke-virtual {p0, v3, v7}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V

    .line 6597
    return-void
.end method

.method private loadDraft()V
    .locals 2

    .prologue
    .line 7083
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->isWorthSaving()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 7084
    const-string v0, "Mms/compose"

    const-string v1, "loadDraft() called with non-empty working message"

    invoke-static {v0, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    .line 7119
    :cond_0
    :goto_0
    return-void

    .line 7089
    :cond_1
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getIpMessagePlugin(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/IIpMessagePlugin;

    move-result-object v0

    invoke-interface {v0}, Lcom/mediatek/mms/ipmessage/IIpMessagePlugin;->isActualPlugin()Z

    move-result v0

    if-eqz v0, :cond_3

    .line 7090
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v0, :cond_2

    .line 7091
    const-string v0, "Mms/compose"

    const-string v1, "loadDraft() called with non-empty IP message draft"

    invoke-static {v0, v1}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_0

    .line 7093
    :cond_2
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->loadIpMessagDraft()Z

    move-result v0

    if-nez v0, :cond_0

    .line 7099
    :cond_3
    const-string v0, "Mms:app"

    const/4 v1, 0x2

    invoke-static {v0, v1}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v0

    if-eqz v0, :cond_4

    .line 7100
    const-string v0, "loadDraft() call WorkingMessage.loadDraft"

    invoke-static {v0}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 7104
    :cond_4
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$64;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$64;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-static {p0, v0, v1}, Lcom/android/mms/data/WorkingMessage;->loadDraft(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/data/Conversation;Ljava/lang/Runnable;)Lcom/android/mms/data/WorkingMessage;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    goto :goto_0
.end method

.method private loadIpMessagDraft()Z
    .locals 6

    .prologue
    const/4 v2, 0x0

    .line 14339
    const-string v3, "Mms/ipmsg/compose"

    const-string v4, "loadIpMessagDraft()"

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 14340
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v3, :cond_0

    .line 14341
    const-string v3, "Mms/ipmsg/compose"

    const-string v4, "loadIpMessagDraft(): mIpMessageDraft is not null!"

    new-instance v5, Ljava/lang/Exception;

    invoke-direct {v5}, Ljava/lang/Exception;-><init>()V

    invoke-static {v3, v4, v5}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    .line 14358
    :goto_0
    return v2

    .line 14344
    :cond_0
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-static {p0, v3, v4}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->readIpMessageDraft(Landroid/content/Context;Lcom/android/mms/data/Conversation;Lcom/android/mms/data/WorkingMessage;)Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-result-object v1

    .line 14345
    .local v1, ipMessage:Lcom/mediatek/mms/ipmessage/message/IpMessage;
    if-eqz v1, :cond_2

    .line 14346
    invoke-virtual {v1}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getId()I

    move-result v2

    iput v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraftId:I

    .line 14347
    invoke-static {v1}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getIpMessageCaption(Lcom/mediatek/mms/ipmessage/message/IpMessage;)Ljava/lang/String;

    move-result-object v0

    .line 14348
    .local v0, caption:Ljava/lang/String;
    const-string v2, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "loadIpMessagDraft(): ipMessage is not null, mIpMessageDraftId = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    iget v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraftId:I

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "caption = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 14350
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_1

    .line 14351
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2, v0}, Lcom/android/mms/data/WorkingMessage;->setText(Ljava/lang/CharSequence;)V

    .line 14352
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v2, v0}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 14354
    :cond_1
    invoke-direct {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->saveIpMessageForAWhile(Lcom/mediatek/mms/ipmessage/message/IpMessage;)V

    .line 14355
    const/4 v2, 0x1

    goto :goto_0

    .line 14357
    .end local v0           #caption:Ljava/lang/String;
    :cond_2
    const-string v3, "Mms/ipmsg/compose"

    const-string v4, "loadIpMessagDraft(): ipMessage is null!"

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0
.end method

.method private lockMessage(Lcom/android/mms/ui/MessageItem;Z)V
    .locals 8
    .parameter "msgItem"
    .parameter "locked"

    .prologue
    const/4 v0, 0x1

    .line 2669
    const-string v1, "sms"

    iget-object v2, p1, Lcom/android/mms/ui/MessageItem;->mType:Ljava/lang/String;

    invoke-virtual {v1, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-eqz v1, :cond_0

    .line 2670
    sget-object v6, Landroid/provider/Telephony$Sms;->CONTENT_URI:Landroid/net/Uri;

    .line 2674
    .local v6, uri:Landroid/net/Uri;
    :goto_0
    iget-wide v1, p1, Lcom/android/mms/ui/MessageItem;->mMsgId:J

    invoke-static {v6, v1, v2}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v4

    .line 2676
    .local v4, lockUri:Landroid/net/Uri;
    new-instance v5, Landroid/content/ContentValues;

    invoke-direct {v5, v0}, Landroid/content/ContentValues;-><init>(I)V

    .line 2677
    .local v5, values:Landroid/content/ContentValues;
    const-string v1, "locked"

    if-eqz p2, :cond_1

    :goto_1
    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v0

    invoke-virtual {v5, v1, v0}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 2679
    new-instance v7, Ljava/lang/Thread;

    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$22;

    move-object v1, p0

    move-object v2, p1

    move v3, p2

    invoke-direct/range {v0 .. v5}, Lcom/android/mms/ui/ComposeMessageActivity$22;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/MessageItem;ZLandroid/net/Uri;Landroid/content/ContentValues;)V

    const-string v1, "ComposeMessageActivity.lockMessage"

    invoke-direct {v7, v0, v1}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;Ljava/lang/String;)V

    invoke-virtual {v7}, Ljava/lang/Thread;->start()V

    .line 2699
    return-void

    .line 2672
    .end local v4           #lockUri:Landroid/net/Uri;
    .end local v5           #values:Landroid/content/ContentValues;
    .end local v6           #uri:Landroid/net/Uri;
    :cond_0
    sget-object v6, Landroid/provider/Telephony$Mms;->CONTENT_URI:Landroid/net/Uri;

    .restart local v6       #uri:Landroid/net/Uri;
    goto :goto_0

    .line 2677
    .restart local v4       #lockUri:Landroid/net/Uri;
    .restart local v5       #values:Landroid/content/ContentValues;
    :cond_1
    const/4 v0, 0x0

    goto :goto_1
.end method

.method public static log(Ljava/lang/String;)V
    .locals 7
    .parameter "logMsg"

    .prologue
    .line 887
    invoke-static {}, Ljava/lang/Thread;->currentThread()Ljava/lang/Thread;

    move-result-object v0

    .line 888
    .local v0, current:Ljava/lang/Thread;
    invoke-virtual {v0}, Ljava/lang/Thread;->getId()J

    move-result-wide v3

    .line 889
    .local v3, tid:J
    invoke-virtual {v0}, Ljava/lang/Thread;->getStackTrace()[Ljava/lang/StackTraceElement;

    move-result-object v2

    .line 890
    .local v2, stack:[Ljava/lang/StackTraceElement;
    const/4 v5, 0x3

    aget-object v5, v2, v5

    invoke-virtual {v5}, Ljava/lang/StackTraceElement;->getMethodName()Ljava/lang/String;

    move-result-object v1

    .line 892
    .local v1, methodName:Ljava/lang/String;
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "["

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v3, v4}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, "] ["

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, "] "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, p0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p0

    .line 893
    const-string v5, "Mms/compose"

    invoke-static {v5, p0}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 894
    return-void
.end method

.method private makeDraftEditable(Lcom/android/mms/data/ContactList;)V
    .locals 9
    .parameter "recipients"

    .prologue
    const/4 v8, 0x1

    const/4 v7, 0x0

    const/4 v6, 0x0

    .line 14364
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v2}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v2

    const-wide/16 v4, 0x0

    cmp-long v2, v2, v4

    if-lez v2, :cond_0

    .line 14365
    const-string v2, "content://mms-sms/thread_settings/"

    invoke-static {v2}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v2

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v3}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v3

    long-to-int v3, v3

    int-to-long v3, v3

    invoke-static {v2, v3, v4}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v0

    .line 14367
    .local v0, threadSettingsUri:Landroid/net/Uri;
    new-instance v1, Landroid/content/ContentValues;

    const/4 v2, 0x2

    invoke-direct {v1, v2}, Landroid/content/ContentValues;-><init>(I)V

    .line 14368
    .local v1, values:Landroid/content/ContentValues;
    const-string v2, "mute"

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 14369
    const-string v2, "mute_start"

    invoke-static {v7}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 14370
    const-string v2, "notification_enable"

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 14371
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v2

    invoke-virtual {v2, v0, v1, v6, v6}, Landroid/content/ContentResolver;->update(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    .line 14373
    .end local v0           #threadSettingsUri:Landroid/net/Uri;
    .end local v1           #values:Landroid/content/ContentValues;
    :cond_0
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v2}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v2

    invoke-virtual {v2, p1}, Lcom/android/mms/data/ContactList;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-nez v2, :cond_1

    .line 14374
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v2, p1}, Lcom/android/mms/data/Conversation;->setRecipients(Lcom/android/mms/data/ContactList;)V

    .line 14375
    const-string v2, "Mms/compose"

    const-string v3, "makeDraftEditable, do not equal"

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 14381
    :goto_0
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v2, v3}, Lcom/android/mms/data/WorkingMessage;->setConversation(Lcom/android/mms/data/Conversation;)V

    .line 14382
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateThreadIdIfRunning()V

    .line 14383
    invoke-virtual {p0}, Landroid/app/Activity;->invalidateOptionsMenu()V

    .line 14384
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideRecipientEditor()V

    .line 14385
    invoke-direct {p0, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->initRecipientsEditor(Landroid/os/Bundle;)V

    .line 14386
    iput-boolean v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->isInitRecipientsEditor:Z

    .line 14387
    return-void

    .line 14377
    :cond_1
    const-string v2, "Mms/compose"

    const-string v3, "makeDraftEditable, equal"

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 14378
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v2, v3}, Lcom/android/mms/data/WorkingMessage;->asyncDeleteDraftSmsMessage(Lcom/android/mms/data/Conversation;)V

    .line 14379
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v2}, Lcom/android/mms/data/Conversation;->clearThreadId()V

    goto :goto_0
.end method

.method private needSaveDraft()Z
    .locals 2

    .prologue
    .line 10157
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v0

    if-eqz v0, :cond_0

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v1

    invoke-virtual {v0, v1}, Lcom/android/mms/ui/RecipientsEditor;->hasValidRecipient(Z)Z

    move-result v0

    if-eqz v0, :cond_2

    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->isDiscarded()Z

    move-result v0

    if-nez v0, :cond_2

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->isWorthSaving()Z

    move-result v0

    if-nez v0, :cond_1

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v0, :cond_2

    :cond_1
    const/4 v0, 0x1

    :goto_0
    return v0

    :cond_2
    const/4 v0, 0x0

    goto :goto_0
.end method

.method private notifyCompressingDone()V
    .locals 1

    .prologue
    .line 10261
    monitor-enter p0

    .line 10262
    const/4 v0, 0x0

    :try_start_0
    iput-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCompressingImage:Z

    .line 10263
    invoke-virtual {p0}, Ljava/lang/Object;->notify()V

    .line 10264
    monitor-exit p0

    .line 10265
    return-void

    .line 10264
    :catchall_0
    move-exception v0

    monitor-exit p0
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    throw v0
.end method

.method private onIpMessageMenuItemClick(Landroid/view/MenuItem;Lcom/android/mms/ui/MessageItem;)Z
    .locals 11
    .parameter "menuItem"
    .parameter "msgItem"

    .prologue
    .line 13227
    const-string v7, "Mms/ipmsg/compose"

    const-string v8, "onIpMessageMenuItemClick(): "

    invoke-static {v7, v8}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13228
    invoke-interface {p1}, Landroid/view/MenuItem;->getItemId()I

    move-result v7

    packed-switch v7, :pswitch_data_0

    .line 13291
    :pswitch_0
    const/4 v7, 0x0

    :goto_0
    return v7

    .line 13231
    :pswitch_1
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v7}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v7

    if-nez v7, :cond_0

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v7}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-static {v7}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v7

    if-eqz v7, :cond_0

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v7, :cond_1

    .line 13233
    :cond_0
    iget-wide v7, p2, Lcom/android/mms/ui/MessageItem;->mMsgId:J

    invoke-direct {p0, v7, v8}, Lcom/android/mms/ui/ComposeMessageActivity;->showDiscardCurrentMessageDialog(J)V

    .line 13237
    :goto_1
    const/4 v7, 0x1

    goto :goto_0

    .line 13235
    :cond_1
    iget-wide v7, p2, Lcom/android/mms/ui/MessageItem;->mMsgId:J

    invoke-direct {p0, v7, v8}, Lcom/android/mms/ui/ComposeMessageActivity;->sendViaMmsOrSms(J)V

    goto :goto_1

    .line 13240
    :pswitch_2
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getMessageManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/MessageManager;

    move-result-object v7

    iget-wide v8, p2, Lcom/android/mms/ui/MessageItem;->mMsgId:J

    invoke-virtual {p2}, Lcom/android/mms/ui/MessageItem;->getSimId()I

    move-result v10

    invoke-virtual {v7, v8, v9, v10}, Lcom/mediatek/mms/ipmessage/MessageManager;->resendMessage(JI)V

    .line 13241
    const/4 v7, 0x1

    goto :goto_0

    .line 13244
    :pswitch_3
    const-string v7, "Mms/compose"

    const-string v8, "MENU_FORWARD_IPMESSAGE"

    invoke-static {v7, v8}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13245
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideInputMethod()V

    .line 13246
    iget-wide v7, p2, Lcom/android/mms/ui/MessageItem;->mMsgId:J

    invoke-direct {p0, p0, v7, v8}, Lcom/android/mms/ui/ComposeMessageActivity;->forwardIpMsg(Landroid/content/Context;J)Z

    .line 13247
    const/4 v7, 0x1

    goto :goto_0

    .line 13250
    :pswitch_4
    const-string v7, "Mms/ipmsg/compose"

    const-string v8, "onIpMessageMenuItemClick(): Delete IP message"

    invoke-static {v7, v8}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13251
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$DeleteMessageListener;

    invoke-direct {v0, p0, p2}, Lcom/android/mms/ui/ComposeMessageActivity$DeleteMessageListener;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/MessageItem;)V

    .line 13252
    .local v0, delMsgListener:Lcom/android/mms/ui/ComposeMessageActivity$DeleteMessageListener;
    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "_id="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    iget-wide v8, p2, Lcom/android/mms/ui/MessageItem;->mMsgId:J

    invoke-virtual {v7, v8, v9}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    .line 13253
    .local v6, where:Ljava/lang/String;
    const/4 v7, 0x1

    new-array v4, v7, [Ljava/lang/String;

    const/4 v7, 0x0

    const-string v8, "thread_id"

    aput-object v8, v4, v7

    .line 13254
    .local v4, projection:[Ljava/lang/String;
    const-string v7, "Mms/ipmsg/compose"

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    const-string v9, "onIpMessageMenuItemClick(): where = "

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-static {v7, v8}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13255
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v7

    const/4 v8, 0x0

    invoke-static {v7, v4, v6, v8}, Landroid/provider/Telephony$Sms;->query(Landroid/content/ContentResolver;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v5

    .line 13256
    .local v5, queryCursor:Landroid/database/Cursor;
    invoke-interface {v5}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v7

    if-eqz v7, :cond_2

    .line 13257
    const/4 v7, 0x0

    invoke-interface {v5, v7}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v7

    invoke-static {v7, v8}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v7

    iput-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mThreadId:Ljava/lang/Long;

    .line 13258
    invoke-interface {v5}, Landroid/database/Cursor;->close()V

    .line 13260
    :cond_2
    iget-boolean v7, p2, Lcom/android/mms/ui/MessageItem;->mLocked:Z

    invoke-direct {p0, v0, v7}, Lcom/android/mms/ui/ComposeMessageActivity;->confirmDeleteDialog(Landroid/content/DialogInterface$OnClickListener;Z)V

    .line 13261
    const/4 v7, 0x1

    goto/16 :goto_0

    .line 13264
    .end local v0           #delMsgListener:Lcom/android/mms/ui/ComposeMessageActivity$DeleteMessageListener;
    .end local v4           #projection:[Ljava/lang/String;
    .end local v5           #queryCursor:Landroid/database/Cursor;
    .end local v6           #where:Ljava/lang/String;
    :pswitch_5
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getMessageManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/MessageManager;

    move-result-object v7

    iget-wide v8, p2, Lcom/android/mms/ui/MessageItem;->mMsgId:J

    invoke-virtual {v7, v8, v9}, Lcom/mediatek/mms/ipmessage/MessageManager;->getIpMsgInfo(J)Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-result-object v3

    .line 13265
    .local v3, ipMsp:Lcom/mediatek/mms/ipmessage/message/IpMessage;
    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->shareIpMsg(Lcom/mediatek/mms/ipmessage/message/IpMessage;)V

    .line 13266
    const/4 v7, 0x1

    goto/16 :goto_0

    .line 13269
    .end local v3           #ipMsp:Lcom/mediatek/mms/ipmessage/message/IpMessage;
    :pswitch_6
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getMessageManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/MessageManager;

    move-result-object v7

    iget-wide v8, p2, Lcom/android/mms/ui/MessageItem;->mMsgId:J

    invoke-virtual {v7, v8, v9}, Lcom/mediatek/mms/ipmessage/MessageManager;->getIpMsgInfo(J)Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-result-object v1

    .line 13270
    .local v1, ipMessageForSave:Lcom/mediatek/mms/ipmessage/message/IpMessage;
    const-string v7, "Mms/ipmsg/compose"

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    const-string v9, "onIpMessageMenuItemClick(): Save IP message. msgId = "

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    iget-wide v9, p2, Lcom/android/mms/ui/MessageItem;->mMsgId:J

    invoke-virtual {v8, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v9, ", type = "

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v1}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v9

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-static {v7, v8}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13272
    invoke-virtual {v1}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v7

    const/4 v8, 0x4

    if-lt v7, v8, :cond_3

    invoke-virtual {v1}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v7

    const/16 v8, 0xb

    if-ge v7, v8, :cond_3

    .line 13274
    check-cast v1, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;

    .end local v1           #ipMessageForSave:Lcom/mediatek/mms/ipmessage/message/IpMessage;
    invoke-direct {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->saveMsgInSDCard(Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;)V

    .line 13276
    :cond_3
    const/4 v7, 0x1

    goto/16 :goto_0

    .line 13279
    :pswitch_7
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getMessageManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/MessageManager;

    move-result-object v7

    iget-wide v8, p2, Lcom/android/mms/ui/MessageItem;->mMsgId:J

    invoke-virtual {v7, v8, v9}, Lcom/mediatek/mms/ipmessage/MessageManager;->getIpMsgInfo(J)Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-result-object v2

    .line 13280
    .local v2, ipMessageForView:Lcom/mediatek/mms/ipmessage/message/IpMessage;
    const-string v7, "Mms/ipmsg/compose"

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    const-string v9, "onIpMessageMenuItemClick(): View IP message. msgId = "

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    iget-wide v9, p2, Lcom/android/mms/ui/MessageItem;->mMsgId:J

    invoke-virtual {v8, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v9, ", type = "

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v2}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v9

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-static {v7, v8}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13282
    invoke-virtual {v2}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v7

    const/4 v8, 0x4

    if-lt v7, v8, :cond_4

    invoke-virtual {v2}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v7

    const/16 v8, 0xb

    if-ge v7, v8, :cond_4

    .line 13284
    iget-wide v7, p2, Lcom/android/mms/ui/MessageItem;->mMsgId:J

    check-cast v2, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;

    .end local v2           #ipMessageForView:Lcom/mediatek/mms/ipmessage/message/IpMessage;
    invoke-direct {p0, v7, v8, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->openMedia(JLcom/mediatek/mms/ipmessage/message/IpAttachMessage;)V

    .line 13286
    :cond_4
    const/4 v7, 0x1

    goto/16 :goto_0

    .line 13228
    nop

    :pswitch_data_0
    .packed-switch 0xc8
        :pswitch_2
        :pswitch_4
        :pswitch_5
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_7
        :pswitch_0
        :pswitch_1
        :pswitch_6
        :pswitch_3
    .end packed-switch
.end method

.method private onIpMsgActivityResult(Landroid/content/Context;IILandroid/content/Intent;)V
    .locals 19
    .parameter "context"
    .parameter "requestCode"
    .parameter "resultCode"
    .parameter "data"

    .prologue
    .line 11325
    const-string v15, "Mms/ipmsg/compose"

    new-instance v16, Ljava/lang/StringBuilder;

    invoke-direct/range {v16 .. v16}, Ljava/lang/StringBuilder;-><init>()V

    const-string v17, "onIpMsgActivityResult(): requestCode = "

    invoke-virtual/range {v16 .. v17}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v16

    move-object/from16 v0, v16

    move/from16 v1, p2

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v16

    const-string v17, ", resultCode = "

    invoke-virtual/range {v16 .. v17}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v16

    move-object/from16 v0, v16

    move/from16 v1, p3

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v16

    const-string v17, ", data = "

    invoke-virtual/range {v16 .. v17}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v16

    move-object/from16 v0, v16

    move-object/from16 v1, p4

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v16

    invoke-virtual/range {v16 .. v16}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v16

    invoke-static/range {v15 .. v16}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 11327
    const/4 v15, -0x1

    move/from16 v0, p3

    if-eq v0, v15, :cond_1

    .line 11328
    const-string v15, "Mms/ipmsg/compose"

    new-instance v16, Ljava/lang/StringBuilder;

    invoke-direct/range {v16 .. v16}, Ljava/lang/StringBuilder;-><init>()V

    const-string v17, "bail due to resultCode="

    invoke-virtual/range {v16 .. v17}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v16

    move-object/from16 v0, v16

    move/from16 v1, p3

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v16

    invoke-virtual/range {v16 .. v16}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v16

    invoke-static/range {v15 .. v16}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 11537
    :cond_0
    :goto_0
    return-void

    .line 11333
    :cond_1
    packed-switch p2, :pswitch_data_0

    :pswitch_0
    goto :goto_0

    .line 11367
    :pswitch_1
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    const/16 v16, 0x0

    invoke-static/range {v15 .. v16}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->isValidAttach(Ljava/lang/String;Z)Z

    move-result v15

    if-nez v15, :cond_6

    .line 11368
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v15

    const/16 v16, 0xe7

    invoke-virtual/range {v15 .. v16}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v15

    const/16 v16, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v16

    invoke-static {v0, v15, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v15

    invoke-virtual {v15}, Landroid/widget/Toast;->show()V

    goto :goto_0

    .line 11335
    :pswitch_2
    new-instance v3, Ljava/util/ArrayList;

    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V

    .line 11336
    .local v3, allList:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v15}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v6

    .line 11337
    .local v6, contactList:Lcom/android/mms/data/ContactList;
    if-eqz v6, :cond_2

    invoke-virtual {v6}, Ljava/util/ArrayList;->size()I

    move-result v15

    if-lez v15, :cond_2

    .line 11338
    invoke-virtual {v6}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;

    move-result-object v10

    .local v10, it:Ljava/util/Iterator;
    :goto_1
    invoke-interface {v10}, Ljava/util/Iterator;->hasNext()Z

    move-result v15

    if-eqz v15, :cond_2

    .line 11339
    invoke-interface {v10}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/mms/data/Contact;

    .line 11340
    .local v4, c:Lcom/android/mms/data/Contact;
    new-instance v15, Ljava/lang/StringBuilder;

    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getContactManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ContactManager;

    move-result-object v16

    invoke-virtual {v4}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v17

    invoke-virtual/range {v16 .. v17}, Lcom/mediatek/mms/ipmessage/ContactManager;->getContactIdByNumber(Ljava/lang/String;)S

    move-result v16

    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v15

    const-string v16, ""

    invoke-virtual/range {v15 .. v16}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v15

    invoke-virtual {v15}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v15

    invoke-interface {v3, v15}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    goto :goto_1

    .line 11344
    .end local v4           #c:Lcom/android/mms/data/Contact;
    .end local v10           #it:Ljava/util/Iterator;
    :cond_2
    const-string v15, "contactId"

    move-object/from16 v0, p4

    invoke-virtual {v0, v15}, Landroid/content/Intent;->getStringArrayExtra(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v11

    .line 11345
    .local v11, mSelectContactsIds:[Ljava/lang/String;
    if-eqz v11, :cond_4

    array-length v15, v11

    if-lez v15, :cond_4

    .line 11346
    const-string v7, ""

    .line 11347
    .local v7, idStr:Ljava/lang/String;
    const/4 v8, 0x0

    .local v8, index:I
    :goto_2
    array-length v15, v11

    if-ge v8, v15, :cond_4

    .line 11348
    aget-object v7, v11, v8

    .line 11349
    invoke-interface {v3, v7}, Ljava/util/List;->contains(Ljava/lang/Object;)Z

    move-result v15

    if-nez v15, :cond_3

    .line 11350
    invoke-interface {v3, v7}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    .line 11347
    :cond_3
    add-int/lit8 v8, v8, 0x1

    goto :goto_2

    .line 11355
    .end local v7           #idStr:Ljava/lang/String;
    .end local v8           #index:I
    :cond_4
    if-eqz v3, :cond_5

    invoke-interface {v3}, Ljava/util/List;->size()I

    move-result v15

    if-lez v15, :cond_5

    .line 11356
    new-instance v9, Landroid/content/Intent;

    sget-object v15, Lcom/mediatek/mms/ipmessage/IpMessageConsts$RemoteActivities;->NEW_GROUP_CHAT:Ljava/lang/String;

    invoke-direct {v9, v15}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 11357
    .local v9, intent:Landroid/content/Intent;
    const-string v15, "sim_id"

    const-string v16, "SIMID"

    const/16 v17, 0x0

    move-object/from16 v0, p4

    move-object/from16 v1, v16

    move/from16 v2, v17

    invoke-virtual {v0, v1, v2}, Landroid/content/Intent;->getIntExtra(Ljava/lang/String;I)I

    move-result v16

    move/from16 v0, v16

    invoke-virtual {v9, v15, v0}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 11358
    const-string v16, "array"

    invoke-interface {v3}, Ljava/util/List;->size()I

    move-result v15

    new-array v15, v15, [Ljava/lang/String;

    invoke-interface {v3, v15}, Ljava/util/List;->toArray([Ljava/lang/Object;)[Ljava/lang/Object;

    move-result-object v15

    check-cast v15, [Ljava/lang/String;

    move-object/from16 v0, v16

    invoke-virtual {v9, v0, v15}, Landroid/content/Intent;->putExtra(Ljava/lang/String;[Ljava/lang/String;)Landroid/content/Intent;

    .line 11360
    move-object/from16 v0, p0

    invoke-static {v0, v9}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->startRemoteActivity(Landroid/content/Context;Landroid/content/Intent;)V

    .line 11361
    const/4 v3, 0x0

    .line 11362
    goto/16 :goto_0

    .line 11363
    .end local v9           #intent:Landroid/content/Intent;
    :cond_5
    const-string v15, "Mms/ipmsg/compose"

    const-string v16, "onActivityResult(): SELECT_CONTACT get contact id is NULL!"

    invoke-static/range {v15 .. v16}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_0

    .line 11374
    .end local v3           #allList:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v6           #contactList:Lcom/android/mms/data/ContactList;
    .end local v11           #mSelectContactsIds:[Ljava/lang/String;
    :cond_6
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-static {v15}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->isPic(Ljava/lang/String;)Z

    move-result v15

    if-nez v15, :cond_7

    .line 11375
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v15

    const/16 v16, 0xcc

    invoke-virtual/range {v15 .. v16}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v15

    const/16 v16, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v16

    invoke-static {v0, v15, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v15

    invoke-virtual {v15}, Landroid/widget/Toast;->show()V

    goto/16 :goto_0

    .line 11381
    :cond_7
    new-instance v15, Ljava/lang/Thread;

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mResizePic:Ljava/lang/Runnable;

    move-object/from16 v16, v0

    const-string v17, "ipmessage_resize_pic"

    invoke-direct/range {v15 .. v17}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;Ljava/lang/String;)V

    invoke-virtual {v15}, Ljava/lang/Thread;->start()V

    goto/16 :goto_0

    .line 11385
    :pswitch_3
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move/from16 v2, p2

    invoke-virtual {v0, v1, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->getVideoOrPhoto(Landroid/content/Intent;I)Z

    move-result v15

    if-nez v15, :cond_8

    .line 11386
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v15

    const/16 v16, 0xe7

    invoke-virtual/range {v15 .. v16}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v15

    const/16 v16, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v16

    invoke-static {v0, v15, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v15

    invoke-virtual {v15}, Landroid/widget/Toast;->show()V

    goto/16 :goto_0

    .line 11392
    :cond_8
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-static {v15}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->isVideo(Ljava/lang/String;)Z

    move-result v15

    if-nez v15, :cond_9

    .line 11393
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v15

    const/16 v16, 0xcc

    invoke-virtual/range {v15 .. v16}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v15

    const/16 v16, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v16

    invoke-static {v0, v15, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v15

    invoke-virtual {v15}, Landroid/widget/Toast;->show()V

    goto/16 :goto_0

    .line 11399
    :cond_9
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    move-object/from16 v0, p0

    invoke-static {v0, v15}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->isFileStatusOk(Landroid/content/Context;Ljava/lang/String;)Z

    move-result v15

    if-nez v15, :cond_a

    .line 11400
    const-string v15, "Mms/compose"

    const-string v16, "onIpMsgActivityResult(): record video failed, invalid file"

    invoke-static/range {v15 .. v16}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_0

    .line 11403
    :cond_a
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendVideo:Ljava/lang/Runnable;

    move-object/from16 v16, v0

    const-wide/16 v17, 0x64

    invoke-virtual/range {v15 .. v18}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    goto/16 :goto_0

    .line 11407
    :pswitch_4
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move/from16 v2, p2

    invoke-virtual {v0, v1, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->getVideoOrPhoto(Landroid/content/Intent;I)Z

    move-result v15

    if-nez v15, :cond_b

    .line 11408
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v15

    const/16 v16, 0xe7

    invoke-virtual/range {v15 .. v16}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v15

    const/16 v16, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v16

    invoke-static {v0, v15, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v15

    invoke-virtual {v15}, Landroid/widget/Toast;->show()V

    goto/16 :goto_0

    .line 11414
    :cond_b
    new-instance v15, Ljava/lang/Thread;

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mResizeSketch:Ljava/lang/Runnable;

    move-object/from16 v16, v0

    invoke-direct/range {v15 .. v16}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v15}, Ljava/lang/Thread;->start()V

    goto/16 :goto_0

    .line 11418
    :pswitch_5
    const/4 v15, 0x1

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v15}, Lcom/android/mms/ui/ComposeMessageActivity;->asyncAttachVCardByContactsId(Landroid/content/Intent;Z)V

    goto/16 :goto_0

    .line 11422
    :pswitch_6
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move/from16 v2, p2

    invoke-virtual {v0, v1, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->getVideoOrPhoto(Landroid/content/Intent;I)Z

    move-result v15

    if-nez v15, :cond_c

    .line 11423
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v15

    const/16 v16, 0xe7

    invoke-virtual/range {v15 .. v16}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v15

    const/16 v16, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v16

    invoke-static {v0, v15, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v15

    invoke-virtual {v15}, Landroid/widget/Toast;->show()V

    goto/16 :goto_0

    .line 11429
    :cond_c
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-static {v15}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->isPic(Ljava/lang/String;)Z

    move-result v15

    if-nez v15, :cond_d

    .line 11430
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v15

    const/16 v16, 0xcc

    invoke-virtual/range {v15 .. v16}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v15

    const/16 v16, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v16

    invoke-static {v0, v15, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v15

    invoke-virtual {v15}, Landroid/widget/Toast;->show()V

    goto/16 :goto_0

    .line 11436
    :cond_d
    new-instance v15, Ljava/lang/Thread;

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mResizePic:Ljava/lang/Runnable;

    move-object/from16 v16, v0

    invoke-direct/range {v15 .. v16}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v15}, Ljava/lang/Thread;->start()V

    goto/16 :goto_0

    .line 11440
    :pswitch_7
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move/from16 v2, p2

    invoke-virtual {v0, v1, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->getVideoOrPhoto(Landroid/content/Intent;I)Z

    move-result v15

    if-nez v15, :cond_f

    .line 11441
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-static {v15}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getFileSize(Ljava/lang/String;)I

    move-result v15

    const/high16 v16, 0x20

    move/from16 v0, v16

    if-le v15, v0, :cond_e

    .line 11442
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v15

    const/16 v16, 0xc6

    invoke-virtual/range {v15 .. v16}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v15

    const/16 v16, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v16

    invoke-static {v0, v15, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v15

    invoke-virtual {v15}, Landroid/widget/Toast;->show()V

    goto/16 :goto_0

    .line 11447
    :cond_e
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v15

    const/16 v16, 0xe7

    invoke-virtual/range {v15 .. v16}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v15

    const/16 v16, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v16

    invoke-static {v0, v15, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v15

    invoke-virtual {v15}, Landroid/widget/Toast;->show()V

    goto/16 :goto_0

    .line 11454
    :cond_f
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-static {v15}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->isVideo(Ljava/lang/String;)Z

    move-result v15

    if-nez v15, :cond_10

    .line 11455
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v15

    const/16 v16, 0xcc

    invoke-virtual/range {v15 .. v16}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v15

    const/16 v16, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v16

    invoke-static {v0, v15, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v15

    invoke-virtual {v15}, Landroid/widget/Toast;->show()V

    goto/16 :goto_0

    .line 11461
    :cond_10
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    move-object/from16 v0, p0

    invoke-static {v0, v15}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->isFileStatusOk(Landroid/content/Context;Ljava/lang/String;)Z

    move-result v15

    if-nez v15, :cond_11

    .line 11462
    const-string v15, "Mms/compose"

    const-string v16, "onIpMsgActivityResult(): choose video failed, invalid file"

    invoke-static/range {v15 .. v16}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_0

    .line 11465
    :cond_11
    const v12, 0x4b000

    .line 11466
    .local v12, mmsSizeLimit:I
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-static {v15}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getFileSize(Ljava/lang/String;)I

    move-result v15

    if-le v15, v12, :cond_12

    .line 11467
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v15

    const/16 v16, 0xc6

    invoke-virtual/range {v15 .. v16}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v15

    const/16 v16, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v16

    invoke-static {v0, v15, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v15

    invoke-virtual {v15}, Landroid/widget/Toast;->show()V

    goto/16 :goto_0

    .line 11473
    :cond_12
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendVideo:Ljava/lang/Runnable;

    move-object/from16 v16, v0

    const-wide/16 v17, 0x64

    invoke-virtual/range {v15 .. v18}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    goto/16 :goto_0

    .line 11477
    .end local v12           #mmsSizeLimit:I
    :pswitch_8
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move/from16 v2, p2

    invoke-virtual {v0, v1, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->getVideoOrPhoto(Landroid/content/Intent;I)Z

    move-result v15

    if-eqz v15, :cond_0

    .line 11480
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-static {v15}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->isAudio(Ljava/lang/String;)Z

    move-result v15

    if-nez v15, :cond_13

    .line 11481
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v15

    const/16 v16, 0xcc

    invoke-virtual/range {v15 .. v16}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v15

    const/16 v16, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v16

    invoke-static {v0, v15, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v15

    invoke-virtual {v15}, Landroid/widget/Toast;->show()V

    goto/16 :goto_0

    .line 11487
    :cond_13
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    move-object/from16 v0, p0

    invoke-static {v0, v15}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->isFileStatusOk(Landroid/content/Context;Ljava/lang/String;)Z

    move-result v15

    if-nez v15, :cond_14

    .line 11488
    const-string v15, "Mms/compose"

    const-string v16, "onIpMsgActivityResult(): record audio failed, invalid file"

    invoke-static/range {v15 .. v16}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_0

    .line 11491
    :cond_14
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendAudio:Ljava/lang/Runnable;

    move-object/from16 v16, v0

    const-wide/16 v17, 0x64

    invoke-virtual/range {v15 .. v18}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    goto/16 :goto_0

    .line 11495
    :pswitch_9
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->sendLocationMsg(Landroid/content/Intent;)V

    goto/16 :goto_0

    .line 11501
    :pswitch_a
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getMessageManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/MessageManager;

    move-result-object v15

    move-object/from16 v0, p4

    invoke-virtual {v15, v0}, Lcom/mediatek/mms/ipmessage/MessageManager;->getIpMessageFromIntent(Landroid/content/Intent;)Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-result-object v13

    check-cast v13, Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;

    .line 11502
    .local v13, msg:Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v13}, Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;->getAddress()Ljava/lang/String;

    move-result-object v16

    invoke-virtual/range {v15 .. v16}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    goto/16 :goto_0

    .line 11507
    .end local v13           #msg:Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;
    :pswitch_b
    if-eqz p4, :cond_0

    .line 11508
    const-string v15, "android.intent.extra.ringtone.PICKED_URI"

    move-object/from16 v0, p4

    invoke-virtual {v0, v15}, Landroid/content/Intent;->getParcelableExtra(Ljava/lang/String;)Landroid/os/Parcelable;

    move-result-object v14

    check-cast v14, Landroid/net/Uri;

    .line 11509
    .local v14, uri:Landroid/net/Uri;
    sget-object v15, Lcom/mediatek/encapsulation/android/provider/EncapsulatedSettings$System;->DEFAULT_RINGTONE_URI:Landroid/net/Uri;

    invoke-virtual {v15, v14}, Landroid/net/Uri;->equals(Ljava/lang/Object;)Z

    move-result v15

    if-nez v15, :cond_0

    .line 11512
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->getAudio(Landroid/content/Intent;)Z

    move-result v15

    if-eqz v15, :cond_0

    .line 11513
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendAudio:Ljava/lang/Runnable;

    move-object/from16 v16, v0

    const-wide/16 v17, 0x64

    invoke-virtual/range {v15 .. v18}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    goto/16 :goto_0

    .line 11518
    .end local v14           #uri:Landroid/net/Uri;
    :pswitch_c
    invoke-virtual/range {p4 .. p4}, Landroid/content/Intent;->getDataString()Ljava/lang/String;

    move-result-object v5

    .line 11519
    .local v5, calendar:Ljava/lang/String;
    invoke-static {v5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v15

    if-nez v15, :cond_0

    .line 11522
    move-object/from16 v0, p0

    move-object/from16 v1, p0

    invoke-virtual {v0, v1, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->getCalendar(Landroid/content/Context;Ljava/lang/String;)V

    .line 11523
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendCalendar:Ljava/lang/Runnable;

    move-object/from16 v16, v0

    const-wide/16 v17, 0x64

    invoke-virtual/range {v15 .. v18}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    goto/16 :goto_0

    .line 11526
    .end local v5           #calendar:Ljava/lang/String;
    :pswitch_d
    if-eqz p4, :cond_15

    .line 11527
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->processPickResult(Landroid/content/Intent;)V

    .line 11532
    :goto_3
    const/4 v15, 0x0

    move-object/from16 v0, p0

    iput-boolean v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->misPickContatct:Z

    goto/16 :goto_0

    .line 11529
    :cond_15
    const/4 v15, 0x1

    move-object/from16 v0, p0

    iput-boolean v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsRecipientHasIntentNotHandle:Z

    .line 11530
    move-object/from16 v0, p4

    move-object/from16 v1, p0

    iput-object v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mIntent:Landroid/content/Intent;

    goto :goto_3

    .line 11333
    :pswitch_data_0
    .packed-switch 0xc8
        :pswitch_1
        :pswitch_3
        :pswitch_4
        :pswitch_5
        :pswitch_6
        :pswitch_7
        :pswitch_8
        :pswitch_9
        :pswitch_b
        :pswitch_c
        :pswitch_d
        :pswitch_2
        :pswitch_0
        :pswitch_a
    .end packed-switch
.end method

.method private onIpMsgOptionsItemSelected(Landroid/view/MenuItem;)V
    .locals 18
    .parameter "item"

    .prologue
    .line 12119
    invoke-interface/range {p1 .. p1}, Landroid/view/MenuItem;->getItemId()I

    move-result v15

    sparse-switch v15, :sswitch_data_0

    .line 12217
    :cond_0
    :goto_0
    return-void

    .line 12121
    :sswitch_0
    new-instance v8, Landroid/content/Intent;

    sget-object v15, Lcom/mediatek/mms/ipmessage/IpMessageConsts$RemoteActivities;->CONTACT:Ljava/lang/String;

    invoke-direct {v8, v15}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 12122
    .local v8, intent:Landroid/content/Intent;
    const-string v15, "request_code"

    const/16 v16, 0xd3

    move/from16 v0, v16

    invoke-virtual {v8, v15, v0}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 12123
    const-string v15, "type"

    const/16 v16, 0x1

    move/from16 v0, v16

    invoke-virtual {v8, v15, v0}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 12124
    const-string v15, "array"

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v16, v0

    invoke-virtual/range {v16 .. v16}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v16

    invoke-virtual/range {v16 .. v16}, Lcom/android/mms/data/ContactList;->getNumbers()[Ljava/lang/String;

    move-result-object v16

    move-object/from16 v0, v16

    invoke-virtual {v8, v15, v0}, Landroid/content/Intent;->putExtra(Ljava/lang/String;[Ljava/lang/String;)Landroid/content/Intent;

    .line 12125
    move-object/from16 v0, p0

    invoke-static {v0, v8}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->startRemoteActivityForResult(Landroid/content/Context;Landroid/content/Intent;)V

    goto :goto_0

    .line 12128
    .end local v8           #intent:Landroid/content/Intent;
    :sswitch_1
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v15}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v15

    invoke-virtual {v15}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v4

    .line 12129
    .local v4, contentText:Ljava/lang/String;
    invoke-static {v4}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v15

    if-eqz v15, :cond_1

    .line 12130
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v16

    const/16 v17, 0xe9

    invoke-virtual/range {v16 .. v17}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v16

    invoke-virtual/range {v15 .. v16}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    goto :goto_0

    .line 12133
    :cond_1
    new-instance v15, Lcom/android/mms/ui/ComposeMessageActivity$InviteFriendsToIpMsgListener;

    const/16 v16, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v16

    invoke-direct {v15, v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity$InviteFriendsToIpMsgListener;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/ComposeMessageActivity$1;)V

    move-object/from16 v0, p0

    invoke-static {v0, v15}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->showInviteIpMsgConfirmDialog(Landroid/content/Context;Landroid/content/DialogInterface$OnClickListener;)V

    goto :goto_0

    .line 12137
    .end local v4           #contentText:Ljava/lang/String;
    :sswitch_2
    new-instance v9, Landroid/content/Intent;

    const-class v15, Lcom/android/mms/ui/MultiDeleteActivity;

    move-object/from16 v0, p0

    invoke-direct {v9, v0, v15}, Landroid/content/Intent;-><init>(Landroid/content/Context;Ljava/lang/Class;)V

    .line 12138
    .local v9, intentSelectMessage:Landroid/content/Intent;
    const-string v15, "thread_id"

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v16, v0

    invoke-virtual/range {v16 .. v16}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v16

    move-wide/from16 v0, v16

    invoke-virtual {v9, v15, v0, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;J)Landroid/content/Intent;

    .line 12139
    const/16 v15, 0x6e

    move-object/from16 v0, p0

    invoke-virtual {v0, v9, v15}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V

    .line 12140
    const/4 v15, 0x1

    move-object/from16 v0, p0

    iput-boolean v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsStartMultiDeleteActivity:Z

    goto/16 :goto_0

    .line 12143
    .end local v9           #intentSelectMessage:Landroid/content/Intent;
    :sswitch_3
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    .line 12144
    .local v5, conversationForMarkSpam:Lcom/android/mms/data/Conversation;
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v15}, Lcom/android/mms/data/Conversation;->isSpam()Z

    move-result v12

    .line 12145
    .local v12, isSpamFromMark:Z
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    const/16 v16, 0x1

    invoke-virtual/range {v15 .. v16}, Lcom/android/mms/data/Conversation;->setSpam(Z)V

    .line 12146
    new-instance v15, Ljava/lang/Thread;

    new-instance v16, Lcom/android/mms/ui/ComposeMessageActivity$107;

    move-object/from16 v0, v16

    move-object/from16 v1, p0

    invoke-direct {v0, v1, v5, v12}, Lcom/android/mms/ui/ComposeMessageActivity$107;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/data/Conversation;Z)V

    invoke-direct/range {v15 .. v16}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v15}, Ljava/lang/Thread;->start()V

    goto/16 :goto_0

    .line 12166
    .end local v5           #conversationForMarkSpam:Lcom/android/mms/data/Conversation;
    .end local v12           #isSpamFromMark:Z
    :sswitch_4
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    .line 12167
    .local v6, conversationForRemoveSpam:Lcom/android/mms/data/Conversation;
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v15}, Lcom/android/mms/data/Conversation;->isSpam()Z

    move-result v13

    .line 12168
    .local v13, isSpamFromRemove:Z
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    const/16 v16, 0x0

    invoke-virtual/range {v15 .. v16}, Lcom/android/mms/data/Conversation;->setSpam(Z)V

    .line 12169
    new-instance v15, Ljava/lang/Thread;

    new-instance v16, Lcom/android/mms/ui/ComposeMessageActivity$108;

    move-object/from16 v0, v16

    move-object/from16 v1, p0

    invoke-direct {v0, v1, v6, v13}, Lcom/android/mms/ui/ComposeMessageActivity$108;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/data/Conversation;Z)V

    invoke-direct/range {v15 .. v16}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v15}, Ljava/lang/Thread;->start()V

    goto/16 :goto_0

    .line 12189
    .end local v6           #conversationForRemoveSpam:Lcom/android/mms/data/Conversation;
    .end local v13           #isSpamFromRemove:Z
    :sswitch_5
    new-instance v14, Ljava/util/HashSet;

    invoke-direct {v14}, Ljava/util/HashSet;-><init>()V

    .line 12190
    .local v14, threadIds:Ljava/util/HashSet;,"Ljava/util/HashSet<Ljava/lang/Long;>;"
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v15}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v15

    invoke-static/range {v15 .. v16}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v15

    invoke-virtual {v14, v15}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z

    .line 12191
    move-object/from16 v0, p0

    invoke-static {v0, v14}, Lcom/android/mms/ui/MessageUtils;->addShortcutToLauncher(Landroid/content/Context;Ljava/util/HashSet;)V

    goto/16 :goto_0

    .line 12194
    .end local v14           #threadIds:Ljava/util/HashSet;,"Ljava/util/HashSet<Ljava/lang/Long;>;"
    :sswitch_6
    new-instance v11, Landroid/content/Intent;

    sget-object v15, Lcom/mediatek/mms/ipmessage/IpMessageConsts$RemoteActivities;->ALL_MEDIA:Ljava/lang/String;

    invoke-direct {v11, v15}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 12195
    .local v11, intentViewAllMedia:Landroid/content/Intent;
    const-string v15, "thread_id"

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v16, v0

    invoke-virtual/range {v16 .. v16}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v16

    move-wide/from16 v0, v16

    invoke-virtual {v11, v15, v0, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;J)Landroid/content/Intent;

    .line 12196
    move-object/from16 v0, p0

    invoke-static {v0, v11}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->startRemoteActivity(Landroid/content/Context;Landroid/content/Intent;)V

    goto/16 :goto_0

    .line 12199
    .end local v11           #intentViewAllMedia:Landroid/content/Intent;
    :sswitch_7
    new-instance v10, Landroid/content/Intent;

    sget-object v15, Lcom/mediatek/mms/ipmessage/IpMessageConsts$RemoteActivities;->ALL_LOCATION:Ljava/lang/String;

    invoke-direct {v10, v15}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 12200
    .local v10, intentViewAllLocation:Landroid/content/Intent;
    const-string v15, "thread_id"

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v16, v0

    invoke-virtual/range {v16 .. v16}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v16

    move-wide/from16 v0, v16

    invoke-virtual {v10, v15, v0, v1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;J)Landroid/content/Intent;

    .line 12201
    move-object/from16 v0, p0

    invoke-static {v0, v10}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->startRemoteActivity(Landroid/content/Context;Landroid/content/Intent;)V

    goto/16 :goto_0

    .line 12204
    .end local v10           #intentViewAllLocation:Landroid/content/Intent;
    :sswitch_8
    const-wide/16 v2, -0x1

    .line 12205
    .local v2, chatThreadId:J
    invoke-direct/range {p0 .. p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v15

    if-nez v15, :cond_2

    .line 12206
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v15}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v2

    .line 12208
    :cond_2
    const-wide/16 v15, -0x1

    cmp-long v15, v2, v15

    if-eqz v15, :cond_0

    .line 12209
    new-instance v7, Landroid/content/Intent;

    const-class v15, Lcom/android/mms/ui/ChatPreferenceActivity;

    move-object/from16 v0, p0

    invoke-direct {v7, v0, v15}, Landroid/content/Intent;-><init>(Landroid/content/Context;Ljava/lang/Class;)V

    .line 12210
    .local v7, i:Landroid/content/Intent;
    const-string v15, "chatThreadId"

    invoke-virtual {v7, v15, v2, v3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;J)Landroid/content/Intent;

    .line 12211
    move-object/from16 v0, p0

    invoke-virtual {v0, v7}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivity(Landroid/content/Intent;)V

    goto/16 :goto_0

    .line 12119
    nop

    :sswitch_data_0
    .sparse-switch
        0x64 -> :sswitch_0
        0x65 -> :sswitch_2
        0x66 -> :sswitch_3
        0x67 -> :sswitch_4
        0x68 -> :sswitch_5
        0x69 -> :sswitch_6
        0x6a -> :sswitch_7
        0x6b -> :sswitch_1
        0x89 -> :sswitch_8
    .end sparse-switch
.end method

.method private onKeyboardStateChanged(Z)V
    .locals 3
    .parameter "isKeyboardOpen"

    .prologue
    const/4 v2, 0x1

    const/4 v1, 0x0

    .line 4507
    if-eqz p1, :cond_2

    .line 4508
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    if-eqz v0, :cond_0

    .line 4509
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v0, v2}, Landroid/view/View;->setFocusableInTouchMode(Z)V

    .line 4511
    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    if-eqz v0, :cond_1

    .line 4512
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    invoke-virtual {v0, v2}, Landroid/view/View;->setFocusableInTouchMode(Z)V

    .line 4514
    :cond_1
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v0, v2}, Landroid/view/View;->setFocusableInTouchMode(Z)V

    .line 4516
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateTextEditorHint()V

    .line 4527
    :goto_0
    return-void

    .line 4518
    :cond_2
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    if-eqz v0, :cond_3

    .line 4519
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v0, v1}, Landroid/view/View;->setFocusable(Z)V

    .line 4521
    :cond_3
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    if-eqz v0, :cond_4

    .line 4522
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    invoke-virtual {v0, v1}, Landroid/view/View;->setFocusable(Z)V

    .line 4524
    :cond_4
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v0, v1}, Landroid/view/View;->setFocusable(Z)V

    .line 4525
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    const v1, 0x7f0b0269

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setHint(I)V

    goto :goto_0
.end method

.method private openMedia(JLcom/mediatek/mms/ipmessage/message/IpAttachMessage;)V
    .locals 13
    .parameter "msgId"
    .parameter "ipAttachMessage"

    .prologue
    .line 13336
    if-nez p3, :cond_0

    .line 13337
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "openMedia(): ipAttachMessage is null!"

    new-instance v11, Ljava/lang/Exception;

    invoke-direct {v11}, Ljava/lang/Exception;-><init>()V

    invoke-static {v9, v10, v11}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    .line 13403
    :goto_0
    return-void

    .line 13340
    :cond_0
    const-string v9, "Mms/ipmsg/compose"

    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "openMedia(): ipAttachMessage type = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual/range {p3 .. p3}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13342
    invoke-virtual/range {p3 .. p3}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v9

    const/4 v10, 0x6

    if-ne v9, v10, :cond_4

    move-object/from16 v6, p3

    .line 13343
    check-cast v6, Lcom/mediatek/mms/ipmessage/message/IpVCardMessage;

    .line 13344
    .local v6, msg:Lcom/mediatek/mms/ipmessage/message/IpVCardMessage;
    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v9

    invoke-static {v9}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v9

    if-eqz v9, :cond_1

    .line 13345
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "openMedia(): open vCard failed."

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0

    .line 13348
    :cond_1
    invoke-static {}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getSDCardStatus()Z

    move-result v9

    if-nez v9, :cond_2

    .line 13349
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v9

    const/16 v10, 0xc5

    invoke-virtual {v9, v10}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v9

    invoke-static {p0, v9}, Lcom/android/mms/ui/MessageUtils;->createLoseSDCardNotice(Landroid/content/Context;Ljava/lang/String;)V

    goto :goto_0

    .line 13354
    :cond_2
    invoke-static {}, Lcom/mediatek/encapsulation/android/os/storage/EncapsulatedStorageManager;->getDefaultPath()Ljava/lang/String;

    move-result-object v9

    invoke-static {v9}, Lcom/android/mms/ui/MessageUtils;->getAvailableBytesInFileSystemAtGivenRoot(Ljava/lang/String;)J

    move-result-wide v9

    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getSize()I

    move-result v11

    int-to-long v11, v11

    cmp-long v9, v9, v11

    if-gez v9, :cond_3

    .line 13356
    const v9, 0x7f0b00ae

    invoke-virtual {p0, v9}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v9

    const/4 v10, 0x1

    invoke-static {p0, v9, v10}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v9

    invoke-virtual {v9}, Landroid/widget/Toast;->show()V

    .line 13358
    :cond_3
    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getCachePath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, "temp"

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v11

    const-string v12, ".vcf"

    invoke-virtual {v11, v12}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v11

    invoke-virtual {v10, v11}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    .line 13360
    .local v2, dest:Ljava/lang/String;
    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v9

    invoke-static {v9, v2}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->copy(Ljava/lang/String;Ljava/lang/String;)V

    .line 13361
    new-instance v7, Ljava/io/File;

    invoke-direct {v7, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 13362
    .local v7, vcardFile:Ljava/io/File;
    invoke-static {v7}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v8

    .line 13363
    .local v8, vcardUri:Landroid/net/Uri;
    new-instance v4, Landroid/content/Intent;

    invoke-direct {v4}, Landroid/content/Intent;-><init>()V

    .line 13364
    .local v4, i:Landroid/content/Intent;
    const-string v9, "android.intent.action.VIEW"

    invoke-virtual {v4, v9}, Landroid/content/Intent;->setAction(Ljava/lang/String;)Landroid/content/Intent;

    .line 13365
    const-string v9, "text/x-vcard"

    invoke-virtual {v4, v8, v9}, Landroid/content/Intent;->setDataAndType(Landroid/net/Uri;Ljava/lang/String;)Landroid/content/Intent;

    .line 13366
    invoke-virtual {p0, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivity(Landroid/content/Intent;)V

    goto/16 :goto_0

    .line 13367
    .end local v2           #dest:Ljava/lang/String;
    .end local v4           #i:Landroid/content/Intent;
    .end local v6           #msg:Lcom/mediatek/mms/ipmessage/message/IpVCardMessage;
    .end local v7           #vcardFile:Ljava/io/File;
    .end local v8           #vcardUri:Landroid/net/Uri;
    :cond_4
    invoke-virtual/range {p3 .. p3}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v9

    const/16 v10, 0xa

    if-ne v9, v10, :cond_8

    move-object/from16 v6, p3

    .line 13368
    check-cast v6, Lcom/mediatek/mms/ipmessage/message/IpVCalendarMessage;

    .line 13369
    .local v6, msg:Lcom/mediatek/mms/ipmessage/message/IpVCalendarMessage;
    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v9

    invoke-static {v9}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v9

    if-eqz v9, :cond_5

    .line 13370
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "openMedia(): open vCalendar failed."

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_0

    .line 13373
    :cond_5
    invoke-static {}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getSDCardStatus()Z

    move-result v9

    if-nez v9, :cond_6

    .line 13374
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v9

    const/16 v10, 0xc5

    invoke-virtual {v9, v10}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v9

    invoke-static {p0, v9}, Lcom/android/mms/ui/MessageUtils;->createLoseSDCardNotice(Landroid/content/Context;Ljava/lang/String;)V

    goto/16 :goto_0

    .line 13379
    :cond_6
    invoke-static {}, Lcom/mediatek/encapsulation/android/os/storage/EncapsulatedStorageManager;->getDefaultPath()Ljava/lang/String;

    move-result-object v9

    invoke-static {v9}, Lcom/android/mms/ui/MessageUtils;->getAvailableBytesInFileSystemAtGivenRoot(Ljava/lang/String;)J

    move-result-wide v9

    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getSize()I

    move-result v11

    int-to-long v11, v11

    cmp-long v9, v9, v11

    if-gez v9, :cond_7

    .line 13381
    const v9, 0x7f0b00ae

    invoke-virtual {p0, v9}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v9

    const/4 v10, 0x1

    invoke-static {p0, v9, v10}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v9

    invoke-virtual {v9}, Landroid/widget/Toast;->show()V

    .line 13384
    :cond_7
    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getCachePath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, "temp"

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v11

    const-string v12, ".vcs"

    invoke-virtual {v11, v12}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v11

    invoke-virtual {v10, v11}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    .line 13386
    .restart local v2       #dest:Ljava/lang/String;
    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v9

    invoke-static {v9, v2}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->copy(Ljava/lang/String;Ljava/lang/String;)V

    .line 13387
    new-instance v0, Ljava/io/File;

    invoke-direct {v0, v2}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 13388
    .local v0, calendarFile:Ljava/io/File;
    invoke-static {v0}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v1

    .line 13389
    .local v1, calendarUri:Landroid/net/Uri;
    new-instance v5, Landroid/content/Intent;

    invoke-direct {v5}, Landroid/content/Intent;-><init>()V

    .line 13390
    .local v5, intent:Landroid/content/Intent;
    const-string v9, "android.intent.action.VIEW"

    invoke-virtual {v5, v9}, Landroid/content/Intent;->setAction(Ljava/lang/String;)Landroid/content/Intent;

    .line 13391
    const-string v9, "text/x-vcalendar"

    invoke-virtual {v5, v1, v9}, Landroid/content/Intent;->setDataAndType(Landroid/net/Uri;Ljava/lang/String;)Landroid/content/Intent;

    .line 13392
    const/4 v9, 0x1

    invoke-virtual {v5, v9}, Landroid/content/Intent;->setFlags(I)Landroid/content/Intent;

    .line 13394
    :try_start_0
    invoke-virtual {p0, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivity(Landroid/content/Intent;)V
    :try_end_0
    .catch Landroid/content/ActivityNotFoundException; {:try_start_0 .. :try_end_0} :catch_0

    goto/16 :goto_0

    .line 13395
    :catch_0
    move-exception v3

    .line 13396
    .local v3, e:Landroid/content/ActivityNotFoundException;
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "can\'t open calendar"

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_0

    .line 13399
    .end local v0           #calendarFile:Ljava/io/File;
    .end local v1           #calendarUri:Landroid/net/Uri;
    .end local v2           #dest:Ljava/lang/String;
    .end local v3           #e:Landroid/content/ActivityNotFoundException;
    .end local v5           #intent:Landroid/content/Intent;
    .end local v6           #msg:Lcom/mediatek/mms/ipmessage/message/IpVCalendarMessage;
    :cond_8
    new-instance v5, Landroid/content/Intent;

    sget-object v9, Lcom/mediatek/mms/ipmessage/IpMessageConsts$RemoteActivities;->MEDIA_DETAIL:Ljava/lang/String;

    invoke-direct {v5, v9}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 13400
    .restart local v5       #intent:Landroid/content/Intent;
    const-string v9, "message_id"

    invoke-virtual {v5, v9, p1, p2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;J)Landroid/content/Intent;

    .line 13401
    invoke-static {p0, v5}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->startRemoteActivity(Landroid/content/Context;Landroid/content/Intent;)V

    goto/16 :goto_0
.end method

.method private processPickResult(Landroid/content/Intent;)V
    .locals 11
    .parameter "data"

    .prologue
    const/4 v10, 0x0

    const/4 v9, 0x1

    .line 5755
    const-string v5, "com.mediatek.contacts.list.pickdataresult"

    invoke-virtual {p1, v5}, Landroid/content/Intent;->getLongArrayExtra(Ljava/lang/String;)[J

    move-result-object v0

    .line 5757
    .local v0, contactsId:[J
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v5, p1}, Lcom/mediatek/mms/ext/IMmsCompose;->getNumbersFromIntent(Landroid/content/Intent;)Ljava/lang/String;

    move-result-object v2

    .line 5759
    .local v2, numbersSelectedFromRecent:Ljava/lang/String;
    if-eqz v2, :cond_0

    invoke-virtual {v2}, Ljava/lang/String;->length()I

    move-result v5

    if-ge v5, v9, :cond_1

    .line 5761
    :cond_0
    const-string v5, "contactId"

    invoke-virtual {p1, v5}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    .line 5763
    :cond_1
    move-object v1, v2

    .line 5765
    .local v1, mSelectContactsNumbers:Ljava/lang/String;
    if-eqz v0, :cond_2

    array-length v5, v0

    if-gtz v5, :cond_3

    :cond_2
    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-eqz v5, :cond_3

    .line 5875
    :goto_0
    return-void

    .line 5768
    :cond_3
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v5}, Lcom/android/mms/ui/RecipientsEditor;->getRecipientCount()I

    move-result v3

    .line 5769
    .local v3, recipientCount:I
    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_4

    .line 5770
    const-string v5, ";"

    invoke-virtual {v1, v5}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v5

    array-length v5, v5

    add-int/2addr v3, v5

    .line 5777
    :goto_1
    invoke-static {}, Lcom/android/mms/MmsConfig;->getSmsRecipientLimit()I

    move-result v4

    .line 5779
    .local v4, recipientLimit:I
    const v5, 0x7fffffff

    if-eq v4, v5, :cond_5

    if-le v3, v4, :cond_5

    .line 5780
    new-instance v5, Landroid/app/AlertDialog$Builder;

    invoke-direct {v5, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    const v6, 0x7f0b0342

    invoke-virtual {v5, v6}, Landroid/app/AlertDialog$Builder;->setTitle(I)Landroid/app/AlertDialog$Builder;

    move-result-object v5

    const v6, 0x1010355

    invoke-virtual {v5, v6}, Landroid/app/AlertDialog$Builder;->setIconAttribute(I)Landroid/app/AlertDialog$Builder;

    move-result-object v5

    const v6, 0x7f0b0281

    const/4 v7, 0x2

    new-array v7, v7, [Ljava/lang/Object;

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v8

    aput-object v8, v7, v10

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v8

    aput-object v8, v7, v9

    invoke-virtual {p0, v6, v7}, Landroid/content/Context;->getString(I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v5, v6}, Landroid/app/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    move-result-object v5

    const v6, 0x104000a

    const/4 v7, 0x0

    invoke-virtual {v5, v6, v7}, Landroid/app/AlertDialog$Builder;->setPositiveButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v5

    invoke-virtual {v5}, Landroid/app/AlertDialog$Builder;->create()Landroid/app/AlertDialog;

    move-result-object v5

    invoke-virtual {v5}, Landroid/app/Dialog;->show()V

    goto :goto_0

    .line 5772
    .end local v4           #recipientLimit:I
    :cond_4
    array-length v5, v0

    add-int/2addr v3, v5

    goto :goto_1

    .line 5791
    .restart local v4       #recipientLimit:I
    :cond_5
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickDialog:Landroid/app/ProgressDialog;

    if-nez v5, :cond_6

    .line 5792
    new-instance v5, Landroid/app/ProgressDialog;

    invoke-direct {v5, p0}, Landroid/app/ProgressDialog;-><init>(Landroid/content/Context;)V

    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickDialog:Landroid/app/ProgressDialog;

    .line 5793
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickDialog:Landroid/app/ProgressDialog;

    const v6, 0x7f0b0343

    invoke-virtual {p0, v6}, Landroid/content/Context;->getText(I)Ljava/lang/CharSequence;

    move-result-object v6

    invoke-virtual {v5, v6}, Landroid/app/ProgressDialog;->setMessage(Ljava/lang/CharSequence;)V

    .line 5794
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickDialog:Landroid/app/ProgressDialog;

    invoke-virtual {v5, v9}, Landroid/app/ProgressDialog;->setIndeterminate(Z)V

    .line 5795
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickDialog:Landroid/app/ProgressDialog;

    invoke-virtual {v5, v10}, Landroid/app/Dialog;->setCancelable(Z)V

    .line 5800
    :cond_6
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickRunnable:Ljava/lang/Runnable;

    const-wide/16 v7, 0x3e8

    invoke-virtual {v5, v6, v7, v8}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    .line 5802
    new-instance v5, Ljava/lang/Thread;

    new-instance v6, Lcom/android/mms/ui/ComposeMessageActivity$46;

    invoke-direct {v6, p0, v1, v0}, Lcom/android/mms/ui/ComposeMessageActivity$46;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;[J)V

    const-string v7, "ComoseMessageActivity.processPickResult"

    invoke-direct {v5, v6, v7}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;Ljava/lang/String;)V

    invoke-virtual {v5}, Ljava/lang/Thread;->start()V

    goto/16 :goto_0
.end method

.method private recipientCount()I
    .locals 2

    .prologue
    .line 7209
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 7210
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v1}, Lcom/android/mms/ui/RecipientsEditor;->getRecipientCount()I

    move-result v0

    .line 7214
    .local v0, recipientCount:I
    :goto_0
    return v0

    .line 7212
    .end local v0           #recipientCount:I
    :cond_0
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v1

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v0

    .restart local v0       #recipientCount:I
    goto :goto_0
.end method

.method private recycleShareAndEmoticonView()V
    .locals 1

    .prologue
    .line 14266
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonPanel:Lcom/android/mms/ui/EmoticonPanel;

    invoke-virtual {v0}, Lcom/android/mms/ui/EmoticonPanel;->recycleView()V

    .line 14267
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSharePanel:Lcom/mediatek/ipmsg/ui/SharePanel;

    invoke-virtual {v0}, Lcom/mediatek/ipmsg/ui/SharePanel;->recycleView()V

    .line 14268
    return-void
.end method

.method private reloadWorkingMessage()V
    .locals 5

    .prologue
    .line 14795
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTempMmsUri:Landroid/net/Uri;

    if-nez v3, :cond_1

    .line 14815
    :cond_0
    :goto_0
    return-void

    .line 14798
    :cond_1
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTempMmsUri:Landroid/net/Uri;

    invoke-static {p0, v3}, Lcom/android/mms/data/WorkingMessage;->load(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;)Lcom/android/mms/data/WorkingMessage;

    move-result-object v2

    .line 14800
    .local v2, newMessage:Lcom/android/mms/data/WorkingMessage;
    if-eqz v2, :cond_0

    .line 14801
    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->hasMediaAttachments()Z

    move-result v3

    if-eqz v3, :cond_2

    .line 14802
    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->removeAllFileAttaches()V

    .line 14804
    :cond_2
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v1

    .line 14805
    .local v1, isMmsBefore:Z
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->getSubject()Ljava/lang/CharSequence;

    move-result-object v3

    const/4 v4, 0x0

    invoke-virtual {v2, v3, v4}, Lcom/android/mms/data/WorkingMessage;->setSubject(Ljava/lang/CharSequence;Z)V

    .line 14807
    iput-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    .line 14808
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateThreadIdIfRunning()V

    .line 14810
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v0

    .line 14811
    .local v0, isMmsAfter:Z
    if-nez v0, :cond_0

    if-nez v1, :cond_0

    .line 14812
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    const/4 v4, 0x1

    invoke-virtual {v3, v4}, Lcom/android/mms/data/WorkingMessage;->setForceUpdateThreadId(Z)V

    goto :goto_0
.end method

.method private removeRecipientsListeners()V
    .locals 0

    .prologue
    .line 8377
    invoke-static {p0}, Lcom/android/mms/data/Contact;->removeListener(Lcom/android/mms/data/Contact$UpdateListener;)V

    .line 8378
    return-void
.end method

.method private resetConfiguration(Landroid/content/res/Configuration;)Z
    .locals 7
    .parameter "config"

    .prologue
    const/4 v2, 0x1

    const/4 v3, 0x0

    .line 4470
    const-string v1, "Mms/compose"

    const-string v4, "resetConfiguration-Start"

    invoke-static {v1, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4471
    iget v1, p1, Landroid/content/res/Configuration;->keyboardHidden:I

    if-ne v1, v2, :cond_2

    move v1, v2

    :goto_0
    iput-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsKeyboardOpen:Z

    .line 4472
    iget v1, p1, Landroid/content/res/Configuration;->orientation:I

    const/4 v4, 0x2

    if-ne v1, v4, :cond_3

    move v0, v2

    .line 4473
    .local v0, isLandscape:Z
    :goto_1
    const-string v1, "Mms/compose"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "resetConfiguration: isLandscape = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v1, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4475
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    if-eqz v1, :cond_0

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v1}, Landroid/view/View;->getVisibility()I

    move-result v1

    if-nez v1, :cond_0

    if-eqz v0, :cond_0

    .line 4476
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    new-instance v4, Lcom/android/mms/ui/ComposeMessageActivity$35;

    invoke-direct {v4, p0}, Lcom/android/mms/ui/ComposeMessageActivity$35;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    const-wide/16 v5, 0x64

    invoke-virtual {v1, v4, v5, v6}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    .line 4487
    :cond_0
    const-string v1, "Mms/ipmsg/compose"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "resetConfiguration(): isLandscape = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, ", mIsKeyboardOpen = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    iget-boolean v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsKeyboardOpen:Z

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v1, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4488
    if-nez v0, :cond_1

    iget-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsKeyboardOpen:Z

    if-eqz v1, :cond_1

    .line 4489
    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->showSharePanel(Z)V

    .line 4490
    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->showEmoticonPanel(Z)V

    .line 4493
    :cond_1
    iget-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsLandscape:Z

    if-eq v1, v0, :cond_4

    .line 4494
    const-string v1, "Mms/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "resetConfiguration-mUpdateForScrnOrientationChanged mIsLandscape = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    iget-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsLandscape:Z

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v1, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4495
    iput-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUpdateForScrnOrientationChanged:Z

    .line 4496
    iput-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsLandscape:Z

    .line 4497
    const-string v1, "Mms/compose"

    const-string v3, "resetConfiguration-End"

    invoke-static {v1, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4501
    :goto_2
    return v2

    .end local v0           #isLandscape:Z
    :cond_2
    move v1, v3

    .line 4471
    goto/16 :goto_0

    :cond_3
    move v0, v3

    .line 4472
    goto/16 :goto_1

    .line 4500
    .restart local v0       #isLandscape:Z
    :cond_4
    const-string v1, "Mms/compose"

    const-string v2, "resetConfiguration-End"

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    move v2, v3

    .line 4501
    goto :goto_2
.end method

.method private resetMessage()V
    .locals 8

    .prologue
    const-wide/16 v6, -0x1

    const-wide/16 v4, -0x5

    const/4 v3, 0x0

    .line 7342
    const-string v0, "Mms:app"

    const/4 v1, 0x2

    invoke-static {v0, v1}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 7343
    const-string v0, "resetMessage"

    invoke-static {v0}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 7345
    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateTitle(Lcom/android/mms/data/ContactList;)V

    .line 7347
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v0, :cond_1

    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsClearTextDraft:Z

    if-eqz v0, :cond_2

    .line 7349
    :cond_1
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

    invoke-virtual {v0}, Lcom/android/mms/ui/AttachmentEditor;->hideView()V

    .line 7354
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v0}, Landroid/view/View;->requestFocus()Z

    .line 7357
    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->showSubjectEditor(Z)V

    .line 7364
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditorWatcher:Landroid/text/TextWatcher;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->removeTextChangedListener(Landroid/text/TextWatcher;)V

    .line 7367
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v0}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v0

    invoke-static {v0}, Landroid/text/method/TextKeyListener;->clear(Landroid/text/Editable;)V

    .line 7369
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0, v1, v3}, Lcom/android/mms/data/WorkingMessage;->clearConversation(Lcom/android/mms/data/Conversation;Z)V

    .line 7370
    invoke-static {p0}, Lcom/android/mms/data/WorkingMessage;->createEmpty(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/android/mms/data/WorkingMessage;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    .line 7371
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0, v1}, Lcom/android/mms/data/WorkingMessage;->setConversation(Lcom/android/mms/data/Conversation;)V

    .line 7374
    iput v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraftId:I

    .line 7375
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->clearIpMessageDraft()V

    .line 7377
    iput v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonNumber:I

    .line 7380
    :cond_2
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getIpMessagePlugin(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/IIpMessagePlugin;

    move-result-object v0

    invoke-interface {v0}, Lcom/mediatek/mms/ipmessage/IIpMessagePlugin;->isActualPlugin()Z

    move-result v0

    if-eqz v0, :cond_3

    .line 7381
    iget-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    cmp-long v0, v0, v6

    if-eqz v0, :cond_a

    iget-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    cmp-long v0, v0, v4

    if-eqz v0, :cond_a

    .line 7384
    iget-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    long-to-int v0, v0

    invoke-static {p0, v0}, Lcom/android/mms/MmsConfig;->isServiceEnabled(Landroid/content/Context;I)Z

    move-result v0

    iput-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    .line 7392
    :cond_3
    :goto_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    if-eqz v0, :cond_4

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    const/4 v1, 0x1

    if-ne v0, v1, :cond_4

    .line 7393
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    invoke-virtual {v0, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/mms/data/Contact;

    invoke-virtual {v0}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v0

    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->isIpMessageRecipients(Ljava/lang/String;)Z

    move-result v0

    iput-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpMessageRecipients:Z

    .line 7394
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    if-eqz v0, :cond_4

    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v0

    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->isNetworkConnected(Landroid/content/Context;)Z

    move-result v0

    if-eqz v0, :cond_4

    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpMessageRecipients:Z

    if-eqz v0, :cond_4

    .line 7396
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-nez v0, :cond_b

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    invoke-virtual {v0, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/mms/data/Contact;

    invoke-virtual {v0}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v0

    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->isChatModeNumber(Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_b

    .line 7398
    const-string v1, "Mms/ipmsg/compose"

    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "resetMessage(): update mChatModeNumber from "

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v2, " to "

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    invoke-virtual {v0, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/mms/data/Contact;

    invoke-virtual {v0}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {v2, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-static {v1, v0}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 7400
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getChatManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ChatManager;

    move-result-object v0

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v0, v1}, Lcom/mediatek/mms/ipmessage/ChatManager;->exitFromChatMode(Ljava/lang/String;)V

    .line 7401
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    invoke-virtual {v0, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/mms/data/Contact;

    invoke-virtual {v0}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    .line 7402
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getChatManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ChatManager;

    move-result-object v0

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v0, v1}, Lcom/mediatek/mms/ipmessage/ChatManager;->enterChatMode(Ljava/lang/String;)V

    .line 7412
    :cond_4
    :goto_1
    iget-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    cmp-long v0, v0, v6

    if-eqz v0, :cond_5

    iget-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    cmp-long v0, v0, v4

    if-nez v0, :cond_6

    .line 7415
    :cond_5
    iput v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    .line 7418
    :cond_6
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideRecipientEditor()V

    .line 7419
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->drawBottomPanel()V

    .line 7422
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    .line 7424
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v0, :cond_7

    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsClearTextDraft:Z

    if-eqz v0, :cond_8

    .line 7426
    :cond_7
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditorWatcher:Landroid/text/TextWatcher;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->removeTextChangedListener(Landroid/text/TextWatcher;)V

    .line 7427
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditorWatcher:Landroid/text/TextWatcher;

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->addTextChangedListener(Landroid/text/TextWatcher;)V

    .line 7432
    :cond_8
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsLandscape:Z

    if-eqz v0, :cond_9

    .line 7433
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideKeyboard()V

    .line 7436
    :cond_9
    iput v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLastRecipientCount:I

    .line 7437
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendingMessage:Z

    .line 7438
    invoke-virtual {p0}, Landroid/app/Activity;->invalidateOptionsMenu()V

    .line 7440
    const/16 v0, 0x2537

    invoke-direct {p0, v0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->startMsgListQuery(II)V

    .line 7441
    return-void

    .line 7386
    :cond_a
    invoke-static {p0}, Lcom/android/mms/MmsConfig;->isServiceEnabled(Landroid/content/Context;)Z

    move-result v0

    iput-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    goto/16 :goto_0

    .line 7403
    :cond_b
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-eqz v0, :cond_4

    .line 7404
    const-string v0, "Mms/ipmsg/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "resetMessage(): update mChatModeNumber after send message, mChatModeNumber = "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 7406
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    invoke-virtual {v0, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/mms/data/Contact;

    invoke-virtual {v0}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    .line 7407
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getChatManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ChatManager;

    move-result-object v0

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v0, v1}, Lcom/mediatek/mms/ipmessage/ChatManager;->enterChatMode(Ljava/lang/String;)V

    goto/16 :goto_1
.end method

.method private resetSelectSimId()V
    .locals 6

    .prologue
    .line 12075
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "resetSelectSimId()"

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12076
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    invoke-interface {v2}, Ljava/util/List;->size()I

    move-result v2

    const/4 v3, 0x1

    if-le v2, v3, :cond_0

    .line 12077
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v2

    const-string v3, "sms_sim_setting"

    const-wide/16 v4, -0x5

    invoke-static {v2, v3, v4, v5}, Lcom/mediatek/encapsulation/android/provider/EncapsulatedSettings$System;->getLong(Landroid/content/ContentResolver;Ljava/lang/String;J)J

    move-result-wide v0

    .line 12079
    .local v0, defaultSimId:J
    iget v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    long-to-int v3, v0

    if-eq v2, v3, :cond_0

    .line 12080
    const/4 v2, 0x0

    iput v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    .line 12083
    .end local v0           #defaultSimId:J
    :cond_0
    return-void
.end method

.method private sanityCheckConversation()V
    .locals 2

    .prologue
    .line 3893
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->getConversation()Lcom/android/mms/data/Conversation;

    move-result-object v0

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    if-eq v0, v1, :cond_0

    .line 3894
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v1, "ComposeMessageActivity: mWorkingMessage.mConversation="

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1}, Lcom/android/mms/data/WorkingMessage;->getConversation()Lcom/android/mms/data/Conversation;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, ", mConversation="

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, ", MISMATCH!"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-static {v0, p0}, Lcom/android/mms/LogTag;->warnPossibleRecipientMismatch(Ljava/lang/String;Landroid/app/Activity;)V

    .line 3899
    :cond_0
    return-void
.end method

.method private saveAsMms(Z)V
    .locals 3
    .parameter "notify"

    .prologue
    const/4 v2, 0x0

    .line 14252
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

    if-eqz v0, :cond_1

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

    invoke-static {}, Lcom/android/mms/MmsConfig;->getDeviceStorageFullStatus()Z

    move-result v1

    invoke-interface {v0, p0, v1, v2, v2}, Lcom/mediatek/mms/ext/IMmsUtils;->allowSafeDraft(Landroid/app/Activity;ZZI)Z

    move-result v0

    if-nez v0, :cond_1

    .line 14263
    :cond_0
    :goto_0
    return-void

    .line 14257
    :cond_1
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    if-eqz v0, :cond_0

    .line 14258
    iput-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedSaveAsMms:Z

    .line 14259
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0, p1}, Lcom/android/mms/data/WorkingMessage;->saveAsMms(Z)Landroid/net/Uri;

    move-result-object v0

    if-eqz v0, :cond_0

    .line 14260
    const/4 v0, 0x1

    iput-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHasDiscardWorkingMessage:Z

    goto :goto_0
.end method

.method private saveDraft(Z)V
    .locals 4
    .parameter "isStopping"

    .prologue
    const/4 v3, 0x2

    const/4 v2, 0x0

    .line 7122
    const-string v0, "Mms:app"

    invoke-static {v0, v3}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 7123
    const-string v0, "saveDraft"

    new-array v1, v2, [Ljava/lang/Object;

    invoke-static {v0, v1}, Lcom/android/mms/LogTag;->debug(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 7126
    :cond_0
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getIpMessagePlugin(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/IIpMessagePlugin;

    move-result-object v0

    invoke-interface {v0}, Lcom/mediatek/mms/ipmessage/IIpMessagePlugin;->isActualPlugin()Z

    move-result v0

    if-eqz v0, :cond_3

    invoke-virtual {p0}, Landroid/app/Activity;->isFinishing()Z

    move-result v0

    if-eqz v0, :cond_3

    .line 7127
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v0, :cond_2

    .line 7128
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->saveIpMessageDraft()V

    .line 7176
    :cond_1
    :goto_0
    return-void

    .line 7131
    :cond_2
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraftId:I

    if-lez v0, :cond_3

    .line 7132
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-static {p0, v0, v1}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->deleteIpMessageDraft(Landroid/content/Context;Lcom/android/mms/data/Conversation;Lcom/android/mms/data/WorkingMessage;)Z

    .line 7139
    :cond_3
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->isDiscarded()Z

    move-result v0

    if-nez v0, :cond_1

    .line 7143
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWaitingForSubActivity:Z

    if-nez v0, :cond_6

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->isWorthSaving()Z

    move-result v0

    if-nez v0, :cond_6

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v0, :cond_6

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v0

    if-eqz v0, :cond_4

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->recipientCount()I

    move-result v0

    if-nez v0, :cond_6

    .line 7146
    :cond_4
    const-string v0, "Mms:app"

    invoke-static {v0, v3}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v0

    if-eqz v0, :cond_5

    .line 7147
    const-string v0, "not worth saving, discard WorkingMessage and bail"

    invoke-static {v0}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 7149
    :cond_5
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0, v2}, Lcom/android/mms/data/WorkingMessage;->discard(Z)V

    goto :goto_0

    .line 7155
    :cond_6
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsStartMultiDeleteActivity:Z

    if-eqz v0, :cond_7

    .line 7156
    invoke-static {p0}, Lcom/android/mms/ui/MmsPreferenceActivity;->getIsGroupMmsEnabled(Landroid/content/Context;)Z

    move-result v0

    if-eqz v0, :cond_7

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->needSaveDraft()Z

    move-result v0

    if-nez v0, :cond_7

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v0

    const/4 v1, 0x1

    if-le v0, v1, :cond_7

    .line 7158
    const-string v0, "[Mms][Draft][ComposeMessageActivity]"

    const-string v1, "[saveDraft] group message &  no need save drat & mIsStartMultiDeleteActivity true, then just return!"

    invoke-static {v0, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 7160
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->hasDraft()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 7161
    const-string v0, "[Mms][Draft][ComposeMessageActivity]"

    const-string v1, "mConversation has draft, then delete it"

    invoke-static {v0, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 7162
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0, v2}, Lcom/android/mms/data/WorkingMessage;->discard(Z)V

    goto :goto_0

    .line 7169
    :cond_7
    const-string v0, "[Mms][Draft][ComposeMessageActivity]"

    const-string v1, "[saveDraft] call workingmessage.saveDraft"

    invoke-static {v0, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 7170
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0, p1}, Lcom/android/mms/data/WorkingMessage;->saveDraft(Z)V

    .line 7172
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mToastForDraftSave:Z

    if-eqz v0, :cond_1

    .line 7173
    const v0, 0x7f0b0280

    invoke-static {p0, v0, v2}, Landroid/widget/Toast;->makeText(Landroid/content/Context;II)Landroid/widget/Toast;

    move-result-object v0

    invoke-virtual {v0}, Landroid/widget/Toast;->show()V

    goto/16 :goto_0
.end method

.method private saveIpMessageDraft()V
    .locals 6

    .prologue
    .line 14272
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v2, :cond_0

    .line 14273
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "saveIpMessageDraft(): mIpMessageDraft is null!"

    new-instance v4, Ljava/lang/Exception;

    invoke-direct {v4}, Ljava/lang/Exception;-><init>()V

    invoke-static {v2, v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    .line 14336
    :goto_0
    return-void

    .line 14276
    :cond_0
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    const/4 v3, 0x7

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->setStatus(I)V

    .line 14277
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->getText()Ljava/lang/CharSequence;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->setIpMessageCaption(Lcom/mediatek/mms/ipmessage/message/IpMessage;Ljava/lang/String;)Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-result-object v2

    iput-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 14280
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    invoke-interface {v2}, Ljava/util/List;->size()I

    move-result v2

    if-lez v2, :cond_3

    .line 14281
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    invoke-interface {v2}, Ljava/util/List;->iterator()Ljava/util/Iterator;

    move-result-object v0

    .local v0, i$:Ljava/util/Iterator;
    :cond_1
    invoke-interface {v0}, Ljava/util/Iterator;->hasNext()Z

    move-result v2

    if-eqz v2, :cond_2

    invoke-interface {v0}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;

    .line 14282
    .local v1, simInfo:Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;
    invoke-virtual {v1}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSimId()J

    move-result-wide v2

    long-to-int v2, v2

    invoke-static {p0, v2}, Lcom/android/mms/MmsConfig;->isServiceEnabled(Landroid/content/Context;I)Z

    move-result v2

    if-eqz v2, :cond_1

    .line 14283
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v1}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSimId()J

    move-result-wide v3

    long-to-int v3, v3

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->setSimId(I)V

    .line 14284
    const-string v2, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "saveIpMessageDraft(): Set IP message draft SIM. simId = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v1}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSimId()J

    move-result-wide v4

    invoke-virtual {v3, v4, v5}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 14289
    .end local v1           #simInfo:Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;
    :cond_2
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v2}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getSimId()I

    move-result v2

    if-gtz v2, :cond_4

    .line 14290
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "saveIpMessageDraft(): No enabled service SIM card!"

    new-instance v4, Ljava/lang/Exception;

    invoke-direct {v4}, Ljava/lang/Exception;-><init>()V

    invoke-static {v2, v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_0

    .line 14294
    .end local v0           #i$:Ljava/util/Iterator;
    :cond_3
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "saveIpMessageDraft(): No SIM card."

    new-instance v4, Ljava/lang/Exception;

    invoke-direct {v4}, Ljava/lang/Exception;-><init>()V

    invoke-static {v2, v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto/16 :goto_0

    .line 14301
    .restart local v0       #i$:Ljava/util/Iterator;
    :cond_4
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getCurrentNumberString()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->setTo(Ljava/lang/String;)V

    .line 14302
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    const/4 v3, 0x1

    invoke-virtual {v2, v3}, Lcom/android/mms/data/Conversation;->setDraftState(Z)V

    .line 14303
    new-instance v2, Ljava/lang/Thread;

    new-instance v3, Lcom/android/mms/ui/ComposeMessageActivity$134;

    invoke-direct {v3, p0}, Lcom/android/mms/ui/ComposeMessageActivity$134;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-direct {v2, v3}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v2}, Ljava/lang/Thread;->start()V

    goto/16 :goto_0
.end method

.method private saveIpMessageForAWhile(Lcom/mediatek/mms/ipmessage/message/IpMessage;)V
    .locals 12
    .parameter "ipMessage"

    .prologue
    const/4 v11, 0x0

    const/4 v10, 0x0

    .line 12249
    const-string v7, "Mms/ipmsg/compose"

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    const-string v9, "saveIpMessageForAWhile(): mIpMessageDraft = "

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v9, ", mIpMessageForSend = "

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-static {v7, v8}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 12251
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v7, :cond_0

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v7, :cond_0

    .line 12252
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->showReplaceAttachDialog()V

    .line 12310
    :goto_0
    return-void

    .line 12255
    :cond_0
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 12256
    iput-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 12257
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v7}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v7

    if-eqz v7, :cond_1

    .line 12258
    const/4 v7, 0x1

    invoke-direct {p0, v7}, Lcom/android/mms/ui/ComposeMessageActivity;->convertIpMessageToMmsOrSms(Z)Z

    .line 12259
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    goto :goto_0

    .line 12262
    :cond_1
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v7}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v7

    packed-switch v7, :pswitch_data_0

    .line 12305
    const-string v7, "Mms/ipmsg/compose"

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    const-string v9, "saveIpMessageForAWhile(): Error IP message type. type = "

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v9}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v9

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-static {v7, v8}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 12308
    :goto_1
    iput-boolean v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mJustSendMsgViaCommonMsgThisTime:Z

    .line 12309
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateTextEditorHint()V

    goto :goto_0

    .line 12264
    :pswitch_0
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v4, Lcom/mediatek/mms/ipmessage/message/IpTextMessage;

    .line 12265
    .local v4, textMessage:Lcom/mediatek/mms/ipmessage/message/IpTextMessage;
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpTextMessage;->getBody()Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v7, v8}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    goto :goto_1

    .line 12268
    .end local v4           #textMessage:Lcom/mediatek/mms/ipmessage/message/IpTextMessage;
    :pswitch_1
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v1, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;

    .line 12269
    .local v1, imageMessage:Lcom/mediatek/mms/ipmessage/message/IpImageMessage;
    invoke-virtual {v1}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v7

    invoke-static {v7}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v0

    .line 12270
    .local v0, imageBitmap:Landroid/graphics/Bitmap;
    invoke-direct {p0, v0, v11, v10, v10}, Lcom/android/mms/ui/ComposeMessageActivity;->createThumbnailForIpMessage(Landroid/graphics/Bitmap;ILandroid/graphics/drawable/Drawable;Landroid/net/Uri;)V

    goto :goto_1

    .line 12273
    .end local v0           #imageBitmap:Landroid/graphics/Bitmap;
    .end local v1           #imageMessage:Lcom/mediatek/mms/ipmessage/message/IpImageMessage;
    :pswitch_2
    const v7, 0x7f0200a6

    invoke-direct {p0, v10, v7, v10, v10}, Lcom/android/mms/ui/ComposeMessageActivity;->createThumbnailForIpMessage(Landroid/graphics/Bitmap;ILandroid/graphics/drawable/Drawable;Landroid/net/Uri;)V

    goto :goto_1

    .line 12276
    :pswitch_3
    const v7, 0x7f0200ee

    invoke-direct {p0, v10, v7, v10, v10}, Lcom/android/mms/ui/ComposeMessageActivity;->createThumbnailForIpMessage(Landroid/graphics/Bitmap;ILandroid/graphics/drawable/Drawable;Landroid/net/Uri;)V

    goto :goto_1

    .line 12279
    :pswitch_4
    const v7, 0x7f020030

    invoke-direct {p0, v10, v7, v10, v10}, Lcom/android/mms/ui/ComposeMessageActivity;->createThumbnailForIpMessage(Landroid/graphics/Bitmap;ILandroid/graphics/drawable/Drawable;Landroid/net/Uri;)V

    goto :goto_1

    .line 12282
    :pswitch_5
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v3, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;

    .line 12283
    .local v3, sketchMessage:Lcom/mediatek/mms/ipmessage/message/IpImageMessage;
    invoke-virtual {v3}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v7

    invoke-static {v7}, Landroid/graphics/BitmapFactory;->decodeFile(Ljava/lang/String;)Landroid/graphics/Bitmap;

    move-result-object v2

    .line 12284
    .local v2, sketchBitmap:Landroid/graphics/Bitmap;
    invoke-direct {p0, v2, v11, v10, v10}, Lcom/android/mms/ui/ComposeMessageActivity;->createThumbnailForIpMessage(Landroid/graphics/Bitmap;ILandroid/graphics/drawable/Drawable;Landroid/net/Uri;)V

    goto :goto_1

    .line 12287
    .end local v2           #sketchBitmap:Landroid/graphics/Bitmap;
    .end local v3           #sketchMessage:Lcom/mediatek/mms/ipmessage/message/IpImageMessage;
    :pswitch_6
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    check-cast v6, Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;

    .line 12288
    .local v6, videoMessage:Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;
    invoke-virtual {v6}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v7

    const/4 v8, 0x3

    invoke-static {v7, v8}, Landroid/media/ThumbnailUtils;->createVideoThumbnail(Ljava/lang/String;I)Landroid/graphics/Bitmap;

    move-result-object v5

    .line 12289
    .local v5, videoBitmap:Landroid/graphics/Bitmap;
    invoke-direct {p0, v5, v11, v10, v10}, Lcom/android/mms/ui/ComposeMessageActivity;->createThumbnailForIpMessage(Landroid/graphics/Bitmap;ILandroid/graphics/drawable/Drawable;Landroid/net/Uri;)V

    goto :goto_1

    .line 12292
    .end local v5           #videoBitmap:Landroid/graphics/Bitmap;
    .end local v6           #videoMessage:Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;
    :pswitch_7
    const v7, 0x7f0200ec

    invoke-direct {p0, v10, v7, v10, v10}, Lcom/android/mms/ui/ComposeMessageActivity;->createThumbnailForIpMessage(Landroid/graphics/Bitmap;ILandroid/graphics/drawable/Drawable;Landroid/net/Uri;)V

    goto :goto_1

    .line 12296
    :pswitch_8
    const-string v7, "Mms/ipmsg/compose"

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    const-string v9, "saveIpMessageForAWhile(): Unknown IP message type. type = "

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v9}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v9

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-static {v7, v8}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_1

    .line 12302
    :pswitch_9
    const-string v7, "Mms/ipmsg/compose"

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    const-string v9, "saveIpMessageForAWhile(): Group IP message type. type = "

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v9}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v9

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-static {v7, v8}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_1

    .line 12262
    nop

    :pswitch_data_0
    .packed-switch 0x0
        :pswitch_0
        :pswitch_9
        :pswitch_9
        :pswitch_9
        :pswitch_1
        :pswitch_2
        :pswitch_3
        :pswitch_4
        :pswitch_5
        :pswitch_6
        :pswitch_7
        :pswitch_8
        :pswitch_8
    .end packed-switch
.end method

.method private saveMessageToSim(Ljava/lang/String;J)V
    .locals 5
    .parameter "msgType"
    .parameter "msgId"

    .prologue
    const/4 v4, 0x2

    .line 8794
    const-string v1, "Mms/Txn"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "save message to sim, message type:"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "; message id:"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, p2, p3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "; sim count:"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 8797
    new-instance v0, Landroid/content/Intent;

    invoke-direct {v0}, Landroid/content/Intent;-><init>()V

    .line 8798
    .local v0, intent:Landroid/content/Intent;
    const-string v1, "message_type"

    invoke-virtual {v0, v1, p1}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    .line 8799
    const-string v1, "message_id"

    invoke-virtual {v0, v1, p2, p3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;J)Landroid/content/Intent;

    .line 8800
    const-string v1, "Select_type"

    invoke-virtual {v0, v1, v4}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 8801
    iput v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectSimType:I

    .line 8802
    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->showSimSelectedDialog(Landroid/content/Intent;)V

    .line 8803
    return-void
.end method

.method private saveMsgInSDCard(Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;)V
    .locals 13
    .parameter "ipAttachMessage"

    .prologue
    const/4 v12, 0x1

    const/4 v11, 0x0

    .line 13295
    invoke-static {}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getSDCardStatus()Z

    move-result v9

    if-nez v9, :cond_0

    .line 13296
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v9

    const/16 v10, 0xcb

    invoke-virtual {v9, v10}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v9

    invoke-static {p0, v9}, Lcom/android/mms/ui/MessageUtils;->createLoseSDCardNotice(Landroid/content/Context;Ljava/lang/String;)V

    .line 13333
    :goto_0
    return-void

    .line 13302
    :cond_0
    invoke-static {}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getSDcardAvailableSpace()J

    move-result-wide v1

    .line 13303
    .local v1, availableSpace:J
    invoke-virtual {p1}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getSize()I

    move-result v6

    .line 13305
    .local v6, size:I
    const-wide/16 v9, 0x1400

    cmp-long v9, v1, v9

    if-lez v9, :cond_1

    int-to-long v9, v6

    cmp-long v9, v1, v9

    if-gtz v9, :cond_2

    .line 13306
    :cond_1
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v9

    const/16 v10, 0xf0

    invoke-virtual {v9, v10}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v8

    .line 13308
    .local v8, tips:Ljava/lang/String;
    invoke-static {p0, v8, v12}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v9

    invoke-virtual {v9}, Landroid/widget/Toast;->show()V

    goto :goto_0

    .line 13312
    .end local v8           #tips:Ljava/lang/String;
    :cond_2
    invoke-virtual {p1}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v7

    .line 13313
    .local v7, source:Ljava/lang/String;
    invoke-static {v7}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v9

    if-eqz v9, :cond_3

    .line 13314
    const-string v9, "Mms/ipmsg/compose"

    const-string v10, "saveMsgInSDCard(): save ipattachmessage failed, source empty!"

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 13315
    const v9, 0x7f0b030d

    invoke-virtual {p0, v9}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v9

    invoke-static {p0, v9, v11}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v9

    invoke-virtual {v9}, Landroid/widget/Toast;->show()V

    goto :goto_0

    .line 13319
    :cond_3
    const-string v9, "/"

    invoke-virtual {v7, v9}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v9

    add-int/lit8 v9, v9, 0x1

    invoke-virtual {v7, v9}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v0

    .line 13320
    .local v0, attName:Ljava/lang/String;
    const-string v3, ""

    .line 13321
    .local v3, dstFile:Ljava/lang/String;
    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getCachePath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    .line 13322
    const/4 v4, 0x1

    .line 13323
    .local v4, i:I
    :goto_1
    invoke-static {v3}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->isExistsFile(Ljava/lang/String;)Z

    move-result v9

    if-eqz v9, :cond_4

    .line 13324
    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getCachePath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, "("

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, ")"

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    .line 13325
    add-int/lit8 v4, v4, 0x1

    goto :goto_1

    .line 13327
    :cond_4
    invoke-static {v7, v3}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->copy(Ljava/lang/String;Ljava/lang/String;)V

    .line 13328
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v9

    const/16 v10, 0xd8

    invoke-virtual {v9, v10}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v9

    new-array v10, v12, [Ljava/lang/Object;

    aput-object v3, v10, v11

    invoke-static {v9, v10}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v5

    .line 13332
    .local v5, saveSuccess:Ljava/lang/String;
    invoke-static {p0, v5, v11}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v9

    invoke-virtual {v9}, Landroid/widget/Toast;->show()V

    goto/16 :goto_0
.end method

.method private saveRingtone(J)Z
    .locals 10
    .parameter "msgId"

    .prologue
    .line 2782
    const/4 v5, 0x1

    .line 2783
    .local v5, result:Z
    const/4 v0, 0x0

    .line 2785
    .local v0, body:Lcom/google/android/mms/pdu/PduBody;
    :try_start_0
    sget-object v7, Landroid/provider/Telephony$Mms;->CONTENT_URI:Landroid/net/Uri;

    invoke-static {v7, p1, p2}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v7

    invoke-static {p0, v7}, Lcom/android/mms/model/SlideshowModel;->getPduBody(Landroid/content/Context;Landroid/net/Uri;)Lcom/google/android/mms/pdu/PduBody;
    :try_end_0
    .catch Lcom/google/android/mms/MmsException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v0

    .line 2790
    :goto_0
    if-nez v0, :cond_0

    .line 2791
    const/4 v7, 0x0

    .line 2805
    :goto_1
    return v7

    .line 2787
    :catch_0
    move-exception v1

    .line 2788
    .local v1, e:Lcom/google/android/mms/MmsException;
    const-string v7, "Mms/compose"

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    const-string v9, "copyToDrmProvider can\'t load pdu body: "

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8, p1, p2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-static {v7, v8}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_0

    .line 2794
    .end local v1           #e:Lcom/google/android/mms/MmsException;
    :cond_0
    invoke-virtual {v0}, Lcom/google/android/mms/pdu/PduBody;->getPartsNum()I

    move-result v4

    .line 2795
    .local v4, partNum:I
    const/4 v2, 0x0

    .local v2, i:I
    :goto_2
    if-ge v2, v4, :cond_2

    .line 2796
    invoke-virtual {v0, v2}, Lcom/google/android/mms/pdu/PduBody;->getPart(I)Lcom/google/android/mms/pdu/PduPart;

    move-result-object v3

    .line 2797
    .local v3, part:Lcom/google/android/mms/pdu/PduPart;
    new-instance v6, Ljava/lang/String;

    invoke-virtual {v3}, Lcom/google/android/mms/pdu/PduPart;->getContentType()[B

    move-result-object v7

    invoke-direct {v6, v7}, Ljava/lang/String;-><init>([B)V

    .line 2799
    .local v6, type:Ljava/lang/String;
    invoke-static {v6}, Lcom/android/mms/drm/DrmUtils;->isDrmType(Ljava/lang/String;)Z

    move-result v7

    if-eqz v7, :cond_1

    .line 2802
    invoke-static {p1, p2}, Ljava/lang/Long;->toHexString(J)Ljava/lang/String;

    move-result-object v7

    invoke-direct {p0, v3, v7}, Lcom/android/mms/ui/ComposeMessageActivity;->copyPart(Lcom/google/android/mms/pdu/PduPart;Ljava/lang/String;)Z

    move-result v7

    and-int/2addr v5, v7

    .line 2795
    :cond_1
    add-int/lit8 v2, v2, 0x1

    goto :goto_2

    .end local v3           #part:Lcom/google/android/mms/pdu/PduPart;
    .end local v6           #type:Ljava/lang/String;
    :cond_2
    move v7, v5

    .line 2805
    goto :goto_1
.end method

.method private sendEmoticon(Ljava/lang/String;)V
    .locals 4
    .parameter "body"

    .prologue
    const/4 v3, 0x0

    .line 10822
    iget v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    if-nez v1, :cond_0

    .line 10823
    invoke-static {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->toastNoSimCard(Landroid/content/Context;)V

    .line 10840
    :goto_0
    return-void

    .line 10826
    :cond_0
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v1

    if-eqz v1, :cond_1

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v1}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v1

    if-eqz v1, :cond_1

    .line 10827
    invoke-static {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->toastNoRecipients(Landroid/content/Context;)V

    goto :goto_0

    .line 10830
    :cond_1
    invoke-static {p1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v1

    if-eqz v1, :cond_2

    .line 10831
    const-string v1, "Mms/ipmsg/compose"

    const-string v2, "sendEmoticon(): No content for sending!"

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0

    .line 10834
    :cond_2
    new-instance v0, Lcom/mediatek/mms/ipmessage/message/IpTextMessage;

    invoke-direct {v0}, Lcom/mediatek/mms/ipmessage/message/IpTextMessage;-><init>()V

    .line 10835
    .local v0, msg:Lcom/mediatek/mms/ipmessage/message/IpTextMessage;
    invoke-virtual {v0, p1}, Lcom/mediatek/mms/ipmessage/message/IpTextMessage;->setBody(Ljava/lang/String;)V

    .line 10836
    invoke-virtual {v0, v3}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->setType(I)V

    .line 10837
    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 10838
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsClearTextDraft:Z

    .line 10839
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    const-string v2, "send emoticon msg failed"

    invoke-direct {p0, v1, v2, v3, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->sendMessageForIpMsg(Lcom/mediatek/mms/ipmessage/message/IpMessage;Ljava/lang/String;ZZ)Z

    goto :goto_0
.end method

.method private sendImage(I)V
    .locals 6
    .parameter "requestCode"

    .prologue
    const/4 v5, 0x4

    const/4 v4, 0x0

    const/4 v3, 0x1

    .line 11985
    new-instance v0, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;

    invoke-direct {v0}, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;-><init>()V

    .line 11986
    .local v0, msg:Lcom/mediatek/mms/ipmessage/message/IpImageMessage;
    const/16 v1, 0xca

    if-ne p1, v1, :cond_0

    .line 11987
    const/16 v1, 0x8

    invoke-virtual {v0, v1}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->setType(I)V

    .line 11991
    :goto_0
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-virtual {v0, v1}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->setPath(Ljava/lang/String;)V

    .line 11992
    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 11993
    const-string v1, "Mms/ipmsg/compose"

    const-string v2, "sendImage(): start send message."

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 11994
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->resetSelectSimId()V

    .line 11995
    iget-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    if-eqz v1, :cond_2

    iget-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImageCaptionOn:Z

    if-eqz v1, :cond_2

    invoke-virtual {v0}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v1

    if-ne v1, v5, :cond_2

    .line 11996
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v1, v2}, Lcom/android/mms/data/WorkingMessage;->asyncDeleteDraftSmsMessage(Lcom/android/mms/data/Conversation;)V

    .line 11997
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v1}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/String;->length()I

    move-result v1

    const/16 v2, 0x64

    if-le v1, v2, :cond_1

    .line 11998
    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 11999
    const/4 v1, 0x0

    iput-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 12000
    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->convertIpMessageToMmsOrSms(Z)Z

    .line 12001
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    .line 12011
    :goto_1
    return-void

    .line 11989
    :cond_0
    invoke-virtual {v0, v5}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->setType(I)V

    goto :goto_0

    .line 12004
    :cond_1
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsEditingCaption:Z

    .line 12005
    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->saveIpMessageForAWhile(Lcom/mediatek/mms/ipmessage/message/IpMessage;)V

    .line 12006
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    .line 12007
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonCanResponse:Z

    goto :goto_1

    .line 12009
    :cond_2
    const-string v1, "sendImage(): send pic msg failed"

    invoke-direct {p0, v0, v1, v4, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->sendMessageForIpMsg(Lcom/mediatek/mms/ipmessage/message/IpMessage;Ljava/lang/String;ZZ)Z

    goto :goto_1
.end method

.method private sendIpTextMessage()V
    .locals 4

    .prologue
    const/4 v3, 0x0

    .line 11710
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v2}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v0

    .line 11711
    .local v0, body:Ljava/lang/String;
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-eqz v2, :cond_0

    .line 11712
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "sendIpTextMessage(): No content for sending!"

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 11721
    :goto_0
    return-void

    .line 11715
    :cond_0
    new-instance v1, Lcom/mediatek/mms/ipmessage/message/IpTextMessage;

    invoke-direct {v1}, Lcom/mediatek/mms/ipmessage/message/IpTextMessage;-><init>()V

    .line 11716
    .local v1, msg:Lcom/mediatek/mms/ipmessage/message/IpTextMessage;
    invoke-virtual {v1, v0}, Lcom/mediatek/mms/ipmessage/message/IpTextMessage;->setBody(Ljava/lang/String;)V

    .line 11717
    invoke-virtual {v1, v3}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->setType(I)V

    .line 11718
    iput-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 11719
    const/4 v2, 0x1

    iput-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsClearTextDraft:Z

    .line 11720
    const-string v2, "send text msg failed"

    invoke-direct {p0, v1, v2, v3, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->sendMessageForIpMsg(Lcom/mediatek/mms/ipmessage/message/IpMessage;Ljava/lang/String;ZZ)Z

    goto :goto_0
.end method

.method private sendLocationMsg(Landroid/content/Intent;)V
    .locals 4
    .parameter "intent"

    .prologue
    const/4 v3, 0x0

    .line 12014
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getMessageManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/MessageManager;

    move-result-object v1

    invoke-virtual {v1, p1}, Lcom/mediatek/mms/ipmessage/MessageManager;->getIpMessageFromIntent(Landroid/content/Intent;)Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-result-object v0

    check-cast v0, Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;

    .line 12015
    .local v0, msg:Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;
    const/4 v1, 0x7

    invoke-virtual {v0, v1}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->setType(I)V

    .line 12016
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->resetSelectSimId()V

    .line 12017
    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 12018
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    const-string v2, "sendLocationMsg(): send location msg failed"

    invoke-direct {p0, v1, v2, v3, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->sendMessageForIpMsg(Lcom/mediatek/mms/ipmessage/message/IpMessage;Ljava/lang/String;ZZ)Z

    .line 12019
    return-void
.end method

.method private sendLongMessageCheck(Z)V
    .locals 6
    .parameter "bCheckEcmMode"

    .prologue
    const/4 v5, 0x0

    const/4 v3, 0x1

    .line 14897
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "mConversation.getCurTextMessageCount()="

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getCurTextMessageCount()I

    move-result v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, " mWorkingMessage.requiresMms()="

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 14899
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v0

    if-nez v0, :cond_0

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getCurTextMessageCount()I

    move-result v0

    if-le v0, v3, :cond_0

    .line 14900
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mbCheckEcmMode:Z

    .line 14901
    new-instance v0, Landroid/app/AlertDialog$Builder;

    invoke-direct {v0, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    const v1, 0x7f02009c

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setIcon(I)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    const v1, 0x7f0b0265

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setTitle(I)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    const v1, 0x7f0b0358

    new-array v2, v3, [Ljava/lang/Object;

    const/4 v3, 0x0

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getCurTextMessageCount()I

    move-result v4

    invoke-static {v4}, Ljava/lang/Integer;->toString(I)Ljava/lang/String;

    move-result-object v4

    aput-object v4, v2, v3

    invoke-virtual {p0, v1, v2}, Landroid/content/Context;->getString(I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    const v1, 0x7f0b0295

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$SendLongMessageListener;

    invoke-direct {v2, p0, v5}, Lcom/android/mms/ui/ComposeMessageActivity$SendLongMessageListener;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/ComposeMessageActivity$1;)V

    invoke-virtual {v0, v1, v2}, Landroid/app/AlertDialog$Builder;->setPositiveButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    const v1, 0x7f0b0296

    invoke-virtual {v0, v1, v5}, Landroid/app/AlertDialog$Builder;->setNegativeButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    invoke-virtual {v0}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    .line 14909
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    .line 14913
    :goto_0
    return-void

    .line 14911
    :cond_0
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->sendMessage(Z)V

    goto :goto_0
.end method

.method private sendMessage(Z)V
    .locals 15
    .parameter "bCheckEcmMode"

    .prologue
    .line 7219
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v11}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v11

    if-eqz v11, :cond_4

    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v11}, Lcom/android/mms/data/WorkingMessage;->hasSlideshow()Z

    move-result v11

    if-nez v11, :cond_0

    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v11}, Lcom/android/mms/data/WorkingMessage;->hasAttachment()Z

    move-result v11

    if-eqz v11, :cond_4

    .line 7221
    :cond_0
    const/4 v0, 0x0

    .line 7222
    .local v0, attachmentSize:I
    const/4 v8, 0x0

    .line 7223
    .local v8, messageSize:I
    const/4 v11, 0x5

    invoke-static {v11}, Lcom/android/mms/MmsPluginManager;->getMmsPluginObject(I)Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;

    .line 7225
    .local v7, mMmsAttachmentEnhancePlugin:Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;
    if-eqz v7, :cond_1

    invoke-interface {v7}, Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;->isSupportAttachmentEnhance()Z

    move-result v11

    const/4 v12, 0x1

    if-eq v11, v12, :cond_2

    .line 7227
    :cond_1
    const-string v11, "Mms/compose"

    const-string v12, "Compose.sendMessage(): isSupportAttachmentEnhance is false"

    invoke-static {v11, v12}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 7228
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v11}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v11

    invoke-virtual {v11}, Lcom/android/mms/model/SlideshowModel;->getAttachFiles()Ljava/util/ArrayList;

    move-result-object v11

    invoke-virtual {v11}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;

    move-result-object v4

    .local v4, i$:Ljava/util/Iterator;
    :goto_0
    invoke-interface {v4}, Ljava/util/Iterator;->hasNext()Z

    move-result v11

    if-eqz v11, :cond_2

    invoke-interface {v4}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/mms/model/FileAttachmentModel;

    .line 7230
    .local v3, fileAttachment:Lcom/android/mms/model/FileAttachmentModel;
    invoke-virtual {v3}, Lcom/android/mms/model/FileAttachmentModel;->getAttachSize()I

    move-result v11

    add-int/2addr v0, v11

    goto :goto_0

    .line 7233
    .end local v3           #fileAttachment:Lcom/android/mms/model/FileAttachmentModel;
    .end local v4           #i$:Ljava/util/Iterator;
    :cond_2
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v11}, Lcom/android/mms/data/WorkingMessage;->getCurrentMessageSize()I

    move-result v11

    add-int v8, v11, v0

    .line 7234
    const-string v11, "Mms/compose"

    new-instance v12, Ljava/lang/StringBuilder;

    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V

    const-string v13, "Compose.sendMessage(): messageSize="

    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v12

    invoke-virtual {v12, v8}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v12

    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v12

    invoke-static {v11, v12}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 7235
    const/4 v11, 0x1

    invoke-static {v11}, Lcom/android/mms/MmsConfig;->getUserSetMmsSizeLimit(Z)I

    move-result v11

    if-le v8, v11, :cond_4

    .line 7237
    const v11, 0x7f0b026d

    invoke-direct {p0, v11}, Lcom/android/mms/ui/ComposeMessageActivity;->getResourcesString(I)Ljava/lang/String;

    move-result-object v11

    const v12, 0x7f0b026d

    invoke-direct {p0, v12}, Lcom/android/mms/ui/ComposeMessageActivity;->getResourcesString(I)Ljava/lang/String;

    move-result-object v12

    invoke-static {p0, v11, v12}, Lcom/android/mms/ui/MessageUtils;->showErrorDialog(Landroid/app/Activity;Ljava/lang/String;Ljava/lang/String;)V

    .line 7240
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    .line 7339
    .end local v0           #attachmentSize:I
    .end local v7           #mMmsAttachmentEnhancePlugin:Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;
    .end local v8           #messageSize:I
    :cond_3
    :goto_1
    return-void

    .line 7245
    :cond_4
    if-eqz p1, :cond_5

    .line 7247
    const-string v11, "ril.cdma.inecmmode"

    invoke-static {v11}, Landroid/os/SystemProperties;->get(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    .line 7248
    .local v5, inEcm:Ljava/lang/String;
    invoke-static {v5}, Ljava/lang/Boolean;->parseBoolean(Ljava/lang/String;)Z

    move-result v11

    if-eqz v11, :cond_5

    .line 7250
    :try_start_0
    new-instance v11, Landroid/content/Intent;

    const-string v12, "android.intent.action.ACTION_SHOW_NOTICE_ECM_BLOCK_OTHERS"

    const/4 v13, 0x0

    invoke-direct {v11, v12, v13}, Landroid/content/Intent;-><init>(Ljava/lang/String;Landroid/net/Uri;)V

    const/16 v12, 0x6b

    invoke-virtual {p0, v11, v12}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V
    :try_end_0
    .catch Landroid/content/ActivityNotFoundException; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_1

    .line 7254
    :catch_0
    move-exception v2

    .line 7256
    .local v2, e:Landroid/content/ActivityNotFoundException;
    const-string v11, "Mms/compose"

    const-string v12, "Cannot find EmergencyCallbackModeExitDialog"

    invoke-static {v11, v12, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 7262
    .end local v2           #e:Landroid/content/ActivityNotFoundException;
    .end local v5           #inEcm:Ljava/lang/String;
    :cond_5
    iget-boolean v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mExitOnSent:Z

    if-eqz v11, :cond_6

    .line 7263
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideKeyboard()V

    .line 7266
    :cond_6
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v11

    if-eqz v11, :cond_a

    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    const/4 v12, 0x0

    invoke-virtual {v11, v12}, Lcom/android/mms/ui/RecipientsEditor;->constructContactsFromInput(Z)Lcom/android/mms/data/ContactList;

    move-result-object v1

    .line 7268
    .local v1, contactList:Lcom/android/mms/data/ContactList;
    :goto_2
    invoke-virtual {v1}, Lcom/android/mms/data/ContactList;->serialize()Ljava/lang/String;

    move-result-object v11

    iput-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDebugRecipients:Ljava/lang/String;

    .line 7271
    iget-boolean v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendingMessage:Z

    if-nez v11, :cond_9

    .line 7273
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v11}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v11

    invoke-virtual {v11}, Lcom/android/mms/data/ContactList;->serialize()Ljava/lang/String;

    move-result-object v9

    .line 7274
    .local v9, sendingRecipients:Ljava/lang/String;
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDebugRecipients:Ljava/lang/String;

    invoke-virtual {v9, v11}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v11

    if-nez v11, :cond_7

    .line 7275
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v11}, Lcom/android/mms/data/WorkingMessage;->getWorkingRecipients()Ljava/lang/String;

    move-result-object v10

    .line 7276
    .local v10, workingRecipients:Ljava/lang/String;
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDebugRecipients:Ljava/lang/String;

    invoke-virtual {v11, v10}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v11

    if-nez v11, :cond_7

    .line 7277
    new-instance v11, Ljava/lang/StringBuilder;

    invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V

    const-string v12, "ComposeMessageActivity.sendMessage recipients in window: \""

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    iget-object v12, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDebugRecipients:Ljava/lang/String;

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    const-string v12, "\" differ from recipients from conv: \""

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    const-string v12, "\" and working recipients: "

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v11

    invoke-static {v11, p0}, Lcom/android/mms/LogTag;->warnPossibleRecipientMismatch(Ljava/lang/String;Landroid/app/Activity;)V

    .line 7284
    .end local v10           #workingRecipients:Ljava/lang/String;
    :cond_7
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->sanityCheckConversation()V

    .line 7289
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->removeRecipientsListeners()V

    .line 7292
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    iget-object v12, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDebugRecipients:Ljava/lang/String;

    iget v13, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    invoke-virtual {v11, v12, v13}, Lcom/android/mms/data/WorkingMessage;->send(Ljava/lang/String;I)V

    .line 7293
    const-string v11, "Mms/compose"

    new-instance v12, Ljava/lang/StringBuilder;

    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V

    const-string v13, "Compose.sendMessage(): after sendMessage. mConversation.ThreadId="

    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v12

    iget-object v13, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v13}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v13

    invoke-virtual {v12, v13, v14}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v12

    const-string v13, ", MessageCount="

    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v12

    iget-object v13, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v13}, Lcom/android/mms/data/Conversation;->getMessageCount()I

    move-result v13

    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v12

    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v12

    invoke-static {v11, v12}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 7305
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v11}, Lcom/android/mms/data/Conversation;->getMessageCount()I

    move-result v11

    if-nez v11, :cond_8

    .line 7306
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    const/4 v12, 0x1

    invoke-virtual {v11, v12}, Lcom/android/mms/data/Conversation;->setMessageCount(I)V

    .line 7309
    :cond_8
    const/4 v11, 0x1

    iput-boolean v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWaitingForSendMessage:Z

    .line 7311
    const/4 v11, 0x0

    iput-boolean v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->isInitRecipientsEditor:Z

    .line 7312
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    const/4 v12, 0x0

    invoke-virtual {v11, v12}, Landroid/view/View;->setVisibility(I)V

    .line 7315
    const/4 v11, 0x1

    iput-boolean v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSentMessage:Z

    .line 7316
    const/4 v11, 0x1

    iput-boolean v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendingMessage:Z

    .line 7317
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->addRecipientsListeners()V

    .line 7319
    const/4 v11, 0x1

    iput-boolean v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mScrollOnSend:Z

    .line 7321
    const/4 v11, 0x0

    iput-boolean v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mJustSendMsgViaCommonMsgThisTime:Z

    .line 7324
    .end local v9           #sendingRecipients:Ljava/lang/String;
    :cond_9
    iget-boolean v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mExitOnSent:Z

    if-eqz v11, :cond_3

    .line 7327
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v11}, Lcom/android/mms/data/Conversation;->isChecked()Z

    move-result v6

    .line 7328
    .local v6, isChecked:Z
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v11}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v11

    const/4 v13, 0x0

    invoke-static {p0, v11, v12, v13}, Lcom/android/mms/data/Conversation;->upDateThread(Landroid/content/Context;JZ)Lcom/android/mms/data/Conversation;

    move-result-object v11

    iput-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    .line 7329
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v11, v6}, Lcom/android/mms/data/Conversation;->setIsChecked(Z)V

    .line 7331
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    new-instance v12, Lcom/android/mms/ui/ComposeMessageActivity$65;

    invoke-direct {v12, p0}, Lcom/android/mms/ui/ComposeMessageActivity$65;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    const-wide/16 v13, 0x96

    invoke-virtual {v11, v12, v13, v14}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    goto/16 :goto_1

    .line 7266
    .end local v1           #contactList:Lcom/android/mms/data/ContactList;
    .end local v6           #isChecked:Z
    :cond_a
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v1

    goto/16 :goto_2
.end method

.method private sendMessageForIpMsg(Lcom/mediatek/mms/ipmessage/message/IpMessage;Ljava/lang/String;ZZ)Z
    .locals 9
    .parameter "ipMessage"
    .parameter "log"
    .parameter "isSendSecondTextMessage"
    .parameter "isDelDraft"

    .prologue
    const/4 v6, 0x1

    const/4 v5, 0x0

    .line 11578
    const-string v4, "Mms/ipmsg/compose"

    const-string v7, "sendMessageForIpMsg(): start."

    invoke-static {v4, v7}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 11579
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v4

    if-eqz v4, :cond_0

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v4, :cond_0

    .line 11580
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 11581
    invoke-direct {p0, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->convertIpMessageToMmsOrSms(Z)Z

    .line 11582
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    move v4, v5

    .line 11706
    :goto_0
    return v4

    .line 11585
    :cond_0
    const/4 v2, 0x0

    .line 11586
    .local v2, simId:I
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    invoke-interface {v4}, Ljava/util/List;->size()I

    move-result v4

    if-le v4, v6, :cond_3

    .line 11587
    const-string v4, "Mms/ipmsg/compose"

    const-string v7, "sendMessageForIpMsg(): More than two SIM card!"

    invoke-static {v4, v7}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 11588
    iget v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    if-lez v4, :cond_1

    .line 11589
    const-string v4, "Mms/ipmsg/compose"

    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "sendMessageForIpMsg(): has selected SIM, simId = "

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    iget v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-static {v4, v7}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 11590
    iget v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    .line 11614
    :goto_1
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getCurrentNumberString()Ljava/lang/String;

    move-result-object v3

    .line 11615
    .local v3, to:Ljava/lang/String;
    const-string v4, "Mms/ipmsg/compose"

    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "sendMessageForIpMsg(): simId = "

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v7

    const-string v8, ", to = "

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-static {v4, v7}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 11616
    invoke-virtual {p1, v2}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->setSimId(I)V

    .line 11617
    invoke-virtual {p1, v3}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->setTo(Ljava/lang/String;)V

    .line 11618
    invoke-virtual {p1}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getTo()Ljava/lang/String;

    move-result-object v4

    invoke-static {v4}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-eqz v4, :cond_6

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v4, :cond_6

    .line 11619
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->saveIpMessageForAWhile(Lcom/mediatek/mms/ipmessage/message/IpMessage;)V

    .line 11620
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    .line 11621
    iput-boolean v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonCanResponse:Z

    move v4, v5

    .line 11622
    goto :goto_0

    .line 11592
    .end local v3           #to:Ljava/lang/String;
    :cond_1
    const-string v4, "Mms/ipmsg/compose"

    const-string v6, "sendMessageForIpMsg(): no selected SIM, check recipients count, and show SIM selection dialog if need."

    invoke-static {v4, v6}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 11594
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v4, :cond_2

    .line 11595
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 11597
    :cond_2
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->checkRecipientsCount()V

    move v4, v5

    .line 11598
    goto/16 :goto_0

    .line 11600
    :cond_3
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    invoke-interface {v4}, Ljava/util/List;->size()I

    move-result v4

    if-ne v4, v6, :cond_4

    .line 11601
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    invoke-interface {v4, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;

    invoke-virtual {v4}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSimId()J

    move-result-wide v7

    long-to-int v2, v7

    goto :goto_1

    .line 11603
    :cond_4
    const-string v4, "Mms/ipmsg/compose"

    const-string v7, "sendMessageForIpMsg(): No SIM card! Convert to MMS!"

    invoke-static {v4, v7}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 11604
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v4, :cond_5

    .line 11605
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 11606
    invoke-direct {p0, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->convertIpMessageToMmsOrSms(Z)Z

    .line 11607
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    move v4, v5

    .line 11608
    goto/16 :goto_0

    .line 11610
    :cond_5
    invoke-static {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->toastNoSimCard(Landroid/content/Context;)V

    move v4, v5

    .line 11611
    goto/16 :goto_0

    .line 11625
    .restart local v3       #to:Ljava/lang/String;
    :cond_6
    invoke-static {p0, v2}, Lcom/android/mms/MmsConfig;->isServiceEnabled(Landroid/content/Context;I)Z

    move-result v4

    if-eqz v4, :cond_8

    .line 11637
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isCurrentRecipientIpMessageUser()Z

    move-result v4

    if-nez v4, :cond_c

    .line 11638
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v4, :cond_7

    .line 11639
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 11642
    :cond_7
    invoke-virtual {p1}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v4

    if-nez v4, :cond_b

    .line 11643
    invoke-direct {p0, v5, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->showIpMessageConvertToMmsOrSmsDialog(II)V

    :goto_2
    move v4, v5

    .line 11647
    goto/16 :goto_0

    .line 11627
    :cond_8
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v4, :cond_9

    .line 11628
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 11630
    :cond_9
    invoke-virtual {p1}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v4

    if-nez v4, :cond_a

    .line 11631
    invoke-direct {p0, v5, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->showIpMessageConvertToMmsOrSmsDialog(II)V

    :goto_3
    move v4, v5

    .line 11635
    goto/16 :goto_0

    .line 11633
    :cond_a
    invoke-direct {p0, v6, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->showIpMessageConvertToMmsOrSmsDialog(II)V

    goto :goto_3

    .line 11645
    :cond_b
    invoke-direct {p0, v6, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->showIpMessageConvertToMmsOrSmsDialog(II)V

    goto :goto_2

    .line 11650
    :cond_c
    new-instance v4, Ljava/lang/Thread;

    new-instance v5, Lcom/android/mms/ui/ComposeMessageActivity$99;

    invoke-direct {v5, p0, p1, p4, p2}, Lcom/android/mms/ui/ComposeMessageActivity$99;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/mediatek/mms/ipmessage/message/IpMessage;ZLjava/lang/String;)V

    invoke-direct {v4, v5}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v4}, Ljava/lang/Thread;->start()V

    .line 11671
    if-eqz p3, :cond_d

    invoke-static {p1}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getIpMessageCaption(Lcom/mediatek/mms/ipmessage/message/IpMessage;)Ljava/lang/String;

    move-result-object v4

    invoke-static {v4}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-eqz v4, :cond_d

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    if-eqz v4, :cond_d

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v4}, Landroid/view/View;->getVisibility()I

    move-result v4

    if-nez v4, :cond_d

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v4}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v4}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-nez v4, :cond_d

    .line 11674
    new-instance v0, Lcom/mediatek/mms/ipmessage/message/IpTextMessage;

    invoke-direct {v0}, Lcom/mediatek/mms/ipmessage/message/IpTextMessage;-><init>()V

    .line 11675
    .local v0, ipTextMessage:Lcom/mediatek/mms/ipmessage/message/IpTextMessage;
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v4}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v4}, Lcom/mediatek/mms/ipmessage/message/IpTextMessage;->setBody(Ljava/lang/String;)V

    .line 11676
    invoke-virtual {v0, v2}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->setSimId(I)V

    .line 11677
    invoke-virtual {v0, v3}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->setTo(Ljava/lang/String;)V

    .line 11678
    const/4 v4, 0x2

    invoke-virtual {v0, v4}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->setStatus(I)V

    .line 11680
    move-object v1, v0

    .line 11681
    .local v1, ipTextMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;
    new-instance v4, Ljava/lang/Thread;

    new-instance v5, Lcom/android/mms/ui/ComposeMessageActivity$100;

    invoke-direct {v5, p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity$100;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/mediatek/mms/ipmessage/message/IpMessage;)V

    invoke-direct {v4, v5}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v4}, Ljava/lang/Thread;->start()V

    .line 11695
    .end local v0           #ipTextMessage:Lcom/mediatek/mms/ipmessage/message/IpTextMessage;
    .end local v1           #ipTextMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;
    :cond_d
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v4}, Lcom/android/mms/data/WorkingMessage;->syncWorkingRecipients()V

    .line 11696
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v4}, Lcom/android/mms/data/Conversation;->guaranteeThreadId()V

    .line 11697
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v4, :cond_e

    .line 11698
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->onPreMessageSent()V

    .line 11699
    const-string v4, "Mms/ipmsg/compose"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "sendMessageForIpMsg(): after guaranteeThreadId(), threadId = "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v7}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v7

    invoke-virtual {v5, v7, v8}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v4, v5}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 11705
    :goto_4
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->onMessageSent()V

    move v4, v6

    .line 11706
    goto/16 :goto_0

    .line 11702
    :cond_e
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->resetMessage()V

    .line 11703
    const/4 v4, 0x0

    iput-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageForSend:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    goto :goto_4
.end method

.method private sendViaMmsOrSms(J)V
    .locals 5
    .parameter "currentMsgId"

    .prologue
    const/4 v4, 0x0

    const/4 v3, 0x1

    .line 13753
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mJustSendMsgViaCommonMsgThisTime:Z

    .line 13754
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getMessageManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/MessageManager;

    move-result-object v1

    invoke-virtual {v1, p1, p2}, Lcom/mediatek/mms/ipmessage/MessageManager;->getIpMsgInfo(J)Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-result-object v0

    .line 13756
    .local v0, ipMessage:Lcom/mediatek/mms/ipmessage/message/IpMessage;
    if-eqz v0, :cond_0

    .line 13757
    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    .line 13758
    invoke-direct {p0, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->convertIpMessageToMmsOrSms(Z)Z

    move-result v1

    if-eqz v1, :cond_0

    .line 13759
    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$119;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$119;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {p0, v1}, Landroid/app/Activity;->runOnUiThread(Ljava/lang/Runnable;)V

    .line 13770
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getMessageManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/MessageManager;

    move-result-object v1

    new-array v2, v3, [J

    aput-wide p1, v2, v4

    invoke-virtual {v1, v2, v3, v3}, Lcom/mediatek/mms/ipmessage/MessageManager;->deleteIpMsg([JZZ)V

    .line 13774
    :cond_0
    return-void
.end method

.method private setEmoticon(I)V
    .locals 7
    .parameter "startPosition"

    .prologue
    const/16 v6, 0x18

    .line 11296
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLatestText:Landroid/text/Editable;

    const/4 v3, 0x0

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLatestText:Landroid/text/Editable;

    invoke-interface {v4}, Landroid/text/Editable;->length()I

    move-result v4

    const-class v5, Landroid/text/style/ImageSpan;

    invoke-interface {v2, v3, v4, v5}, Landroid/text/Editable;->getSpans(IILjava/lang/Class;)[Ljava/lang/Object;

    move-result-object v0

    check-cast v0, [Landroid/text/style/ImageSpan;

    .line 11297
    .local v0, emoticonList:[Landroid/text/style/ImageSpan;
    if-eqz v0, :cond_1

    array-length v2, v0

    if-lez v2, :cond_1

    .line 11298
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLatestText:Landroid/text/Editable;

    array-length v3, v0

    add-int/lit8 v3, v3, -0x1

    aget-object v3, v0, v3

    invoke-interface {v2, v3}, Landroid/text/Editable;->getSpanEnd(Ljava/lang/Object;)I

    move-result v1

    .line 11299
    .local v1, spanEnd:I
    const-string v2, "Mms/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "spanEnd  "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, " startPosition "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->v(Ljava/lang/String;Ljava/lang/String;)V

    .line 11300
    iget v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonNumber:I

    if-lt v2, v6, :cond_1

    if-le p1, v1, :cond_1

    .line 11322
    .end local v1           #spanEnd:I
    :cond_0
    :goto_0
    return-void

    .line 11304
    :cond_1
    iget v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonNumber:I

    if-lt v2, v6, :cond_2

    .line 11305
    iget-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->isAddSmileySpans:Z

    if-nez v2, :cond_0

    .line 11306
    const/4 v2, 0x1

    iput-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->isAddSmileySpans:Z

    .line 11307
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    new-instance v3, Lcom/android/mms/ui/ComposeMessageActivity$96;

    invoke-direct {v3, p0}, Lcom/android/mms/ui/ComposeMessageActivity$96;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    const-wide/16 v4, 0x96

    invoke-virtual {v2, v3, v4, v5}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    goto :goto_0

    .line 11320
    :cond_2
    invoke-static {}, Lcom/android/mms/util/SmileyParser2;->getInstance()Lcom/android/mms/util/SmileyParser2;

    move-result-object v2

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLatestText:Landroid/text/Editable;

    invoke-virtual {v2, v3, v6}, Lcom/android/mms/util/SmileyParser2;->addSmileySpans(Landroid/text/Editable;I)I

    move-result v2

    iput v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonNumber:I

    goto :goto_0
.end method

.method private setFileAttachment(Ljava/lang/String;IZ)I
    .locals 10
    .parameter "fileName"
    .parameter "type"
    .parameter "append"

    .prologue
    const v9, 0x7f0b00b9

    .line 10272
    invoke-virtual {p0, p1}, Landroid/content/ContextWrapper;->getFileStreamPath(Ljava/lang/String;)Ljava/io/File;

    move-result-object v0

    .line 10273
    .local v0, attachFile:Ljava/io/File;
    const-string v5, "Mms/compose"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "setFileAttachment(): attachFile.exists()?="

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v0}, Ljava/io/File;->exists()Z

    move-result v7

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, ", attachFile.length()="

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v0}, Ljava/io/File;->length()J

    move-result-wide v7

    invoke-virtual {v6, v7, v8}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v5, v6}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 10275
    invoke-virtual {p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v3

    .line 10276
    .local v3, res:Landroid/content/res/Resources;
    invoke-virtual {v0}, Ljava/io/File;->exists()Z

    move-result v5

    if-eqz v5, :cond_1

    invoke-virtual {v0}, Ljava/io/File;->length()J

    move-result-wide v5

    const-wide/16 v7, 0x0

    cmp-long v5, v5, v7

    if-lez v5, :cond_1

    .line 10277
    invoke-static {v0}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v1

    .line 10278
    .local v1, attachUri:Landroid/net/Uri;
    const/4 v4, 0x0

    .line 10280
    .local v4, result:I
    if-eqz p3, :cond_0

    .line 10281
    :try_start_0
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v5}, Lcom/android/mms/data/WorkingMessage;->checkSizeBeforeAppend()Z
    :try_end_0
    .catch Lcom/android/mms/ExceedMessageSizeException; {:try_start_0 .. :try_end_0} :catch_0

    .line 10288
    :cond_0
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v5, p2, v1, p3}, Lcom/android/mms/data/WorkingMessage;->setAttachment(ILandroid/net/Uri;Z)I

    move-result v4

    .line 10289
    invoke-direct {p0, v4, v9}, Lcom/android/mms/ui/ComposeMessageActivity;->handleAddAttachmentError(II)V

    .line 10290
    const/4 v5, 0x1

    iput-boolean v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCompressingVCardFinished:Z

    .line 10299
    .end local v1           #attachUri:Landroid/net/Uri;
    .end local v4           #result:I
    :goto_0
    return v4

    .line 10283
    .restart local v1       #attachUri:Landroid/net/Uri;
    .restart local v4       #result:I
    :catch_0
    move-exception v2

    .line 10284
    .local v2, e:Lcom/android/mms/ExceedMessageSizeException;
    const/4 v4, -0x2

    .line 10285
    invoke-direct {p0, v4, v9}, Lcom/android/mms/ui/ComposeMessageActivity;->handleAddAttachmentError(II)V

    goto :goto_0

    .line 10293
    .end local v1           #attachUri:Landroid/net/Uri;
    .end local v2           #e:Lcom/android/mms/ExceedMessageSizeException;
    .end local v4           #result:I
    :cond_1
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    new-instance v6, Lcom/android/mms/ui/ComposeMessageActivity$88;

    invoke-direct {v6, p0, v3, p1}, Lcom/android/mms/ui/ComposeMessageActivity$88;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/content/res/Resources;Ljava/lang/String;)V

    invoke-virtual {v5, v6}, Landroid/os/Handler;->post(Ljava/lang/Runnable;)Z

    .line 10299
    const/4 v4, -0x1

    goto :goto_0
.end method

.method private setIntent(Landroid/content/Intent;Lcom/mediatek/mms/ipmessage/message/IpMessage;)Landroid/content/Intent;
    .locals 11
    .parameter "intent"
    .parameter "ipMessage"

    .prologue
    const/16 v10, 0x8

    .line 13576
    invoke-virtual {p2}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v8

    if-nez v8, :cond_1

    .line 13577
    const-string v8, "text/plain"

    invoke-virtual {p1, v8}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 13578
    const-string v8, "android.intent.extra.TEXT"

    check-cast p2, Lcom/mediatek/mms/ipmessage/message/IpTextMessage;

    .end local p2
    invoke-virtual {p2}, Lcom/mediatek/mms/ipmessage/message/IpTextMessage;->getBody()Ljava/lang/String;

    move-result-object v9

    invoke-virtual {p1, v8, v9}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    .line 13668
    :cond_0
    :goto_0
    return-object p1

    .line 13579
    .restart local p2
    :cond_1
    invoke-virtual {p2}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v8

    const/4 v9, 0x4

    if-eq v8, v9, :cond_2

    invoke-virtual {p2}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v8

    if-ne v8, v10, :cond_4

    :cond_2
    move-object v4, p2

    .line 13581
    check-cast v4, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;

    .line 13582
    .local v4, msg:Lcom/mediatek/mms/ipmessage/message/IpImageMessage;
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    const-string v9, "."

    invoke-virtual {v8, v9}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v3

    .line 13583
    .local v3, index:I
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v8

    if-ne v8, v10, :cond_3

    .line 13584
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    const-string v9, ".ske.png"

    invoke-virtual {v8, v9}, Ljava/lang/String;->indexOf(Ljava/lang/String;)I

    move-result v3

    .line 13586
    :cond_3
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v8, v3}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v1

    .line 13587
    .local v1, end:Ljava/lang/String;
    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getCachePath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v9

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v9, "temp"

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    .line 13588
    .local v0, dest:Ljava/lang/String;
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    invoke-static {v8, v0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->copy(Ljava/lang/String;Ljava/lang/String;)V

    .line 13589
    const-string v8, "image/*"

    invoke-virtual {p1, v8}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 13590
    new-instance v2, Ljava/io/File;

    invoke-direct {v2, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 13591
    .local v2, f:Ljava/io/File;
    invoke-static {v2}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v6

    .line 13592
    .local v6, u:Landroid/net/Uri;
    const-string v8, "android.intent.extra.STREAM"

    invoke-virtual {p1, v8, v6}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    .line 13593
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;->getCaption()Ljava/lang/String;

    move-result-object v8

    invoke-static {v8}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v8

    if-nez v8, :cond_0

    .line 13594
    const-string v8, "sms_body"

    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;->getCaption()Ljava/lang/String;

    move-result-object v9

    invoke-virtual {p1, v8, v9}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    .line 13595
    const-string v8, "android.intent.extra.TEXT"

    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpImageMessage;->getCaption()Ljava/lang/String;

    move-result-object v9

    invoke-virtual {p1, v8, v9}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    goto/16 :goto_0

    .line 13597
    .end local v0           #dest:Ljava/lang/String;
    .end local v1           #end:Ljava/lang/String;
    .end local v2           #f:Ljava/io/File;
    .end local v3           #index:I
    .end local v4           #msg:Lcom/mediatek/mms/ipmessage/message/IpImageMessage;
    .end local v6           #u:Landroid/net/Uri;
    :cond_4
    invoke-virtual {p2}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v8

    const/4 v9, 0x5

    if-ne v8, v9, :cond_5

    move-object v4, p2

    .line 13598
    check-cast v4, Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;

    .line 13599
    .local v4, msg:Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    const-string v9, "/"

    invoke-virtual {v8, v9}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v3

    .line 13600
    .restart local v3       #index:I
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v8, v3}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v5

    .line 13601
    .local v5, name:Ljava/lang/String;
    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getCachePath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v9

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    .line 13602
    .restart local v0       #dest:Ljava/lang/String;
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    invoke-static {v8, v0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->copy(Ljava/lang/String;Ljava/lang/String;)V

    .line 13603
    const-string v8, "audio/*"

    invoke-virtual {p1, v8}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 13604
    new-instance v2, Ljava/io/File;

    invoke-direct {v2, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 13605
    .restart local v2       #f:Ljava/io/File;
    invoke-static {v2}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v6

    .line 13606
    .restart local v6       #u:Landroid/net/Uri;
    const-string v8, "android.intent.extra.STREAM"

    invoke-virtual {p1, v8, v6}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    .line 13607
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;->getCaption()Ljava/lang/String;

    move-result-object v8

    invoke-static {v8}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v8

    if-nez v8, :cond_0

    .line 13608
    const-string v8, "sms_body"

    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;->getCaption()Ljava/lang/String;

    move-result-object v9

    invoke-virtual {p1, v8, v9}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    .line 13609
    const-string v8, "android.intent.extra.TEXT"

    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;->getCaption()Ljava/lang/String;

    move-result-object v9

    invoke-virtual {p1, v8, v9}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    goto/16 :goto_0

    .line 13611
    .end local v0           #dest:Ljava/lang/String;
    .end local v2           #f:Ljava/io/File;
    .end local v3           #index:I
    .end local v4           #msg:Lcom/mediatek/mms/ipmessage/message/IpVoiceMessage;
    .end local v5           #name:Ljava/lang/String;
    .end local v6           #u:Landroid/net/Uri;
    :cond_5
    invoke-virtual {p2}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v8

    const/4 v9, 0x6

    if-ne v8, v9, :cond_6

    move-object v4, p2

    .line 13612
    check-cast v4, Lcom/mediatek/mms/ipmessage/message/IpVCardMessage;

    .line 13613
    .local v4, msg:Lcom/mediatek/mms/ipmessage/message/IpVCardMessage;
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    const-string v9, "/"

    invoke-virtual {v8, v9}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v3

    .line 13614
    .restart local v3       #index:I
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v8, v3}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v5

    .line 13615
    .restart local v5       #name:Ljava/lang/String;
    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getCachePath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v9

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    .line 13616
    .restart local v0       #dest:Ljava/lang/String;
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    invoke-static {v8, v0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->copy(Ljava/lang/String;Ljava/lang/String;)V

    .line 13617
    new-instance v2, Ljava/io/File;

    invoke-direct {v2, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 13618
    .restart local v2       #f:Ljava/io/File;
    invoke-static {v2}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v6

    .line 13619
    .restart local v6       #u:Landroid/net/Uri;
    const-string v8, "text/x-vcard"

    invoke-virtual {p1, v6, v8}, Landroid/content/Intent;->setDataAndType(Landroid/net/Uri;Ljava/lang/String;)Landroid/content/Intent;

    .line 13620
    const-string v8, "android.intent.extra.STREAM"

    invoke-virtual {p1, v8, v6}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    goto/16 :goto_0

    .line 13621
    .end local v0           #dest:Ljava/lang/String;
    .end local v2           #f:Ljava/io/File;
    .end local v3           #index:I
    .end local v4           #msg:Lcom/mediatek/mms/ipmessage/message/IpVCardMessage;
    .end local v5           #name:Ljava/lang/String;
    .end local v6           #u:Landroid/net/Uri;
    :cond_6
    invoke-virtual {p2}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v8

    const/16 v9, 0x9

    if-ne v8, v9, :cond_7

    move-object v4, p2

    .line 13622
    check-cast v4, Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;

    .line 13623
    .local v4, msg:Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    const-string v9, "/"

    invoke-virtual {v8, v9}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v3

    .line 13624
    .restart local v3       #index:I
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v8, v3}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v5

    .line 13625
    .restart local v5       #name:Ljava/lang/String;
    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getCachePath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v9

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    .line 13626
    .restart local v0       #dest:Ljava/lang/String;
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    invoke-static {v8, v0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->copy(Ljava/lang/String;Ljava/lang/String;)V

    .line 13627
    const-string v8, "video/*"

    invoke-virtual {p1, v8}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 13628
    new-instance v2, Ljava/io/File;

    invoke-direct {v2, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 13629
    .restart local v2       #f:Ljava/io/File;
    invoke-static {v2}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v6

    .line 13630
    .restart local v6       #u:Landroid/net/Uri;
    const-string v8, "android.intent.extra.STREAM"

    invoke-virtual {p1, v8, v6}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    .line 13631
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;->getCaption()Ljava/lang/String;

    move-result-object v8

    invoke-static {v8}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v8

    if-nez v8, :cond_0

    .line 13632
    const-string v8, "sms_body"

    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;->getCaption()Ljava/lang/String;

    move-result-object v9

    invoke-virtual {p1, v8, v9}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    .line 13633
    const-string v8, "android.intent.extra.TEXT"

    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;->getCaption()Ljava/lang/String;

    move-result-object v9

    invoke-virtual {p1, v8, v9}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    goto/16 :goto_0

    .line 13635
    .end local v0           #dest:Ljava/lang/String;
    .end local v2           #f:Ljava/io/File;
    .end local v3           #index:I
    .end local v4           #msg:Lcom/mediatek/mms/ipmessage/message/IpVideoMessage;
    .end local v5           #name:Ljava/lang/String;
    .end local v6           #u:Landroid/net/Uri;
    :cond_7
    invoke-virtual {p2}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v8

    const/4 v9, 0x7

    if-ne v8, v9, :cond_9

    move-object v4, p2

    .line 13636
    check-cast v4, Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;

    .line 13637
    .local v4, msg:Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    invoke-static {v8}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v8

    if-eqz v8, :cond_8

    .line 13638
    const-string v8, "text/plain"

    invoke-virtual {p1, v8}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 13639
    const-string v8, "sms_body"

    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;->getAddress()Ljava/lang/String;

    move-result-object v9

    invoke-virtual {p1, v8, v9}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    .line 13640
    const-string v8, "android.intent.extra.TEXT"

    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;->getAddress()Ljava/lang/String;

    move-result-object v9

    invoke-virtual {p1, v8, v9}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    goto/16 :goto_0

    .line 13642
    :cond_8
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    const-string v9, ".map.png"

    invoke-virtual {v8, v9}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v3

    .line 13643
    .restart local v3       #index:I
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v8, v3}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v1

    .line 13644
    .restart local v1       #end:Ljava/lang/String;
    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getCachePath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v9

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v9, "temp"

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    .line 13645
    .restart local v0       #dest:Ljava/lang/String;
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    invoke-static {v8, v0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->copy(Ljava/lang/String;Ljava/lang/String;)V

    .line 13646
    const-string v8, "image/*"

    invoke-virtual {p1, v8}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 13647
    new-instance v2, Ljava/io/File;

    invoke-direct {v2, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 13648
    .restart local v2       #f:Ljava/io/File;
    invoke-static {v2}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v7

    .line 13649
    .local v7, uri:Landroid/net/Uri;
    const-string v8, "android.intent.extra.STREAM"

    invoke-virtual {p1, v8, v7}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    .line 13650
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;->getAddress()Ljava/lang/String;

    move-result-object v8

    invoke-static {v8}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v8

    if-nez v8, :cond_0

    .line 13651
    const-string v8, "sms_body"

    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;->getAddress()Ljava/lang/String;

    move-result-object v9

    invoke-virtual {p1, v8, v9}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    .line 13652
    const-string v8, "android.intent.extra.TEXT"

    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;->getAddress()Ljava/lang/String;

    move-result-object v9

    invoke-virtual {p1, v8, v9}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    goto/16 :goto_0

    .line 13655
    .end local v0           #dest:Ljava/lang/String;
    .end local v1           #end:Ljava/lang/String;
    .end local v2           #f:Ljava/io/File;
    .end local v3           #index:I
    .end local v4           #msg:Lcom/mediatek/mms/ipmessage/message/IpLocationMessage;
    .end local v7           #uri:Landroid/net/Uri;
    :cond_9
    invoke-virtual {p2}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v8

    const/16 v9, 0xa

    if-ne v8, v9, :cond_a

    move-object v4, p2

    .line 13656
    check-cast v4, Lcom/mediatek/mms/ipmessage/message/IpVCalendarMessage;

    .line 13657
    .local v4, msg:Lcom/mediatek/mms/ipmessage/message/IpVCalendarMessage;
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    const-string v9, "/"

    invoke-virtual {v8, v9}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v3

    .line 13658
    .restart local v3       #index:I
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v8, v3}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v5

    .line 13659
    .restart local v5       #name:Ljava/lang/String;
    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getCachePath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v9

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    .line 13660
    .restart local v0       #dest:Ljava/lang/String;
    invoke-virtual {v4}, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;->getPath()Ljava/lang/String;

    move-result-object v8

    invoke-static {v8, v0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->copy(Ljava/lang/String;Ljava/lang/String;)V

    .line 13661
    new-instance v2, Ljava/io/File;

    invoke-direct {v2, v0}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 13662
    .restart local v2       #f:Ljava/io/File;
    invoke-static {v2}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v7

    .line 13663
    .restart local v7       #uri:Landroid/net/Uri;
    const-string v8, "text/x-vcalendar"

    invoke-virtual {p1, v8}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 13664
    const-string v8, "android.intent.extra.STREAM"

    invoke-virtual {p1, v8, v7}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    goto/16 :goto_0

    .line 13666
    .end local v0           #dest:Ljava/lang/String;
    .end local v2           #f:Ljava/io/File;
    .end local v3           #index:I
    .end local v4           #msg:Lcom/mediatek/mms/ipmessage/message/IpVCalendarMessage;
    .end local v5           #name:Ljava/lang/String;
    .end local v7           #uri:Landroid/net/Uri;
    :cond_a
    const-string v8, "unknown"

    invoke-virtual {p1, v8}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    goto/16 :goto_0
.end method

.method private setWallPaper(J)Z
    .locals 18
    .parameter "threadId"

    .prologue
    .line 13446
    const-string v2, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "setWallPaper(): threadId = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-wide/from16 v0, p1

    invoke-virtual {v3, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13447
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v2

    sget-object v3, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedTelephony$ThreadSettings;->CONTENT_URI:Landroid/net/Uri;

    const/4 v4, 0x2

    new-array v4, v4, [Ljava/lang/String;

    const/4 v5, 0x0

    const-string v6, "_id"

    aput-object v6, v4, v5

    const/4 v5, 0x1

    const-string v6, "_data"

    aput-object v6, v4, v5

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "thread_id = "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-wide/from16 v0, p1

    invoke-virtual {v5, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    const/4 v6, 0x0

    const/4 v7, 0x0

    invoke-virtual/range {v2 .. v7}, Landroid/content/ContentResolver;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v9

    .line 13450
    .local v9, cursor:Landroid/database/Cursor;
    const-wide/16 v16, 0x0

    .line 13451
    .local v16, threadSettingId:J
    const/4 v11, 0x0

    .line 13452
    .local v11, filePath:Ljava/lang/String;
    if-eqz v9, :cond_1

    .line 13453
    invoke-interface {v9}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v2

    if-eqz v2, :cond_0

    .line 13454
    const/4 v2, 0x0

    invoke-interface {v9, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v16

    .line 13455
    const/4 v2, 0x1

    invoke-interface {v9, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v11

    .line 13457
    :cond_0
    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    .line 13459
    :cond_1
    invoke-static {v11}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-eqz v2, :cond_3

    .line 13460
    const/4 v2, 0x0

    .line 13542
    :cond_2
    :goto_0
    return v2

    .line 13462
    :cond_3
    const-string v2, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "setWallPaper(): threadSettingId = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-wide/from16 v0, v16

    invoke-virtual {v3, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, ", filePath = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13463
    const-string v2, "content://"

    invoke-virtual {v11, v2}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v2

    if-nez v2, :cond_4

    const-string v2, "file://"

    invoke-virtual {v11, v2}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v2

    if-eqz v2, :cond_8

    .line 13464
    :cond_4
    invoke-static {v11}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v12

    .line 13465
    .local v12, imageUri:Landroid/net/Uri;
    const/4 v13, 0x0

    .line 13467
    .local v13, is:Ljava/io/InputStream;
    :try_start_0
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v2

    invoke-virtual {v2, v12}, Landroid/content/ContentResolver;->openInputStream(Landroid/net/Uri;)Ljava/io/InputStream;

    move-result-object v13

    .line 13468
    new-instance v8, Landroid/graphics/drawable/BitmapDrawable;

    invoke-direct {v8, v13}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Ljava/io/InputStream;)V

    .line 13471
    .local v8, bd:Landroid/graphics/drawable/BitmapDrawable;
    invoke-static {}, Lcom/android/mms/MmsConfig;->isSupportAsyncUpdateWallpaper()Z

    move-result v2

    if-eqz v2, :cond_5

    .line 13472
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSetWallPaperHandler:Landroid/os/Handler;

    const/16 v3, 0x2712

    invoke-virtual {v2, v3, v8}, Landroid/os/Handler;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;

    move-result-object v14

    .line 13473
    .local v14, msg:Landroid/os/Message;
    invoke-virtual {v14}, Landroid/os/Message;->sendToTarget()V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/io/FileNotFoundException; {:try_start_0 .. :try_end_0} :catch_1

    .line 13478
    .end local v14           #msg:Landroid/os/Message;
    :goto_1
    const/4 v2, 0x1

    .line 13482
    if-eqz v13, :cond_2

    .line 13484
    :try_start_1
    invoke-virtual {v13}, Ljava/io/InputStream;->close()V
    :try_end_1
    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_0

    goto :goto_0

    .line 13485
    :catch_0
    move-exception v10

    .line 13486
    .local v10, e:Ljava/io/IOException;
    const-string v3, "Mms/ipmsg/compose"

    const-string v4, "IOException happened when close InputStream."

    invoke-static {v3, v4, v10}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_0

    .line 13475
    .end local v10           #e:Ljava/io/IOException;
    :cond_5
    :try_start_2
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWallPaper:Landroid/widget/ImageView;

    invoke-virtual {v2, v8}, Landroid/widget/ImageView;->setImageDrawable(Landroid/graphics/drawable/Drawable;)V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0
    .catch Ljava/io/FileNotFoundException; {:try_start_2 .. :try_end_2} :catch_1

    goto :goto_1

    .line 13479
    .end local v8           #bd:Landroid/graphics/drawable/BitmapDrawable;
    :catch_1
    move-exception v10

    .line 13480
    .local v10, e:Ljava/io/FileNotFoundException;
    :try_start_3
    const-string v2, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "Unknown wall paper resource! filePath = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_0

    .line 13482
    if-eqz v13, :cond_6

    .line 13484
    :try_start_4
    invoke-virtual {v13}, Ljava/io/InputStream;->close()V
    :try_end_4
    .catch Ljava/io/IOException; {:try_start_4 .. :try_end_4} :catch_2

    .line 13542
    .end local v10           #e:Ljava/io/FileNotFoundException;
    .end local v12           #imageUri:Landroid/net/Uri;
    .end local v13           #is:Ljava/io/InputStream;
    :cond_6
    :goto_2
    const/4 v2, 0x0

    goto/16 :goto_0

    .line 13485
    .restart local v10       #e:Ljava/io/FileNotFoundException;
    .restart local v12       #imageUri:Landroid/net/Uri;
    .restart local v13       #is:Ljava/io/InputStream;
    :catch_2
    move-exception v10

    .line 13486
    .local v10, e:Ljava/io/IOException;
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "IOException happened when close InputStream."

    invoke-static {v2, v3, v10}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_2

    .line 13482
    .end local v10           #e:Ljava/io/IOException;
    :catchall_0
    move-exception v2

    if-eqz v13, :cond_7

    .line 13484
    :try_start_5
    invoke-virtual {v13}, Ljava/io/InputStream;->close()V
    :try_end_5
    .catch Ljava/io/IOException; {:try_start_5 .. :try_end_5} :catch_3

    .line 13487
    :cond_7
    :goto_3
    throw v2

    .line 13485
    :catch_3
    move-exception v10

    .line 13486
    .restart local v10       #e:Ljava/io/IOException;
    const-string v3, "Mms/ipmsg/compose"

    const-string v4, "IOException happened when close InputStream."

    invoke-static {v3, v4, v10}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_3

    .line 13490
    .end local v10           #e:Ljava/io/IOException;
    .end local v12           #imageUri:Landroid/net/Uri;
    .end local v13           #is:Ljava/io/InputStream;
    :cond_8
    const-string v2, "/data/data/com.android.providers.telephony/app_wallpaper"

    invoke-virtual {v11, v2}, Ljava/lang/String;->startsWith(Ljava/lang/String;)Z

    move-result v2

    if-eqz v2, :cond_b

    .line 13491
    sget-object v2, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedTelephony$ThreadSettings;->CONTENT_URI:Landroid/net/Uri;

    move-wide/from16 v0, p1

    invoke-static {v2, v0, v1}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v12

    .line 13493
    .restart local v12       #imageUri:Landroid/net/Uri;
    const/4 v13, 0x0

    .line 13495
    .restart local v13       #is:Ljava/io/InputStream;
    :try_start_6
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v2

    invoke-virtual {v2, v12}, Landroid/content/ContentResolver;->openInputStream(Landroid/net/Uri;)Ljava/io/InputStream;

    move-result-object v13

    .line 13496
    new-instance v8, Landroid/graphics/drawable/BitmapDrawable;

    invoke-direct {v8, v13}, Landroid/graphics/drawable/BitmapDrawable;-><init>(Ljava/io/InputStream;)V

    .line 13498
    .restart local v8       #bd:Landroid/graphics/drawable/BitmapDrawable;
    invoke-static {}, Lcom/android/mms/MmsConfig;->isSupportAsyncUpdateWallpaper()Z

    move-result v2

    if-eqz v2, :cond_9

    .line 13499
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSetWallPaperHandler:Landroid/os/Handler;

    const/16 v3, 0x2712

    invoke-virtual {v2, v3, v8}, Landroid/os/Handler;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;

    move-result-object v14

    .line 13500
    .restart local v14       #msg:Landroid/os/Message;
    invoke-virtual {v14}, Landroid/os/Message;->sendToTarget()V
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_1
    .catch Ljava/io/FileNotFoundException; {:try_start_6 .. :try_end_6} :catch_4
    .catch Ljava/lang/NullPointerException; {:try_start_6 .. :try_end_6} :catch_7

    .line 13506
    .end local v14           #msg:Landroid/os/Message;
    :goto_4
    const/4 v2, 0x1

    .line 13512
    if-eqz v13, :cond_2

    .line 13514
    :try_start_7
    invoke-virtual {v13}, Ljava/io/InputStream;->close()V
    :try_end_7
    .catch Ljava/io/IOException; {:try_start_7 .. :try_end_7} :catch_5

    .line 13518
    :goto_5
    const-string v3, "Mms/ipmsg/compose"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Unknown wall paper resource! filePath = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_0

    .line 13503
    :cond_9
    :try_start_8
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWallPaper:Landroid/widget/ImageView;

    invoke-virtual {v2, v8}, Landroid/widget/ImageView;->setImageDrawable(Landroid/graphics/drawable/Drawable;)V
    :try_end_8
    .catchall {:try_start_8 .. :try_end_8} :catchall_1
    .catch Ljava/io/FileNotFoundException; {:try_start_8 .. :try_end_8} :catch_4
    .catch Ljava/lang/NullPointerException; {:try_start_8 .. :try_end_8} :catch_7

    goto :goto_4

    .line 13507
    .end local v8           #bd:Landroid/graphics/drawable/BitmapDrawable;
    :catch_4
    move-exception v10

    .line 13508
    .local v10, e:Ljava/io/FileNotFoundException;
    :try_start_9
    const-string v2, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "Unknown wall paper resource! filePath = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3, v10}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
    :try_end_9
    .catchall {:try_start_9 .. :try_end_9} :catchall_1

    .line 13512
    if-eqz v13, :cond_6

    .line 13514
    :try_start_a
    invoke-virtual {v13}, Ljava/io/InputStream;->close()V
    :try_end_a
    .catch Ljava/io/IOException; {:try_start_a .. :try_end_a} :catch_6

    .line 13518
    .end local v10           #e:Ljava/io/FileNotFoundException;
    :goto_6
    const-string v2, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "Unknown wall paper resource! filePath = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_2

    .line 13515
    .restart local v8       #bd:Landroid/graphics/drawable/BitmapDrawable;
    :catch_5
    move-exception v10

    .line 13516
    .local v10, e:Ljava/io/IOException;
    const-string v3, "Mms/ipmsg/compose"

    const-string v4, "IOException happened when close InputStream."

    invoke-static {v3, v4, v10}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_5

    .line 13515
    .end local v8           #bd:Landroid/graphics/drawable/BitmapDrawable;
    .local v10, e:Ljava/io/FileNotFoundException;
    :catch_6
    move-exception v10

    .line 13516
    .local v10, e:Ljava/io/IOException;
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "IOException happened when close InputStream."

    invoke-static {v2, v3, v10}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_6

    .line 13509
    .end local v10           #e:Ljava/io/IOException;
    :catch_7
    move-exception v10

    .line 13510
    .local v10, e:Ljava/lang/NullPointerException;
    :try_start_b
    const-string v2, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "Unknown wall paper resource! filePath = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3, v10}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V
    :try_end_b
    .catchall {:try_start_b .. :try_end_b} :catchall_1

    .line 13512
    if-eqz v13, :cond_6

    .line 13514
    :try_start_c
    invoke-virtual {v13}, Ljava/io/InputStream;->close()V
    :try_end_c
    .catch Ljava/io/IOException; {:try_start_c .. :try_end_c} :catch_8

    .line 13518
    .end local v10           #e:Ljava/lang/NullPointerException;
    :goto_7
    const-string v2, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "Unknown wall paper resource! filePath = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_2

    .line 13515
    .restart local v10       #e:Ljava/lang/NullPointerException;
    :catch_8
    move-exception v10

    .line 13516
    .local v10, e:Ljava/io/IOException;
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "IOException happened when close InputStream."

    invoke-static {v2, v3, v10}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_7

    .line 13512
    .end local v10           #e:Ljava/io/IOException;
    :catchall_1
    move-exception v2

    if-eqz v13, :cond_a

    .line 13514
    :try_start_d
    invoke-virtual {v13}, Ljava/io/InputStream;->close()V
    :try_end_d
    .catch Ljava/io/IOException; {:try_start_d .. :try_end_d} :catch_9

    .line 13518
    :goto_8
    const-string v3, "Mms/ipmsg/compose"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Unknown wall paper resource! filePath = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    :cond_a
    throw v2

    .line 13515
    :catch_9
    move-exception v10

    .line 13516
    .restart local v10       #e:Ljava/io/IOException;
    const-string v3, "Mms/ipmsg/compose"

    const-string v4, "IOException happened when close InputStream."

    invoke-static {v3, v4, v10}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_8

    .line 13521
    .end local v10           #e:Ljava/io/IOException;
    .end local v12           #imageUri:Landroid/net/Uri;
    .end local v13           #is:Ljava/io/InputStream;
    :cond_b
    invoke-static {v11}, Landroid/text/TextUtils;->isDigitsOnly(Ljava/lang/CharSequence;)Z

    move-result v2

    if-eqz v2, :cond_6

    .line 13522
    const/4 v15, 0x0

    .line 13524
    .local v15, resId:I
    :try_start_e
    invoke-static {v11}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v15

    .line 13525
    if-lez v15, :cond_d

    .line 13527
    invoke-static {}, Lcom/android/mms/MmsConfig;->isSupportAsyncUpdateWallpaper()Z

    move-result v2

    if-eqz v2, :cond_c

    .line 13528
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSetWallPaperHandler:Landroid/os/Handler;

    const/16 v3, 0x2711

    const/4 v4, 0x0

    invoke-virtual {v2, v3, v15, v4}, Landroid/os/Handler;->obtainMessage(III)Landroid/os/Message;

    move-result-object v14

    .line 13529
    .restart local v14       #msg:Landroid/os/Message;
    invoke-virtual {v14}, Landroid/os/Message;->sendToTarget()V

    .line 13535
    .end local v14           #msg:Landroid/os/Message;
    :goto_9
    const/4 v2, 0x1

    goto/16 :goto_0

    .line 13532
    :cond_c
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWallPaper:Landroid/widget/ImageView;

    invoke-virtual {v2, v15}, Landroid/widget/ImageView;->setImageResource(I)V
    :try_end_e
    .catch Ljava/lang/NumberFormatException; {:try_start_e .. :try_end_e} :catch_a

    goto :goto_9

    .line 13537
    :catch_a
    move-exception v10

    .line 13538
    .local v10, e:Ljava/lang/NumberFormatException;
    const-string v2, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "Unknown wall paper resource id! resourceId = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v15}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 13540
    .end local v10           #e:Ljava/lang/NumberFormatException;
    :cond_d
    const-string v2, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "Unknown wall paper resource! filePath = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_2
.end method

.method private shareIpMsg(Lcom/mediatek/mms/ipmessage/message/IpMessage;)V
    .locals 5
    .parameter "ipMessage"

    .prologue
    .line 13550
    if-nez p1, :cond_0

    .line 13551
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "shareIpMsg(): message item is null!"

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13573
    :goto_0
    return-void

    .line 13554
    :cond_0
    instance-of v2, p1, Lcom/mediatek/mms/ipmessage/message/IpAttachMessage;

    if-eqz v2, :cond_1

    .line 13555
    invoke-static {}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getSDCardStatus()Z

    move-result v2

    if-nez v2, :cond_1

    .line 13556
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v2

    const/16 v3, 0xc5

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v2

    invoke-static {p0, v2}, Lcom/android/mms/ui/MessageUtils;->createLoseSDCardNotice(Landroid/content/Context;Ljava/lang/String;)V

    goto :goto_0

    .line 13562
    :cond_1
    new-instance v1, Landroid/content/Intent;

    const-string v2, "android.intent.action.SEND"

    invoke-direct {v1, v2}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 13563
    .local v1, intent:Landroid/content/Intent;
    invoke-direct {p0, v1, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->setIntent(Landroid/content/Intent;Lcom/mediatek/mms/ipmessage/message/IpMessage;)Landroid/content/Intent;

    move-result-object v1

    .line 13564
    const-string v2, "android.intent.extra.SUBJECT"

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v3

    const/16 v4, 0xca

    invoke-virtual {v3, v4}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    .line 13567
    :try_start_0
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v2

    const/16 v3, 0xc9

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Landroid/content/Intent;->createChooser(Landroid/content/Intent;Ljava/lang/CharSequence;)Landroid/content/Intent;

    move-result-object v2

    invoke-virtual {p0, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivity(Landroid/content/Intent;)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    .line 13570
    :catch_0
    move-exception v0

    .line 13571
    .local v0, e:Ljava/lang/Exception;
    const-string v2, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "shareIpMsg(): Exception:"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v0}, Ljava/lang/Throwable;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0
.end method

.method private showAddAttachmentDialog(Z)V
    .locals 1
    .parameter "append"

    .prologue
    .line 5408
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSoloAlertDialog:Lcom/android/mms/ui/ComposeMessageActivity$SoloAlertDialog;

    invoke-virtual {v0, p1}, Lcom/android/mms/ui/ComposeMessageActivity$SoloAlertDialog;->show(Z)V

    .line 5410
    return-void
.end method

.method private showConfirmDialog(Landroid/net/Uri;ZII)V
    .locals 6
    .parameter "uri"
    .parameter "append"
    .parameter "type"
    .parameter "messageId"

    .prologue
    .line 9165
    invoke-virtual {p0}, Landroid/app/Activity;->isFinishing()Z

    move-result v3

    if-eqz v3, :cond_0

    .line 9235
    :goto_0
    return-void

    .line 9169
    :cond_0
    move-object v1, p1

    .line 9170
    .local v1, mRestrictedMidea:Landroid/net/Uri;
    move v0, p2

    .line 9171
    .local v0, mRestrictedAppend:Z
    move v2, p3

    .line 9173
    .local v2, mRestrictedType:I
    new-instance v3, Landroid/app/AlertDialog$Builder;

    invoke-direct {v3, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    const v4, 0x7f0b001b

    invoke-virtual {v3, v4}, Landroid/app/AlertDialog$Builder;->setTitle(I)Landroid/app/AlertDialog$Builder;

    move-result-object v3

    const v4, 0x1010355

    invoke-virtual {v3, v4}, Landroid/app/AlertDialog$Builder;->setIconAttribute(I)Landroid/app/AlertDialog$Builder;

    move-result-object v3

    invoke-virtual {v3, p4}, Landroid/app/AlertDialog$Builder;->setMessage(I)Landroid/app/AlertDialog$Builder;

    move-result-object v3

    const v4, 0x104000a

    new-instance v5, Lcom/android/mms/ui/ComposeMessageActivity$76;

    invoke-direct {v5, p0, v1, v2, v0}, Lcom/android/mms/ui/ComposeMessageActivity$76;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;IZ)V

    invoke-virtual {v3, v4, v5}, Landroid/app/AlertDialog$Builder;->setPositiveButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v3

    const/high16 v4, 0x104

    new-instance v5, Lcom/android/mms/ui/ComposeMessageActivity$75;

    invoke-direct {v5, p0}, Lcom/android/mms/ui/ComposeMessageActivity$75;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v3, v4, v5}, Landroid/app/AlertDialog$Builder;->setNegativeButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v3

    new-instance v4, Lcom/android/mms/ui/ComposeMessageActivity$74;

    invoke-direct {v4, p0}, Lcom/android/mms/ui/ComposeMessageActivity$74;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v3, v4}, Landroid/app/AlertDialog$Builder;->setOnCancelListener(Landroid/content/DialogInterface$OnCancelListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v3

    invoke-virtual {v3}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    goto :goto_0
.end method

.method private showDeliveryReport(JLjava/lang/String;)V
    .locals 2
    .parameter "messageId"
    .parameter "type"

    .prologue
    .line 3034
    new-instance v0, Landroid/content/Intent;

    const-class v1, Lcom/android/mms/ui/DeliveryReportActivity;

    invoke-direct {v0, p0, v1}, Landroid/content/Intent;-><init>(Landroid/content/Context;Ljava/lang/Class;)V

    .line 3035
    .local v0, intent:Landroid/content/Intent;
    const-string v1, "message_id"

    invoke-virtual {v0, v1, p1, p2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;J)Landroid/content/Intent;

    .line 3036
    const-string v1, "message_type"

    invoke-virtual {v0, v1, p3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    .line 3038
    invoke-virtual {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivity(Landroid/content/Intent;)V

    .line 3039
    return-void
.end method

.method private showDeliveryReportForCT(JLjava/lang/String;J)V
    .locals 2
    .parameter "messageId"
    .parameter "type"
    .parameter "groupId"

    .prologue
    .line 3048
    new-instance v0, Landroid/content/Intent;

    const-class v1, Lcom/android/mms/ui/DeliveryReportActivity;

    invoke-direct {v0, p0, v1}, Landroid/content/Intent;-><init>(Landroid/content/Context;Ljava/lang/Class;)V

    .line 3049
    .local v0, intent:Landroid/content/Intent;
    const-string v1, "message_id"

    invoke-virtual {v0, v1, p1, p2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;J)Landroid/content/Intent;

    .line 3050
    const-string v1, "message_type"

    invoke-virtual {v0, v1, p3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    .line 3051
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

    invoke-interface {v1, v0, p4, p5}, Lcom/mediatek/mms/ext/IMmsUtils;->setIntentDateForMassTextMessage(Landroid/content/Intent;J)V

    .line 3053
    invoke-virtual {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivity(Landroid/content/Intent;)V

    .line 3054
    return-void
.end method

.method private showDiscardCurrentMessageDialog(J)V
    .locals 3
    .parameter "currentMsgId"

    .prologue
    .line 13777
    new-instance v0, Landroid/app/AlertDialog$Builder;

    invoke-direct {v0, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    const v1, 0x7f0b0261

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setTitle(I)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v1

    const/16 v2, 0xe8

    invoke-virtual {v1, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    const/high16 v1, 0x104

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$121;

    invoke-direct {v2, p0}, Lcom/android/mms/ui/ComposeMessageActivity$121;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1, v2}, Landroid/app/AlertDialog$Builder;->setNegativeButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v1

    const/16 v2, 0xea

    invoke-virtual {v1, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v1

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$120;

    invoke-direct {v2, p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity$120;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;J)V

    invoke-virtual {v0, v1, v2}, Landroid/app/AlertDialog$Builder;->setPositiveButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    invoke-virtual {v0}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    .line 13795
    return-void
.end method

.method private showEmoticonPanel(Z)V
    .locals 2
    .parameter "isShow"

    .prologue
    .line 10661
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonPanel:Lcom/android/mms/ui/EmoticonPanel;

    if-eqz v0, :cond_0

    .line 10662
    if-eqz p1, :cond_1

    .line 10663
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonPanel:Lcom/android/mms/ui/EmoticonPanel;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/view/View;->setVisibility(I)V

    .line 10664
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonButton:Landroid/widget/ImageButton;

    const v1, 0x7f020113

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 10669
    :goto_0
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowKeyBoardFromEmoticon:Z

    .line 10671
    :cond_0
    return-void

    .line 10666
    :cond_1
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonPanel:Lcom/android/mms/ui/EmoticonPanel;

    const/16 v1, 0x8

    invoke-virtual {v0, v1}, Landroid/view/View;->setVisibility(I)V

    .line 10667
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonButton:Landroid/widget/ImageButton;

    const v1, 0x7f02010e

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setImageResource(I)V

    goto :goto_0
.end method

.method private showInvitePanel()V
    .locals 4

    .prologue
    .line 13837
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteView:Landroid/view/View;

    if-eqz v0, :cond_0

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    if-eqz v0, :cond_0

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v0

    const-wide/16 v2, 0x0

    cmp-long v0, v0, v2

    if-lez v0, :cond_0

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 13841
    :cond_0
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hiddeInvitePanel()V

    .line 13855
    :goto_0
    return-void

    .line 13844
    :cond_1
    new-instance v0, Ljava/lang/Thread;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$122;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$122;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-direct {v0, v1}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v0}, Ljava/lang/Thread;->start()V

    goto :goto_0
.end method

.method private showInvitePanel(I)V
    .locals 11
    .parameter "inviteType"

    .prologue
    const/16 v10, 0xb5

    const/4 v9, 0x0

    const/4 v8, 0x1

    .line 13858
    packed-switch p1, :pswitch_data_0

    .line 13922
    :pswitch_0
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hiddeInvitePanel()V

    .line 13924
    :goto_0
    return-void

    .line 13860
    :pswitch_1
    iget-boolean v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowInviteMsg:Z

    if-eqz v5, :cond_0

    .line 13862
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteView:Landroid/view/View;

    invoke-virtual {v5, v9}, Landroid/view/View;->setVisibility(I)V

    .line 13863
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v5}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v1

    .line 13864
    .local v1, contactList1:Lcom/android/mms/data/ContactList;
    invoke-virtual {v1, v9}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/mms/data/Contact;

    .line 13865
    .local v0, contact1:Lcom/android/mms/data/Contact;
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v5

    const/16 v6, 0xb2

    invoke-virtual {v5, v6}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v5

    const/4 v6, 0x2

    new-array v6, v6, [Ljava/lang/Object;

    invoke-virtual {v0}, Lcom/android/mms/data/Contact;->getName()Ljava/lang/String;

    move-result-object v7

    aput-object v7, v6, v9

    invoke-virtual {v0}, Lcom/android/mms/data/Contact;->getName()Ljava/lang/String;

    move-result-object v7

    aput-object v7, v6, v8

    invoke-static {v5, v6}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v3

    .line 13870
    .local v3, inviteStr1:Ljava/lang/String;
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInvitePostiveBtn:Landroid/widget/Button;

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v6

    const/16 v7, 0xb4

    invoke-virtual {v6, v7}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v5, v6}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 13872
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInvitePostiveBtn:Landroid/widget/Button;

    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteClickListener:Landroid/view/View$OnClickListener;

    invoke-virtual {v5, v6}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 13873
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInvitePostiveBtn:Landroid/widget/Button;

    invoke-virtual {v5, v8}, Landroid/view/View;->setClickable(Z)V

    .line 13874
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteNegativeBtn:Landroid/widget/Button;

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v6

    invoke-virtual {v6, v10}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v5, v6}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 13876
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteNegativeBtn:Landroid/widget/Button;

    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDismissInviteClickListener:Landroid/view/View$OnClickListener;

    invoke-virtual {v5, v6}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 13877
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteNegativeBtn:Landroid/widget/Button;

    invoke-virtual {v5, v8}, Landroid/view/View;->setClickable(Z)V

    .line 13878
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteMsg:Landroid/widget/TextView;

    invoke-virtual {v5, v3}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    goto :goto_0

    .line 13880
    .end local v0           #contact1:Lcom/android/mms/data/Contact;
    .end local v1           #contactList1:Lcom/android/mms/data/ContactList;
    .end local v3           #inviteStr1:Ljava/lang/String;
    :cond_0
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hiddeInvitePanel()V

    goto :goto_0

    .line 13886
    :pswitch_2
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteView:Landroid/view/View;

    invoke-virtual {v5, v9}, Landroid/view/View;->setVisibility(I)V

    .line 13887
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v5

    const/16 v6, 0xb9

    invoke-virtual {v5, v6}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v4

    .line 13889
    .local v4, inviteStr2:Ljava/lang/String;
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInvitePostiveBtn:Landroid/widget/Button;

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v6

    const/16 v7, 0xb8

    invoke-virtual {v6, v7}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v5, v6}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 13891
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInvitePostiveBtn:Landroid/widget/Button;

    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mActivateIpMsgListener:Landroid/view/View$OnClickListener;

    invoke-virtual {v5, v6}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 13892
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInvitePostiveBtn:Landroid/widget/Button;

    invoke-virtual {v5, v8}, Landroid/view/View;->setClickable(Z)V

    .line 13893
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteNegativeBtn:Landroid/widget/Button;

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v6

    invoke-virtual {v6, v10}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v5, v6}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 13895
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteNegativeBtn:Landroid/widget/Button;

    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDismissInviteClickListener:Landroid/view/View$OnClickListener;

    invoke-virtual {v5, v6}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 13896
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteNegativeBtn:Landroid/widget/Button;

    invoke-virtual {v5, v8}, Landroid/view/View;->setClickable(Z)V

    .line 13897
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteMsg:Landroid/widget/TextView;

    invoke-virtual {v5, v4}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    goto/16 :goto_0

    .line 13902
    .end local v4           #inviteStr2:Ljava/lang/String;
    :pswitch_3
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteView:Landroid/view/View;

    invoke-virtual {v5, v9}, Landroid/view/View;->setVisibility(I)V

    .line 13903
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v5

    const/16 v6, 0xb3

    invoke-virtual {v5, v6}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v5

    new-array v6, v8, [Ljava/lang/Object;

    invoke-static {}, Lcom/android/mms/ui/MessageUtils;->getMainCardDisplayName()Ljava/lang/String;

    move-result-object v7

    aput-object v7, v6, v9

    invoke-static {v5, v6}, Ljava/lang/String;->format(Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v2

    .line 13907
    .local v2, inviteStr:Ljava/lang/String;
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInvitePostiveBtn:Landroid/widget/Button;

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v6

    const/16 v7, 0xb6

    invoke-virtual {v6, v7}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v5, v6}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 13909
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInvitePostiveBtn:Landroid/widget/Button;

    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEnableIPMsgListener:Landroid/view/View$OnClickListener;

    invoke-virtual {v5, v6}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 13910
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInvitePostiveBtn:Landroid/widget/Button;

    invoke-virtual {v5, v8}, Landroid/view/View;->setClickable(Z)V

    .line 13911
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteNegativeBtn:Landroid/widget/Button;

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v6

    invoke-virtual {v6, v10}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v5, v6}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 13913
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteNegativeBtn:Landroid/widget/Button;

    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDismissInviteClickListener:Landroid/view/View$OnClickListener;

    invoke-virtual {v5, v6}, Landroid/view/View;->setOnClickListener(Landroid/view/View$OnClickListener;)V

    .line 13914
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteNegativeBtn:Landroid/widget/Button;

    invoke-virtual {v5, v8}, Landroid/view/View;->setClickable(Z)V

    .line 13915
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteMsg:Landroid/widget/TextView;

    invoke-virtual {v5, v2}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    goto/16 :goto_0

    .line 13858
    nop

    :pswitch_data_0
    .packed-switch 0x1
        :pswitch_1
        :pswitch_2
        :pswitch_0
        :pswitch_3
    .end packed-switch
.end method

.method private showIpMessageConvertToMmsOrSmsDialog(II)V
    .locals 4
    .parameter "mode"
    .parameter "convertReason"

    .prologue
    .line 12468
    const-string v0, ""

    .line 12469
    .local v0, message:Ljava/lang/String;
    if-nez p2, :cond_2

    .line 12470
    if-nez p1, :cond_1

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v1

    const/16 v2, 0xdd

    invoke-virtual {v1, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v0

    .line 12482
    :cond_0
    :goto_0
    new-instance v2, Landroid/app/AlertDialog$Builder;

    invoke-direct {v2, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    if-nez p1, :cond_4

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v1

    const/16 v3, 0xda

    invoke-virtual {v1, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v1

    :goto_1
    invoke-virtual {v2, v1}, Landroid/app/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    move-result-object v1

    invoke-virtual {v1, v0}, Landroid/app/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    move-result-object v1

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v2

    const/16 v3, 0xea

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v2

    new-instance v3, Lcom/android/mms/ui/ComposeMessageActivity$111;

    invoke-direct {v3, p0}, Lcom/android/mms/ui/ComposeMessageActivity$111;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v1, v2, v3}, Landroid/app/AlertDialog$Builder;->setPositiveButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v1

    const/high16 v2, 0x104

    new-instance v3, Lcom/android/mms/ui/ComposeMessageActivity$110;

    invoke-direct {v3, p0}, Lcom/android/mms/ui/ComposeMessageActivity$110;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v1, v2, v3}, Landroid/app/AlertDialog$Builder;->setNegativeButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v1

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$109;

    invoke-direct {v2, p0}, Lcom/android/mms/ui/ComposeMessageActivity$109;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v1, v2}, Landroid/app/AlertDialog$Builder;->setOnKeyListener(Landroid/content/DialogInterface$OnKeyListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v1

    invoke-virtual {v1}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    .line 12541
    return-void

    .line 12470
    :cond_1
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v1

    const/16 v2, 0xdc

    invoke-virtual {v1, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v0

    goto :goto_0

    .line 12475
    :cond_2
    const/4 v1, 0x1

    if-ne p2, v1, :cond_0

    .line 12476
    if-nez p1, :cond_3

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v1

    const/16 v2, 0xdf

    invoke-virtual {v1, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v0

    :goto_2
    goto :goto_0

    :cond_3
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v1

    const/16 v2, 0xde

    invoke-virtual {v1, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v0

    goto :goto_2

    .line 12482
    :cond_4
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v1

    const/16 v3, 0xd9

    invoke-virtual {v1, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v1

    goto :goto_1
.end method

.method private showKeyBoard(Z)V
    .locals 3
    .parameter "isShow"

    .prologue
    .line 10674
    if-eqz p1, :cond_0

    .line 10675
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v0}, Landroid/view/View;->requestFocus()Z

    .line 10676
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInputMethodManager:Landroid/view/inputmethod/InputMethodManager;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    const/4 v2, 0x0

    invoke-virtual {v0, v1, v2}, Landroid/view/inputmethod/InputMethodManager;->showSoftInput(Landroid/view/View;I)Z

    .line 10677
    const/4 v0, 0x1

    iput-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsKeyboardOpen:Z

    .line 10681
    :goto_0
    return-void

    .line 10679
    :cond_0
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideInputMethod()V

    goto :goto_0
.end method

.method private showMessageDetails(Lcom/android/mms/ui/MessageItem;)Z
    .locals 5
    .parameter "msgItem"

    .prologue
    const/4 v4, 0x1

    .line 1179
    invoke-static {}, Lcom/android/mms/MmsConfig;->isSupportCTFeature()Z

    move-result v1

    if-eqz v1, :cond_0

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    iget-wide v2, p1, Lcom/android/mms/ui/MessageItem;->mIpMessageId:J

    invoke-interface {v1, p0, v2, v3}, Lcom/mediatek/mms/ext/IMmsCompose;->showMassTextMsgDetail(Landroid/content/Context;J)Z

    move-result v1

    if-eqz v1, :cond_0

    .line 1192
    :goto_0
    return v4

    .line 1182
    :cond_0
    invoke-static {p0, p1}, Lcom/android/mms/ui/MessageUtils;->getMessageDetails(Landroid/content/Context;Lcom/android/mms/ui/MessageItem;)Ljava/lang/String;

    move-result-object v0

    .line 1186
    .local v0, messageDetails:Ljava/lang/String;
    const-string v1, "Mms/compose"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "showMessageDetails. messageDetails:"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 1187
    new-instance v1, Landroid/app/AlertDialog$Builder;

    invoke-direct {v1, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    const v2, 0x7f0b02c1

    invoke-virtual {v1, v2}, Landroid/app/AlertDialog$Builder;->setTitle(I)Landroid/app/AlertDialog$Builder;

    move-result-object v1

    invoke-virtual {v1, v0}, Landroid/app/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    move-result-object v1

    invoke-virtual {v1, v4}, Landroid/app/AlertDialog$Builder;->setCancelable(Z)Landroid/app/AlertDialog$Builder;

    move-result-object v1

    invoke-virtual {v1}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    goto :goto_0
.end method

.method private showMmsOrSmsConvertToIpMessageDialog(IZ)V
    .locals 3
    .parameter "mode"
    .parameter "bCheckEcmMode"

    .prologue
    .line 12702
    new-instance v0, Landroid/app/AlertDialog$Builder;

    invoke-direct {v0, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v1

    const/16 v2, 0xdb

    invoke-virtual {v1, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    move-result-object v1

    if-nez p1, :cond_0

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v0

    const/16 v2, 0xe0

    invoke-virtual {v0, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v0

    :goto_0
    invoke-virtual {v1, v0}, Landroid/app/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v1

    const/16 v2, 0xe4

    invoke-virtual {v1, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v1

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$114;

    invoke-direct {v2, p0}, Lcom/android/mms/ui/ComposeMessageActivity$114;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1, v2}, Landroid/app/AlertDialog$Builder;->setPositiveButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v1

    if-nez p1, :cond_1

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v0

    const/16 v2, 0xe3

    invoke-virtual {v0, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v0

    :goto_1
    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$113;

    invoke-direct {v2, p0, p2}, Lcom/android/mms/ui/ComposeMessageActivity$113;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Z)V

    invoke-virtual {v1, v0, v2}, Landroid/app/AlertDialog$Builder;->setNegativeButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$112;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$112;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setOnKeyListener(Landroid/content/DialogInterface$OnKeyListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    invoke-virtual {v0}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    .line 12745
    return-void

    .line 12702
    :cond_0
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v0

    const/16 v2, 0xe1

    invoke-virtual {v0, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v0

    goto :goto_0

    :cond_1
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v0

    const/16 v2, 0xe2

    invoke-virtual {v0, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v0

    goto :goto_1
.end method

.method private showQuickTextDialog()V
    .locals 15

    .prologue
    .line 9952
    const/4 v1, 0x0

    iput-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQuickTextDialog:Landroid/app/AlertDialog;

    .line 9954
    new-instance v12, Ljava/util/ArrayList;

    invoke-direct {v12}, Ljava/util/ArrayList;-><init>()V

    .line 9957
    .local v12, quickTextsList:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-static {}, Lcom/android/mms/MmsConfig;->getInitQuickText()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 9958
    invoke-virtual {p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    const v3, 0x7f060003

    invoke-virtual {v1, v3}, Landroid/content/res/Resources;->getStringArray(I)[Ljava/lang/String;

    move-result-object v7

    .line 9959
    .local v7, defaultQuickTexts:[Ljava/lang/String;
    const/4 v9, 0x0

    .local v9, i:I
    :goto_0
    array-length v1, v7

    if-ge v9, v1, :cond_2

    .line 9960
    aget-object v1, v7, v9

    invoke-interface {v12, v1}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    .line 9959
    add-int/lit8 v9, v9, 0x1

    goto :goto_0

    .line 9964
    .end local v7           #defaultQuickTexts:[Ljava/lang/String;
    .end local v9           #i:I
    :cond_0
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v0

    sget-object v1, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedTelephony$MmsSms;->CONTENT_URI_QUICKTEXT:Landroid/net/Uri;

    const/4 v2, 0x0

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    invoke-virtual/range {v0 .. v5}, Landroid/content/ContentResolver;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v6

    .line 9966
    .local v6, cursor:Landroid/database/Cursor;
    if-eqz v6, :cond_2

    .line 9967
    :goto_1
    invoke-interface {v6}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_1

    .line 9968
    const/4 v1, 0x1

    invoke-interface {v6, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v1

    invoke-interface {v12, v1}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    goto :goto_1

    .line 9970
    :cond_1
    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    .line 9975
    .end local v6           #cursor:Landroid/database/Cursor;
    :cond_2
    new-instance v2, Ljava/util/ArrayList;

    invoke-direct {v2}, Ljava/util/ArrayList;-><init>()V

    .line 9976
    .local v2, entries:Ljava/util/List;,"Ljava/util/List<Ljava/util/Map<Ljava/lang/String;*>;>;"
    invoke-interface {v12}, Ljava/util/List;->iterator()Ljava/util/Iterator;

    move-result-object v10

    .local v10, i$:Ljava/util/Iterator;
    :goto_2
    invoke-interface {v10}, Ljava/util/Iterator;->hasNext()Z

    move-result v1

    if-eqz v1, :cond_3

    invoke-interface {v10}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v13

    check-cast v13, Ljava/lang/String;

    .line 9977
    .local v13, text:Ljava/lang/String;
    new-instance v8, Ljava/util/HashMap;

    invoke-direct {v8}, Ljava/util/HashMap;-><init>()V

    .line 9978
    .local v8, entry:Ljava/util/HashMap;,"Ljava/util/HashMap<Ljava/lang/String;Ljava/lang/Object;>;"
    const-string v1, "text"

    invoke-virtual {v8, v1, v13}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9979
    invoke-interface {v2, v8}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    goto :goto_2

    .line 9982
    .end local v8           #entry:Ljava/util/HashMap;,"Ljava/util/HashMap<Ljava/lang/String;Ljava/lang/Object;>;"
    .end local v13           #text:Ljava/lang/String;
    :cond_3
    new-instance v0, Landroid/widget/SimpleAdapter;

    const v3, 0x7f040055

    const/4 v1, 0x1

    new-array v4, v1, [Ljava/lang/String;

    const/4 v1, 0x0

    const-string v5, "text"

    aput-object v5, v4, v1

    const/4 v1, 0x1

    new-array v5, v1, [I

    const/4 v1, 0x0

    const v14, 0x7f0f015d

    aput v14, v5, v1

    move-object v1, p0

    invoke-direct/range {v0 .. v5}, Landroid/widget/SimpleAdapter;-><init>(Landroid/content/Context;Ljava/util/List;I[Ljava/lang/String;[I)V

    .line 9985
    .local v0, qtAdapter:Landroid/widget/SimpleAdapter;
    new-instance v11, Landroid/app/AlertDialog$Builder;

    invoke-direct {v11, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    .line 9987
    .local v11, qtBuilder:Landroid/app/AlertDialog$Builder;
    const v1, 0x7f0b0218

    invoke-virtual {p0, v1}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v11, v1}, Landroid/app/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    .line 9988
    const/4 v1, 0x1

    invoke-virtual {v11, v1}, Landroid/app/AlertDialog$Builder;->setCancelable(Z)Landroid/app/AlertDialog$Builder;

    .line 9989
    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$84;

    invoke-direct {v1, p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity$84;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/widget/SimpleAdapter;)V

    invoke-virtual {v11, v0, v1}, Landroid/app/AlertDialog$Builder;->setAdapter(Landroid/widget/ListAdapter;Landroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    .line 10001
    invoke-virtual {v11}, Landroid/app/AlertDialog$Builder;->create()Landroid/app/AlertDialog;

    move-result-object v1

    iput-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQuickTextDialog:Landroid/app/AlertDialog;

    .line 10003
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQuickTextDialog:Landroid/app/AlertDialog;

    invoke-virtual {v1}, Landroid/app/Dialog;->show()V

    .line 10004
    return-void
.end method

.method private showReplaceAttachDialog()V
    .locals 3

    .prologue
    .line 14149
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mReplaceDialog:Landroid/app/AlertDialog;

    if-eqz v0, :cond_0

    .line 14182
    :goto_0
    return-void

    .line 14152
    :cond_0
    new-instance v0, Landroid/app/AlertDialog$Builder;

    invoke-direct {v0, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v1

    const/16 v2, 0xe5

    invoke-virtual {v1, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v1

    const/16 v2, 0xe6

    invoke-virtual {v1, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    const v1, 0x7f0b0006

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$130;

    invoke-direct {v2, p0}, Lcom/android/mms/ui/ComposeMessageActivity$130;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1, v2}, Landroid/app/AlertDialog$Builder;->setPositiveButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    const/high16 v1, 0x104

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$129;

    invoke-direct {v2, p0}, Lcom/android/mms/ui/ComposeMessageActivity$129;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1, v2}, Landroid/app/AlertDialog$Builder;->setNegativeButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    invoke-virtual {v0}, Landroid/app/AlertDialog$Builder;->create()Landroid/app/AlertDialog;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mReplaceDialog:Landroid/app/AlertDialog;

    .line 14175
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mReplaceDialog:Landroid/app/AlertDialog;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$131;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$131;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1}, Landroid/app/Dialog;->setOnDismissListener(Landroid/content/DialogInterface$OnDismissListener;)V

    .line 14181
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mReplaceDialog:Landroid/app/AlertDialog;

    invoke-virtual {v0}, Landroid/app/Dialog;->show()V

    goto :goto_0
.end method

.method private showResendConfirmDialg(JJ[[J)V
    .locals 16
    .parameter "currentMsgId"
    .parameter "currentSimId"
    .parameter "allFailedIpMsgIds"

    .prologue
    .line 13677
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getMessageManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/MessageManager;

    move-result-object v2

    move-wide/from16 v0, p1

    invoke-virtual {v2, v0, v1}, Lcom/mediatek/mms/ipmessage/MessageManager;->getIpMsgInfo(J)Lcom/mediatek/mms/ipmessage/message/IpMessage;

    move-result-object v12

    .line 13678
    .local v12, ipMessage:Lcom/mediatek/mms/ipmessage/message/IpMessage;
    if-nez v12, :cond_0

    .line 13679
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "showResendConfirmDialg(): ipMessage is null."

    new-instance v4, Ljava/lang/Exception;

    invoke-direct {v4}, Ljava/lang/Exception;-><init>()V

    invoke-static {v2, v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    .line 13750
    :goto_0
    return-void

    .line 13682
    :cond_0
    const-string v15, ""

    .line 13683
    .local v15, title:Ljava/lang/String;
    invoke-virtual {v12}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getStatus()I

    move-result v2

    if-nez v2, :cond_2

    .line 13684
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v2

    const/16 v3, 0xc0

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v15

    .line 13690
    :goto_1
    const-string v14, ""

    .line 13691
    .local v14, sendViaMsg:Ljava/lang/String;
    invoke-virtual {v12}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v2

    if-nez v2, :cond_3

    .line 13692
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v2

    const/16 v3, 0xc3

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v14

    .line 13698
    :goto_2
    new-instance v11, Ljava/util/ArrayList;

    invoke-direct {v11}, Ljava/util/ArrayList;-><init>()V

    .line 13699
    .local v11, buttonList:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v2

    const/16 v3, 0xc1

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v2

    invoke-interface {v11, v2}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    .line 13701
    if-eqz p5, :cond_1

    move-object/from16 v0, p5

    array-length v2, v0

    const/4 v3, 0x1

    if-le v2, v3, :cond_1

    .line 13702
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v2

    const/16 v3, 0xc2

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v2

    invoke-interface {v11, v2}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    .line 13705
    :cond_1
    invoke-interface {v11, v14}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    .line 13706
    invoke-interface {v11}, Ljava/util/List;->size()I

    move-result v8

    .line 13707
    .local v8, buttonCount:I
    new-instance v2, Landroid/app/AlertDialog$Builder;

    move-object/from16 v0, p0

    invoke-direct {v2, v0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    invoke-virtual {v2, v15}, Landroid/app/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    move-result-object v10

    .line 13708
    .local v10, builder:Landroid/app/AlertDialog$Builder;
    new-instance v13, Landroid/widget/ArrayAdapter;

    const v2, 0x7f040059

    const v3, 0x7f0f0161

    move-object/from16 v0, p0

    invoke-direct {v13, v0, v2, v3, v11}, Landroid/widget/ArrayAdapter;-><init>(Landroid/content/Context;IILjava/util/List;)V

    .line 13710
    .local v13, resendAdapter:Landroid/widget/ArrayAdapter;,"Landroid/widget/ArrayAdapter<Ljava/lang/String;>;"
    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$118;

    move-object/from16 v3, p0

    move-wide/from16 v4, p1

    move-wide/from16 v6, p3

    move-object/from16 v9, p5

    invoke-direct/range {v2 .. v9}, Lcom/android/mms/ui/ComposeMessageActivity$118;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;JJI[[J)V

    invoke-virtual {v10, v13, v2}, Landroid/app/AlertDialog$Builder;->setAdapter(Landroid/widget/ListAdapter;Landroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    .line 13748
    invoke-virtual {v10}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    goto :goto_0

    .line 13687
    .end local v8           #buttonCount:I
    .end local v10           #builder:Landroid/app/AlertDialog$Builder;
    .end local v11           #buttonList:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v13           #resendAdapter:Landroid/widget/ArrayAdapter;,"Landroid/widget/ArrayAdapter<Ljava/lang/String;>;"
    .end local v14           #sendViaMsg:Ljava/lang/String;
    :cond_2
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v2

    const/16 v3, 0xbf

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v15

    goto :goto_1

    .line 13695
    .restart local v14       #sendViaMsg:Ljava/lang/String;
    :cond_3
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v2

    const/16 v3, 0xc4

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v14

    goto :goto_2
.end method

.method private showSharePanel(Z)V
    .locals 2
    .parameter "isShow"

    .prologue
    .line 10648
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSharePanel:Lcom/mediatek/ipmsg/ui/SharePanel;

    if-eqz v0, :cond_0

    .line 10649
    if-eqz p1, :cond_1

    .line 10650
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSharePanel:Lcom/mediatek/ipmsg/ui/SharePanel;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/view/View;->setVisibility(I)V

    .line 10651
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShareButton:Landroid/widget/ImageButton;

    const v1, 0x7f020113

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 10656
    :goto_0
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowKeyBoardFromShare:Z

    .line 10658
    :cond_0
    return-void

    .line 10653
    :cond_1
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSharePanel:Lcom/mediatek/ipmsg/ui/SharePanel;

    const/16 v1, 0x8

    invoke-virtual {v0, v1}, Landroid/view/View;->setVisibility(I)V

    .line 10654
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShareButton:Landroid/widget/ImageButton;

    const v1, 0x7f02011e

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setImageResource(I)V

    goto :goto_0
.end method

.method private showSimSelectedDialog(Landroid/content/Intent;)V
    .locals 15
    .parameter "intent"

    .prologue
    .line 8997
    move-object/from16 v4, p1

    .line 8998
    .local v4, it:Landroid/content/Intent;
    new-instance v2, Ljava/util/ArrayList;

    invoke-direct {v2}, Ljava/util/ArrayList;-><init>()V

    .line 8999
    .local v2, entries:Ljava/util/List;,"Ljava/util/List<Ljava/util/Map<Ljava/lang/String;*>;>;"
    new-instance v6, Ljava/util/ArrayList;

    invoke-direct {v6}, Ljava/util/ArrayList;-><init>()V

    .line 9001
    .local v6, simListInfo:Ljava/util/List;,"Ljava/util/List<Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;>;"
    const/4 v11, 0x0

    iput-boolean v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsOneSimSelected:Z

    .line 9002
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHashSim:Ljava/util/HashMap;

    invoke-virtual {v11}, Ljava/util/HashMap;->clear()V

    .line 9004
    const/4 v8, 0x0

    .local v8, slotId:I
    :goto_0
    sget v11, Lcom/mediatek/encapsulation/com/android/internal/telephony/EncapsulatedPhone;->GEMINI_SIM_NUM:I

    if-ge v8, v11, :cond_8

    .line 9005
    invoke-static {p0, v8}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSimInfoBySlot(Landroid/content/Context;I)Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;

    move-result-object v5

    .line 9006
    .local v5, simInfo:Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;
    if-eqz v5, :cond_1

    .line 9007
    invoke-interface {v6, v5}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    .line 9008
    new-instance v3, Ljava/util/HashMap;

    invoke-direct {v3}, Ljava/util/HashMap;-><init>()V

    .line 9010
    .local v3, entry:Ljava/util/HashMap;,"Ljava/util/HashMap<Ljava/lang/String;Ljava/lang/Object;>;"
    const-string v11, "simIcon"

    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSimBackgroundLightRes()I

    move-result v12

    invoke-static {v12}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    invoke-virtual {v3, v11, v12}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9011
    invoke-static {}, Lcom/mediatek/encapsulation/com/mediatek/telephony/EncapsulatedTelephonyManagerEx;->getDefault()Lcom/mediatek/encapsulation/com/mediatek/telephony/EncapsulatedTelephonyManagerEx;

    move-result-object v11

    invoke-virtual {v11, v8}, Lcom/mediatek/encapsulation/com/mediatek/telephony/EncapsulatedTelephonyManagerEx;->getSimIndicatorStateGemini(I)I

    move-result v9

    .line 9012
    .local v9, state:I
    const-string v11, "simStatus"

    invoke-static {v9}, Lcom/android/mms/ui/MessageUtils;->getSimStatusResource(I)I

    move-result v12

    invoke-static {v12}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    invoke-virtual {v3, v11, v12}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9013
    iget-boolean v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpServiceEnabled:Z

    if-eqz v11, :cond_2

    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSimId()J

    move-result-wide v11

    long-to-int v11, v11

    invoke-static {p0, v11}, Lcom/android/mms/MmsConfig;->isServiceEnabled(Landroid/content/Context;I)Z

    move-result v11

    if-eqz v11, :cond_2

    .line 9014
    const-string v11, "Mms/ipmsg/compose"

    new-instance v12, Ljava/lang/StringBuilder;

    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V

    const-string v13, "show ipmessage icon, simId = "

    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v12

    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSimId()J

    move-result-wide v13

    invoke-virtual {v12, v13, v14}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v12

    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v12

    invoke-static {v11, v12}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 9015
    const-string v11, "ipmsg_indicator"

    const/16 v12, 0x232a

    invoke-static {v12}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    invoke-virtual {v3, v11, v12}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9020
    :goto_1
    const-string v7, ""

    .line 9021
    .local v7, simNumber:Ljava/lang/String;
    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getNumber()Ljava/lang/String;

    move-result-object v11

    invoke-static {v11}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    if-nez v11, :cond_0

    .line 9022
    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getDispalyNumberFormat()I

    move-result v11

    packed-switch v11, :pswitch_data_0

    .line 9043
    :cond_0
    :goto_2
    invoke-static {v7}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    if-nez v11, :cond_5

    .line 9044
    const-string v11, "simNumberShort"

    invoke-virtual {v3, v11, v7}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9049
    :goto_3
    const-string v11, "simName"

    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getDisplayName()Ljava/lang/String;

    move-result-object v12

    invoke-virtual {v3, v11, v12}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9050
    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getNumber()Ljava/lang/String;

    move-result-object v11

    invoke-static {v11}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    if-nez v11, :cond_6

    .line 9051
    const-string v11, "simNumber"

    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getNumber()Ljava/lang/String;

    move-result-object v12

    invoke-virtual {v3, v11, v12}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9055
    :goto_4
    iget v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAssociatedSimId:I

    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSimId()J

    move-result-wide v12

    long-to-int v12, v12

    if-ne v11, v12, :cond_7

    const-string v11, "Select_type"

    const/4 v12, -0x1

    invoke-virtual {v4, v11, v12}, Landroid/content/Intent;->getIntExtra(Ljava/lang/String;I)I

    move-result v11

    const/4 v12, 0x2

    if-eq v11, v12, :cond_7

    .line 9058
    const-string v11, "suggested"

    const v12, 0x7f0b0086

    invoke-virtual {p0, v12}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v12

    invoke-virtual {v3, v11, v12}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9062
    :goto_5
    invoke-interface {v2, v3}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    .line 9064
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHashSim:Ljava/util/HashMap;

    invoke-interface {v2}, Ljava/util/List;->size()I

    move-result v12

    add-int/lit8 v12, v12, -0x1

    invoke-static {v12}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSimId()J

    move-result-wide v13

    long-to-int v13, v13

    invoke-static {v13}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v13

    invoke-virtual {v11, v12, v13}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 9004
    .end local v3           #entry:Ljava/util/HashMap;,"Ljava/util/HashMap<Ljava/lang/String;Ljava/lang/Object;>;"
    .end local v7           #simNumber:Ljava/lang/String;
    .end local v9           #state:I
    :cond_1
    add-int/lit8 v8, v8, 0x1

    goto/16 :goto_0

    .line 9017
    .restart local v3       #entry:Ljava/util/HashMap;,"Ljava/util/HashMap<Ljava/lang/String;Ljava/lang/Object;>;"
    .restart local v9       #state:I
    :cond_2
    const-string v11, "Mms/ipmsg/compose"

    new-instance v12, Ljava/lang/StringBuilder;

    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V

    const-string v13, "hide ipmessage icon, simId = "

    invoke-virtual {v12, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v12

    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSimId()J

    move-result-wide v13

    invoke-virtual {v12, v13, v14}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v12

    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v12

    invoke-static {v11, v12}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 9018
    const-string v11, "ipmsg_indicator"

    const/4 v12, 0x0

    invoke-static {v12}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v12

    invoke-virtual {v3, v11, v12}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    goto/16 :goto_1

    .line 9024
    .restart local v7       #simNumber:Ljava/lang/String;
    :pswitch_0
    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getNumber()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/String;->length()I

    move-result v11

    const/4 v12, 0x4

    if-gt v11, v12, :cond_3

    .line 9025
    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getNumber()Ljava/lang/String;

    move-result-object v7

    goto/16 :goto_2

    .line 9027
    :cond_3
    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getNumber()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getNumber()Ljava/lang/String;

    move-result-object v12

    invoke-virtual {v12}, Ljava/lang/String;->length()I

    move-result v12

    add-int/lit8 v12, v12, -0x4

    invoke-virtual {v11, v12}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v7

    .line 9028
    goto/16 :goto_2

    .line 9031
    :pswitch_1
    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getNumber()Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/String;->length()I

    move-result v11

    const/4 v12, 0x4

    if-gt v11, v12, :cond_4

    .line 9032
    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getNumber()Ljava/lang/String;

    move-result-object v7

    goto/16 :goto_2

    .line 9034
    :cond_4
    invoke-virtual {v5}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getNumber()Ljava/lang/String;

    move-result-object v11

    const/4 v12, 0x0

    const/4 v13, 0x4

    invoke-virtual {v11, v12, v13}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v7

    .line 9035
    goto/16 :goto_2

    .line 9037
    :pswitch_2
    const-string v7, ""

    .line 9038
    goto/16 :goto_2

    .line 9046
    :cond_5
    const-string v11, "simNumberShort"

    const-string v12, ""

    invoke-virtual {v3, v11, v12}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    goto/16 :goto_3

    .line 9053
    :cond_6
    const-string v11, "simNumber"

    const-string v12, ""

    invoke-virtual {v3, v11, v12}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    goto/16 :goto_4

    .line 9060
    :cond_7
    const-string v11, "suggested"

    const-string v12, ""

    invoke-virtual {v3, v11, v12}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    goto/16 :goto_5

    .line 9068
    .end local v3           #entry:Ljava/util/HashMap;,"Ljava/util/HashMap<Ljava/lang/String;Ljava/lang/Object;>;"
    .end local v5           #simInfo:Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;
    .end local v7           #simNumber:Ljava/lang/String;
    .end local v9           #state:I
    :cond_8
    invoke-static {v2, p0}, Lcom/android/mms/ui/MessageUtils;->createSimpleAdapter(Ljava/util/List;Landroid/content/Context;)Landroid/widget/SimpleAdapter;

    move-result-object v0

    .line 9069
    .local v0, a:Landroid/widget/SimpleAdapter;
    new-instance v1, Landroid/app/AlertDialog$Builder;

    invoke-direct {v1, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    .line 9072
    .local v1, b:Landroid/app/AlertDialog$Builder;
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mStringReplacementPlugin:Lcom/mediatek/mms/ext/IStringReplacement;

    const/4 v12, 0x2

    invoke-interface {v11, v12}, Lcom/mediatek/mms/ext/IStringReplacement;->getCTStrings(I)Ljava/lang/String;

    move-result-object v10

    .line 9073
    .local v10, str:Ljava/lang/String;
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mStringReplacementPlugin:Lcom/mediatek/mms/ext/IStringReplacement;

    invoke-interface {v11}, Lcom/mediatek/mms/ext/IStringReplacement;->isEnableStringReplacement()Z

    move-result v11

    if-eqz v11, :cond_a

    if-eqz v10, :cond_a

    .line 9074
    invoke-virtual {v1, v10}, Landroid/app/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    .line 9079
    :goto_6
    const/4 v11, 0x1

    invoke-virtual {v1, v11}, Landroid/app/AlertDialog$Builder;->setCancelable(Z)Landroid/app/AlertDialog$Builder;

    .line 9080
    new-instance v11, Lcom/android/mms/ui/ComposeMessageActivity$72;

    invoke-direct {v11, p0, v6, v4}, Lcom/android/mms/ui/ComposeMessageActivity$72;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/util/List;Landroid/content/Intent;)V

    invoke-virtual {v1, v0, v11}, Landroid/app/AlertDialog$Builder;->setAdapter(Landroid/widget/ListAdapter;Landroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    .line 9105
    invoke-virtual {v1}, Landroid/app/AlertDialog$Builder;->create()Landroid/app/AlertDialog;

    move-result-object v11

    iput-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSIMSelectDialog:Landroid/app/AlertDialog;

    .line 9107
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSIMSelectDialog:Landroid/app/AlertDialog;

    new-instance v12, Lcom/android/mms/ui/ComposeMessageActivity$73;

    invoke-direct {v12, p0}, Lcom/android/mms/ui/ComposeMessageActivity$73;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v11, v12}, Landroid/app/Dialog;->setOnDismissListener(Landroid/content/DialogInterface$OnDismissListener;)V

    .line 9150
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSIMSelectDialog:Landroid/app/AlertDialog;

    invoke-virtual {v11}, Landroid/app/Dialog;->show()V

    .line 9152
    iget v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAssociatedSimQueryDone:I

    const/4 v12, -0x1

    if-eq v11, v12, :cond_9

    .line 9153
    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    const/16 v12, 0x1f4

    invoke-virtual {v11, v12}, Landroid/os/Handler;->sendEmptyMessage(I)Z

    .line 9156
    :cond_9
    return-void

    .line 9076
    :cond_a
    const v11, 0x7f0b0085

    invoke-virtual {p0, v11}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v11

    invoke-virtual {v1, v11}, Landroid/app/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    goto :goto_6

    .line 9022
    :pswitch_data_0
    .packed-switch 0x0
        :pswitch_2
        :pswitch_1
        :pswitch_0
    .end packed-switch
.end method

.method private showSmileyDialog()V
    .locals 17

    .prologue
    .line 8231
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSmileyDialog:Landroid/app/AlertDialog;

    if-nez v2, :cond_4

    .line 8232
    sget-object v12, Lcom/android/mms/util/SmileyParser;->DEFAULT_SMILEY_RES_IDS:[I

    .line 8233
    .local v12, icons:[I
    invoke-virtual/range {p0 .. p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v2

    const v4, 0x7f060001

    invoke-virtual {v2, v4}, Landroid/content/res/Resources;->getStringArray(I)[Ljava/lang/String;

    move-result-object v14

    .line 8235
    .local v14, names:[Ljava/lang/String;
    invoke-virtual/range {p0 .. p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v2

    const/high16 v4, 0x7f06

    invoke-virtual {v2, v4}, Landroid/content/res/Resources;->getStringArray(I)[Ljava/lang/String;

    move-result-object v15

    .line 8238
    .local v15, texts:[Ljava/lang/String;
    array-length v7, v14

    .line 8240
    .local v7, N:I
    new-instance v3, Ljava/util/ArrayList;

    invoke-direct {v3}, Ljava/util/ArrayList;-><init>()V

    .line 8241
    .local v3, entries:Ljava/util/List;,"Ljava/util/List<Ljava/util/Map<Ljava/lang/String;*>;>;"
    const/4 v11, 0x0

    .local v11, i:I
    :goto_0
    if-ge v11, v7, :cond_3

    .line 8244
    const/4 v8, 0x0

    .line 8245
    .local v8, added:Z
    const/4 v13, 0x0

    .local v13, j:I
    :goto_1
    if-ge v13, v11, :cond_0

    .line 8246
    aget v2, v12, v11

    aget v4, v12, v13

    if-ne v2, v4, :cond_2

    .line 8247
    const/4 v8, 0x1

    .line 8251
    :cond_0
    if-nez v8, :cond_1

    .line 8252
    new-instance v10, Ljava/util/HashMap;

    invoke-direct {v10}, Ljava/util/HashMap;-><init>()V

    .line 8254
    .local v10, entry:Ljava/util/HashMap;,"Ljava/util/HashMap<Ljava/lang/String;Ljava/lang/Object;>;"
    const-string v2, "icon"

    aget v4, v12, v11

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v10, v2, v4}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 8255
    const-string v2, "name"

    aget-object v4, v14, v11

    invoke-virtual {v10, v2, v4}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 8256
    const-string v2, "text"

    aget-object v4, v15, v11

    invoke-virtual {v10, v2, v4}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 8258
    invoke-interface {v3, v10}, Ljava/util/List;->add(Ljava/lang/Object;)Z

    .line 8241
    .end local v10           #entry:Ljava/util/HashMap;,"Ljava/util/HashMap<Ljava/lang/String;Ljava/lang/Object;>;"
    :cond_1
    add-int/lit8 v11, v11, 0x1

    goto :goto_0

    .line 8245
    :cond_2
    add-int/lit8 v13, v13, 0x1

    goto :goto_1

    .line 8262
    .end local v8           #added:Z
    .end local v13           #j:I
    :cond_3
    new-instance v1, Landroid/widget/SimpleAdapter;

    const v4, 0x7f04006d

    const/4 v2, 0x3

    new-array v5, v2, [Ljava/lang/String;

    const/4 v2, 0x0

    const-string v6, "icon"

    aput-object v6, v5, v2

    const/4 v2, 0x1

    const-string v6, "name"

    aput-object v6, v5, v2

    const/4 v2, 0x2

    const-string v6, "text"

    aput-object v6, v5, v2

    const/4 v2, 0x3

    new-array v6, v2, [I

    fill-array-data v6, :array_0

    move-object/from16 v2, p0

    invoke-direct/range {v1 .. v6}, Landroid/widget/SimpleAdapter;-><init>(Landroid/content/Context;Ljava/util/List;I[Ljava/lang/String;[I)V

    .line 8268
    .local v1, a:Landroid/widget/SimpleAdapter;
    new-instance v16, Lcom/android/mms/ui/ComposeMessageActivity$67;

    invoke-direct/range {v16 .. v17}, Lcom/android/mms/ui/ComposeMessageActivity$67;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    .line 8279
    .local v16, viewBinder:Landroid/widget/SimpleAdapter$ViewBinder;
    move-object/from16 v0, v16

    invoke-virtual {v1, v0}, Landroid/widget/SimpleAdapter;->setViewBinder(Landroid/widget/SimpleAdapter$ViewBinder;)V

    .line 8281
    new-instance v9, Landroid/app/AlertDialog$Builder;

    move-object/from16 v0, p0

    invoke-direct {v9, v0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    .line 8283
    .local v9, b:Landroid/app/AlertDialog$Builder;
    const v2, 0x7f0b0311

    move-object/from16 v0, p0

    invoke-virtual {v0, v2}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v9, v2}, Landroid/app/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    .line 8285
    const/4 v2, 0x1

    invoke-virtual {v9, v2}, Landroid/app/AlertDialog$Builder;->setCancelable(Z)Landroid/app/AlertDialog$Builder;

    .line 8286
    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$68;

    move-object/from16 v0, p0

    invoke-direct {v2, v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity$68;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/widget/SimpleAdapter;)V

    invoke-virtual {v9, v1, v2}, Landroid/app/AlertDialog$Builder;->setAdapter(Landroid/widget/ListAdapter;Landroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    .line 8303
    invoke-virtual {v9}, Landroid/app/AlertDialog$Builder;->create()Landroid/app/AlertDialog;

    move-result-object v2

    move-object/from16 v0, p0

    iput-object v2, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSmileyDialog:Landroid/app/AlertDialog;

    .line 8306
    .end local v1           #a:Landroid/widget/SimpleAdapter;
    .end local v3           #entries:Ljava/util/List;,"Ljava/util/List<Ljava/util/Map<Ljava/lang/String;*>;>;"
    .end local v7           #N:I
    .end local v9           #b:Landroid/app/AlertDialog$Builder;
    .end local v11           #i:I
    .end local v12           #icons:[I
    .end local v14           #names:[Ljava/lang/String;
    .end local v15           #texts:[Ljava/lang/String;
    .end local v16           #viewBinder:Landroid/widget/SimpleAdapter$ViewBinder;
    :cond_4
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mSmileyDialog:Landroid/app/AlertDialog;

    invoke-virtual {v2}, Landroid/app/Dialog;->show()V

    .line 8307
    return-void

    .line 8262
    nop

    :array_0
    .array-data 0x4
        0x8bt 0x1t 0xft 0x7ft
        0x8ct 0x1t 0xft 0x7ft
        0x8dt 0x1t 0xft 0x7ft
    .end array-data
.end method

.method private showSmsOrMmsSendButton(Z)Landroid/view/View;
    .locals 11
    .parameter "isMms"

    .prologue
    const v10, 0x7f0200e5

    const v9, 0x7f0200e4

    const/16 v8, 0x8

    const/4 v4, 0x0

    const/4 v7, 0x0

    .line 4772
    const-string v5, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "showSmsOrMmsSendButton(): SendCommonMsgThisTime = "

    invoke-virtual {v3, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    iget-boolean v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mJustSendMsgViaCommonMsgThisTime:Z

    invoke-virtual {v3, v6}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v6, ", mIsMessageDefaultSimIpServiceEnabled = "

    invoke-virtual {v3, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    iget-boolean v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    invoke-virtual {v3, v6}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v6, ", isNetworkConnected(getApplicationContext() = "

    invoke-virtual {v3, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v6

    invoke-direct {p0, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->isNetworkConnected(Landroid/content/Context;)Z

    move-result v6

    invoke-virtual {v3, v6}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v6, ", mIpMessageDraft is not null ?= "

    invoke-virtual {v3, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v3, :cond_6

    const/4 v3, 0x1

    :goto_0
    invoke-virtual {v6, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v6, ", isCurrentRecipientIpMessageUser() = "

    invoke-virtual {v3, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isCurrentRecipientIpMessageUser()Z

    move-result v6

    invoke-virtual {v3, v6}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v5, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4777
    if-eqz p1, :cond_8

    .line 4778
    iget v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    if-eqz v3, :cond_2

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v3

    if-eqz v3, :cond_0

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v3}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v3

    invoke-static {v3}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_2

    :cond_0
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    if-eqz v3, :cond_1

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    if-eqz v3, :cond_7

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    invoke-virtual {v3}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/String;->trim()Ljava/lang/String;

    move-result-object v3

    invoke-static {v3}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-eqz v3, :cond_7

    :cond_1
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    if-eqz v3, :cond_7

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v3}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/String;->trim()Ljava/lang/String;

    move-result-object v3

    invoke-static {v3}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-eqz v3, :cond_7

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->hasAttachment()Z

    move-result v3

    if-nez v3, :cond_7

    .line 4786
    :cond_2
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonMms:Landroid/widget/TextView;

    invoke-virtual {p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v5

    invoke-virtual {v5, v10}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v5

    invoke-virtual {v3, v7, v7, v7, v5}, Landroid/widget/TextView;->setCompoundDrawablesWithIntrinsicBounds(Landroid/graphics/drawable/Drawable;Landroid/graphics/drawable/Drawable;Landroid/graphics/drawable/Drawable;Landroid/graphics/drawable/Drawable;)V

    .line 4792
    :goto_1
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonMms:Landroid/widget/TextView;

    .line 4793
    .local v2, showButton:Landroid/view/View;
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonSms:Landroid/widget/ImageButton;

    .line 4794
    .local v0, hideButton1:Landroid/view/View;
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonIpMessage:Landroid/widget/ImageButton;

    .line 4815
    .local v1, hideButton2:Landroid/view/View;
    :goto_2
    if-eqz v2, :cond_3

    .line 4816
    invoke-virtual {v2, v4}, Landroid/view/View;->setVisibility(I)V

    .line 4818
    :cond_3
    if-eqz v0, :cond_4

    .line 4819
    invoke-virtual {v0, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 4821
    :cond_4
    if-eqz v1, :cond_5

    .line 4822
    invoke-virtual {v1, v8}, Landroid/view/View;->setVisibility(I)V

    .line 4825
    :cond_5
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateTextEditorHint()V

    .line 4826
    return-object v2

    .end local v0           #hideButton1:Landroid/view/View;
    .end local v1           #hideButton2:Landroid/view/View;
    .end local v2           #showButton:Landroid/view/View;
    :cond_6
    move v3, v4

    .line 4772
    goto/16 :goto_0

    .line 4789
    :cond_7
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonMms:Landroid/widget/TextView;

    invoke-virtual {p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v5

    invoke-virtual {v5, v9}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v5

    invoke-virtual {v3, v7, v7, v7, v5}, Landroid/widget/TextView;->setCompoundDrawablesWithIntrinsicBounds(Landroid/graphics/drawable/Drawable;Landroid/graphics/drawable/Drawable;Landroid/graphics/drawable/Drawable;Landroid/graphics/drawable/Drawable;)V

    goto :goto_1

    .line 4795
    :cond_8
    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mJustSendMsgViaCommonMsgThisTime:Z

    if-nez v3, :cond_b

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    if-eqz v3, :cond_b

    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v3

    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->isNetworkConnected(Landroid/content/Context;)Z

    move-result v3

    if-eqz v3, :cond_b

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v3, :cond_9

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->recipientCount()I

    move-result v3

    if-gtz v3, :cond_a

    :cond_9
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isCurrentRecipientIpMessageUser()Z

    move-result v3

    if-eqz v3, :cond_b

    .line 4798
    :cond_a
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonIpMessage:Landroid/widget/ImageButton;

    .line 4799
    .restart local v2       #showButton:Landroid/view/View;
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonSms:Landroid/widget/ImageButton;

    .line 4800
    .restart local v0       #hideButton1:Landroid/view/View;
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonMms:Landroid/widget/TextView;

    .restart local v1       #hideButton2:Landroid/view/View;
    goto :goto_2

    .line 4803
    .end local v0           #hideButton1:Landroid/view/View;
    .end local v1           #hideButton2:Landroid/view/View;
    .end local v2           #showButton:Landroid/view/View;
    :cond_b
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v3}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/Object;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/String;->isEmpty()Z

    move-result v3

    if-eqz v3, :cond_c

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v3, :cond_e

    :cond_c
    iget v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    if-eqz v3, :cond_e

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v3

    if-eqz v3, :cond_d

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v3}, Landroid/widget/EditText;->getText()Landroid/text/Editable;

    move-result-object v3

    invoke-static {v3}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_e

    :cond_d
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->recipientCount()I

    move-result v3

    invoke-static {}, Lcom/android/mms/MmsConfig;->getSmsRecipientLimit()I

    move-result v5

    if-le v3, v5, :cond_f

    .line 4807
    :cond_e
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonSms:Landroid/widget/ImageButton;

    invoke-virtual {v3, v10}, Landroid/widget/ImageView;->setImageResource(I)V

    .line 4811
    :goto_3
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonSms:Landroid/widget/ImageButton;

    .line 4812
    .restart local v2       #showButton:Landroid/view/View;
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonIpMessage:Landroid/widget/ImageButton;

    .line 4813
    .restart local v0       #hideButton1:Landroid/view/View;
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonMms:Landroid/widget/TextView;

    .restart local v1       #hideButton2:Landroid/view/View;
    goto/16 :goto_2

    .line 4809
    .end local v0           #hideButton1:Landroid/view/View;
    .end local v1           #hideButton2:Landroid/view/View;
    .end local v2           #showButton:Landroid/view/View;
    :cond_f
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonSms:Landroid/widget/ImageButton;

    invoke-virtual {v3, v9}, Landroid/widget/ImageView;->setImageResource(I)V

    goto :goto_3
.end method

.method private showSubjectEditor(Z)V
    .locals 3
    .parameter "show"

    .prologue
    const/4 v1, 0x0

    .line 3512
    const-string v0, "Mms:app"

    const/4 v2, 0x2

    invoke-static {v0, v2}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 3513
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "showSubjectEditor: "

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 3516
    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    if-nez v0, :cond_2

    .line 3519
    if-nez p1, :cond_1

    .line 3559
    :goto_0
    return-void

    .line 3522
    :cond_1
    const v0, 0x7f0f0035

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/EditText;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    .line 3528
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    invoke-interface {v0, v2}, Lcom/mediatek/mms/ext/IMmsCompose;->configSubjectEditor(Landroid/widget/EditText;)V

    .line 3532
    :cond_2
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    if-eqz p1, :cond_5

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectKeyListener:Landroid/view/View$OnKeyListener;

    :goto_1
    invoke-virtual {v2, v0}, Landroid/view/View;->setOnKeyListener(Landroid/view/View$OnKeyListener;)V

    .line 3534
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectEditorWatcher:Landroid/text/TextWatcher;

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->removeTextChangedListener(Landroid/text/TextWatcher;)V

    .line 3535
    if-eqz p1, :cond_3

    .line 3536
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectEditorWatcher:Landroid/text/TextWatcher;

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->addTextChangedListener(Landroid/text/TextWatcher;)V

    .line 3539
    :cond_3
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    if-eqz p1, :cond_4

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1}, Lcom/android/mms/data/WorkingMessage;->getSubject()Ljava/lang/CharSequence;

    move-result-object v1

    :cond_4
    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 3540
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    if-eqz p1, :cond_6

    const/4 v0, 0x0

    :goto_2
    invoke-virtual {v1, v0}, Landroid/view/View;->setVisibility(I)V

    .line 3541
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$29;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$29;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1}, Landroid/view/View;->setOnTouchListener(Landroid/view/View$OnTouchListener;)V

    .line 3549
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$30;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$30;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1}, Landroid/view/View;->setOnFocusChangeListener(Landroid/view/View$OnFocusChangeListener;)V

    .line 3558
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideOrShowTopPanel()V

    goto :goto_0

    :cond_5
    move-object v0, v1

    .line 3532
    goto :goto_1

    .line 3540
    :cond_6
    const/16 v0, 0x8

    goto :goto_2
.end method

.method private simSelection()V
    .locals 8

    .prologue
    const-wide/16 v6, -0x5

    const/4 v3, 0x0

    const/4 v5, -0x1

    const/4 v2, 0x1

    .line 8923
    iget v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    if-nez v1, :cond_1

    .line 8991
    :cond_0
    :goto_0
    return-void

    .line 8926
    :cond_1
    iget v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->send_sim_id:I

    if-lt v1, v2, :cond_2

    .line 8927
    iget v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->send_sim_id:I

    iput v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    .line 8928
    iput v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->send_sim_id:I

    .line 8929
    const-string v1, "Mms/compose"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "send msg from send_sim_id = "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 8930
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->confirmSendMessageIfNeeded()V

    goto :goto_0

    .line 8932
    :cond_2
    iget v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    if-ne v1, v2, :cond_3

    .line 8933
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    invoke-interface {v1, v3}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;

    invoke-virtual {v1}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSimId()J

    move-result-wide v1

    long-to-int v1, v1

    iput v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    .line 8934
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->confirmSendMessageIfNeeded()V

    goto :goto_0

    .line 8935
    :cond_3
    iget v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    if-le v1, v2, :cond_0

    .line 8936
    new-instance v0, Landroid/content/Intent;

    invoke-direct {v0}, Landroid/content/Intent;-><init>()V

    .line 8937
    .local v0, intent:Landroid/content/Intent;
    iput v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectSimType:I

    .line 8938
    const-string v1, "Select_type"

    invoke-virtual {v0, v1, v2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 8940
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v1

    if-eqz v1, :cond_6

    .line 8941
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v1}, Lcom/android/mms/ui/RecipientsEditor;->getRecipientCount()I

    move-result v1

    if-ne v1, v2, :cond_5

    .line 8942
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v1}, Lcom/android/mms/ui/RecipientsEditor;->getNumbers()Ljava/util/List;

    move-result-object v1

    invoke-interface {v1, v3}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Ljava/lang/String;

    invoke-direct {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->getContactSIM(Ljava/lang/String;)I

    move-result v1

    iput v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAssociatedSimId:I

    .line 8953
    :goto_1
    const-string v1, "Mms/compose"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "mAssociatedSimId = "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAssociatedSimId:I

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 8955
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v1

    const-string v2, "sms_sim_setting"

    invoke-static {v1, v2, v6, v7}, Lcom/mediatek/encapsulation/android/provider/EncapsulatedSettings$System;->getLong(Landroid/content/ContentResolver;Ljava/lang/String;J)J

    move-result-wide v1

    iput-wide v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    .line 8956
    iget-wide v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    const-wide/16 v3, -0x1

    cmp-long v1, v1, v3

    if-eqz v1, :cond_4

    iget-wide v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    const-wide/16 v3, -0x3

    cmp-long v1, v1, v3

    if-nez v1, :cond_8

    invoke-static {}, Lcom/android/mms/MmsConfig;->isSupportAutoSelectSimId()Z

    move-result v1

    if-eqz v1, :cond_8

    .line 8959
    :cond_4
    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->showSimSelectedDialog(Landroid/content/Intent;)V

    .line 8960
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    goto/16 :goto_0

    .line 8944
    :cond_5
    iput v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAssociatedSimId:I

    goto :goto_1

    .line 8947
    :cond_6
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v1

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-ne v1, v2, :cond_7

    .line 8948
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v1

    invoke-virtual {v1, v3}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/mms/data/Contact;

    invoke-virtual {v1}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v1

    invoke-direct {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->getContactSIM(Ljava/lang/String;)I

    move-result v1

    iput v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAssociatedSimId:I

    goto :goto_1

    .line 8950
    :cond_7
    iput v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAssociatedSimId:I

    goto :goto_1

    .line 8961
    :cond_8
    iget-wide v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    cmp-long v1, v1, v6

    if-nez v1, :cond_a

    .line 8968
    iget v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAssociatedSimId:I

    if-ne v1, v5, :cond_9

    .line 8969
    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->showSimSelectedDialog(Landroid/content/Intent;)V

    .line 8970
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    goto/16 :goto_0

    .line 8972
    :cond_9
    iget v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAssociatedSimId:I

    iput v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    .line 8973
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->confirmSendMessageIfNeeded()V

    goto/16 :goto_0

    .line 8982
    :cond_a
    iget v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAssociatedSimId:I

    if-eq v1, v5, :cond_b

    iget-wide v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    iget v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAssociatedSimId:I

    int-to-long v3, v3

    cmp-long v1, v1, v3

    if-nez v1, :cond_c

    .line 8983
    :cond_b
    iget-wide v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    long-to-int v1, v1

    iput v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    .line 8984
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->confirmSendMessageIfNeeded()V

    goto/16 :goto_0

    .line 8986
    :cond_c
    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->showSimSelectedDialog(Landroid/content/Intent;)V

    .line 8987
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    goto/16 :goto_0
.end method

.method private smoothScrollToEnd(ZI)V
    .locals 12
    .parameter "force"
    .parameter "listSizeChange"

    .prologue
    .line 7772
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v8}, Landroid/widget/AdapterView;->getLastVisiblePosition()I

    move-result v3

    .line 7773
    .local v3, lastItemVisible:I
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v8}, Landroid/widget/CursorAdapter;->getCount()I

    move-result v8

    add-int/lit8 v1, v8, -0x1

    .line 7774
    .local v1, lastItemInList:I
    if-ltz v3, :cond_0

    if-gez v1, :cond_2

    .line 7775
    :cond_0
    const-string v8, "Mms:app"

    const/4 v9, 0x2

    invoke-static {v8, v9}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v8

    if-eqz v8, :cond_1

    .line 7776
    const-string v8, "Mms/compose"

    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, "smoothScrollToEnd: lastItemVisible="

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, ", lastItemInList="

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, ", mMsgListView not ready"

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    invoke-static {v8, v9}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 7864
    :cond_1
    :goto_0
    return-void

    .line 7783
    :cond_2
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v9}, Landroid/widget/AdapterView;->getFirstVisiblePosition()I

    move-result v9

    sub-int v9, v3, v9

    invoke-virtual {v8, v9}, Landroid/view/ViewGroup;->getChildAt(I)Landroid/view/View;

    move-result-object v0

    .line 7785
    .local v0, lastChildVisible:Landroid/view/View;
    const/4 v4, 0x0

    .line 7786
    .local v4, lastVisibleItemBottom:I
    const/4 v5, 0x0

    .line 7787
    .local v5, lastVisibleItemHeight:I
    if-eqz v0, :cond_3

    .line 7788
    invoke-virtual {v0}, Landroid/view/View;->getBottom()I

    move-result v4

    .line 7789
    invoke-virtual {v0}, Landroid/view/View;->getHeight()I

    move-result v5

    .line 7792
    :cond_3
    const-string v8, "Mms:app"

    const/4 v9, 0x2

    invoke-static {v8, v9}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v8

    if-eqz v8, :cond_4

    .line 7793
    const-string v8, "Mms/compose"

    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, "smoothScrollToEnd newPosition: "

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, " mLastSmoothScrollPosition: "

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    iget v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLastSmoothScrollPosition:I

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, " first: "

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v10}, Landroid/widget/AdapterView;->getFirstVisiblePosition()I

    move-result v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, " lastItemVisible: "

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, " lastVisibleItemBottom: "

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, " lastVisibleItemBottom + listSizeChange: "

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    add-int v10, v4, p2

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, " mMsgListView.getHeight() - mMsgListView.getPaddingBottom(): "

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v10}, Landroid/view/View;->getHeight()I

    move-result v10

    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v11}, Landroid/view/View;->getPaddingBottom()I

    move-result v11

    sub-int/2addr v10, v11

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, " listSizeChange: "

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    invoke-static {v8, v9}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 7817
    :cond_4
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v8}, Landroid/view/View;->getHeight()I

    move-result v6

    .line 7818
    .local v6, listHeight:I
    if-le v5, v6, :cond_9

    const/4 v2, 0x1

    .line 7819
    .local v2, lastItemTooTall:Z
    :goto_1
    if-nez p1, :cond_6

    if-nez p2, :cond_5

    iget v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLastSmoothScrollPosition:I

    if-eq v1, v8, :cond_a

    :cond_5
    add-int v8, v4, p2

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v9}, Landroid/view/View;->getPaddingBottom()I

    move-result v9

    sub-int v9, v6, v9

    if-gt v8, v9, :cond_a

    :cond_6
    const/4 v7, 0x1

    .line 7823
    .local v7, willScroll:Z
    :goto_2
    if-nez v7, :cond_7

    if-eqz v2, :cond_1

    if-ne v1, v3, :cond_1

    .line 7824
    :cond_7
    invoke-static {p2}, Ljava/lang/Math;->abs(I)I

    move-result v8

    const/16 v9, 0xc8

    if-le v8, v9, :cond_c

    .line 7828
    const-string v8, "Mms:app"

    const/4 v9, 0x2

    invoke-static {v8, v9}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v8

    if-eqz v8, :cond_8

    .line 7829
    const-string v8, "Mms/compose"

    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, "keyboard state changed. setSelection="

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    invoke-static {v8, v9}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 7831
    :cond_8
    if-eqz v2, :cond_b

    .line 7836
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    sub-int v9, v6, v5

    invoke-virtual {v8, v1, v9}, Landroid/widget/ListView;->setSelectionFromTop(II)V

    goto/16 :goto_0

    .line 7818
    .end local v2           #lastItemTooTall:Z
    .end local v7           #willScroll:Z
    :cond_9
    const/4 v2, 0x0

    goto :goto_1

    .line 7819
    .restart local v2       #lastItemTooTall:Z
    :cond_a
    const/4 v7, 0x0

    goto :goto_2

    .line 7839
    .restart local v7       #willScroll:Z
    :cond_b
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v8, v1}, Landroid/widget/ListView;->setSelection(I)V

    goto/16 :goto_0

    .line 7841
    :cond_c
    sub-int v8, v1, v3

    const/16 v9, 0x14

    if-le v8, v9, :cond_e

    .line 7842
    const-string v8, "Mms:app"

    const/4 v9, 0x2

    invoke-static {v8, v9}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v8

    if-eqz v8, :cond_d

    .line 7843
    const-string v8, "Mms/compose"

    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, "too many to scroll, setSelection="

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    invoke-static {v8, v9}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 7845
    :cond_d
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v8, v1}, Landroid/widget/ListView;->setSelection(I)V

    goto/16 :goto_0

    .line 7847
    :cond_e
    const-string v8, "Mms:app"

    const/4 v9, 0x2

    invoke-static {v8, v9}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v8

    if-eqz v8, :cond_f

    .line 7848
    const-string v8, "Mms/compose"

    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, "smooth scroll to "

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    invoke-static {v8, v9}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 7850
    :cond_f
    if-eqz v2, :cond_10

    .line 7856
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    sub-int v9, v6, v5

    invoke-virtual {v8, v1, v9}, Landroid/widget/ListView;->setSelectionFromTop(II)V

    .line 7861
    :goto_3
    iput v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mLastSmoothScrollPosition:I

    goto/16 :goto_0

    .line 7859
    :cond_10
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v8, v1}, Landroid/widget/ListView;->smoothScrollToPosition(I)V

    goto :goto_3
.end method

.method private startMsgListQuery()V
    .locals 2

    .prologue
    .line 6937
    const/16 v0, 0x2537

    const/16 v1, 0x1f4

    invoke-direct {p0, v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->startMsgListQuery(II)V

    .line 6938
    return-void
.end method

.method private startMsgListQuery(II)V
    .locals 10
    .parameter "token"
    .parameter "delay"

    .prologue
    const/16 v8, 0x2537

    .line 6941
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "startMsgListQuery, timeout="

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, ", isImportantThread = "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    iget-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImportantThread:Z

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 6943
    invoke-static {}, Lcom/android/mms/MmsConfig;->getMmsDirMode()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 7013
    :cond_0
    :goto_0
    return-void

    .line 6947
    :cond_1
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v0

    if-nez v0, :cond_0

    .line 6951
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getUri()Landroid/net/Uri;

    move-result-object v6

    .line 6952
    .local v6, conversationUriSrc:Landroid/net/Uri;
    invoke-static {}, Lcom/android/mms/MmsConfig;->isSupportCTFeature()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 6953
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v1}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v1

    invoke-interface {v0, v6, v1, v2}, Lcom/mediatek/mms/ext/IMmsCompose;->getConverationUri(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v6

    .line 6956
    :cond_2
    move-object v5, v6

    .line 6958
    .local v5, conversationUri:Landroid/net/Uri;
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "startMsgListQuery, uri="

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 6959
    if-nez v5, :cond_3

    .line 6960
    const-string v0, "##### startMsgListQuery: conversationUri is null, bail!"

    invoke-static {v0}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    goto :goto_0

    .line 6964
    :cond_3
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v3

    .line 6965
    .local v3, threadId:J
    const-string v0, "Mms:app"

    const/4 v1, 0x2

    invoke-static {v0, v1}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v0

    if-eqz v0, :cond_4

    .line 6966
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v1, "startMsgListQuery for "

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, ", threadId="

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, v3, v4}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-static {v0}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 6971
    :cond_4
    if-ne p1, v8, :cond_5

    .line 6972
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    const/16 v1, 0x2648

    invoke-virtual {v0, v1}, Landroid/content/AsyncQueryHandler;->cancelOperation(I)V

    .line 6973
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQueryUnReadMsgListRunnable:Ljava/lang/Runnable;

    invoke-virtual {v0, v1}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V

    .line 6974
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    invoke-virtual {v0, v8}, Landroid/content/AsyncQueryHandler;->cancelOperation(I)V

    .line 6975
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQueryMsgListRunnable:Ljava/lang/Runnable;

    invoke-virtual {v0, v1}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V

    .line 6980
    :cond_5
    if-ne p1, v8, :cond_7

    .line 6982
    :try_start_0
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowUnreadDivider:Z

    if-eqz v0, :cond_6

    .line 6983
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQueryUnReadMsgListRunnable:Ljava/lang/Runnable;

    int-to-long v8, p2

    invoke-virtual {v0, v1, v8, v9}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    .line 6985
    :cond_6
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQueryMsgListRunnable:Ljava/lang/Runnable;

    int-to-long v8, p2

    invoke-virtual {v0, v1, v8, v9}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z
    :try_end_0
    .catch Landroid/database/sqlite/SQLiteException; {:try_start_0 .. :try_end_0} :catch_0

    goto/16 :goto_0

    .line 7010
    :catch_0
    move-exception v7

    .line 7011
    .local v7, e:Landroid/database/sqlite/SQLiteException;
    invoke-static {p0, v7}, Landroid/database/sqlite/SqliteWrapper;->checkSQLiteException(Landroid/content/Context;Landroid/database/sqlite/SQLiteException;)V

    goto/16 :goto_0

    .line 6992
    .end local v7           #e:Landroid/database/sqlite/SQLiteException;
    :cond_7
    :try_start_1
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$61;

    move-object v1, p0

    move v2, p1

    invoke-direct/range {v0 .. v5}, Lcom/android/mms/ui/ComposeMessageActivity$61;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;IJLandroid/net/Uri;)V

    int-to-long v1, p2

    invoke-virtual {v8, v0, v1, v2}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z
    :try_end_1
    .catch Landroid/database/sqlite/SQLiteException; {:try_start_1 .. :try_end_1} :catch_0

    goto/16 :goto_0
.end method

.method private toastConvertInfo(Z)V
    .locals 2
    .parameter "toMms"

    .prologue
    .line 1404
    if-eqz p1, :cond_0

    const v0, 0x7f0b027b

    .line 1406
    .local v0, resId:I
    :goto_0
    const/4 v1, 0x0

    invoke-static {p0, v0, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;II)Landroid/widget/Toast;

    move-result-object v1

    invoke-virtual {v1}, Landroid/widget/Toast;->show()V

    .line 1407
    return-void

    .line 1404
    .end local v0           #resId:I
    :cond_0
    const v0, 0x7f0b027c

    goto :goto_0
.end method

.method private static toastNoRecipients(Landroid/content/Context;)V
    .locals 2
    .parameter "context"

    .prologue
    .line 10843
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v0

    const/16 v1, 0xaa

    invoke-virtual {v0, v1}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v0

    const/4 v1, 0x0

    invoke-static {p0, v0, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v0

    invoke-virtual {v0}, Landroid/widget/Toast;->show()V

    .line 10845
    return-void
.end method

.method private static toastNoSimCard(Landroid/content/Context;)V
    .locals 2
    .parameter "context"

    .prologue
    .line 14058
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v0

    const/16 v1, 0xeb

    invoke-virtual {v0, v1}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v0

    const/4 v1, 0x1

    invoke-static {p0, v0, v1}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v0

    invoke-virtual {v0}, Landroid/widget/Toast;->show()V

    .line 14062
    return-void
.end method

.method private toastTooManyRecipients(I)V
    .locals 5
    .parameter "recipientCount"

    .prologue
    .line 9484
    const v1, 0x7f0b0281

    const/4 v2, 0x2

    new-array v2, v2, [Ljava/lang/Object;

    const/4 v3, 0x0

    invoke-static {p1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    aput-object v4, v2, v3

    const/4 v3, 0x1

    sget v4, Lcom/android/mms/ui/ComposeMessageActivity;->RECIPIENTS_LIMIT_FOR_SMS:I

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    aput-object v4, v2, v3

    invoke-virtual {p0, v1, v2}, Landroid/content/Context;->getString(I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    .line 9485
    .local v0, tooManyRecipients:Ljava/lang/String;
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$80;

    invoke-direct {v2, p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity$80;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/lang/String;)V

    const-wide/16 v3, 0x3e8

    invoke-virtual {v1, v2, v3, v4}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    .line 9491
    return-void
.end method

.method private unpreparedForSendingAlert()V
    .locals 5

    .prologue
    const/4 v4, 0x0

    const v3, 0x7f0b0295

    const v2, 0x7f0b0278

    const v1, 0x1010355

    .line 4613
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isHasRecipientCount()Z

    move-result v0

    if-nez v0, :cond_0

    .line 4614
    new-instance v0, Landroid/app/AlertDialog$Builder;

    invoke-direct {v0, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setIconAttribute(I)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    invoke-virtual {v0, v2}, Landroid/app/AlertDialog$Builder;->setTitle(I)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    const v1, 0x7f0b0279

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setMessage(I)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$CancelSendingListener;

    invoke-direct {v1, p0, v4}, Lcom/android/mms/ui/ComposeMessageActivity$CancelSendingListener;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/ComposeMessageActivity$1;)V

    invoke-virtual {v0, v3, v1}, Landroid/app/AlertDialog$Builder;->setPositiveButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    invoke-virtual {v0}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    .line 4627
    :goto_0
    return-void

    .line 4620
    :cond_0
    new-instance v0, Landroid/app/AlertDialog$Builder;

    invoke-direct {v0, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setIconAttribute(I)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    invoke-virtual {v0, v2}, Landroid/app/AlertDialog$Builder;->setTitle(I)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    const v1, 0x7f0b005e

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setMessage(I)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$CancelSendingListener;

    invoke-direct {v1, p0, v4}, Lcom/android/mms/ui/ComposeMessageActivity$CancelSendingListener;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/ComposeMessageActivity$1;)V

    invoke-virtual {v0, v3, v1}, Landroid/app/AlertDialog$Builder;->setPositiveButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    invoke-virtual {v0}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    goto :goto_0
.end method

.method private updateContactCache(Landroid/database/Cursor;)V
    .locals 4
    .parameter "cursor"

    .prologue
    .line 10404
    if-eqz p1, :cond_2

    .line 10405
    new-instance v1, Ljava/util/HashSet;

    invoke-direct {v1}, Ljava/util/HashSet;-><init>()V

    .line 10406
    .local v1, msgs:Ljava/util/Set;,"Ljava/util/Set<Landroid/text/SpannableString;>;"
    :cond_0
    :goto_0
    invoke-interface {p1}, Landroid/database/Cursor;->moveToNext()Z

    move-result v3

    if-eqz v3, :cond_1

    .line 10407
    const/4 v3, 0x4

    invoke-interface {p1, v3}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v2

    .line 10409
    .local v2, smsBody:Ljava/lang/String;
    if-eqz v2, :cond_0

    .line 10413
    new-instance v0, Landroid/text/SpannableString;

    invoke-direct {v0, v2}, Landroid/text/SpannableString;-><init>(Ljava/lang/CharSequence;)V

    .line 10414
    .local v0, msg:Landroid/text/SpannableString;
    invoke-interface {v1, v0}, Ljava/util/Set;->add(Ljava/lang/Object;)Z

    goto :goto_0

    .line 10417
    .end local v0           #msg:Landroid/text/SpannableString;
    .end local v2           #smsBody:Ljava/lang/String;
    :cond_1
    invoke-direct {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->updateContactCacheAsync(Ljava/util/Set;)V

    .line 10419
    .end local v1           #msgs:Ljava/util/Set;,"Ljava/util/Set<Landroid/text/SpannableString;>;"
    :cond_2
    return-void
.end method

.method private updateContactCacheAsync(Ljava/util/Set;)V
    .locals 2
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/Set",
            "<",
            "Landroid/text/SpannableString;",
            ">;)V"
        }
    .end annotation

    .prologue
    .line 10422
    .local p1, msgs:Ljava/util/Set;,"Ljava/util/Set<Landroid/text/SpannableString;>;"
    new-instance v0, Ljava/lang/Thread;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$91;

    invoke-direct {v1, p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity$91;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Ljava/util/Set;)V

    invoke-direct {v0, v1}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v0}, Ljava/lang/Thread;->start()V

    .line 10441
    return-void
.end method

.method private updateCounter(Ljava/lang/CharSequence;III)V
    .locals 9
    .parameter "text"
    .parameter "start"
    .parameter "before"
    .parameter "count"

    .prologue
    const/4 v5, 0x1

    const/4 v4, 0x0

    .line 1261
    if-nez p1, :cond_1

    .line 1262
    const-string v4, "Mms/compose"

    const-string v5, "updateCounter(): text is null!"

    invoke-static {v4, v5}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 1359
    :cond_0
    :goto_0
    return-void

    .line 1265
    :cond_1
    invoke-interface {p1}, Ljava/lang/CharSequence;->length()I

    move-result v6

    if-nez v6, :cond_2

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getIpMessagePlugin(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/IIpMessagePlugin;

    move-result-object v6

    invoke-interface {v6}, Lcom/mediatek/mms/ipmessage/IIpMessagePlugin;->isActualPlugin()Z

    move-result v6

    if-nez v6, :cond_2

    invoke-static {}, Lcom/android/mms/MmsConfig;->isSupportCTFeature()Z

    move-result v6

    if-nez v6, :cond_2

    .line 1267
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextCounter:Landroid/widget/TextView;

    const/16 v7, 0x8

    invoke-virtual {v6, v7}, Landroid/view/View;->setVisibility(I)V

    .line 1268
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v6, v4, v5}, Lcom/android/mms/data/WorkingMessage;->setLengthRequiresMms(ZZ)V

    goto :goto_0

    .line 1271
    :cond_2
    const-string v6, "Mms/compose"

    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "updateCounter(): text = "

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-static {v6, v7}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 1272
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getIpMessagePlugin(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/IIpMessagePlugin;

    move-result-object v6

    invoke-interface {v6}, Lcom/mediatek/mms/ipmessage/IIpMessagePlugin;->isActualPlugin()Z

    move-result v6

    if-eqz v6, :cond_3

    invoke-direct {p0, p1, p2, p3, p4}, Lcom/android/mms/ui/ComposeMessageActivity;->updateIpMessageCounter(Ljava/lang/CharSequence;III)Z

    move-result v6

    if-nez v6, :cond_0

    .line 1276
    :cond_3
    const-string v6, "Mms/compose"

    const-string v7, "updateCounter(): common message"

    invoke-static {v6, v7}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 1292
    const/4 v2, 0x0

    .line 1294
    .local v2, params:[I
    const/4 v0, 0x0

    .line 1296
    .local v0, encodingType:I
    invoke-static {}, Lcom/android/mms/MmsConfig;->getSmsEncodingTypeEnabled()Z

    move-result v6

    if-eqz v6, :cond_4

    .line 1297
    invoke-static {p0}, Lcom/android/mms/ui/MessageUtils;->getSmsEncodingType(Landroid/content/Context;)I

    move-result v0

    .line 1300
    :cond_4
    invoke-static {p1, v4, v0}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSmsMessageEx;->calculateLength(Ljava/lang/CharSequence;ZI)[I

    move-result-object v2

    .line 1307
    aget v1, v2, v4

    .line 1308
    .local v1, msgCount:I
    const/4 v6, 0x2

    aget v3, v2, v6

    .line 1337
    .local v3, remainingInCurrentMessage:I
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-static {}, Lcom/android/mms/MmsConfig;->getSmsToMmsTextThreshold()I

    move-result v7

    if-lt v1, v7, :cond_5

    move v4, v5

    :cond_5
    invoke-virtual {v6, v4, v5}, Lcom/android/mms/data/WorkingMessage;->setLengthRequiresMms(ZZ)V

    .line 1341
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    new-instance v5, Lcom/android/mms/ui/ComposeMessageActivity$15;

    invoke-direct {v5, p0, v3, v1}, Lcom/android/mms/ui/ComposeMessageActivity$15;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;II)V

    const-wide/16 v6, 0x64

    invoke-virtual {v4, v5, v6, v7}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    goto :goto_0
.end method

.method private updateFullScreenTextEditorHeight()V
    .locals 3

    .prologue
    .line 10095
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

    invoke-virtual {v0}, Landroid/view/View;->getVisibility()I

    move-result v0

    if-nez v0, :cond_3

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

    invoke-virtual {v0}, Landroid/view/View;->getHeight()I

    move-result v0

    if-lez v0, :cond_3

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->hasSlideshow()Z

    move-result v0

    if-nez v0, :cond_3

    .line 10098
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "updateTextEditorHeight(): mTextEditor.setMaxHeight: "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    iget v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    mul-int/lit16 v2, v2, 0xe0

    div-int/lit16 v2, v2, 0x320

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 10101
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsLandscape:Z

    if-eqz v0, :cond_1

    .line 10102
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    iget v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    mul-int/lit8 v1, v1, 0x41

    div-int/lit16 v1, v1, 0x320

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setMaxHeight(I)V

    .line 10139
    :cond_0
    :goto_0
    return-void

    .line 10105
    :cond_1
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsSoftKeyBoardShow:Z

    if-eqz v0, :cond_2

    .line 10106
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    iget v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    mul-int/lit16 v1, v1, 0x8c

    div-int/lit16 v1, v1, 0x320

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setMaxHeight(I)V

    goto :goto_0

    .line 10109
    :cond_2
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    iget v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    mul-int/lit16 v1, v1, 0xe0

    div-int/lit16 v1, v1, 0x320

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setMaxHeight(I)V

    goto :goto_0

    .line 10115
    :cond_3
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsSoftKeyBoardShow:Z

    if-eqz v0, :cond_4

    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsLandscape:Z

    if-nez v0, :cond_4

    .line 10116
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "updateFullScreenTextEditorHeight() updateTextEditorHeight(): mTextEditor.setMaxHeight: "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    iget v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    mul-int/lit16 v2, v2, 0x8c

    div-int/lit16 v2, v2, 0x320

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 10119
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    iget v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    mul-int/lit16 v1, v1, 0x8c

    div-int/lit16 v1, v1, 0x320

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setMaxHeight(I)V

    goto :goto_0

    .line 10122
    :cond_4
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsSoftKeyBoardShow:Z

    if-nez v0, :cond_5

    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsLandscape:Z

    if-nez v0, :cond_5

    .line 10123
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "updateTextEditorHeight(): mTextEditor.setMaxHeight: "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    iget v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    mul-int/lit16 v2, v2, 0x1ea

    div-int/lit16 v2, v2, 0x320

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 10126
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isSharePanelOrEmoticonPanelShow()Z

    move-result v0

    if-nez v0, :cond_0

    .line 10127
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    iget v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    mul-int/lit16 v1, v1, 0x1ea

    div-int/lit16 v1, v1, 0x320

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setMaxHeight(I)V

    goto/16 :goto_0

    .line 10132
    :cond_5
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "updateTextEditorHeight(): mTextEditor.setMaxHeight: "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    iget v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    mul-int/lit8 v2, v2, 0x41

    div-int/lit16 v2, v2, 0x320

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 10135
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    iget v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    mul-int/lit8 v1, v1, 0x41

    div-int/lit16 v1, v1, 0x320

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setMaxHeight(I)V

    goto/16 :goto_0
.end method

.method private updateIpMessageCounter(Ljava/lang/CharSequence;III)Z
    .locals 6
    .parameter "text"
    .parameter "start"
    .parameter "before"
    .parameter "count"

    .prologue
    const/16 v5, 0x64

    const/4 v2, 0x1

    const/4 v1, 0x0

    .line 14190
    const-string v3, "Mms/compose"

    const-string v4, "updateIpMessageCounter()"

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 14192
    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsEditingCaption:Z

    if-eqz v3, :cond_2

    .line 14193
    invoke-interface {p1}, Ljava/lang/CharSequence;->length()I

    move-result v3

    if-le v3, v5, :cond_1

    .line 14194
    const-string v2, "Mms/ipmsg/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "updateIpMessageCounter(): Caption text over limit, count = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-interface {p1}, Ljava/lang/CharSequence;->length()I

    move-result v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 14223
    :cond_0
    :goto_0
    return v1

    .line 14197
    :cond_1
    const-string v3, "Mms/ipmsg/compose"

    const-string v4, "updateIpMessageCounter(): Caption"

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 14198
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextCounter:Landroid/widget/TextView;

    invoke-virtual {v3, v1}, Landroid/view/View;->setVisibility(I)V

    .line 14199
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextCounter:Landroid/widget/TextView;

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    invoke-interface {p1}, Ljava/lang/CharSequence;->length()I

    move-result v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "/"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v1, v3}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    move v1, v2

    .line 14200
    goto :goto_0

    .line 14202
    :cond_2
    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    if-eqz v3, :cond_0

    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v3

    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->isNetworkConnected(Landroid/content/Context;)Z

    move-result v3

    if-eqz v3, :cond_0

    invoke-static {}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getSDCardStatus()Z

    move-result v3

    if-eqz v3, :cond_0

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isCurrentRecipientIpMessageUser()Z

    move-result v3

    if-eqz v3, :cond_0

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v3

    if-nez v3, :cond_0

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mJustSendMsgViaCommonMsgThisTime:Z

    if-nez v3, :cond_0

    invoke-interface {p1}, Ljava/lang/CharSequence;->length()I

    move-result v3

    if-lez v3, :cond_0

    .line 14206
    invoke-interface {p1}, Ljava/lang/CharSequence;->length()I

    move-result v0

    .line 14207
    .local v0, length:I
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    new-instance v3, Lcom/android/mms/ui/ComposeMessageActivity$132;

    invoke-direct {v3, p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity$132;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;I)V

    const-wide/16 v4, 0x64

    invoke-virtual {v1, v3, v4, v5}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    move v1, v2

    .line 14221
    goto :goto_0
.end method

.method private updateSendButtonState()V
    .locals 7

    .prologue
    const/4 v6, 0x1

    .line 7452
    const/4 v0, 0x0

    .line 7453
    .local v0, enable:Z
    const-string v3, "Mms/compose"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "updateSendButtonState(): isPreparedForSending = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isPreparedForSending()Z

    move-result v5

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->v(Ljava/lang/String;Ljava/lang/String;)V

    .line 7454
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isPreparedForSending()Z

    move-result v3

    if-eqz v3, :cond_2

    .line 7456
    const-string v3, "Mms/compose"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "updateSendButtonState(): mSimCount = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    iget v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, ", Gemini is support = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->v(Ljava/lang/String;Ljava/lang/String;)V

    .line 7458
    iget v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    if-lez v3, :cond_0

    .line 7463
    const-string v3, "Mms/compose"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "updateSendButtonState(): hasSlideshow = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v5}, Lcom/android/mms/data/WorkingMessage;->hasSlideshow()Z

    move-result v5

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->v(Ljava/lang/String;Ljava/lang/String;)V

    .line 7464
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->hasSlideshow()Z

    move-result v3

    if-nez v3, :cond_1

    .line 7465
    const/4 v0, 0x1

    .line 7496
    :cond_0
    :goto_0
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v1

    .line 7498
    .local v1, requiresMms:Z
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v3}, Lcom/mediatek/mms/ext/IMmsCompose;->isDualSendButtonEnable()Z

    move-result v3

    if-eqz v3, :cond_3

    .line 7500
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v3, v0, v1}, Lcom/mediatek/mms/ext/IMmsCompose;->updateCTSendButtonStatue(ZZ)Z

    .line 7510
    :goto_1
    return-void

    .line 7467
    .end local v1           #requiresMms:Z
    :cond_1
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

    invoke-virtual {v3, v6}, Lcom/android/mms/ui/AttachmentEditor;->setCanSend(Z)V

    goto :goto_0

    .line 7493
    :cond_2
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

    const/4 v4, 0x0

    invoke-virtual {v3, v4}, Lcom/android/mms/ui/AttachmentEditor;->setCanSend(Z)V

    goto :goto_0

    .line 7504
    .restart local v1       #requiresMms:Z
    :cond_3
    invoke-direct {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->showSmsOrMmsSendButton(Z)Landroid/view/View;

    move-result-object v2

    .line 7505
    .local v2, sendButton:Landroid/view/View;
    if-nez v1, :cond_4

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->recipientCount()I

    move-result v3

    invoke-static {}, Lcom/android/mms/MmsConfig;->getSmsRecipientLimit()I

    move-result v4

    if-le v3, v4, :cond_4

    .line 7506
    const/4 v0, 0x0

    .line 7508
    :cond_4
    invoke-virtual {v2, v0}, Landroid/view/View;->setEnabled(Z)V

    .line 7509
    invoke-virtual {v2, v0}, Landroid/view/View;->setFocusable(Z)V

    goto :goto_1
.end method

.method private updateSendButtonState(Z)V
    .locals 3
    .parameter "enabled"

    .prologue
    .line 9408
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1}, Lcom/android/mms/data/WorkingMessage;->hasSlideshow()Z

    move-result v1

    if-nez v1, :cond_1

    .line 9409
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v1

    invoke-direct {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->showSmsOrMmsSendButton(Z)Landroid/view/View;

    move-result-object v0

    .line 9411
    .local v0, sendButton:Landroid/view/View;
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v1}, Lcom/mediatek/mms/ext/IMmsCompose;->isDualSendButtonEnable()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 9413
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v2

    invoke-interface {v1, p1, v2}, Lcom/mediatek/mms/ext/IMmsCompose;->updateCTSendButtonStatue(ZZ)Z

    .line 9421
    .end local v0           #sendButton:Landroid/view/View;
    :goto_0
    return-void

    .line 9416
    .restart local v0       #sendButton:Landroid/view/View;
    :cond_0
    invoke-virtual {v0, p1}, Landroid/view/View;->setEnabled(Z)V

    .line 9417
    invoke-virtual {v0, p1}, Landroid/view/View;->setFocusable(Z)V

    goto :goto_0

    .line 9419
    .end local v0           #sendButton:Landroid/view/View;
    :cond_1
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

    invoke-virtual {v1, p1}, Lcom/android/mms/ui/AttachmentEditor;->setCanSend(Z)V

    goto :goto_0
.end method

.method private updateSendFailedNotification()V
    .locals 5

    .prologue
    .line 4039
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v2}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v0

    .line 4040
    .local v0, threadId:J
    const-wide/16 v2, 0x0

    cmp-long v2, v0, v2

    if-gtz v2, :cond_0

    .line 4052
    :goto_0
    return-void

    .line 4045
    :cond_0
    new-instance v2, Ljava/lang/Thread;

    new-instance v3, Lcom/android/mms/ui/ComposeMessageActivity$32;

    invoke-direct {v3, p0, v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity$32;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;J)V

    const-string v4, "ComposeMessageActivity.updateSendFailedNotification"

    invoke-direct {v2, v3, v4}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;Ljava/lang/String;)V

    invoke-virtual {v2}, Ljava/lang/Thread;->start()V

    goto :goto_0
.end method

.method private updateTextEditorHeightInFullScreen()V
    .locals 4

    .prologue
    .line 10083
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsLandscape:Z

    if-nez v0, :cond_0

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    if-eqz v0, :cond_0

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v0}, Landroid/view/View;->getVisibility()I

    move-result v0

    const/16 v1, 0x8

    if-ne v0, v1, :cond_1

    .line 10092
    :cond_0
    :goto_0
    return-void

    .line 10086
    :cond_1
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$87;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$87;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    const-wide/16 v2, 0x64

    invoke-virtual {v0, v1, v2, v3}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    goto :goto_0
.end method

.method private updateTextEditorHint()V
    .locals 5

    .prologue
    const/4 v3, 0x1

    const/4 v4, 0x0

    .line 12220
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    if-eqz v0, :cond_6

    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v0

    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->isNetworkConnected(Landroid/content/Context;)Z

    move-result v0

    if-eqz v0, :cond_6

    .line 12221
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v0, :cond_4

    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    if-eqz v0, :cond_4

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v0}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v0

    const/4 v1, 0x4

    if-ne v0, v1, :cond_0

    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImageCaptionOn:Z

    if-nez v0, :cond_2

    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v0}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v0

    const/4 v1, 0x5

    if-ne v0, v1, :cond_1

    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsAudioCaptionOn:Z

    if-nez v0, :cond_2

    :cond_1
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v0}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v0

    const/16 v1, 0x9

    if-ne v0, v1, :cond_4

    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsVideoCaptionOn:Z

    if-eqz v0, :cond_4

    .line 12225
    :cond_2
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v1

    const/16 v2, 0xb1

    invoke-virtual {v1, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setHint(Ljava/lang/CharSequence;)V

    .line 12227
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsEditingCaption:Z

    if-eqz v0, :cond_3

    .line 12228
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    new-array v1, v3, [Landroid/text/InputFilter;

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$TextLengthFilter;

    const/16 v3, 0x64

    invoke-direct {v2, p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity$TextLengthFilter;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;I)V

    aput-object v2, v1, v4

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setFilters([Landroid/text/InputFilter;)V

    .line 12230
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->getText()Ljava/lang/CharSequence;

    move-result-object v0

    invoke-direct {p0, v0, v4, v4, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->updateCounter(Ljava/lang/CharSequence;III)V

    .line 12246
    :cond_3
    :goto_0
    return-void

    .line 12233
    :cond_4
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-nez v0, :cond_5

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v0

    if-nez v0, :cond_6

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isCurrentRecipientIpMessageUser()Z

    move-result v0

    if-eqz v0, :cond_6

    .line 12234
    :cond_5
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v1

    const/16 v2, 0xb0

    invoke-virtual {v1, v2}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setHint(Ljava/lang/CharSequence;)V

    .line 12236
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    new-array v1, v3, [Landroid/text/InputFilter;

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$TextLengthFilter;

    invoke-static {}, Lcom/android/mms/MmsConfig;->getMaxTextLimit()I

    move-result v3

    invoke-direct {v2, p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity$TextLengthFilter;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;I)V

    aput-object v2, v1, v4

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setFilters([Landroid/text/InputFilter;)V

    .line 12238
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->getText()Ljava/lang/CharSequence;

    move-result-object v0

    invoke-direct {p0, v0, v4, v4, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->updateCounter(Ljava/lang/CharSequence;III)V

    goto :goto_0

    .line 12242
    :cond_6
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    const v1, 0x7f0b0124

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setHint(I)V

    .line 12243
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    new-array v1, v3, [Landroid/text/InputFilter;

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$TextLengthFilter;

    invoke-static {}, Lcom/android/mms/MmsConfig;->getMaxTextLimit()I

    move-result v3

    invoke-direct {v2, p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity$TextLengthFilter;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;I)V

    aput-object v2, v1, v4

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setFilters([Landroid/text/InputFilter;)V

    .line 12245
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->getText()Ljava/lang/CharSequence;

    move-result-object v0

    invoke-direct {p0, v0, v4, v4, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->updateCounter(Ljava/lang/CharSequence;III)V

    goto :goto_0
.end method

.method private updateThreadIdIfRunning()V
    .locals 2

    .prologue
    .line 8411
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsRunning:Z

    if-eqz v0, :cond_0

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    if-eqz v0, :cond_0

    .line 8412
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getMessageCount()I

    move-result v0

    if-lez v0, :cond_1

    .line 8413
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v0

    invoke-static {v0, v1}, Lcom/android/mms/transaction/MessagingNotification;->setCurrentlyDisplayedThreadId(J)V

    .line 8419
    :cond_0
    :goto_0
    return-void

    .line 8415
    :cond_1
    const-wide/16 v0, -0x2

    invoke-static {v0, v1}, Lcom/android/mms/transaction/MessagingNotification;->setCurrentlyDisplayedThreadId(J)V

    goto :goto_0
.end method

.method private updateTitle(Lcom/android/mms/data/ContactList;)V
    .locals 14
    .parameter "list"

    .prologue
    const v11, 0x7f02009a

    const/4 v13, 0x1

    const/4 v12, 0x0

    .line 3102
    const/4 v7, 0x0

    .line 3103
    .local v7, title:Ljava/lang/String;
    const/4 v6, 0x0

    .line 3104
    .local v6, subTitle:Ljava/lang/String;
    const/4 v1, 0x0

    .line 3105
    .local v1, avatarIcon:Landroid/graphics/drawable/Drawable;
    invoke-virtual {p1}, Ljava/util/ArrayList;->size()I

    move-result v2

    .line 3106
    .local v2, cnt:I
    const-string v8, "Mms/compose"

    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, "updateTitle(): list.size()"

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {p1}, Ljava/util/ArrayList;->size()I

    move-result v10

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    invoke-static {v8, v9}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 3107
    packed-switch v2, :pswitch_data_0

    .line 3142
    invoke-virtual {p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v8

    invoke-virtual {v8, v11}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    .line 3143
    const-string v8, ", "

    invoke-virtual {p1, v8}, Lcom/android/mms/data/ContactList;->formatNames(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    .line 3144
    invoke-virtual {p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v8

    const v9, 0x7f0c0009

    new-array v10, v13, [Ljava/lang/Object;

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v11

    aput-object v11, v10, v12

    invoke-virtual {v8, v9, v2, v10}, Landroid/content/res/Resources;->getQuantityString(II[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v6

    .line 3148
    :cond_0
    :goto_0
    invoke-virtual {p1}, Lcom/android/mms/data/ContactList;->serialize()Ljava/lang/String;

    move-result-object v8

    iput-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDebugRecipients:Ljava/lang/String;

    .line 3150
    invoke-virtual {p0}, Landroid/app/Activity;->getActionBar()Landroid/app/ActionBar;

    move-result-object v0

    .line 3151
    .local v0, actionBar:Landroid/app/ActionBar;
    if-eqz v1, :cond_1

    .line 3152
    invoke-virtual {v0, v1}, Landroid/app/ActionBar;->setIcon(Landroid/graphics/drawable/Drawable;)V

    .line 3155
    :cond_1
    invoke-virtual {v0}, Landroid/app/ActionBar;->getCustomView()Landroid/view/View;

    move-result-object v8

    if-nez v8, :cond_2

    .line 3156
    const/high16 v8, 0x7f04

    invoke-virtual {v0, v8}, Landroid/app/ActionBar;->setCustomView(I)V

    .line 3158
    :cond_2
    invoke-virtual {v0}, Landroid/app/ActionBar;->getCustomView()Landroid/view/View;

    move-result-object v8

    iput-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mActionBarCustomView:Landroid/view/View;

    .line 3159
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mActionBarCustomView:Landroid/view/View;

    const/high16 v9, 0x7f0f

    invoke-virtual {v8, v9}, Landroid/view/View;->findViewById(I)Landroid/view/View;

    move-result-object v8

    check-cast v8, Landroid/widget/TextView;

    iput-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTopTitle:Landroid/widget/TextView;

    .line 3160
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mActionBarCustomView:Landroid/view/View;

    const v9, 0x7f0f0002

    invoke-virtual {v8, v9}, Landroid/view/View;->findViewById(I)Landroid/view/View;

    move-result-object v8

    check-cast v8, Landroid/widget/TextView;

    iput-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTopSubtitle:Landroid/widget/TextView;

    .line 3161
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->asyncUpdateThreadMuteIcon()V

    .line 3165
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTopTitle:Landroid/widget/TextView;

    const/16 v9, 0xbb8

    invoke-virtual {v8, v9}, Landroid/widget/TextView;->setMaxWidth(I)V

    .line 3166
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTopTitle:Landroid/widget/TextView;

    invoke-virtual {v8, v7}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 3167
    invoke-static {v6}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v8

    if-eqz v8, :cond_7

    .line 3168
    if-nez v2, :cond_3

    .line 3169
    const v8, 0x7f0200a7

    invoke-virtual {v0, v8}, Landroid/app/ActionBar;->setIcon(I)V

    .line 3171
    :cond_3
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTopSubtitle:Landroid/widget/TextView;

    const/16 v9, 0x8

    invoke-virtual {v8, v9}, Landroid/view/View;->setVisibility(I)V

    .line 3176
    :goto_1
    invoke-virtual {v0, v13}, Landroid/app/ActionBar;->setDisplayShowCustomEnabled(Z)V

    .line 3177
    invoke-virtual {v0, v12}, Landroid/app/ActionBar;->setDisplayShowTitleEnabled(Z)V

    .line 3178
    return-void

    .line 3111
    .end local v0           #actionBar:Landroid/app/ActionBar;
    :pswitch_0
    const v8, 0x7f0b022e

    invoke-virtual {p0, v8}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v7

    .line 3112
    goto :goto_0

    .line 3115
    :pswitch_1
    invoke-virtual {p1, v12}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v8

    check-cast v8, Lcom/android/mms/data/Contact;

    invoke-virtual {v8}, Lcom/android/mms/data/Contact;->getName()Ljava/lang/String;

    move-result-object v7

    .line 3117
    invoke-virtual {p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v8

    invoke-virtual {v8, v11}, Landroid/content/res/Resources;->getDrawable(I)Landroid/graphics/drawable/Drawable;

    move-result-object v5

    .line 3119
    .local v5, sDefaultContactImage:Landroid/graphics/drawable/Drawable;
    invoke-virtual {p1, v12}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v8

    check-cast v8, Lcom/android/mms/data/Contact;

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    if-eqz v9, :cond_6

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v9}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v9

    :goto_2
    invoke-virtual {v8, p0, v5, v9, v10}, Lcom/android/mms/data/Contact;->getAvatar(Landroid/content/Context;Landroid/graphics/drawable/Drawable;J)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    .line 3121
    invoke-virtual {p1, v12}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v8

    check-cast v8, Lcom/android/mms/data/Contact;

    invoke-virtual {v8}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v3

    .line 3122
    .local v3, number:Ljava/lang/String;
    invoke-virtual {v7, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v8

    if-nez v8, :cond_4

    .line 3123
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v8

    invoke-static {v3, v8}, Lcom/android/mms/ui/MessageUtils;->formatNumber(Ljava/lang/String;Landroid/content/Context;)Ljava/lang/String;

    move-result-object v4

    .line 3125
    .local v4, numberAfterFormat:Ljava/lang/String;
    invoke-virtual {v7, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v8

    if-nez v8, :cond_4

    .line 3126
    move-object v6, v4

    .line 3130
    .end local v4           #numberAfterFormat:Ljava/lang/String;
    :cond_4
    invoke-static {}, Lcom/android/mms/MmsConfig;->isSupportCTFeature()Z

    move-result v8

    if-eqz v8, :cond_5

    .line 3131
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v8, p0, v3}, Lcom/mediatek/mms/ext/IMmsCompose;->getNumberLocation(Landroid/content/Context;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v6

    .line 3134
    :cond_5
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v8}, Lcom/android/mms/ui/MessageListAdapter;->isGroupConversation()Z

    move-result v8

    if-eqz v8, :cond_0

    .line 3135
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v8, v12}, Lcom/android/mms/ui/MessageListAdapter;->setIsGroupConversation(Z)V

    goto/16 :goto_0

    .line 3119
    .end local v3           #number:Ljava/lang/String;
    :cond_6
    const-wide/16 v9, -0x1

    goto :goto_2

    .line 3173
    .end local v5           #sDefaultContactImage:Landroid/graphics/drawable/Drawable;
    .restart local v0       #actionBar:Landroid/app/ActionBar;
    :cond_7
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTopSubtitle:Landroid/widget/TextView;

    invoke-virtual {v8, v6}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 3174
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTopSubtitle:Landroid/widget/TextView;

    invoke-virtual {v8, v12}, Landroid/view/View;->setVisibility(I)V

    goto :goto_1

    .line 3107
    :pswitch_data_0
    .packed-switch 0x0
        :pswitch_0
        :pswitch_1
    .end packed-switch
.end method

.method private viewMmsMessageAttachment(I)V
    .locals 6
    .parameter "requestCode"

    .prologue
    .line 1033
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v1

    .line 1034
    .local v1, slideshow:Lcom/android/mms/model/SlideshowModel;
    if-nez v1, :cond_0

    .line 1035
    new-instance v2, Ljava/lang/IllegalStateException;

    const-string v3, "mWorkingMessage.getSlideshow() == null"

    invoke-direct {v2, v3}, Ljava/lang/IllegalStateException;-><init>(Ljava/lang/String;)V

    throw v2

    .line 1039
    :cond_0
    const/4 v2, 0x0

    invoke-virtual {v1, v2}, Lcom/android/mms/model/SlideshowModel;->get(I)Lcom/android/mms/model/SlideModel;

    move-result-object v0

    .line 1040
    .local v0, slideOne:Lcom/android/mms/model/SlideModel;
    invoke-virtual {v1}, Lcom/android/mms/model/SlideshowModel;->isSimple()Z

    move-result v2

    if-eqz v2, :cond_1

    if-eqz v0, :cond_1

    invoke-virtual {v0}, Lcom/android/mms/model/SlideModel;->hasAudio()Z

    move-result v2

    if-nez v2, :cond_1

    .line 1041
    invoke-static {p0, v1}, Lcom/android/mms/ui/MessageUtils;->viewSimpleSlideshow(Landroid/content/Context;Lcom/android/mms/model/SlideshowModel;)V

    .line 1085
    :goto_0
    return-void

    .line 1048
    :cond_1
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getAsyncDialog()Lcom/android/mms/ui/AsyncDialog;

    move-result-object v2

    new-instance v3, Lcom/android/mms/ui/ComposeMessageActivity$11;

    invoke-direct {v3, p0}, Lcom/android/mms/ui/ComposeMessageActivity$11;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    new-instance v4, Lcom/android/mms/ui/ComposeMessageActivity$12;

    invoke-direct {v4, p0, v1, p1}, Lcom/android/mms/ui/ComposeMessageActivity$12;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/model/SlideshowModel;I)V

    const v5, 0x7f0b0110

    invoke-virtual {v2, v3, v4, v5}, Lcom/android/mms/ui/AsyncDialog;->runAsync(Ljava/lang/Runnable;Ljava/lang/Runnable;I)V

    goto :goto_0
.end method

.method private waitForCompressing()V
    .locals 3

    .prologue
    .line 10249
    monitor-enter p0

    .line 10250
    :goto_0
    :try_start_0
    iget-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCompressingImage:Z
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    if-eqz v1, :cond_0

    .line 10252
    :try_start_1
    invoke-virtual {p0}, Ljava/lang/Object;->wait()V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0
    .catch Ljava/lang/InterruptedException; {:try_start_1 .. :try_end_1} :catch_0

    goto :goto_0

    .line 10253
    :catch_0
    move-exception v0

    .line 10254
    .local v0, e:Ljava/lang/InterruptedException;
    :try_start_2
    const-string v1, "Mms/compose"

    const-string v2, "intterrupted exception e "

    invoke-static {v1, v2, v0}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_0

    .line 10257
    .end local v0           #e:Ljava/lang/InterruptedException;
    :catchall_0
    move-exception v1

    monitor-exit p0
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    throw v1

    :cond_0
    :try_start_3
    monitor-exit p0
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_0

    .line 10258
    return-void
.end method


# virtual methods
.method public chooseAudio()V
    .locals 4

    .prologue
    .line 11252
    new-instance v0, Landroid/app/AlertDialog$Builder;

    invoke-direct {v0, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    .line 11253
    .local v0, alertBuilder:Landroid/app/AlertDialog$Builder;
    const v2, 0x7f0b0259

    invoke-virtual {p0, v2}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v2}, Landroid/app/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    .line 11254
    const/4 v2, 0x2

    new-array v1, v2, [Ljava/lang/String;

    .line 11255
    .local v1, items:[Ljava/lang/String;
    const/4 v2, 0x0

    const v3, 0x7f0b0053

    invoke-virtual {p0, v3}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v3

    aput-object v3, v1, v2

    .line 11256
    const/4 v2, 0x1

    const v3, 0x7f0b02eb

    invoke-virtual {p0, v3}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v3

    aput-object v3, v1, v2

    .line 11257
    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$95;

    invoke-direct {v2, p0}, Lcom/android/mms/ui/ComposeMessageActivity$95;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1, v2}, Landroid/app/AlertDialog$Builder;->setItems([Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    .line 11276
    invoke-virtual {v0}, Landroid/app/AlertDialog$Builder;->create()Landroid/app/AlertDialog;

    move-result-object v2

    invoke-virtual {v2}, Landroid/app/Dialog;->show()V

    .line 11277
    return-void
.end method

.method public choosePhoto()V
    .locals 6

    .prologue
    .line 11164
    new-instance v2, Landroid/content/Intent;

    invoke-direct {v2}, Landroid/content/Intent;-><init>()V

    .line 11165
    .local v2, intent:Landroid/content/Intent;
    const-string v3, "android.intent.action.PICK"

    invoke-virtual {v2, v3}, Landroid/content/Intent;->setAction(Ljava/lang/String;)Landroid/content/Intent;

    .line 11166
    const-string v3, "image/*"

    invoke-virtual {v2, v3}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 11167
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v4

    invoke-virtual {v3, v4, v5}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, ".jpg"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    .line 11168
    .local v1, fileName:Ljava/lang/String;
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/android/mms/MmsConfig;->getPicTempPath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    sget-object v4, Ljava/io/File;->separator:Ljava/lang/String;

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    iput-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    .line 11169
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    iput-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    .line 11171
    const/16 v3, 0xcc

    :try_start_0
    invoke-virtual {p0, v2, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 11179
    :goto_0
    return-void

    .line 11172
    :catch_0
    move-exception v0

    .line 11173
    .local v0, e:Ljava/lang/Exception;
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v3

    const/16 v4, 0xc7

    invoke-virtual {v3, v4}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v3

    const/4 v4, 0x0

    invoke-static {p0, v3, v4}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v3

    invoke-virtual {v3}, Landroid/widget/Toast;->show()V

    .line 11177
    const-string v3, "Mms/ipmsg/compose"

    const-string v4, "choosePhoto()"

    invoke-static {v3, v4, v0}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_0
.end method

.method public chooseVideo()V
    .locals 4

    .prologue
    .line 11199
    new-instance v1, Landroid/content/Intent;

    const-string v2, "android.intent.action.PICK"

    invoke-direct {v1, v2}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 11200
    .local v1, intent:Landroid/content/Intent;
    const-string v2, "video/*"

    invoke-virtual {v1, v2}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 11202
    const/16 v2, 0xcd

    :try_start_0
    invoke-virtual {p0, v1, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 11210
    :goto_0
    return-void

    .line 11203
    :catch_0
    move-exception v0

    .line 11204
    .local v0, e:Ljava/lang/Exception;
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v2

    const/16 v3, 0xc7

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v2

    const/4 v3, 0x0

    invoke-static {p0, v2, v3}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v2

    invoke-virtual {v2}, Landroid/widget/Toast;->show()V

    .line 11208
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "chooseVideo()"

    invoke-static {v2, v3, v0}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_0
.end method

.method public confirmForChangeMmsToSms()V
    .locals 3

    .prologue
    .line 14867
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isLengthRequiredMms()Z

    move-result v0

    if-nez v0, :cond_0

    .line 14868
    const-string v0, "Mms/compose"

    const-string v1, "isLengthRequiredMms Checked false"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 14869
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    const/4 v1, 0x0

    invoke-interface {v0, v1}, Lcom/mediatek/mms/ext/IMmsCompose;->setConfirmMmsToSms(Z)V

    .line 14870
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->confirmSendMessageIfNeeded()V

    .line 14893
    :goto_0
    return-void

    .line 14873
    :cond_0
    const-string v0, "Mms/compose"

    const-string v1, "isLengthRequiredMms Checked true"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 14874
    new-instance v0, Landroid/app/AlertDialog$Builder;

    invoke-direct {v0, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    const-string v1, ""

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setTitle(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    const v1, 0x1010355

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setIconAttribute(I)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mStringReplacementPlugin:Lcom/mediatek/mms/ext/IStringReplacement;

    const/16 v2, 0xd

    invoke-interface {v1, v2}, Lcom/mediatek/mms/ext/IStringReplacement;->getCTStrings(I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setMessage(Ljava/lang/CharSequence;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    const v1, 0x7f0b0295

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$138;

    invoke-direct {v2, p0}, Lcom/android/mms/ui/ComposeMessageActivity$138;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1, v2}, Landroid/app/AlertDialog$Builder;->setPositiveButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    const v1, 0x7f0b0296

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$137;

    invoke-direct {v2, p0}, Lcom/android/mms/ui/ComposeMessageActivity$137;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {v0, v1, v2}, Landroid/app/AlertDialog$Builder;->setNegativeButton(ILandroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setCancelable(Z)Landroid/app/AlertDialog$Builder;

    move-result-object v0

    invoke-virtual {v0}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    goto :goto_0
.end method

.method public deleteMassTextMsg(JJ)V
    .locals 10
    .parameter "msgId"
    .parameter "timeStamp"

    .prologue
    const/4 v2, 0x0

    const/16 v1, 0x25e4

    const/4 v5, 0x1

    const/4 v9, 0x0

    .line 14431
    sget-object v0, Landroid/provider/Telephony$Sms;->CONTENT_URI:Landroid/net/Uri;

    invoke-static {v0, p1, p2}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v6

    .line 14432
    .local v6, uri:Landroid/net/Uri;
    const-wide/16 v3, 0x0

    cmp-long v0, p3, v3

    if-gez v0, :cond_0

    .line 14433
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    sget-object v3, Landroid/provider/Telephony$Sms;->CONTENT_URI:Landroid/net/Uri;

    const-string v4, "ipmsg_id = ?"

    new-array v5, v5, [Ljava/lang/String;

    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {v7, p3, p4}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v7

    const-string v8, ""

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    aput-object v7, v5, v9

    invoke-virtual/range {v0 .. v5}, Landroid/content/AsyncQueryHandler;->startDelete(ILjava/lang/Object;Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)V

    .line 14440
    :goto_0
    return-void

    .line 14437
    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    sget-object v3, Landroid/provider/Telephony$Sms;->CONTENT_URI:Landroid/net/Uri;

    const-string v4, "_id = ?"

    new-array v5, v5, [Ljava/lang/String;

    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {v7, p1, p2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v7

    const-string v8, ""

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    aput-object v7, v5, v9

    invoke-virtual/range {v0 .. v5}, Landroid/content/AsyncQueryHandler;->startDelete(ILjava/lang/Object;Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)V

    goto :goto_0
.end method

.method public dispatchTouchEvent(Landroid/view/MotionEvent;)Z
    .locals 2
    .parameter "ev"

    .prologue
    .line 10490
    const/4 v0, 0x0

    .line 10492
    .local v0, ret:Z
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsTextSizeAdjustPlugin:Lcom/mediatek/mms/ext/IMmsTextSizeAdjust;

    if-eqz v1, :cond_0

    .line 10493
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsTextSizeAdjustPlugin:Lcom/mediatek/mms/ext/IMmsTextSizeAdjust;

    invoke-interface {v1, p1}, Lcom/mediatek/mms/ext/IMmsTextSizeAdjust;->dispatchTouchEvent(Landroid/view/MotionEvent;)Z

    move-result v0

    .line 10496
    :cond_0
    if-nez v0, :cond_1

    .line 10497
    invoke-super {p0, p1}, Landroid/app/Activity;->dispatchTouchEvent(Landroid/view/MotionEvent;)Z

    move-result v0

    .line 10499
    :cond_1
    return v0
.end method

.method public drawSketch()V
    .locals 3

    .prologue
    .line 11220
    new-instance v0, Landroid/content/Intent;

    sget-object v1, Lcom/mediatek/mms/ipmessage/IpMessageConsts$RemoteActivities;->SKETCH:Ljava/lang/String;

    invoke-direct {v0, v1}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 11221
    .local v0, intent:Landroid/content/Intent;
    const-string v1, "request_code"

    const/16 v2, 0xca

    invoke-virtual {v0, v1, v2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 11222
    invoke-static {p0, v0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->startRemoteActivityForResult(Landroid/content/Context;Landroid/content/Intent;)V

    .line 11223
    return-void
.end method

.method public drawSketchForMms()V
    .locals 3

    .prologue
    .line 11227
    new-instance v0, Landroid/content/Intent;

    sget-object v1, Lcom/mediatek/mms/ipmessage/IpMessageConsts$RemoteActivities;->SKETCH:Ljava/lang/String;

    invoke-direct {v0, v1}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 11228
    .local v0, intent:Landroid/content/Intent;
    const-string v1, "request_code"

    const/16 v2, 0xd4

    invoke-virtual {v0, v1, v2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 11229
    invoke-static {p0, v0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->startRemoteActivityForResult(Landroid/content/Context;Landroid/content/Intent;)V

    .line 11230
    return-void
.end method

.method getAsyncDialog()Lcom/android/mms/ui/AsyncDialog;
    .locals 1

    .prologue
    .line 6183
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAsyncDialog:Lcom/android/mms/ui/AsyncDialog;

    if-nez v0, :cond_0

    .line 6184
    new-instance v0, Lcom/android/mms/ui/AsyncDialog;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/AsyncDialog;-><init>(Landroid/app/Activity;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAsyncDialog:Lcom/android/mms/ui/AsyncDialog;

    .line 6186
    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAsyncDialog:Lcom/android/mms/ui/AsyncDialog;

    return-object v0
.end method

.method public getCalendar(Landroid/content/Context;Ljava/lang/String;)V
    .locals 17
    .parameter "context"
    .parameter "calendar"

    .prologue
    .line 12022
    invoke-static/range {p2 .. p2}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v2

    .line 12023
    .local v2, calendarUri:Landroid/net/Uri;
    const/4 v12, 0x0

    .line 12024
    .local v12, is:Ljava/io/InputStream;
    const/4 v14, 0x0

    .line 12025
    .local v14, os:Ljava/io/OutputStream;
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v1

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    invoke-virtual/range {v1 .. v6}, Landroid/content/ContentResolver;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 12026
    .local v8, cursor:Landroid/database/Cursor;
    if-eqz v8, :cond_2

    .line 12027
    invoke-interface {v8}, Landroid/database/Cursor;->getCount()I

    move-result v1

    if-nez v1, :cond_3

    .line 12028
    const-string v1, "Mms/ipmsg/compose"

    const-string v3, "getCalendar(): take calendar cursor getcount is 0"

    invoke-static {v1, v3}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 12037
    :cond_0
    :goto_0
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    .line 12039
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v3

    invoke-virtual {v1, v3, v4}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v3, ".vcs"

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v11

    .line 12040
    .local v11, fileName:Ljava/lang/String;
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static/range {p0 .. p0}, Lcom/android/mms/MmsConfig;->getVcalendarTempPath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    sget-object v3, Ljava/io/File;->separator:Ljava/lang/String;

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    move-object/from16 v0, p0

    iput-object v1, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    .line 12042
    new-instance v10, Ljava/io/File;

    move-object/from16 v0, p0

    iget-object v1, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    invoke-direct {v10, v1}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 12043
    .local v10, file:Ljava/io/File;
    invoke-virtual {v10}, Ljava/io/File;->getParentFile()Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->exists()Z

    move-result v1

    if-nez v1, :cond_1

    .line 12044
    invoke-virtual {v10}, Ljava/io/File;->getParentFile()Ljava/io/File;

    move-result-object v1

    invoke-virtual {v1}, Ljava/io/File;->mkdirs()Z

    .line 12046
    :cond_1
    invoke-virtual {v10}, Ljava/io/File;->delete()Z

    .line 12048
    :try_start_0
    invoke-virtual {v10}, Ljava/io/File;->createNewFile()Z
    :try_end_0
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_0

    move-result v1

    if-nez v1, :cond_4

    .line 12072
    .end local v10           #file:Ljava/io/File;
    .end local v11           #fileName:Ljava/lang/String;
    :cond_2
    :goto_1
    return-void

    .line 12030
    :cond_3
    invoke-interface {v8}, Landroid/database/Cursor;->moveToFirst()Z

    .line 12031
    const/4 v1, 0x0

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v1

    move-object/from16 v0, p0

    iput-object v1, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mCalendarSummary:Ljava/lang/String;

    .line 12032
    move-object/from16 v0, p0

    iget-object v1, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mCalendarSummary:Ljava/lang/String;

    if-eqz v1, :cond_0

    .line 12033
    move-object/from16 v0, p0

    iget-object v1, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mCalendarSummary:Ljava/lang/String;

    const-string v3, "."

    invoke-virtual {v1, v3}, Ljava/lang/String;->lastIndexOf(Ljava/lang/String;)I

    move-result v16

    .line 12034
    .local v16, sub:I
    move-object/from16 v0, p0

    iget-object v1, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mCalendarSummary:Ljava/lang/String;

    const/4 v3, 0x0

    move/from16 v0, v16

    invoke-virtual {v1, v3, v0}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v1

    move-object/from16 v0, p0

    iput-object v1, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mCalendarSummary:Ljava/lang/String;

    goto/16 :goto_0

    .line 12051
    .end local v16           #sub:I
    .restart local v10       #file:Ljava/io/File;
    .restart local v11       #fileName:Ljava/lang/String;
    :catch_0
    move-exception v9

    .line 12052
    .local v9, e:Ljava/io/IOException;
    const-string v1, "Mms/ipmsg/compose"

    const-string v3, "getCalendar()"

    invoke-static {v1, v3, v9}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_1

    .line 12056
    .end local v9           #e:Ljava/io/IOException;
    :cond_4
    :try_start_1
    invoke-virtual/range {p1 .. p1}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v1

    invoke-virtual {v1, v2}, Landroid/content/ContentResolver;->openInputStream(Landroid/net/Uri;)Ljava/io/InputStream;

    move-result-object v12

    .line 12057
    new-instance v15, Ljava/io/BufferedOutputStream;

    new-instance v1, Ljava/io/FileOutputStream;

    invoke-direct {v1, v10}, Ljava/io/FileOutputStream;-><init>(Ljava/io/File;)V

    invoke-direct {v15, v1}, Ljava/io/BufferedOutputStream;-><init>(Ljava/io/OutputStream;)V
    :try_end_1
    .catch Ljava/io/FileNotFoundException; {:try_start_1 .. :try_end_1} :catch_2

    .end local v14           #os:Ljava/io/OutputStream;
    .local v15, os:Ljava/io/OutputStream;
    move-object v14, v15

    .line 12061
    .end local v15           #os:Ljava/io/OutputStream;
    .restart local v14       #os:Ljava/io/OutputStream;
    :goto_2
    const/16 v1, 0x100

    new-array v7, v1, [B

    .line 12063
    .local v7, buffer:[B
    const/4 v13, 0x0

    .local v13, len:I
    :goto_3
    :try_start_2
    invoke-virtual {v12, v7}, Ljava/io/InputStream;->read([B)I

    move-result v13

    const/4 v1, -0x1

    if-eq v13, v1, :cond_5

    .line 12064
    const/4 v1, 0x0

    invoke-virtual {v14, v7, v1, v13}, Ljava/io/BufferedOutputStream;->write([BII)V
    :try_end_2
    .catch Ljava/io/IOException; {:try_start_2 .. :try_end_2} :catch_1

    goto :goto_3

    .line 12068
    :catch_1
    move-exception v9

    .line 12069
    .restart local v9       #e:Ljava/io/IOException;
    const-string v1, "Mms/ipmsg/compose"

    const-string v3, "getCalendar()"

    invoke-static {v1, v3, v9}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_1

    .line 12058
    .end local v7           #buffer:[B
    .end local v9           #e:Ljava/io/IOException;
    .end local v13           #len:I
    :catch_2
    move-exception v9

    .line 12059
    .local v9, e:Ljava/io/FileNotFoundException;
    const-string v1, "Mms/ipmsg/compose"

    const-string v3, "getCalendar()"

    invoke-static {v1, v3, v9}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_2

    .line 12066
    .end local v9           #e:Ljava/io/FileNotFoundException;
    .restart local v7       #buffer:[B
    .restart local v13       #len:I
    :cond_5
    :try_start_3
    invoke-virtual {v12}, Ljava/io/InputStream;->close()V

    .line 12067
    invoke-virtual {v14}, Ljava/io/BufferedOutputStream;->close()V
    :try_end_3
    .catch Ljava/io/IOException; {:try_start_3 .. :try_end_3} :catch_1

    goto :goto_1
.end method

.method public getConversation()Lcom/android/mms/data/Conversation;
    .locals 1

    .prologue
    .line 9947
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    return-object v0
.end method

.method public getVideoOrPhoto(Landroid/content/Intent;I)Z
    .locals 11
    .parameter "data"
    .parameter "requestCode"

    .prologue
    const/16 v10, 0xcc

    const/16 v9, 0xc8

    const/4 v8, 0x0

    const/4 v3, 0x0

    const/4 v7, 0x1

    .line 11884
    if-nez p1, :cond_1

    .line 11885
    const-string v0, "Mms/ipmsg/compose"

    const-string v3, "getVideoOrPhoto(): take video error, result intent is null."

    invoke-static {v0, v3}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    move v7, v8

    .line 11926
    :cond_0
    :goto_0
    return v7

    .line 11889
    :cond_1
    invoke-virtual {p1}, Landroid/content/Intent;->getData()Landroid/net/Uri;

    move-result-object v1

    .line 11890
    .local v1, uri:Landroid/net/Uri;
    const/4 v6, 0x0

    .line 11891
    .local v6, cursor:Landroid/database/Cursor;
    if-eq p2, v9, :cond_2

    if-ne p2, v10, :cond_3

    .line 11892
    :cond_2
    new-array v2, v7, [Ljava/lang/String;

    const-string v0, "_data"

    aput-object v0, v2, v8

    .line 11893
    .local v2, selectColumn:[Ljava/lang/String;
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContentResolver:Landroid/content/ContentResolver;

    move-object v4, v3

    move-object v5, v3

    invoke-virtual/range {v0 .. v5}, Landroid/content/ContentResolver;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v6

    .line 11898
    :goto_1
    if-nez v6, :cond_6

    .line 11899
    const/16 v0, 0xce

    if-ne p2, v0, :cond_5

    .line 11900
    invoke-virtual {v1}, Landroid/net/Uri;->getEncodedPath()Ljava/lang/String;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    .line 11901
    const-string v0, "audio_duration"

    invoke-virtual {p1, v0, v8}, Landroid/content/Intent;->getIntExtra(Ljava/lang/String;I)I

    move-result v0

    iput v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    .line 11902
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    div-int/lit16 v0, v0, 0x3e8

    if-nez v0, :cond_4

    move v0, v7

    :goto_2
    iput v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    goto :goto_0

    .line 11895
    .end local v2           #selectColumn:[Ljava/lang/String;
    :cond_3
    const/4 v0, 0x2

    new-array v2, v0, [Ljava/lang/String;

    const-string v0, "_data"

    aput-object v0, v2, v8

    const-string v0, "duration"

    aput-object v0, v2, v7

    .line 11896
    .restart local v2       #selectColumn:[Ljava/lang/String;
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContentResolver:Landroid/content/ContentResolver;

    move-object v4, v3

    move-object v5, v3

    invoke-virtual/range {v0 .. v5}, Landroid/content/ContentResolver;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v6

    goto :goto_1

    .line 11902
    :cond_4
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    div-int/lit16 v0, v0, 0x3e8

    goto :goto_2

    .line 11904
    :cond_5
    invoke-virtual {v1}, Landroid/net/Uri;->getEncodedPath()Ljava/lang/String;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    .line 11905
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    goto :goto_0

    .line 11909
    :cond_6
    invoke-interface {v6}, Landroid/database/Cursor;->getCount()I

    move-result v0

    if-nez v0, :cond_7

    .line 11910
    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    .line 11911
    const-string v0, "Mms/ipmsg/compose"

    const-string v3, "getVideoOrPhoto(): take video cursor getcount is 0"

    invoke-static {v0, v3}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    move v7, v8

    .line 11912
    goto :goto_0

    .line 11914
    :cond_7
    invoke-interface {v6}, Landroid/database/Cursor;->moveToFirst()Z

    .line 11915
    if-eq p2, v9, :cond_8

    if-ne p2, v10, :cond_9

    .line 11916
    :cond_8
    const-string v0, "_data"

    invoke-interface {v6, v0}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I

    move-result v0

    invoke-interface {v6, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    .line 11917
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    .line 11923
    :goto_3
    if-eqz v6, :cond_0

    invoke-interface {v6}, Landroid/database/Cursor;->isClosed()Z

    move-result v0

    if-nez v0, :cond_0

    .line 11924
    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    goto/16 :goto_0

    .line 11919
    :cond_9
    const-string v0, "_data"

    invoke-interface {v6, v0}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I

    move-result v0

    invoke-interface {v6, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v0

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    .line 11920
    const-string v0, "duration"

    invoke-interface {v6, v0}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I

    move-result v0

    invoke-interface {v6, v0}, Landroid/database/Cursor;->getInt(I)I

    move-result v0

    iput v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    .line 11921
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    div-int/lit16 v0, v0, 0x3e8

    if-nez v0, :cond_a

    move v0, v7

    :goto_4
    iput v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    goto :goto_3

    :cond_a
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDuration:I

    div-int/lit16 v0, v0, 0x3e8

    goto :goto_4
.end method

.method public hiddeInvitePanel()V
    .locals 2

    .prologue
    .line 13827
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteView:Landroid/view/View;

    if-eqz v0, :cond_0

    .line 13828
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInviteView:Landroid/view/View;

    const/4 v1, 0x4

    invoke-virtual {v0, v1}, Landroid/view/View;->setVisibility(I)V

    .line 13830
    :cond_0
    return-void
.end method

.method public hideCTButtonPanel()Z
    .locals 2

    .prologue
    const/16 v1, 0x8

    .line 14489
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    if-eqz v0, :cond_0

    .line 14490
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 14493
    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    if-eqz v0, :cond_1

    .line 14494
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 14496
    :cond_1
    const/4 v0, 0x0

    return v0
.end method

.method public hideCtSendPanel()Z
    .locals 4

    .prologue
    const/16 v1, 0x8

    const/4 v3, 0x1

    const/4 v2, 0x0

    .line 14511
    iget v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    if-lez v0, :cond_1

    .line 14535
    :cond_0
    :goto_0
    return v3

    .line 14515
    :cond_1
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    if-eqz v0, :cond_2

    .line 14516
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 14519
    :cond_2
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    if-eqz v0, :cond_3

    .line 14520
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 14523
    :cond_3
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonSms:Landroid/widget/ImageButton;

    if-eqz v0, :cond_4

    .line 14524
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonSms:Landroid/widget/ImageButton;

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 14525
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonSms:Landroid/widget/ImageButton;

    invoke-virtual {v0, v2}, Landroid/view/View;->setEnabled(Z)V

    .line 14527
    :cond_4
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonMms:Landroid/widget/TextView;

    if-eqz v0, :cond_5

    .line 14528
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonMms:Landroid/widget/TextView;

    const-string v1, ""

    invoke-virtual {v0, v1}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 14529
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonMms:Landroid/widget/TextView;

    invoke-virtual {v0, v2}, Landroid/view/View;->setClickable(Z)V

    .line 14530
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonMms:Landroid/widget/TextView;

    invoke-virtual {v0, v2}, Landroid/widget/TextView;->setEnabled(Z)V

    .line 14532
    :cond_5
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    if-eqz v0, :cond_0

    .line 14533
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->getText()Ljava/lang/CharSequence;

    move-result-object v0

    invoke-direct {p0, v0, v2, v2, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->updateCounter(Ljava/lang/CharSequence;III)V

    goto :goto_0
.end method

.method public hideSharePanelOrEmoticonPanel()V
    .locals 3

    .prologue
    const/4 v2, 0x0

    .line 10751
    const-string v0, "Mms/compose"

    const-string v1, "hideSharePanelOrEmoticonPanel()"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 10752
    invoke-virtual {p0, v2, v2, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->showSharePanelOrEmoticonPanel(ZZZ)V

    .line 10753
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateFullScreenTextEditorHeight()V

    .line 10754
    return-void
.end method

.method public initCTSendButton()Z
    .locals 3

    .prologue
    const/4 v2, 0x0

    .line 14458
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideAllSrcButton()Z

    .line 14460
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonIpMessage:Landroid/widget/ImageButton;

    if-eqz v0, :cond_0

    .line 14461
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonIpMessage:Landroid/widget/ImageButton;

    const/16 v1, 0x8

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 14463
    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    if-nez v0, :cond_1

    .line 14464
    const v0, 0x7f0f0048

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/ImageButton;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    .line 14466
    :cond_1
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    if-nez v0, :cond_2

    .line 14467
    const v0, 0x7f0f0049

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/ImageButton;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    .line 14470
    :cond_2
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 14471
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    invoke-virtual {v0, v2}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 14472
    const v0, 0x7f0f0042

    invoke-virtual {p0, v0}, Landroid/app/Activity;->findViewById(I)Landroid/view/View;

    move-result-object v0

    check-cast v0, Landroid/widget/TextView;

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextCounter:Landroid/widget/TextView;

    .line 14474
    const/4 v0, 0x1

    return v0
.end method

.method public initialize(Landroid/os/Bundle;J)V
    .locals 11
    .parameter "savedInstanceState"
    .parameter "originalThreadId"

    .prologue
    .line 3568
    invoke-virtual {p0}, Landroid/app/Activity;->getIntent()Landroid/content/Intent;

    move-result-object v1

    .line 3569
    .local v1, intent:Landroid/content/Intent;
    const/4 v6, 0x0

    .line 3570
    .local v6, showInput:Z
    const/4 v0, 0x0

    .line 3571
    .local v0, hiderecipient:Z
    const/4 v5, 0x0

    .line 3572
    .local v5, isMustRecipientEditable:Z
    invoke-static {}, Lcom/android/mms/MmsConfig;->getMmsDirMode()Z

    move-result v7

    if-eqz v7, :cond_0

    .line 3573
    const-string v7, "folderbox"

    const/4 v8, 0x0

    invoke-virtual {v1, v7, v8}, Landroid/content/Intent;->getIntExtra(Ljava/lang/String;I)I

    move-result v7

    iput v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHomeBox:I

    .line 3574
    const-string v7, "showinput"

    const/4 v8, 0x0

    invoke-virtual {v1, v7, v8}, Landroid/content/Intent;->getBooleanExtra(Ljava/lang/String;Z)Z

    move-result v6

    .line 3575
    const-string v7, "hiderecipient"

    const/4 v8, 0x0

    invoke-virtual {v1, v7, v8}, Landroid/content/Intent;->getBooleanExtra(Ljava/lang/String;Z)Z

    move-result v0

    .line 3576
    const/4 v5, 0x1

    .line 3581
    :cond_0
    invoke-static {p0}, Lcom/android/mms/data/WorkingMessage;->createEmpty(Lcom/android/mms/ui/ComposeMessageActivity;)Lcom/android/mms/data/WorkingMessage;

    move-result-object v7

    iput-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    .line 3585
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->initActivityState(Landroid/os/Bundle;)V

    .line 3588
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v7}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v7

    if-eqz v7, :cond_1

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v7}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v7

    invoke-virtual {v7}, Ljava/util/ArrayList;->size()I

    move-result v7

    const/4 v8, 0x1

    if-ne v7, v8, :cond_1

    .line 3589
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v7}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v7

    const/4 v8, 0x0

    invoke-virtual {v7, v8}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Lcom/android/mms/data/Contact;

    invoke-virtual {v7}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v7

    invoke-direct {p0, v7}, Lcom/android/mms/ui/ComposeMessageActivity;->isIpMessageRecipients(Ljava/lang/String;)Z

    move-result v7

    iput-boolean v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpMessageRecipients:Z

    .line 3592
    :cond_1
    const-wide/16 v7, 0x0

    cmp-long v7, p2, v7

    if-eqz v7, :cond_2

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v7}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v7

    cmp-long v7, p2, v7

    if-nez v7, :cond_2

    .line 3594
    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "ComposeMessageActivity.initialize:  threadId didn\'t change from: "

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7, p2, p3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-static {v7, p0}, Lcom/android/mms/LogTag;->warnPossibleRecipientMismatch(Ljava/lang/String;Landroid/app/Activity;)V

    .line 3598
    :cond_2
    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "savedInstanceState = "

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v7

    const-string v8, ", intent = "

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v7

    const-string v8, ", originalThreadId = "

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7, p2, p3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v7

    const-string v8, ", mConversation = "

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-static {v7}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 3604
    invoke-static {}, Lcom/android/mms/MmsConfig;->getMmsDirMode()Z

    move-result v7

    if-nez v7, :cond_4

    .line 3605
    invoke-virtual {p0}, Landroid/app/Activity;->getIntent()Landroid/content/Intent;

    move-result-object v7

    invoke-static {v7, p0}, Lcom/android/mms/ui/ComposeMessageActivity;->cancelFailedToDeliverNotification(Landroid/content/Intent;Landroid/content/Context;)Z

    move-result v7

    if-eqz v7, :cond_3

    .line 3608
    const/4 v7, 0x0

    invoke-direct {p0, v7}, Lcom/android/mms/ui/ComposeMessageActivity;->getMessageDate(Landroid/net/Uri;)J

    move-result-wide v7

    invoke-virtual {p0, v7, v8}, Lcom/android/mms/ui/ComposeMessageActivity;->undeliveredMessageDialog(J)V

    .line 3610
    :cond_3
    invoke-virtual {p0}, Landroid/app/Activity;->getIntent()Landroid/content/Intent;

    move-result-object v7

    invoke-static {v7, p0}, Lcom/android/mms/ui/ComposeMessageActivity;->cancelFailedDownloadNotification(Landroid/content/Intent;Landroid/content/Context;)Z

    .line 3614
    :cond_4
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->initMessageList()V

    .line 3618
    const/4 v3, 0x0

    .line 3622
    .local v3, isForwardedMessage:Z
    if-nez p1, :cond_e

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->handleSendIntent()Z

    move-result v7

    if-nez v7, :cond_5

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->handleForwardedMessage()Z

    move-result v7

    if-eqz v7, :cond_e

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v7}, Lcom/android/mms/data/Conversation;->hasDraft()Z

    move-result v7

    if-nez v7, :cond_e

    :cond_5
    const/4 v2, 0x1

    .line 3626
    .local v2, intentHandled:Z
    :goto_0
    if-nez v2, :cond_6

    .line 3627
    const-string v7, "Mms/compose"

    const-string v8, "Composer init load Draft."

    invoke-static {v7, v8}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 3628
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->loadDraft()V

    .line 3632
    :cond_6
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v7, v8}, Lcom/android/mms/data/WorkingMessage;->setConversation(Lcom/android/mms/data/Conversation;)V

    .line 3637
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v7}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v7

    const-wide/16 v9, 0x0

    cmp-long v7, v7, v9

    if-lez v7, :cond_9

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v7}, Lcom/android/mms/data/Conversation;->getMessageCount()I

    move-result v7

    if-gtz v7, :cond_7

    invoke-virtual {v1}, Landroid/content/Intent;->getAction()Ljava/lang/String;

    move-result-object v7

    if-nez v7, :cond_9

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v7}, Lcom/android/mms/data/Conversation;->hasDraft()Z

    move-result v7

    if-nez v7, :cond_9

    :cond_7
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v7}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v7

    const-wide/16 v9, 0x0

    cmp-long v7, v7, v9

    if-lez v7, :cond_8

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v7}, Lcom/android/mms/data/Conversation;->getMessageCount()I

    move-result v7

    if-lez v7, :cond_9

    :cond_8
    if-eqz v5, :cond_f

    .line 3644
    :cond_9
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideRecipientEditor()V

    .line 3645
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->initRecipientsEditor(Landroid/os/Bundle;)V

    .line 3647
    const/4 v7, 0x1

    iput-boolean v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->isInitRecipientsEditor:Z

    .line 3652
    invoke-virtual {p0}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v7

    const/16 v8, 0x14

    invoke-virtual {v7, v8}, Landroid/view/Window;->setSoftInputMode(I)V

    .line 3666
    :goto_1
    invoke-static {}, Lcom/android/mms/MmsConfig;->getMmsDirMode()Z

    move-result v7

    if-eqz v7, :cond_a

    .line 3667
    if-eqz v6, :cond_10

    .line 3668
    invoke-virtual {p0}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v7

    const/16 v8, 0x14

    invoke-virtual {v7, v8}, Landroid/view/Window;->setSoftInputMode(I)V

    .line 3674
    :goto_2
    if-eqz v0, :cond_a

    .line 3675
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v7

    if-eqz v7, :cond_a

    .line 3676
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideRecipientEditor()V

    .line 3682
    :cond_a
    invoke-virtual {p0}, Landroid/app/Activity;->invalidateOptionsMenu()V

    .line 3687
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    .line 3689
    const/4 v7, 0x0

    invoke-direct {p0, v7}, Lcom/android/mms/ui/ComposeMessageActivity;->drawTopPanel(Z)V

    .line 3690
    if-eqz v2, :cond_b

    .line 3692
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->drawBottomPanel()V

    .line 3695
    :cond_b
    const/4 v7, 0x1

    invoke-direct {p0, v7}, Lcom/android/mms/ui/ComposeMessageActivity;->onKeyboardStateChanged(Z)V

    .line 3697
    const-string v7, "Mms:app"

    const/4 v8, 0x2

    invoke-static {v7, v8}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v7

    if-eqz v7, :cond_c

    .line 3698
    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "update title, mConversation="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v8}, Lcom/android/mms/data/Conversation;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-static {v7}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 3701
    :cond_c
    if-eqz v3, :cond_d

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v7

    if-eqz v7, :cond_d

    .line 3704
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v7}, Landroid/view/View;->requestFocus()Z

    .line 3708
    :cond_d
    invoke-static {p0}, Lcom/android/mms/ui/MmsPreferenceActivity;->getIsGroupMmsEnabled(Landroid/content/Context;)Z

    move-result v7

    if-eqz v7, :cond_11

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v7}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v7

    invoke-virtual {v7}, Ljava/util/ArrayList;->size()I

    move-result v7

    const/4 v8, 0x1

    if-le v7, v8, :cond_11

    const/4 v4, 0x1

    .line 3710
    .local v4, isGroupMms:Z
    :goto_3
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v7, v4}, Lcom/android/mms/ui/MessageListAdapter;->setIsGroupConversation(Z)V

    .line 3711
    return-void

    .line 3622
    .end local v2           #intentHandled:Z
    .end local v4           #isGroupMms:Z
    :cond_e
    const/4 v2, 0x0

    goto/16 :goto_0

    .line 3655
    .restart local v2       #intentHandled:Z
    :cond_f
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideRecipientEditor()V

    .line 3660
    const-string v7, "load_important"

    const/4 v8, 0x0

    invoke-virtual {v1, v7, v8}, Landroid/content/Intent;->getBooleanExtra(Ljava/lang/String;Z)Z

    move-result v7

    iput-boolean v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImportantThread:Z

    .line 3661
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v7

    iput-wide v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEnterImportantTimestamp:J

    .line 3662
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    iget-boolean v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImportantThread:Z

    invoke-virtual {v7, v8}, Lcom/android/mms/ui/MessageListAdapter;->setIsImportantThread(Z)V

    .line 3663
    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    iget-wide v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEnterImportantTimestamp:J

    invoke-virtual {v7, v8, v9}, Lcom/android/mms/ui/MessageListAdapter;->setEnterImportantThreadTime(J)V

    goto/16 :goto_1

    .line 3671
    :cond_10
    invoke-virtual {p0}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v7

    const/16 v8, 0x12

    invoke-virtual {v7, v8}, Landroid/view/Window;->setSoftInputMode(I)V

    goto/16 :goto_2

    .line 3708
    :cond_11
    const/4 v4, 0x0

    goto :goto_3
.end method

.method public isLengthRequiredMms()Z
    .locals 8

    .prologue
    const/4 v4, 0x1

    const/4 v3, 0x0

    .line 14824
    const-string v5, "Mms/compose"

    const-string v6, "isLengthRequiredMms Checked"

    invoke-static {v5, v6}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 14825
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    if-nez v5, :cond_1

    .line 14860
    :cond_0
    :goto_0
    return v3

    .line 14828
    :cond_1
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v5}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v5

    if-eqz v5, :cond_0

    .line 14831
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v5}, Lcom/android/mms/data/WorkingMessage;->hasSubject()Z

    move-result v5

    if-nez v5, :cond_0

    .line 14834
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v5}, Lcom/android/mms/data/WorkingMessage;->hasAttachedFiles()Z

    move-result v5

    if-nez v5, :cond_0

    .line 14837
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v5}, Lcom/android/mms/data/WorkingMessage;->hasAttachment()Z

    move-result v5

    if-nez v5, :cond_0

    .line 14840
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v5}, Lcom/android/mms/data/WorkingMessage;->getState()I

    move-result v5

    and-int/lit8 v5, v5, 0x1

    if-gtz v5, :cond_0

    .line 14843
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v5}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v2

    .line 14844
    .local v2, ssm:Lcom/android/mms/model/SlideshowModel;
    if-eqz v2, :cond_2

    invoke-virtual {v2}, Lcom/android/mms/model/SlideshowModel;->size()I

    move-result v5

    if-ne v5, v4, :cond_0

    .line 14846
    :cond_2
    if-eqz v2, :cond_3

    invoke-virtual {v2, v3}, Lcom/android/mms/model/SlideshowModel;->get(I)Lcom/android/mms/model/SlideModel;

    move-result-object v5

    invoke-virtual {v5}, Lcom/android/mms/model/SlideModel;->hasText()Z

    move-result v5

    if-eqz v5, :cond_0

    .line 14849
    :cond_3
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v5

    iget v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    int-to-long v6, v6

    invoke-static {v5, v6, v7}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSlotById(Landroid/content/Context;J)I

    move-result v1

    .line 14850
    .local v1, slotId:I
    if-nez v1, :cond_0

    .line 14853
    const-string v5, "phone"

    invoke-virtual {p0, v5}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/telephony/TelephonyManager;

    .line 14854
    .local v0, mTelephonyManager:Landroid/telephony/TelephonyManager;
    invoke-virtual {v0, v1}, Landroid/telephony/TelephonyManager;->isNetworkRoamingGemini(I)Z

    move-result v5

    if-eqz v5, :cond_0

    .line 14857
    if-nez v2, :cond_4

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v3}, Lcom/android/mms/data/WorkingMessage;->hasText()Z

    move-result v3

    if-eqz v3, :cond_4

    move v3, v4

    .line 14858
    goto :goto_0

    :cond_4
    move v3, v4

    .line 14860
    goto :goto_0
.end method

.method public isSharePanelOrEmoticonPanelShow()Z
    .locals 2

    .prologue
    const/4 v0, 0x1

    .line 10684
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSharePanel:Lcom/mediatek/ipmsg/ui/SharePanel;

    if-eqz v1, :cond_1

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSharePanel:Lcom/mediatek/ipmsg/ui/SharePanel;

    invoke-virtual {v1}, Landroid/view/View;->isShown()Z

    move-result v1

    if-eqz v1, :cond_1

    .line 10690
    :cond_0
    :goto_0
    return v0

    .line 10687
    :cond_1
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonPanel:Lcom/android/mms/ui/EmoticonPanel;

    if-eqz v1, :cond_2

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonPanel:Lcom/android/mms/ui/EmoticonPanel;

    invoke-virtual {v1}, Landroid/view/View;->isShown()Z

    move-result v1

    if-nez v1, :cond_0

    .line 10690
    :cond_2
    const/4 v0, 0x0

    goto :goto_0
.end method

.method public loadMessageContent()V
    .locals 3

    .prologue
    const/4 v2, 0x0

    .line 4020
    const-string v0, "Mms/compose"

    const-string v1, "loadMessageContent()"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4022
    invoke-static {}, Lcom/android/mms/MmsConfig;->getMmsDirMode()Z

    move-result v0

    if-nez v0, :cond_0

    .line 4023
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Lcom/android/mms/data/Conversation;->blockMarkAsRead(Z)V

    .line 4024
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->markAsRead()V

    .line 4028
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0, v2}, Lcom/android/mms/data/Conversation;->setComposeIsPaused(Z)V

    .line 4030
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->markAsSeen()V

    .line 4033
    :cond_0
    const/16 v0, 0x2537

    invoke-direct {p0, v0, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->startMsgListQuery(II)V

    .line 4034
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendFailedNotification()V

    .line 4035
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->drawBottomPanel()V

    .line 4036
    return-void
.end method

.method public notificationsReceived(Landroid/content/Intent;)V
    .locals 7
    .parameter "intent"

    .prologue
    .line 13149
    const-string v3, "Mms/noti"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "compose.notificationsReceived(): start, intent = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13150
    invoke-virtual {p1}, Landroid/content/Intent;->getAction()Ljava/lang/String;

    move-result-object v0

    .line 13151
    .local v0, action:Ljava/lang/String;
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-eqz v3, :cond_1

    .line 13224
    :cond_0
    :goto_0
    :pswitch_0
    return-void

    .line 13154
    :cond_1
    invoke-static {v0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getActionTypeByAction(Ljava/lang/String;)I

    move-result v3

    packed-switch v3, :pswitch_data_0

    goto :goto_0

    .line 13156
    :pswitch_1
    const-string v3, "Mms/noti"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "notificationsReceived(): IM status, mChatModeNumber = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13158
    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    if-eqz v3, :cond_0

    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v3

    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->isNetworkConnected(Landroid/content/Context;)Z

    move-result v3

    if-eqz v3, :cond_0

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v3

    if-nez v3, :cond_0

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v3}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v3

    invoke-virtual {v3}, Ljava/util/ArrayList;->size()I

    move-result v3

    const/4 v4, 0x1

    if-ne v3, v4, :cond_0

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpMessageRecipients:Z

    if-eqz v3, :cond_0

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-static {v3}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_0

    .line 13163
    const-string v3, "number"

    invoke-virtual {p1, v3}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    .line 13164
    .local v1, number:Ljava/lang/String;
    const-string v3, "Mms/noti"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "notificationsReceived(): number = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, ", mChatModeNumber = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13166
    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_0

    invoke-direct {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->isChatModeNumber(Ljava/lang/String;)Z

    move-result v3

    if-eqz v3, :cond_0

    .line 13167
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getContactManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ContactManager;

    move-result-object v3

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v3, v4}, Lcom/mediatek/mms/ipmessage/ContactManager;->getStatusByNumber(Ljava/lang/String;)I

    move-result v2

    .line 13168
    .local v2, status:I
    const-string v3, "Mms/noti"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "notificationsReceived(): IM status. number = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, ", status = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13170
    packed-switch v2, :pswitch_data_1

    goto/16 :goto_0

    .line 13180
    :pswitch_2
    const-string v3, "Mms/noti"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "notificationsReceived(): user online status changed, number = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, ", mChatModeNumber = "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 13182
    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getContactManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ContactManager;

    move-result-object v5

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v3}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v3

    const/4 v6, 0x0

    invoke-virtual {v3, v6}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/mms/data/Contact;

    invoke-virtual {v3}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v5, v3}, Lcom/mediatek/mms/ipmessage/ContactManager;->getStatusByNumber(Ljava/lang/String;)I

    move-result v3

    invoke-direct {p0, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->getOnlineDividerString(I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v4, v3}, Lcom/android/mms/ui/MessageListAdapter;->setOnlineDividerString(Ljava/lang/String;)V

    .line 13184
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v3}, Lcom/android/mms/ui/MessageListAdapter;->updateOnlineDividerTime()V

    .line 13185
    new-instance v3, Lcom/android/mms/ui/ComposeMessageActivity$115;

    invoke-direct {v3, p0}, Lcom/android/mms/ui/ComposeMessageActivity$115;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {p0, v3}, Landroid/app/Activity;->runOnUiThread(Ljava/lang/Runnable;)V

    goto/16 :goto_0

    .line 13207
    .end local v1           #number:Ljava/lang/String;
    .end local v2           #status:I
    :pswitch_3
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    if-eqz v3, :cond_0

    .line 13208
    new-instance v3, Lcom/android/mms/ui/ComposeMessageActivity$116;

    invoke-direct {v3, p0}, Lcom/android/mms/ui/ComposeMessageActivity$116;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {p0, v3}, Landroid/app/Activity;->runOnUiThread(Ljava/lang/Runnable;)V

    goto/16 :goto_0

    .line 13154
    :pswitch_data_0
    .packed-switch 0x0
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_1
        :pswitch_0
        :pswitch_0
        :pswitch_3
    .end packed-switch

    .line 13170
    :pswitch_data_1
    .packed-switch 0x0
        :pswitch_2
        :pswitch_2
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_0
    .end packed-switch
.end method

.method protected onActivityResult(IILandroid/content/Intent;)V
    .locals 25
    .parameter "requestCode"
    .parameter "resultCode"
    .parameter "data"

    .prologue
    .line 5417
    const/16 v21, 0x0

    move/from16 v0, v21

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mWaitingForSubActivity:Z

    .line 5426
    const/4 v11, 0x1

    .line 5428
    .local v11, mNeedAppendAttachment:Z
    move-object/from16 v0, p0

    iget-boolean v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mAppendAttachmentSign:Z

    move/from16 v21, v0

    if-eqz v21, :cond_5

    .line 5429
    const/4 v11, 0x1

    .line 5435
    :cond_0
    :goto_0
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/data/WorkingMessage;->isFakeMmsForDraft()Z

    move-result v21

    if-eqz v21, :cond_1

    .line 5438
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/data/WorkingMessage;->removeFakeMmsForDraft()V

    .line 5442
    :cond_1
    invoke-static/range {p0 .. p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getIpMessagePlugin(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/IIpMessagePlugin;

    move-result-object v21

    invoke-interface/range {v21 .. v21}, Lcom/mediatek/mms/ipmessage/IIpMessagePlugin;->isActualPlugin()Z

    move-result v21

    if-eqz v21, :cond_2

    .line 5443
    move-object/from16 v0, p0

    move-object/from16 v1, p0

    move/from16 v2, p1

    move/from16 v3, p2

    move-object/from16 v4, p3

    invoke-direct {v0, v1, v2, v3, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->onIpMsgActivityResult(Landroid/content/Context;IILandroid/content/Intent;)V

    .line 5447
    :cond_2
    const/16 v21, 0x6e

    move/from16 v0, p1

    move/from16 v1, v21

    if-ne v0, v1, :cond_7

    const/16 v21, -0x1

    move/from16 v0, p2

    move/from16 v1, v21

    if-ne v0, v1, :cond_7

    .line 5448
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v15

    .line 5449
    .local v15, recipients:Lcom/android/mms/data/ContactList;
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v21

    const/16 v23, 0x0

    move-object/from16 v0, p0

    move-wide/from16 v1, v21

    move/from16 v3, v23

    invoke-static {v0, v1, v2, v3}, Lcom/android/mms/data/Conversation;->upDateThread(Landroid/content/Context;JZ)Lcom/android/mms/data/Conversation;

    move-result-object v21

    move-object/from16 v0, v21

    move-object/from16 v1, p0

    iput-object v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    .line 5450
    const/16 v21, 0x0

    move/from16 v0, v21

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mIsStartMultiDeleteActivity:Z

    .line 5451
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/data/Conversation;->getMessageCount()I

    move-result v21

    if-lez v21, :cond_3

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v21

    const-wide/16 v23, 0x0

    cmp-long v21, v21, v23

    if-gtz v21, :cond_4

    .line 5452
    :cond_3
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    move-object/from16 v21, v0

    const/16 v22, 0x0

    invoke-virtual/range {v21 .. v22}, Lcom/android/mms/ui/MessageListAdapter;->changeCursor(Landroid/database/Cursor;)V

    .line 5453
    invoke-direct/range {p0 .. p0}, Lcom/android/mms/ui/ComposeMessageActivity;->needSaveDraft()Z

    move-result v21

    if-eqz v21, :cond_6

    if-eqz v15, :cond_6

    .line 5454
    move-object/from16 v0, p0

    invoke-direct {v0, v15}, Lcom/android/mms/ui/ComposeMessageActivity;->makeDraftEditable(Lcom/android/mms/data/ContactList;)V

    .line 5734
    .end local v15           #recipients:Lcom/android/mms/data/ContactList;
    :cond_4
    :goto_1
    return-void

    .line 5430
    :cond_5
    move-object/from16 v0, p0

    iget-boolean v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mAppendAttachmentSign:Z

    move/from16 v21, v0

    if-nez v21, :cond_0

    .line 5431
    const/4 v11, 0x0

    goto/16 :goto_0

    .line 5456
    .restart local v15       #recipients:Lcom/android/mms/data/ContactList;
    :cond_6
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/data/WorkingMessage;->discard()V

    .line 5460
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v21

    invoke-static/range {v21 .. v21}, Lcom/android/mms/data/Contact;->init(Landroid/content/Context;)V

    .line 5463
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v21

    invoke-static/range {v21 .. v21}, Lcom/android/mms/data/Conversation;->init(Landroid/content/Context;)V

    .line 5464
    invoke-virtual/range {p0 .. p0}, Landroid/app/Activity;->finish()V

    goto :goto_1

    .line 5470
    .end local v15           #recipients:Lcom/android/mms/data/ContactList;
    :cond_7
    const/16 v21, 0x6d

    move/from16 v0, p1

    move/from16 v1, v21

    if-ne v0, v1, :cond_8

    .line 5471
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v21, v0

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v22, v0

    invoke-virtual/range {v21 .. v22}, Lcom/android/mms/data/WorkingMessage;->asyncDeleteDraftSmsMessage(Lcom/android/mms/data/Conversation;)V

    .line 5475
    :cond_8
    const/16 v21, 0x82

    move/from16 v0, p1

    move/from16 v1, v21

    if-ne v0, v1, :cond_9

    .line 5476
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v21

    invoke-virtual/range {v21 .. v21}, Ljava/util/ArrayList;->size()I

    move-result v21

    const/16 v22, 0x1

    move/from16 v0, v21

    move/from16 v1, v22

    if-le v0, v1, :cond_f

    const/4 v12, 0x1

    .line 5477
    .local v12, multiRecipients:Z
    :goto_2
    invoke-static/range {p0 .. p0}, Lcom/android/mms/ui/MmsPreferenceActivity;->getIsGroupMmsEnabled(Landroid/content/Context;)Z

    move-result v21

    if-eqz v21, :cond_10

    if-eqz v12, :cond_10

    const/4 v8, 0x1

    .line 5479
    .local v8, isGroupMms:Z
    :goto_3
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    move-object/from16 v21, v0

    move-object/from16 v0, v21

    invoke-virtual {v0, v8}, Lcom/android/mms/ui/MessageListAdapter;->setIsGroupConversation(Z)V

    .line 5480
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v21, v0

    const/16 v22, 0x1

    move-object/from16 v0, v21

    move/from16 v1, v22

    invoke-virtual {v0, v12, v1}, Lcom/android/mms/data/WorkingMessage;->setHasMultipleRecipients(ZZ)V

    .line 5481
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/data/WorkingMessage;->deleteGruoupMmsDraft()V

    .line 5485
    .end local v8           #isGroupMms:Z
    .end local v12           #multiRecipients:Z
    :cond_9
    const/16 v21, 0x6c

    move/from16 v0, p1

    move/from16 v1, v21

    if-ne v0, v1, :cond_b

    .line 5493
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mAddContactIntent:Landroid/content/Intent;

    move-object/from16 v21, v0

    if-eqz v21, :cond_b

    .line 5494
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mAddContactIntent:Landroid/content/Intent;

    move-object/from16 v21, v0

    const-string v22, "email"

    invoke-virtual/range {v21 .. v22}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    .line 5496
    .local v5, address:Ljava/lang/String;
    if-nez v5, :cond_a

    .line 5497
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mAddContactIntent:Landroid/content/Intent;

    move-object/from16 v21, v0

    const-string v22, "phone"

    invoke-virtual/range {v21 .. v22}, Landroid/content/Intent;->getStringExtra(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    .line 5500
    :cond_a
    if-eqz v5, :cond_b

    .line 5501
    const/16 v21, 0x0

    move/from16 v0, v21

    invoke-static {v5, v0}, Lcom/android/mms/data/Contact;->get(Ljava/lang/String;Z)Lcom/android/mms/data/Contact;

    move-result-object v6

    .line 5502
    .local v6, contact:Lcom/android/mms/data/Contact;
    if-eqz v6, :cond_b

    .line 5503
    invoke-virtual {v6}, Lcom/android/mms/data/Contact;->reload()V

    .line 5505
    invoke-direct/range {p0 .. p0}, Lcom/android/mms/ui/ComposeMessageActivity;->commitToChipIfNeeded()V

    .line 5511
    .end local v5           #address:Ljava/lang/String;
    .end local v6           #contact:Lcom/android/mms/data/Contact;
    :cond_b
    const/16 v21, 0x6f

    move/from16 v0, p1

    move/from16 v1, v21

    if-ne v0, v1, :cond_c

    .line 5513
    invoke-direct/range {p0 .. p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v21

    if-eqz v21, :cond_c

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mInViewContact:Lcom/android/mms/data/Contact;

    move-object/from16 v21, v0

    if-eqz v21, :cond_c

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/ui/RecipientsEditor;->getRecipientCount()I

    move-result v21

    const/16 v22, 0xa

    move/from16 v0, v21

    move/from16 v1, v22

    if-le v0, v1, :cond_c

    .line 5518
    invoke-direct/range {p0 .. p0}, Lcom/android/mms/ui/ComposeMessageActivity;->addRecipientsListeners()V

    .line 5519
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mInViewContact:Lcom/android/mms/data/Contact;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/data/Contact;->reload()V

    .line 5524
    :cond_c
    const/16 v21, -0x1

    move/from16 v0, p2

    move/from16 v1, v21

    if-eq v0, v1, :cond_d

    const/16 v21, 0x6a

    move/from16 v0, p1

    move/from16 v1, v21

    if-ne v0, v1, :cond_d

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v21, v0

    if-eqz v21, :cond_d

    .line 5526
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v21, v0

    const/16 v22, 0x1

    invoke-virtual/range {v21 .. v22}, Lcom/android/mms/data/WorkingMessage;->setForceUpdateThreadId(Z)V

    .line 5529
    :cond_d
    const/16 v21, -0x1

    move/from16 v0, p2

    move/from16 v1, v21

    if-ne v0, v1, :cond_4

    .line 5534
    sparse-switch p1, :sswitch_data_0

    .line 5733
    :cond_e
    :goto_4
    const/16 v21, 0x0

    move/from16 v0, v21

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->isInitRecipientsEditor:Z

    goto/16 :goto_1

    .line 5476
    :cond_f
    const/4 v12, 0x0

    goto/16 :goto_2

    .line 5477
    .restart local v12       #multiRecipients:Z
    :cond_10
    const/4 v8, 0x0

    goto/16 :goto_3

    .line 5536
    .end local v12           #multiRecipients:Z
    :sswitch_0
    if-eqz p3, :cond_13

    .line 5537
    const-string v21, "Mms/compose"

    const-string v22, "begin REQUEST_CODE_CREATE_SLIDESHOW "

    invoke-static/range {v21 .. v22}, Lcom/mediatek/encapsulation/MmsLog;->v(Ljava/lang/String;Ljava/lang/String;)V

    .line 5538
    invoke-virtual/range {p3 .. p3}, Landroid/content/Intent;->getData()Landroid/net/Uri;

    move-result-object v21

    move-object/from16 v0, p0

    move-object/from16 v1, v21

    invoke-static {v0, v1}, Lcom/android/mms/data/WorkingMessage;->load(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/net/Uri;)Lcom/android/mms/data/WorkingMessage;

    move-result-object v13

    .line 5539
    .local v13, newMessage:Lcom/android/mms/data/WorkingMessage;
    const/16 v17, 0x0

    .line 5540
    .local v17, slideSize:I
    if-eqz v13, :cond_14

    invoke-virtual {v13}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v21

    if-eqz v21, :cond_14

    .line 5541
    invoke-virtual {v13}, Lcom/android/mms/data/WorkingMessage;->getSlideshow()Lcom/android/mms/model/SlideshowModel;

    move-result-object v21

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/model/SlideshowModel;->size()I

    move-result v17

    .line 5542
    const-string v21, "Mms/compose"

    new-instance v22, Ljava/lang/StringBuilder;

    invoke-direct/range {v22 .. v22}, Ljava/lang/StringBuilder;-><init>()V

    const-string v23, "REQUEST_CODE_CREATE_SLIDESHOW newWorkingMessage Slideshow num = "

    invoke-virtual/range {v22 .. v23}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v22

    move-object/from16 v0, v22

    move/from16 v1, v17

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v22

    invoke-virtual/range {v22 .. v22}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v22

    invoke-static/range {v21 .. v22}, Lcom/mediatek/encapsulation/MmsLog;->v(Ljava/lang/String;Ljava/lang/String;)V

    .line 5547
    :goto_5
    if-eqz v13, :cond_13

    .line 5552
    invoke-virtual {v13}, Lcom/android/mms/data/WorkingMessage;->hasMediaAttachments()Z

    move-result v21

    if-eqz v21, :cond_11

    .line 5553
    invoke-virtual {v13}, Lcom/android/mms/data/WorkingMessage;->removeAllFileAttaches()V

    .line 5555
    :cond_11
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v10

    .line 5556
    .local v10, isMmsBefore:Z
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/data/WorkingMessage;->getSubject()Ljava/lang/CharSequence;

    move-result-object v21

    const/16 v22, 0x0

    move-object/from16 v0, v21

    move/from16 v1, v22

    invoke-virtual {v13, v0, v1}, Lcom/android/mms/data/WorkingMessage;->setSubject(Ljava/lang/CharSequence;Z)V

    .line 5558
    move-object/from16 v0, p0

    iput-object v13, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    .line 5560
    invoke-direct/range {p0 .. p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateThreadIdIfRunning()V

    .line 5561
    invoke-direct/range {p0 .. p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isSubjectEditorVisible()Z

    move-result v21

    move-object/from16 v0, p0

    move/from16 v1, v21

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->drawTopPanel(Z)V

    .line 5562
    invoke-direct/range {p0 .. p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    .line 5563
    invoke-virtual/range {p0 .. p0}, Landroid/app/Activity;->invalidateOptionsMenu()V

    .line 5565
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v9

    .line 5566
    .local v9, isMmsAfter:Z
    if-eqz v9, :cond_15

    if-nez v10, :cond_15

    .line 5567
    const/16 v21, 0x1

    move-object/from16 v0, p0

    move/from16 v1, v21

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->toastConvertInfo(Z)V

    .line 5575
    :cond_12
    :goto_6
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    move-object/from16 v21, v0

    if-eqz v21, :cond_13

    .line 5576
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v21, v0

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/data/WorkingMessage;->hasSlideshow()Z

    move-result v21

    if-eqz v21, :cond_17

    .line 5577
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    move-object/from16 v21, v0

    sget v22, Lcom/mediatek/encapsulation/com/mediatek/internal/EncapsulatedR$string;->ime_action_done:I

    move-object/from16 v0, p0

    move/from16 v1, v22

    invoke-virtual {v0, v1}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v22

    const/16 v23, 0x6

    invoke-virtual/range {v21 .. v23}, Landroid/widget/TextView;->setImeActionLabel(Ljava/lang/CharSequence;I)V

    .line 5579
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    move-object/from16 v21, v0

    const/16 v22, 0x6

    invoke-virtual/range {v21 .. v22}, Landroid/widget/TextView;->setImeOptions(I)V

    .line 5589
    .end local v9           #isMmsAfter:Z
    .end local v10           #isMmsBefore:Z
    .end local v13           #newMessage:Lcom/android/mms/data/WorkingMessage;
    .end local v17           #slideSize:I
    :cond_13
    :goto_7
    const-string v21, "Mms/compose"

    const-string v22, "In REQUEST_CODE_CREATE_SLIDESHOW "

    invoke-static/range {v21 .. v22}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 5590
    const-string v21, "Mms/compose"

    new-instance v22, Ljava/lang/StringBuilder;

    invoke-direct/range {v22 .. v22}, Ljava/lang/StringBuilder;-><init>()V

    const-string v23, "mNeedAppendAttachment = "

    invoke-virtual/range {v22 .. v23}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v22

    move-object/from16 v0, v22

    invoke-virtual {v0, v11}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v22

    invoke-virtual/range {v22 .. v22}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v22

    invoke-static/range {v21 .. v22}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_4

    .line 5544
    .restart local v13       #newMessage:Lcom/android/mms/data/WorkingMessage;
    .restart local v17       #slideSize:I
    :cond_14
    const-string v21, "Mms/compose"

    const-string v22, "REQUEST_CODE_CREATE_SLIDESHOW newWorkingMessage Slideshow = null or newMessage = null"

    invoke-static/range {v21 .. v22}, Lcom/mediatek/encapsulation/MmsLog;->v(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_5

    .line 5568
    .restart local v9       #isMmsAfter:Z
    .restart local v10       #isMmsBefore:Z
    :cond_15
    if-nez v9, :cond_16

    if-eqz v10, :cond_16

    .line 5569
    const/16 v21, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v21

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->toastConvertInfo(Z)V

    goto :goto_6

    .line 5570
    :cond_16
    if-nez v9, :cond_12

    if-nez v10, :cond_12

    .line 5571
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    move-object/from16 v21, v0

    const/16 v22, 0x1

    invoke-virtual/range {v21 .. v22}, Lcom/android/mms/data/WorkingMessage;->setForceUpdateThreadId(Z)V

    goto :goto_6

    .line 5581
    :cond_17
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    move-object/from16 v21, v0

    sget v22, Lcom/mediatek/encapsulation/com/mediatek/internal/EncapsulatedR$string;->ime_action_next:I

    move-object/from16 v0, p0

    move/from16 v1, v22

    invoke-virtual {v0, v1}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v22

    const/16 v23, 0x5

    invoke-virtual/range {v21 .. v23}, Landroid/widget/TextView;->setImeActionLabel(Ljava/lang/CharSequence;I)V

    .line 5583
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    move-object/from16 v21, v0

    const/16 v22, 0x5

    invoke-virtual/range {v21 .. v22}, Landroid/widget/TextView;->setImeOptions(I)V

    goto :goto_7

    .line 5599
    .end local v9           #isMmsAfter:Z
    .end local v10           #isMmsBefore:Z
    .end local v13           #newMessage:Lcom/android/mms/data/WorkingMessage;
    .end local v17           #slideSize:I
    :sswitch_1
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    move-object/from16 v21, v0

    invoke-interface/range {v21 .. v21}, Lcom/mediatek/mms/ext/IMmsCompose;->getCapturePicMode()I

    move-result v21

    if-nez v21, :cond_18

    .line 5600
    invoke-virtual/range {p3 .. p3}, Landroid/content/Intent;->getData()Landroid/net/Uri;

    move-result-object v19

    .line 5602
    .local v19, uri:Landroid/net/Uri;
    invoke-static {}, Lcom/android/mms/MmsApp;->getApplication()Lcom/android/mms/MmsApp;

    move-result-object v21

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/MmsApp;->getThumbnailManager()Lcom/android/mms/util/ThumbnailManager;

    move-result-object v21

    move-object/from16 v0, v21

    move-object/from16 v1, v19

    invoke-virtual {v0, v1}, Lcom/android/mms/util/ThumbnailManager;->removeThumbnail(Landroid/net/Uri;)V

    .line 5603
    invoke-virtual/range {p3 .. p3}, Landroid/content/Intent;->getType()Ljava/lang/String;

    move-result-object v21

    move-object/from16 v0, p0

    move-object/from16 v1, v19

    move-object/from16 v2, v21

    invoke-direct {v0, v1, v2, v11}, Lcom/android/mms/ui/ComposeMessageActivity;->addImageAsync(Landroid/net/Uri;Ljava/lang/String;Z)V

    goto/16 :goto_4

    .line 5607
    .end local v19           #uri:Landroid/net/Uri;
    :cond_18
    const-string v21, ".jpg"

    new-instance v22, Ljava/lang/StringBuilder;

    invoke-direct/range {v22 .. v22}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v23

    invoke-virtual/range {v22 .. v24}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v22

    const-string v23, ""

    invoke-virtual/range {v22 .. v23}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v22

    invoke-virtual/range {v22 .. v22}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v22

    move-object/from16 v0, v21

    move-object/from16 v1, v22

    move-object/from16 v2, p0

    invoke-static {v0, v1, v2}, Lcom/android/mms/TempFileProvider;->renameScrapFile(Ljava/lang/String;Ljava/lang/String;Landroid/content/Context;)Landroid/net/Uri;

    move-result-object v19

    .line 5609
    .restart local v19       #uri:Landroid/net/Uri;
    invoke-static {}, Lcom/android/mms/MmsApp;->getApplication()Lcom/android/mms/MmsApp;

    move-result-object v21

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/MmsApp;->getThumbnailManager()Lcom/android/mms/util/ThumbnailManager;

    move-result-object v21

    move-object/from16 v0, v21

    move-object/from16 v1, v19

    invoke-virtual {v0, v1}, Lcom/android/mms/util/ThumbnailManager;->removeThumbnail(Landroid/net/Uri;)V

    .line 5611
    const/16 v21, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v19

    move-object/from16 v2, v21

    invoke-direct {v0, v1, v2, v11}, Lcom/android/mms/ui/ComposeMessageActivity;->addImageAsync(Landroid/net/Uri;Ljava/lang/String;Z)V

    goto/16 :goto_4

    .line 5617
    .end local v19           #uri:Landroid/net/Uri;
    :sswitch_2
    if-eqz p3, :cond_e

    .line 5618
    invoke-virtual/range {p3 .. p3}, Landroid/content/Intent;->getData()Landroid/net/Uri;

    move-result-object v21

    invoke-virtual/range {p3 .. p3}, Landroid/content/Intent;->getType()Ljava/lang/String;

    move-result-object v22

    move-object/from16 v0, p0

    move-object/from16 v1, v21

    move-object/from16 v2, v22

    invoke-direct {v0, v1, v2, v11}, Lcom/android/mms/ui/ComposeMessageActivity;->addImageAsync(Landroid/net/Uri;Ljava/lang/String;Z)V

    goto/16 :goto_4

    .line 5624
    :sswitch_3
    if-eqz p3, :cond_e

    .line 5625
    invoke-virtual/range {p3 .. p3}, Landroid/content/Intent;->getData()Landroid/net/Uri;

    move-result-object v21

    invoke-virtual/range {p3 .. p3}, Landroid/content/Intent;->getType()Ljava/lang/String;

    move-result-object v22

    move-object/from16 v0, p0

    move-object/from16 v1, v21

    move-object/from16 v2, v22

    invoke-direct {v0, v1, v2, v11}, Lcom/android/mms/ui/ComposeMessageActivity;->addImageAsync(Landroid/net/Uri;Ljava/lang/String;Z)V

    goto/16 :goto_4

    .line 5630
    :sswitch_4
    new-instance v21, Ljava/lang/StringBuilder;

    invoke-direct/range {v21 .. v21}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v22

    invoke-virtual/range {v21 .. v23}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v21

    const-string v22, ".3gp"

    invoke-virtual/range {v21 .. v22}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v21

    invoke-virtual/range {v21 .. v21}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v21

    const/16 v22, 0x0

    move-object/from16 v0, v21

    move-object/from16 v1, v22

    move-object/from16 v2, p0

    invoke-static {v0, v1, v2}, Lcom/android/mms/TempFileProvider;->renameScrapVideoFile(Ljava/lang/String;Ljava/lang/String;Landroid/content/Context;)Landroid/net/Uri;

    move-result-object v20

    .line 5632
    .local v20, videoUri:Landroid/net/Uri;
    invoke-static {}, Lcom/android/mms/MmsApp;->getApplication()Lcom/android/mms/MmsApp;

    move-result-object v21

    invoke-virtual/range {v21 .. v21}, Lcom/android/mms/MmsApp;->getThumbnailManager()Lcom/android/mms/util/ThumbnailManager;

    move-result-object v21

    move-object/from16 v0, v21

    move-object/from16 v1, v20

    invoke-virtual {v0, v1}, Lcom/android/mms/util/ThumbnailManager;->removeThumbnail(Landroid/net/Uri;)V

    .line 5634
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-direct {v0, v1, v11}, Lcom/android/mms/ui/ComposeMessageActivity;->addVideoAsync(Landroid/net/Uri;Z)V

    goto/16 :goto_4

    .line 5638
    .end local v20           #videoUri:Landroid/net/Uri;
    :sswitch_5
    if-eqz p3, :cond_e

    .line 5639
    invoke-virtual/range {p3 .. p3}, Landroid/content/Intent;->getData()Landroid/net/Uri;

    move-result-object v21

    move-object/from16 v0, p0

    move-object/from16 v1, v21

    invoke-direct {v0, v1, v11}, Lcom/android/mms/ui/ComposeMessageActivity;->addVideoAsync(Landroid/net/Uri;Z)V

    goto/16 :goto_4

    .line 5644
    :sswitch_6
    const-string v21, "android.intent.extra.ringtone.PICKED_URI"

    move-object/from16 v0, p3

    move-object/from16 v1, v21

    invoke-virtual {v0, v1}, Landroid/content/Intent;->getParcelableExtra(Ljava/lang/String;)Landroid/os/Parcelable;

    move-result-object v19

    check-cast v19, Landroid/net/Uri;

    .line 5645
    .restart local v19       #uri:Landroid/net/Uri;
    sget-object v21, Lcom/mediatek/encapsulation/android/provider/EncapsulatedSettings$System;->DEFAULT_RINGTONE_URI:Landroid/net/Uri;

    move-object/from16 v0, v21

    move-object/from16 v1, v19

    invoke-virtual {v0, v1}, Landroid/net/Uri;->equals(Ljava/lang/Object;)Z

    move-result v21

    if-nez v21, :cond_e

    .line 5648
    invoke-virtual/range {p3 .. p3}, Landroid/content/Intent;->getData()Landroid/net/Uri;

    move-result-object v21

    move-object/from16 v0, p0

    move-object/from16 v1, v21

    invoke-direct {v0, v1, v11}, Lcom/android/mms/ui/ComposeMessageActivity;->addAudioAsync(Landroid/net/Uri;Z)V

    goto/16 :goto_4

    .line 5653
    .end local v19           #uri:Landroid/net/Uri;
    :sswitch_7
    if-eqz p3, :cond_e

    .line 5654
    invoke-virtual/range {p3 .. p3}, Landroid/content/Intent;->getData()Landroid/net/Uri;

    move-result-object v21

    move-object/from16 v0, p0

    move-object/from16 v1, v21

    invoke-direct {v0, v1, v11}, Lcom/android/mms/ui/ComposeMessageActivity;->addAudioAsync(Landroid/net/Uri;Z)V

    goto/16 :goto_4

    .line 5660
    :sswitch_8
    const-string v21, "android.intent.extra.ringtone.PICKED_URI"

    move-object/from16 v0, p3

    move-object/from16 v1, v21

    invoke-virtual {v0, v1}, Landroid/content/Intent;->getParcelableExtra(Ljava/lang/String;)Landroid/os/Parcelable;

    move-result-object v19

    check-cast v19, Landroid/net/Uri;

    .line 5661
    .restart local v19       #uri:Landroid/net/Uri;
    sget-object v21, Lcom/mediatek/encapsulation/android/provider/EncapsulatedSettings$System;->DEFAULT_RINGTONE_URI:Landroid/net/Uri;

    move-object/from16 v0, v21

    move-object/from16 v1, v19

    invoke-virtual {v0, v1}, Landroid/net/Uri;->equals(Ljava/lang/Object;)Z

    move-result v21

    if-nez v21, :cond_e

    .line 5664
    move-object/from16 v0, p0

    move-object/from16 v1, v19

    invoke-direct {v0, v1, v11}, Lcom/android/mms/ui/ComposeMessageActivity;->addAudioAsync(Landroid/net/Uri;Z)V

    goto/16 :goto_4

    .line 5669
    .end local v19           #uri:Landroid/net/Uri;
    :sswitch_9
    const-string v21, "exit_ecm_result"

    const/16 v22, 0x0

    move-object/from16 v0, p3

    move-object/from16 v1, v21

    move/from16 v2, v22

    invoke-virtual {v0, v1, v2}, Landroid/content/Intent;->getBooleanExtra(Ljava/lang/String;Z)Z

    move-result v14

    .line 5670
    .local v14, outOfEmergencyMode:Z
    if-eqz v14, :cond_e

    .line 5673
    const/16 v21, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v21

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->sendLongMessageCheck(Z)V

    goto/16 :goto_4

    .line 5680
    .end local v14           #outOfEmergencyMode:Z
    :sswitch_a
    if-eqz p3, :cond_19

    .line 5681
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    move-object/from16 v21, v0

    if-eqz v21, :cond_1a

    .line 5682
    move-object/from16 v0, p0

    move-object/from16 v1, p3

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->processPickResult(Landroid/content/Intent;)V

    .line 5688
    :cond_19
    :goto_8
    const/16 v21, 0x0

    move/from16 v0, v21

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->misPickContatct:Z

    goto/16 :goto_1

    .line 5684
    :cond_1a
    const/16 v21, 0x1

    move/from16 v0, v21

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mIsRecipientHasIntentNotHandle:Z

    .line 5685
    move-object/from16 v0, p3

    move-object/from16 v1, p0

    iput-object v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->mIntent:Landroid/content/Intent;

    goto :goto_8

    .line 5693
    :sswitch_b
    if-eqz p3, :cond_1b

    .line 5694
    const-string v21, "com.mediatek.contacts.list.pickcontactsresult"

    move-object/from16 v0, p3

    move-object/from16 v1, v21

    invoke-virtual {v0, v1}, Landroid/content/Intent;->getLongArrayExtra(Ljava/lang/String;)[J

    move-result-object v7

    .line 5695
    .local v7, contactIds:[J
    move-object/from16 v0, p0

    invoke-direct {v0, v7}, Lcom/android/mms/ui/ComposeMessageActivity;->addTextVCardAsync([J)V

    .line 5700
    .end local v7           #contactIds:[J
    :goto_9
    const/16 v21, 0x0

    move/from16 v0, v21

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->misPickContatct:Z

    goto/16 :goto_1

    .line 5697
    :cond_1b
    const-string v21, "Mms/compose"

    new-instance v22, Ljava/lang/StringBuilder;

    invoke-direct/range {v22 .. v22}, Ljava/lang/StringBuilder;-><init>()V

    const-string v23, "data should not be null,requestCode="

    invoke-virtual/range {v22 .. v23}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v22

    move-object/from16 v0, v22

    move/from16 v1, p1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v22

    const-string v23, ", resultCode="

    invoke-virtual/range {v22 .. v23}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v22

    move-object/from16 v0, v22

    move/from16 v1, p2

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v22

    const-string v23, ", data="

    invoke-virtual/range {v22 .. v23}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v22

    move-object/from16 v0, v22

    move-object/from16 v1, p3

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v22

    invoke-virtual/range {v22 .. v22}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v22

    invoke-static/range {v21 .. v22}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_9

    .line 5705
    :sswitch_c
    const/16 v21, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, p3

    move/from16 v2, v21

    invoke-direct {v0, v1, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->asyncAttachVCardByContactsId(Landroid/content/Intent;Z)V

    .line 5706
    const/16 v21, 0x0

    move/from16 v0, v21

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->misPickContatct:Z

    .line 5707
    const/16 v21, 0x0

    move/from16 v0, v21

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->isInitRecipientsEditor:Z

    goto/16 :goto_1

    .line 5712
    :sswitch_d
    invoke-virtual/range {p3 .. p3}, Landroid/content/Intent;->getData()Landroid/net/Uri;

    move-result-object v21

    move-object/from16 v0, p0

    move-object/from16 v1, v21

    invoke-direct {v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->asyncAttachVCalendar(Landroid/net/Uri;)V

    .line 5713
    const/16 v21, 0x0

    move/from16 v0, v21

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->misPickContatct:Z

    .line 5714
    const/16 v21, 0x0

    move/from16 v0, v21

    move-object/from16 v1, p0

    iput-boolean v0, v1, Lcom/android/mms/ui/ComposeMessageActivity;->isInitRecipientsEditor:Z

    goto/16 :goto_1

    .line 5720
    :sswitch_e
    const/16 v18, 0x0

    .line 5721
    .local v18, succeeded:Z
    if-eqz p3, :cond_4

    const-string v21, "multi_save_result"

    move-object/from16 v0, p3

    move-object/from16 v1, v21

    invoke-virtual {v0, v1}, Landroid/content/Intent;->hasExtra(Ljava/lang/String;)Z

    move-result v21

    if-eqz v21, :cond_4

    .line 5722
    const-string v21, "multi_save_result"

    const/16 v22, 0x0

    move-object/from16 v0, p3

    move-object/from16 v1, v21

    move/from16 v2, v22

    invoke-virtual {v0, v1, v2}, Landroid/content/Intent;->getBooleanExtra(Ljava/lang/String;Z)Z

    move-result v18

    .line 5723
    if-eqz v18, :cond_1c

    const v16, 0x7f0b030c

    .line 5724
    .local v16, resId:I
    :goto_a
    const/16 v21, 0x0

    move-object/from16 v0, p0

    move/from16 v1, v16

    move/from16 v2, v21

    invoke-static {v0, v1, v2}, Landroid/widget/Toast;->makeText(Landroid/content/Context;II)Landroid/widget/Toast;

    move-result-object v21

    invoke-virtual/range {v21 .. v21}, Landroid/widget/Toast;->show()V

    goto/16 :goto_1

    .line 5723
    .end local v16           #resId:I
    :cond_1c
    const v16, 0x7f0b030d

    goto :goto_a

    .line 5534
    nop

    :sswitch_data_0
    .sparse-switch
        0x14 -> :sswitch_8
        0x15 -> :sswitch_c
        0x16 -> :sswitch_b
        0x17 -> :sswitch_e
        0x19 -> :sswitch_d
        0x64 -> :sswitch_2
        0x65 -> :sswitch_1
        0x66 -> :sswitch_5
        0x67 -> :sswitch_4
        0x68 -> :sswitch_6
        0x69 -> :sswitch_7
        0x6a -> :sswitch_0
        0x6b -> :sswitch_9
        0x6d -> :sswitch_a
        0xd4 -> :sswitch_3
    .end sparse-switch
.end method

.method public onAttachmentChanged()V
    .locals 1

    .prologue
    .line 4709
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$37;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$37;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {p0, v0}, Landroid/app/Activity;->runOnUiThread(Ljava/lang/Runnable;)V

    .line 4730
    return-void
.end method

.method public onAttachmentError(I)V
    .locals 1
    .parameter "error"

    .prologue
    .line 4886
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$42;

    invoke-direct {v0, p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity$42;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;I)V

    invoke-virtual {p0, v0}, Landroid/app/Activity;->runOnUiThread(Ljava/lang/Runnable;)V

    .line 4893
    return-void
.end method

.method public onClick(Landroid/view/View;)V
    .locals 6
    .parameter "v"

    .prologue
    const/4 v4, 0x0

    .line 6534
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonSms:Landroid/widget/ImageButton;

    if-eq p1, v2, :cond_0

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonMms:Landroid/widget/TextView;

    if-eq p1, v2, :cond_0

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonIpMessage:Landroid/widget/ImageButton;

    if-ne p1, v2, :cond_3

    .line 6535
    :cond_0
    iget-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonCanResponse:Z

    if-eqz v2, :cond_1

    .line 6536
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonCanResponse:Z

    .line 6537
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isPreparedForSending()Z

    move-result v2

    if-eqz v2, :cond_2

    .line 6539
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowUnreadDivider:Z

    .line 6541
    invoke-direct {p0, v4}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState(Z)V

    .line 6542
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->checkRecipientsCount()V

    .line 6543
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    const/16 v3, 0x70

    const-wide/16 v4, 0x3e8

    invoke-virtual {v2, v3, v4, v5}, Landroid/os/Handler;->sendEmptyMessageDelayed(IJ)Z

    .line 6574
    :cond_1
    :goto_0
    return-void

    .line 6545
    :cond_2
    const/4 v2, 0x1

    iput-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonCanResponse:Z

    .line 6546
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->unpreparedForSendingAlert()V

    goto :goto_0

    .line 6550
    :cond_3
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsPicker:Landroid/widget/ImageButton;

    if-ne p1, v2, :cond_1

    .line 6553
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->recipientCount()I

    move-result v2

    sget v3, Lcom/android/mms/ui/ComposeMessageActivity;->RECIPIENTS_LIMIT_FOR_SMS:I

    if-lt v2, v3, :cond_4

    .line 6554
    const v2, 0x7f0b0045

    invoke-static {p0, v2, v4}, Landroid/widget/Toast;->makeText(Landroid/content/Context;II)Landroid/widget/Toast;

    move-result-object v2

    invoke-virtual {v2}, Landroid/widget/Toast;->show()V

    goto :goto_0

    .line 6555
    :cond_4
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getServiceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ServiceManager;

    move-result-object v2

    const/16 v3, 0x9

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ServiceManager;->isFeatureSupported(I)Z

    move-result v2

    if-eqz v2, :cond_5

    .line 6557
    :try_start_0
    new-instance v1, Landroid/content/Intent;

    sget-object v2, Lcom/mediatek/mms/ipmessage/IpMessageConsts$RemoteActivities;->CONTACT:Ljava/lang/String;

    invoke-direct {v1, v2}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 6558
    .local v1, intent:Landroid/content/Intent;
    const-string v2, "request_code"

    const/16 v3, 0xd2

    invoke-virtual {v1, v2, v3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 6559
    const-string v2, "type"

    const/4 v3, 0x0

    invoke-virtual {v1, v2, v3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 6560
    invoke-static {p0, v1}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->startRemoteActivityForResult(Landroid/content/Context;Landroid/content/Intent;)V
    :try_end_0
    .catch Landroid/content/ActivityNotFoundException; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    .line 6561
    .end local v1           #intent:Landroid/content/Intent;
    :catch_0
    move-exception v0

    .line 6562
    .local v0, e:Landroid/content/ActivityNotFoundException;
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->misPickContatct:Z

    .line 6563
    const v2, 0x7f0b0105

    invoke-virtual {p0, v2}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v2

    invoke-static {p0, v2, v4}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v2

    invoke-virtual {v2}, Landroid/widget/Toast;->show()V

    .line 6564
    const-string v2, "Mms/ipmsg/compose"

    invoke-virtual {v0}, Ljava/lang/Throwable;->getMessage()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0

    .line 6568
    .end local v0           #e:Landroid/content/ActivityNotFoundException;
    :cond_5
    iget-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowingContactPicker:Z

    if-nez v2, :cond_1

    .line 6569
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    if-eqz v2, :cond_6

    sget v2, Lcom/android/mms/ui/ComposeMessageActivity;->RECIPIENTS_LIMIT_FOR_SMS:I

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v3}, Lcom/android/mms/ui/RecipientsEditor;->getNumbers()Ljava/util/List;

    move-result-object v3

    invoke-interface {v3}, Ljava/util/List;->size()I

    move-result v3

    sub-int/2addr v2, v3

    :goto_1
    invoke-direct {p0, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->addContacts(I)V

    goto :goto_0

    :cond_6
    sget v2, Lcom/android/mms/ui/ComposeMessageActivity;->RECIPIENTS_LIMIT_FOR_SMS:I

    goto :goto_1
.end method

.method public onConfigurationChanged(Landroid/content/res/Configuration;)V
    .locals 2
    .parameter "newConfig"

    .prologue
    .line 4446
    const-string v0, "Mms/compose"

    const-string v1, "onConfigurationChanged-Start"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4447
    invoke-super {p0, p1}, Landroid/app/Activity;->onConfigurationChanged(Landroid/content/res/Configuration;)V

    .line 4448
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSharePanel:Lcom/mediatek/ipmsg/ui/SharePanel;

    if-eqz v0, :cond_0

    .line 4449
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSharePanel:Lcom/mediatek/ipmsg/ui/SharePanel;

    invoke-virtual {v0}, Lcom/mediatek/ipmsg/ui/SharePanel;->resetShareItem()V

    .line 4451
    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonPanel:Lcom/android/mms/ui/EmoticonPanel;

    if-eqz v0, :cond_1

    .line 4452
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonPanel:Lcom/android/mms/ui/EmoticonPanel;

    invoke-virtual {v0}, Lcom/android/mms/ui/EmoticonPanel;->resetShareItem()V

    .line 4458
    :cond_1
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->resetConfiguration(Landroid/content/res/Configuration;)Z

    move-result v0

    if-eqz v0, :cond_2

    .line 4461
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isSubjectEditorVisible()Z

    move-result v0

    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->drawTopPanel(Z)V

    .line 4463
    :cond_2
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsKeyboardOpen:Z

    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->onKeyboardStateChanged(Z)V

    .line 4464
    const-string v0, "Mms/compose"

    const-string v1, "onConfigurationChanged-End"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4465
    return-void
.end method

.method protected onCreate(Landroid/os/Bundle;)V
    .locals 9
    .parameter "savedInstanceState"

    .prologue
    .line 3366
    invoke-super {p0, p1}, Landroid/app/Activity;->onCreate(Landroid/os/Bundle;)V

    .line 3368
    invoke-direct {p0, p0}, Lcom/android/mms/ui/ComposeMessageActivity;->initPlugin(Landroid/content/Context;)V

    .line 3372
    if-eqz p1, :cond_0

    const-string v5, "cell_dialog_showing"

    const/4 v6, 0x0

    invoke-virtual {p1, v5, v6}, Landroid/os/Bundle;->getBoolean(Ljava/lang/String;Z)Z

    move-result v5

    if-eqz v5, :cond_0

    .line 3374
    const-string v5, "Mms/compose"

    const-string v6, "cell progress dialog is showed before, do not show it now"

    invoke-static {v5, v6}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 3375
    const-string v5, "android:savedDialogs"

    const/4 v6, 0x0

    invoke-virtual {p1, v5, v6}, Landroid/os/Bundle;->putBundle(Ljava/lang/String;Landroid/os/Bundle;)V

    .line 3380
    :cond_0
    invoke-static {p0}, Lcom/android/mms/MmsConfig;->getIpMessagServiceId(Landroid/content/Context;)I

    move-result v5

    const/4 v6, 0x1

    if-ne v5, v6, :cond_1

    .line 3381
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getServiceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ServiceManager;

    move-result-object v5

    invoke-virtual {v5}, Lcom/mediatek/mms/ipmessage/ServiceManager;->serviceIsReady()Z

    move-result v3

    .line 3382
    .local v3, isServiceReady:Z
    const-string v5, "Mms/ipmsg/compose"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "onCreate(): is ip service ready ?= "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v5, v6}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 3383
    if-nez v3, :cond_1

    .line 3384
    const-string v5, "Mms/ipmsg/compose"

    const-string v6, "Turn on ipmessage service by Composer."

    invoke-static {v5, v6}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 3385
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getServiceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ServiceManager;

    move-result-object v5

    invoke-virtual {v5}, Lcom/mediatek/mms/ipmessage/ServiceManager;->startIpService()V

    .line 3394
    .end local v3           #isServiceReady:Z
    :cond_1
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v5

    const-string v6, "sms_sim_setting"

    const-wide/16 v7, -0x5

    invoke-static {v5, v6, v7, v8}, Lcom/mediatek/encapsulation/android/provider/EncapsulatedSettings$System;->getLong(Landroid/content/ContentResolver;Ljava/lang/String;J)J

    move-result-wide v5

    iput-wide v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    .line 3397
    iget-wide v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    const-wide/16 v7, -0x1

    cmp-long v5, v5, v7

    if-eqz v5, :cond_6

    iget-wide v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    const-wide/16 v7, -0x5

    cmp-long v5, v5, v7

    if-eqz v5, :cond_6

    .line 3399
    iget-wide v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    long-to-int v5, v5

    invoke-static {p0, v5}, Lcom/android/mms/MmsConfig;->isServiceEnabled(Landroid/content/Context;I)Z

    move-result v5

    iput-boolean v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    .line 3406
    :goto_0
    const-string v5, "Mms/compose"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "mIsMessageDefaultSimIpServiceEnabled="

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    iget-boolean v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v5, v6}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 3409
    const-string v5, "input_method"

    invoke-virtual {p0, v5}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Landroid/view/inputmethod/InputMethodManager;

    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInputMethodManager:Landroid/view/inputmethod/InputMethodManager;

    .line 3412
    sget-object v5, Lcom/android/mms/ui/ComposeMessageActivity;->sCompose:Ljava/lang/ref/WeakReference;

    if-nez v5, :cond_7

    const/4 v0, 0x0

    .line 3413
    .local v0, compose:Landroid/app/Activity;
    :goto_1
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v5}, Lcom/mediatek/mms/ext/IMmsCompose;->isMultiCompose()Z

    move-result v5

    if-nez v5, :cond_2

    if-eqz v0, :cond_2

    invoke-virtual {v0}, Landroid/app/Activity;->isFinishing()Z

    move-result v5

    if-nez v5, :cond_2

    if-nez p1, :cond_2

    .line 3414
    invoke-virtual {v0}, Landroid/app/Activity;->finish()V

    .line 3416
    :cond_2
    new-instance v5, Ljava/lang/ref/WeakReference;

    invoke-direct {v5, p0}, Ljava/lang/ref/WeakReference;-><init>(Ljava/lang/Object;)V

    sput-object v5, Lcom/android/mms/ui/ComposeMessageActivity;->sCompose:Ljava/lang/ref/WeakReference;

    .line 3419
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->initMessageSettings()V

    .line 3421
    invoke-virtual {p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v5

    invoke-virtual {v5}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;

    move-result-object v5

    invoke-direct {p0, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->resetConfiguration(Landroid/content/res/Configuration;)Z

    .line 3423
    const-string v5, "window"

    invoke-virtual {p0, v5}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Landroid/view/WindowManager;

    .line 3424
    .local v4, windowManager:Landroid/view/WindowManager;
    iget-boolean v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsLandscape:Z

    if-eqz v5, :cond_8

    .line 3425
    invoke-interface {v4}, Landroid/view/WindowManager;->getDefaultDisplay()Landroid/view/Display;

    move-result-object v5

    invoke-virtual {v5}, Landroid/view/Display;->getWidth()I

    move-result v5

    iput v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    .line 3429
    :goto_2
    const-string v5, "Mms/compose"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "onCreate(): mCurrentMaxHeight = "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    iget v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v5, v6}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 3431
    const v5, 0x7f040011

    invoke-virtual {p0, v5}, Landroid/app/Activity;->setContentView(I)V

    .line 3432
    const/4 v5, 0x0

    invoke-virtual {p0, v5}, Landroid/app/Activity;->setProgressBarVisibility(Z)V

    .line 3435
    invoke-virtual {p0}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v5

    const/4 v6, 0x2

    invoke-virtual {v5, v6}, Landroid/view/Window;->setSoftInputMode(I)V

    .line 3439
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->initResourceRefs()V

    .line 3440
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->initShareAndEmoticonRessource()V

    .line 3442
    invoke-static {p0}, Lcom/android/mms/MmsConfig;->getIpMessagServiceId(Landroid/content/Context;)I

    move-result v5

    const/4 v6, 0x1

    if-ne v5, v6, :cond_3

    .line 3443
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->initIpMessageResourceRefs()V

    .line 3447
    :cond_3
    const/4 v5, 0x1

    invoke-static {v5}, Lcom/android/mms/MmsPluginManager;->getMmsPluginObject(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/mediatek/mms/ext/IMmsDialogNotify;

    .line 3450
    .local v1, dialogPlugin:Lcom/mediatek/mms/ext/IMmsDialogNotify;
    invoke-interface {v1}, Lcom/mediatek/mms/ext/IMmsDialogNotify;->closeMsgDialog()V

    .line 3454
    new-instance v5, Lcom/mediatek/encapsulation/android/app/EncapsulatedStatusBarManager;

    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v6

    invoke-direct {v5, v6}, Lcom/mediatek/encapsulation/android/app/EncapsulatedStatusBarManager;-><init>(Landroid/content/Context;)V

    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mStatusBarManager:Lcom/mediatek/encapsulation/android/app/EncapsulatedStatusBarManager;

    .line 3455
    invoke-virtual {p0}, Landroid/app/Activity;->getComponentName()Landroid/content/ComponentName;

    move-result-object v5

    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mComponentName:Landroid/content/ComponentName;

    .line 3459
    const/4 v5, 0x0

    iput v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    .line 3462
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v5

    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContentResolver:Landroid/content/ContentResolver;

    .line 3463
    new-instance v5, Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContentResolver:Landroid/content/ContentResolver;

    invoke-direct {v5, p0, v6}, Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/content/ContentResolver;)V

    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    .line 3465
    const-wide/16 v5, 0x0

    invoke-virtual {p0, p1, v5, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->initialize(Landroid/os/Bundle;J)V

    .line 3471
    const/4 v5, 0x0

    sput-boolean v5, Lcom/android/mms/ui/ComposeMessageActivity;->mDestroy:Z

    .line 3472
    sget-object v5, Lcom/android/mms/ui/ComposeMessageActivity;->mCellMgr:Lcom/mediatek/encapsulation/com/mediatek/CellConnService/EncapsulatedCellConnMgr;

    if-nez v5, :cond_4

    .line 3473
    new-instance v5, Lcom/mediatek/encapsulation/com/mediatek/CellConnService/EncapsulatedCellConnMgr;

    invoke-direct {v5}, Lcom/mediatek/encapsulation/com/mediatek/CellConnService/EncapsulatedCellConnMgr;-><init>()V

    sput-object v5, Lcom/android/mms/ui/ComposeMessageActivity;->mCellMgr:Lcom/mediatek/encapsulation/com/mediatek/CellConnService/EncapsulatedCellConnMgr;

    .line 3475
    :cond_4
    sget-object v5, Lcom/android/mms/ui/ComposeMessageActivity;->mCellMgr:Lcom/mediatek/encapsulation/com/mediatek/CellConnService/EncapsulatedCellConnMgr;

    invoke-virtual {p0}, Landroid/app/Activity;->getApplication()Landroid/app/Application;

    move-result-object v6

    invoke-virtual {v5, v6}, Lcom/mediatek/encapsulation/com/mediatek/CellConnService/EncapsulatedCellConnMgr;->register(Landroid/content/Context;)V

    .line 3476
    sget v5, Lcom/android/mms/ui/ComposeMessageActivity;->mCellMgrRegisterCount:I

    add-int/lit8 v5, v5, 0x1

    sput v5, Lcom/android/mms/ui/ComposeMessageActivity;->mCellMgrRegisterCount:I

    .line 3479
    new-instance v5, Lcom/android/mms/ui/ComposeMessageActivity$SoloAlertDialog;

    const/4 v6, 0x0

    invoke-direct {v5, p0, p0, v6}, Lcom/android/mms/ui/ComposeMessageActivity$SoloAlertDialog;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/content/Context;Lcom/android/mms/ui/ComposeMessageActivity$1;)V

    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSoloAlertDialog:Lcom/android/mms/ui/ComposeMessageActivity$SoloAlertDialog;

    .line 3482
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mGetSimInfoRunnable:Ljava/lang/Runnable;

    invoke-interface {v5}, Ljava/lang/Runnable;->run()V

    .line 3484
    invoke-static {}, Lcom/android/mms/MmsConfig;->isSupportAsyncUpdateWallpaper()Z

    move-result v5

    if-eqz v5, :cond_5

    .line 3485
    new-instance v5, Lcom/android/mms/ui/ComposeMessageActivity$28;

    invoke-direct {v5, p0}, Lcom/android/mms/ui/ComposeMessageActivity$28;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSetWallPaperHandler:Landroid/os/Handler;

    .line 3504
    :cond_5
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->changeWallPaper()V

    .line 3506
    new-instance v2, Landroid/content/IntentFilter;

    const-string v5, "android.intent.action.SIM_INDICATOR_STATE_CHANGED"

    invoke-direct {v2, v5}, Landroid/content/IntentFilter;-><init>(Ljava/lang/String;)V

    .line 3507
    .local v2, intentFilter:Landroid/content/IntentFilter;
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimReceiver:Landroid/content/BroadcastReceiver;

    invoke-virtual {p0, v5, v2}, Landroid/content/ContextWrapper;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;)Landroid/content/Intent;

    .line 3509
    return-void

    .line 3401
    .end local v0           #compose:Landroid/app/Activity;
    .end local v1           #dialogPlugin:Lcom/mediatek/mms/ext/IMmsDialogNotify;
    .end local v2           #intentFilter:Landroid/content/IntentFilter;
    .end local v4           #windowManager:Landroid/view/WindowManager;
    :cond_6
    invoke-static {p0}, Lcom/android/mms/MmsConfig;->isServiceEnabled(Landroid/content/Context;)Z

    move-result v5

    iput-boolean v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    goto/16 :goto_0

    .line 3412
    :cond_7
    sget-object v5, Lcom/android/mms/ui/ComposeMessageActivity;->sCompose:Ljava/lang/ref/WeakReference;

    invoke-virtual {v5}, Ljava/lang/ref/Reference;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/mms/ui/ComposeMessageActivity;

    move-object v0, v5

    goto/16 :goto_1

    .line 3427
    .restart local v0       #compose:Landroid/app/Activity;
    .restart local v4       #windowManager:Landroid/view/WindowManager;
    :cond_8
    invoke-interface {v4}, Landroid/view/WindowManager;->getDefaultDisplay()Landroid/view/Display;

    move-result-object v5

    invoke-virtual {v5}, Landroid/view/Display;->getHeight()I

    move-result v5

    iput v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    goto/16 :goto_2
.end method

.method protected onCreateDialog(I)Landroid/app/Dialog;
    .locals 3
    .parameter "id"

    .prologue
    const/4 v2, 0x1

    .line 14409
    const/4 v0, 0x0

    .line 14410
    .local v0, dialog:Landroid/app/ProgressDialog;
    if-ne p1, v2, :cond_0

    .line 14411
    new-instance v0, Landroid/app/ProgressDialog;

    .end local v0           #dialog:Landroid/app/ProgressDialog;
    invoke-direct {v0, p0}, Landroid/app/ProgressDialog;-><init>(Landroid/content/Context;)V

    .line 14413
    .restart local v0       #dialog:Landroid/app/ProgressDialog;
    const v1, 0x7f0b01f0

    invoke-virtual {p0, v1}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/app/ProgressDialog;->setMessage(Ljava/lang/CharSequence;)V

    .line 14414
    invoke-virtual {v0, v2}, Landroid/app/ProgressDialog;->setIndeterminate(Z)V

    .line 14415
    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Landroid/app/Dialog;->setCancelable(Z)V

    .line 14416
    invoke-virtual {v0}, Landroid/app/Dialog;->getWindow()Landroid/view/Window;

    move-result-object v1

    const/4 v2, 0x4

    invoke-virtual {v1, v2}, Landroid/view/Window;->addFlags(I)V

    .line 14418
    invoke-virtual {p0}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v1

    const/high16 v2, 0x48

    invoke-virtual {v1, v2}, Landroid/view/Window;->clearFlags(I)V

    .line 14422
    :cond_0
    return-object v0
.end method

.method protected onDestroy()V
    .locals 7

    .prologue
    const-wide/16 v5, 0x0

    const/4 v4, 0x0

    const/4 v3, 0x1

    .line 4381
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getMessageCount()I

    move-result v0

    if-nez v0, :cond_0

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->isWorthSaving()Z

    move-result v0

    if-nez v0, :cond_0

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v0

    if-eqz v0, :cond_0

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->getDiscardThreadId()J

    move-result-wide v0

    cmp-long v0, v0, v5

    if-lez v0, :cond_0

    .line 4383
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v1}, Lcom/android/mms/data/Conversation;->getDiscardThreadId()J

    move-result-wide v1

    invoke-static {v0, v1, v2}, Lcom/android/mms/data/Conversation;->asyncDeleteObsoleteThreadID(Landroid/content/AsyncQueryHandler;J)V

    .line 4384
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0, v5, v6}, Lcom/android/mms/data/Conversation;->setDiscardThreadId(J)V

    .line 4386
    :cond_0
    const/4 v0, 0x0

    iput-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsStartMultiDeleteActivity:Z

    .line 4388
    const-string v0, "Mms/compose"

    const-string v1, "onDestroy()"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4393
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickRunnable:Ljava/lang/Runnable;

    invoke-virtual {v0, v1}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V

    .line 4394
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickDialog:Landroid/app/ProgressDialog;

    if-eqz v0, :cond_1

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickDialog:Landroid/app/ProgressDialog;

    invoke-virtual {v0}, Landroid/app/Dialog;->isShowing()Z

    move-result v0

    if-eqz v0, :cond_1

    .line 4395
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickDialog:Landroid/app/ProgressDialog;

    invoke-virtual {v0}, Landroid/app/Dialog;->dismiss()V

    .line 4397
    :cond_1
    iput-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickDialog:Landroid/app/ProgressDialog;

    .line 4399
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimReceiver:Landroid/content/BroadcastReceiver;

    invoke-virtual {p0, v0}, Landroid/content/ContextWrapper;->unregisterReceiver(Landroid/content/BroadcastReceiver;)V

    .line 4402
    sget v0, Lcom/android/mms/ui/ComposeMessageActivity;->mCellMgrRegisterCount:I

    if-ne v0, v3, :cond_2

    .line 4403
    sget-object v0, Lcom/android/mms/ui/ComposeMessageActivity;->mCellMgr:Lcom/mediatek/encapsulation/com/mediatek/CellConnService/EncapsulatedCellConnMgr;

    invoke-virtual {v0}, Lcom/mediatek/encapsulation/com/mediatek/CellConnService/EncapsulatedCellConnMgr;->unregister()V

    .line 4405
    :cond_2
    sget v0, Lcom/android/mms/ui/ComposeMessageActivity;->mCellMgrRegisterCount:I

    add-int/lit8 v0, v0, -0x1

    sput v0, Lcom/android/mms/ui/ComposeMessageActivity;->mCellMgrRegisterCount:I

    .line 4407
    sput-boolean v3, Lcom/android/mms/ui/ComposeMessageActivity;->mDestroy:Z

    .line 4408
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mScrollListener:Lcom/android/mms/ui/MyScrollListener;

    invoke-virtual {v0}, Lcom/android/mms/ui/MyScrollListener;->destroyThread()V

    .line 4410
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    if-eqz v0, :cond_3

    .line 4411
    const-string v0, "Mms/compose"

    const-string v1, "clear pending queries in onDestroy"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4412
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    const/16 v1, 0x2537

    invoke-virtual {v0, v1}, Landroid/content/AsyncQueryHandler;->cancelOperation(I)V

    .line 4413
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    const/16 v1, 0x2648

    invoke-virtual {v0, v1}, Landroid/content/AsyncQueryHandler;->cancelOperation(I)V

    .line 4414
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQueryUnReadMsgListRunnable:Ljava/lang/Runnable;

    invoke-virtual {v0, v1}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V

    .line 4415
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQueryMsgListRunnable:Ljava/lang/Runnable;

    invoke-virtual {v0, v1}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V

    .line 4418
    :cond_3
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    if-eqz v0, :cond_4

    .line 4419
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v0}, Lcom/android/mms/ui/MessageListAdapter;->destroyTaskStack()V

    .line 4421
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v0, v4}, Lcom/android/mms/ui/MessageListAdapter;->changeCursor(Landroid/database/Cursor;)V

    .line 4423
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v0, v4}, Lcom/android/mms/ui/MessageListAdapter;->setOnDataSetChangedListener(Lcom/android/mms/ui/MessageListAdapter$OnDataSetChangedListener;)V

    .line 4428
    :cond_4
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsDestroyTypingThread:Z

    .line 4429
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowTypingLockObject:Ljava/lang/Object;

    monitor-enter v1

    .line 4430
    :try_start_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowTypingLockObject:Ljava/lang/Object;

    invoke-virtual {v0}, Ljava/lang/Object;->notifyAll()V

    .line 4431
    monitor-exit v1
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 4433
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->recycleShareAndEmoticonView()V

    .line 4434
    sget-object v0, Lcom/android/mms/ui/SlideshowEditActivity;->sCurrentActivity:Lcom/android/mms/ui/SlideshowEditActivity;

    if-eqz v0, :cond_6

    .line 4435
    sget-object v0, Lcom/android/mms/ui/SlideshowEditActivity;->sCurrentActivity:Lcom/android/mms/ui/SlideshowEditActivity;

    invoke-virtual {v0}, Landroid/app/Activity;->finish()V

    .line 4441
    :cond_5
    :goto_0
    invoke-super {p0}, Landroid/app/Activity;->onDestroy()V

    .line 4442
    return-void

    .line 4431
    :catchall_0
    move-exception v0

    :try_start_1
    monitor-exit v1
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    throw v0

    .line 4437
    :cond_6
    sget-object v0, Lcom/android/mms/ui/MmsPlayerActivity;->sCurrentActivity:Lcom/android/mms/ui/MmsPlayerActivity;

    if-eqz v0, :cond_5

    .line 4438
    sget-object v0, Lcom/android/mms/ui/MmsPlayerActivity;->sCurrentActivity:Lcom/android/mms/ui/MmsPlayerActivity;

    invoke-virtual {v0}, Landroid/app/Activity;->finish()V

    goto :goto_0
.end method

.method public onEditorAction(Landroid/widget/TextView;ILandroid/view/KeyEvent;)Z
    .locals 3
    .parameter "v"
    .parameter "actionId"
    .parameter "event"

    .prologue
    const/4 v1, 0x1

    const/4 v0, 0x0

    .line 6601
    if-eqz p3, :cond_3

    .line 6604
    invoke-virtual {p3}, Landroid/view/KeyEvent;->isShiftPressed()Z

    move-result v2

    if-nez v2, :cond_0

    .line 6605
    invoke-virtual {p3}, Landroid/view/KeyEvent;->getAction()I

    move-result v2

    if-nez v2, :cond_1

    .line 6629
    :cond_0
    :goto_0
    return v0

    .line 6610
    :cond_1
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isPreparedForSending()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 6611
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->checkRecipientsCount()V

    :goto_1
    move v0, v1

    .line 6616
    goto :goto_0

    .line 6613
    :cond_2
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->unpreparedForSendingAlert()V

    goto :goto_1

    .line 6622
    :cond_3
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isPreparedForSending()Z

    move-result v0

    if-eqz v0, :cond_4

    .line 6624
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->checkRecipientsCount()V

    :goto_2
    move v0, v1

    .line 6629
    goto :goto_0

    .line 6626
    :cond_4
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->unpreparedForSendingAlert()V

    goto :goto_2
.end method

.method public onKeyDown(ILandroid/view/KeyEvent;)Z
    .locals 12
    .parameter "keyCode"
    .parameter "event"

    .prologue
    const/4 v8, 0x0

    const/4 v7, 0x1

    .line 4536
    const-string v9, "Mms/compose"

    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "onKeyDown(): keyCode = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    invoke-static {v9, v10}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 4537
    sparse-switch p1, :sswitch_data_0

    .line 4609
    :cond_0
    :sswitch_0
    invoke-super {p0, p1, p2}, Landroid/app/Activity;->onKeyDown(ILandroid/view/KeyEvent;)Z

    move-result v7

    :cond_1
    :goto_0
    return v7

    .line 4539
    :sswitch_1
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    if-eqz v9, :cond_0

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v9}, Landroid/view/View;->isFocused()Z

    move-result v9

    if-eqz v9, :cond_0

    .line 4542
    :try_start_0
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v9}, Landroid/widget/AdapterView;->getSelectedItem()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/database/Cursor;
    :try_end_0
    .catch Ljava/lang/ClassCastException; {:try_start_0 .. :try_end_0} :catch_0

    .line 4548
    .local v0, cursor:Landroid/database/Cursor;
    if-eqz v0, :cond_0

    .line 4549
    invoke-interface {v0, v8}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v6

    .line 4550
    .local v6, type:Ljava/lang/String;
    invoke-interface {v0, v7}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v3

    .line 4551
    .local v3, msgId:J
    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v8, v6, v3, v4, v0}, Lcom/android/mms/ui/MessageListAdapter;->getCachedMessageItem(Ljava/lang/String;JLandroid/database/Cursor;)Lcom/android/mms/ui/MessageItem;

    move-result-object v5

    .line 4553
    .local v5, msgItem:Lcom/android/mms/ui/MessageItem;
    if-eqz v5, :cond_1

    .line 4554
    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$DeleteMessageListener;

    invoke-direct {v2, p0, v5}, Lcom/android/mms/ui/ComposeMessageActivity$DeleteMessageListener;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/ui/MessageItem;)V

    .line 4555
    .local v2, l:Lcom/android/mms/ui/ComposeMessageActivity$DeleteMessageListener;
    iget-boolean v8, v5, Lcom/android/mms/ui/MessageItem;->mLocked:Z

    invoke-direct {p0, v2, v8}, Lcom/android/mms/ui/ComposeMessageActivity;->confirmDeleteDialog(Landroid/content/DialogInterface$OnClickListener;Z)V

    goto :goto_0

    .line 4543
    .end local v0           #cursor:Landroid/database/Cursor;
    .end local v2           #l:Lcom/android/mms/ui/ComposeMessageActivity$DeleteMessageListener;
    .end local v3           #msgId:J
    .end local v5           #msgItem:Lcom/android/mms/ui/MessageItem;
    .end local v6           #type:Ljava/lang/String;
    :catch_0
    move-exception v1

    .line 4544
    .local v1, e:Ljava/lang/ClassCastException;
    const-string v7, "Mms/compose"

    const-string v8, "Unexpected ClassCastException."

    invoke-static {v7, v8, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 4545
    invoke-super {p0, p1, p2}, Landroid/app/Activity;->onKeyDown(ILandroid/view/KeyEvent;)Z

    move-result v7

    goto :goto_0

    .line 4580
    .end local v1           #e:Ljava/lang/ClassCastException;
    :sswitch_2
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isSharePanelOrEmoticonPanelShow()Z

    move-result v8

    if-eqz v8, :cond_2

    .line 4581
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideSharePanelOrEmoticonPanel()V

    goto :goto_0

    .line 4586
    :cond_2
    iget-boolean v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsEditingSlideshow:Z

    if-nez v8, :cond_1

    .line 4593
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->checkAndSendReadReport()V

    .line 4596
    iput-boolean v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCheckObsolete:Z

    .line 4597
    new-instance v8, Lcom/android/mms/ui/ComposeMessageActivity$36;

    invoke-direct {v8, p0}, Lcom/android/mms/ui/ComposeMessageActivity$36;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-direct {p0, v8}, Lcom/android/mms/ui/ComposeMessageActivity;->exitComposeMessageActivity(Ljava/lang/Runnable;)V

    goto :goto_0

    .line 4605
    :sswitch_3
    invoke-virtual {p0}, Landroid/app/Activity;->invalidateOptionsMenu()V

    move v7, v8

    .line 4606
    goto :goto_0

    .line 4537
    nop

    :sswitch_data_0
    .sparse-switch
        0x4 -> :sswitch_2
        0x17 -> :sswitch_0
        0x42 -> :sswitch_0
        0x43 -> :sswitch_1
        0x52 -> :sswitch_3
    .end sparse-switch
.end method

.method public onMaxPendingMessagesReached()V
    .locals 1

    .prologue
    .line 4871
    const/4 v0, 0x0

    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->saveDraft(Z)V

    .line 4873
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$41;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$41;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {p0, v0}, Landroid/app/Activity;->runOnUiThread(Ljava/lang/Runnable;)V

    .line 4882
    return-void
.end method

.method public onMessageSent()V
    .locals 1

    .prologue
    .line 4845
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$40;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$40;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {p0, v0}, Landroid/app/Activity;->runOnUiThread(Ljava/lang/Runnable;)V

    .line 4867
    return-void
.end method

.method protected onNewIntent(Landroid/content/Intent;)V
    .locals 14
    .parameter "intent"

    .prologue
    .line 3715
    invoke-super {p0, p1}, Landroid/app/Activity;->onNewIntent(Landroid/content/Intent;)V

    .line 3716
    const-string v10, "Mms/compose"

    new-instance v11, Ljava/lang/StringBuilder;

    invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V

    const-string v12, "onNewIntent: intent = "

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {p1}, Landroid/content/Intent;->toString()Ljava/lang/String;

    move-result-object v12

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v11

    invoke-static {v10, v11}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 3717
    invoke-virtual {p0, p1}, Landroid/app/Activity;->setIntent(Landroid/content/Intent;)V

    .line 3719
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->reloadWorkingMessage()V

    .line 3721
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQuickTextDialog:Landroid/app/AlertDialog;

    if-eqz v10, :cond_0

    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQuickTextDialog:Landroid/app/AlertDialog;

    invoke-virtual {v10}, Landroid/app/Dialog;->isShowing()Z

    move-result v10

    if-eqz v10, :cond_0

    .line 3722
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQuickTextDialog:Landroid/app/AlertDialog;

    invoke-virtual {v10}, Landroid/app/Dialog;->dismiss()V

    .line 3723
    const/4 v10, 0x0

    iput-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQuickTextDialog:Landroid/app/AlertDialog;

    .line 3726
    :cond_0
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSIMSelectDialog:Landroid/app/AlertDialog;

    if-eqz v10, :cond_1

    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSIMSelectDialog:Landroid/app/AlertDialog;

    invoke-virtual {v10}, Landroid/app/Dialog;->isShowing()Z

    move-result v10

    if-eqz v10, :cond_1

    .line 3727
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSIMSelectDialog:Landroid/app/AlertDialog;

    invoke-virtual {v10}, Landroid/app/Dialog;->dismiss()V

    .line 3728
    const/4 v10, 0x0

    iput-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSIMSelectDialog:Landroid/app/AlertDialog;

    .line 3731
    :cond_1
    const/4 v1, 0x0

    .line 3732
    .local v1, conversation:Lcom/android/mms/data/Conversation;
    const/4 v10, 0x0

    iput-boolean v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSentMessage:Z

    .line 3740
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v10}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v4

    .line 3741
    .local v4, originalThreadId:J
    const-string v10, "thread_id"

    const-wide/16 v11, 0x0

    invoke-virtual {p1, v10, v11, v12}, Landroid/content/Intent;->getLongExtra(Ljava/lang/String;J)J

    move-result-wide v8

    .line 3742
    .local v8, threadId:J
    invoke-virtual {p1}, Landroid/content/Intent;->getData()Landroid/net/Uri;

    move-result-object v3

    .line 3744
    .local v3, intentUri:Landroid/net/Uri;
    const/4 v6, 0x0

    .line 3745
    .local v6, sameThread:Z
    const-wide/16 v10, 0x0

    cmp-long v10, v8, v10

    if-lez v10, :cond_5

    .line 3746
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v10

    const/4 v11, 0x0

    invoke-static {v10, v8, v9, v11}, Lcom/android/mms/data/Conversation;->get(Landroid/content/Context;JZ)Lcom/android/mms/data/Conversation;

    move-result-object v1

    .line 3768
    :goto_0
    invoke-virtual {p0}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v10

    const/4 v11, 0x2

    invoke-virtual {v10, v11}, Landroid/view/Window;->setSoftInputMode(I)V

    .line 3769
    const/4 v10, 0x0

    iput-boolean v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsKeyboardOpen:Z

    .line 3771
    const-string v10, "Mms:app"

    const/4 v11, 0x2

    invoke-static {v10, v11}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v10

    if-eqz v10, :cond_2

    .line 3772
    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "onNewIntent: data="

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", thread_id extra is "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10, v8, v9}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", new conversation="

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v10

    const-string v11, ", mConversation="

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    invoke-static {v10}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 3782
    :cond_2
    invoke-virtual {v1}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v10

    iget-object v12, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v12}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v12

    cmp-long v10, v10, v12

    if-eqz v10, :cond_3

    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v10}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v10

    const-wide/16 v12, 0x0

    cmp-long v10, v10, v12

    if-nez v10, :cond_7

    :cond_3
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v1, v10}, Lcom/android/mms/data/Conversation;->equals(Ljava/lang/Object;)Z

    move-result v10

    if-eqz v10, :cond_7

    const/4 v6, 0x1

    .line 3786
    :goto_1
    if-eqz v6, :cond_b

    .line 3787
    const-string v10, "onNewIntent: same conversation"

    invoke-static {v10}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 3789
    const-string v10, "finish"

    const/4 v11, 0x0

    invoke-virtual {p1, v10, v11}, Landroid/content/Intent;->getBooleanExtra(Ljava/lang/String;Z)Z

    move-result v10

    const/4 v11, 0x1

    if-ne v10, v11, :cond_9

    .line 3790
    sget-object v10, Lcom/android/mms/ui/ComposeMessageActivity;->sCompose:Ljava/lang/ref/WeakReference;

    if-nez v10, :cond_8

    const/4 v0, 0x0

    .line 3791
    .local v0, compose:Landroid/app/Activity;
    :goto_2
    if-eqz v0, :cond_4

    invoke-virtual {v0}, Landroid/app/Activity;->isFinishing()Z

    move-result v10

    if-nez v10, :cond_4

    .line 3792
    const-string v10, "[Mms][ComposeMessageActivity]"

    const-string v11, "[onNewIntent] same conversation call finish composer"

    invoke-static {v10, v11}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 3793
    invoke-virtual {v0}, Landroid/app/Activity;->finish()V

    .line 3794
    invoke-virtual {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivity(Landroid/content/Intent;)V

    .line 3890
    .end local v0           #compose:Landroid/app/Activity;
    :cond_4
    :goto_3
    return-void

    .line 3748
    :cond_5
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v10}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v10

    const-wide/16 v12, 0x0

    cmp-long v10, v10, v12

    if-nez v10, :cond_6

    .line 3752
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v10}, Lcom/android/mms/data/WorkingMessage;->syncWorkingRecipients()V

    .line 3763
    :cond_6
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v10

    const/4 v11, 0x0

    invoke-static {v10, v3, v11}, Lcom/android/mms/data/Conversation;->get(Landroid/content/Context;Landroid/net/Uri;Z)Lcom/android/mms/data/Conversation;

    move-result-object v1

    goto/16 :goto_0

    .line 3782
    :cond_7
    const/4 v6, 0x0

    goto :goto_1

    .line 3790
    :cond_8
    sget-object v10, Lcom/android/mms/ui/ComposeMessageActivity;->sCompose:Ljava/lang/ref/WeakReference;

    invoke-virtual {v10}, Ljava/lang/ref/Reference;->get()Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Lcom/android/mms/ui/ComposeMessageActivity;

    move-object v0, v10

    goto :goto_2

    .line 3799
    :cond_9
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v10}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v10

    const-wide/16 v12, 0x0

    cmp-long v10, v10, v12

    if-nez v10, :cond_a

    .line 3800
    iput-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    .line 3801
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v10, v11}, Lcom/android/mms/data/WorkingMessage;->setConversation(Lcom/android/mms/data/Conversation;)V

    .line 3802
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateThreadIdIfRunning()V

    .line 3803
    invoke-virtual {p0}, Landroid/app/Activity;->invalidateOptionsMenu()V

    .line 3805
    :cond_a
    new-instance v10, Ljava/lang/Thread;

    new-instance v11, Lcom/android/mms/ui/ComposeMessageActivity$31;

    invoke-direct {v11, p0}, Lcom/android/mms/ui/ComposeMessageActivity$31;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-direct {v10, v11}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v10}, Ljava/lang/Thread;->start()V

    .line 3870
    :goto_4
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->loadMessageContent()V

    .line 3873
    const-string v10, "simId"

    const/4 v11, -0x1

    invoke-virtual {p1, v10, v11}, Landroid/content/Intent;->getIntExtra(Ljava/lang/String;I)I

    move-result v7

    .line 3874
    .local v7, slot_id:I
    invoke-static {p0, v7}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getIdBySlot(Landroid/content/Context;I)J

    move-result-wide v10

    long-to-int v10, v10

    iput v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->send_sim_id:I

    .line 3875
    const-string v10, "Mms/compose"

    new-instance v11, Ljava/lang/StringBuilder;

    invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V

    const-string v12, "onNewIntent get simId from intent = "

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    iget v12, p0, Lcom/android/mms/ui/ComposeMessageActivity;->send_sim_id:I

    invoke-virtual {v11, v12}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {v11}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v11

    invoke-static {v10, v11}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 3878
    const/4 v10, 0x1

    invoke-static {v10}, Lcom/android/mms/MmsPluginManager;->getMmsPluginObject(I)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/mediatek/mms/ext/IMmsDialogNotify;

    .line 3880
    .local v2, dialogPlugin:Lcom/mediatek/mms/ext/IMmsDialogNotify;
    invoke-interface {v2}, Lcom/mediatek/mms/ext/IMmsDialogNotify;->closeMsgDialog()V

    .line 3883
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->changeWallPaper()V

    .line 3884
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    if-eqz v10, :cond_4

    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v10}, Landroid/widget/CursorAdapter;->getCount()I

    move-result v10

    if-nez v10, :cond_4

    .line 3885
    const/4 v10, 0x1

    invoke-direct {p0, v10}, Lcom/android/mms/ui/ComposeMessageActivity;->showKeyBoard(Z)V

    .line 3886
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    if-eqz v10, :cond_4

    .line 3887
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v10}, Landroid/view/View;->requestFocus()Z

    goto/16 :goto_3

    .line 3816
    .end local v2           #dialogPlugin:Lcom/mediatek/mms/ext/IMmsDialogNotify;
    .end local v7           #slot_id:I
    :cond_b
    const-string v10, "Mms:app"

    const/4 v11, 0x2

    invoke-static {v10, v11}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v10

    if-eqz v10, :cond_c

    .line 3817
    const-string v10, "onNewIntent: different conversation"

    invoke-static {v10}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 3822
    :cond_c
    const/4 v10, 0x1

    invoke-virtual {v1, v10}, Lcom/android/mms/data/Conversation;->blockMarkAsRead(Z)V

    .line 3824
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v10

    if-eqz v10, :cond_d

    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v11}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v11

    invoke-virtual {v10, v11}, Lcom/android/mms/ui/RecipientsEditor;->hasValidRecipient(Z)Z

    move-result v10

    if-eqz v10, :cond_e

    .line 3827
    :cond_d
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v10}, Lcom/android/mms/data/WorkingMessage;->isWorthSaving()Z

    move-result v10

    if-nez v10, :cond_11

    .line 3828
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v10}, Lcom/android/mms/data/WorkingMessage;->discard()V

    .line 3834
    :cond_e
    :goto_5
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mUiHandler:Landroid/os/Handler;

    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickRunnable:Ljava/lang/Runnable;

    invoke-virtual {v10, v11}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V

    .line 3835
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickDialog:Landroid/app/ProgressDialog;

    if-eqz v10, :cond_f

    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickDialog:Landroid/app/ProgressDialog;

    invoke-virtual {v10}, Landroid/app/Dialog;->isShowing()Z

    move-result v10

    if-eqz v10, :cond_f

    .line 3836
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickDialog:Landroid/app/ProgressDialog;

    invoke-virtual {v10}, Landroid/app/Dialog;->dismiss()V

    .line 3838
    :cond_f
    const/4 v10, 0x0

    iput-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mContactPickDialog:Landroid/app/ProgressDialog;

    .line 3840
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAsyncDialog:Lcom/android/mms/ui/AsyncDialog;

    if-eqz v10, :cond_10

    .line 3841
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAsyncDialog:Lcom/android/mms/ui/AsyncDialog;

    invoke-virtual {v10}, Lcom/android/mms/ui/AsyncDialog;->dimissProgressDialog()V

    .line 3844
    :cond_10
    const-string v10, "finish"

    const/4 v11, 0x0

    invoke-virtual {p1, v10, v11}, Landroid/content/Intent;->getBooleanExtra(Ljava/lang/String;Z)Z

    move-result v10

    const/4 v11, 0x1

    if-ne v10, v11, :cond_13

    .line 3845
    sget-object v10, Lcom/android/mms/ui/ComposeMessageActivity;->sCompose:Ljava/lang/ref/WeakReference;

    if-nez v10, :cond_12

    const/4 v0, 0x0

    .line 3846
    .restart local v0       #compose:Landroid/app/Activity;
    :goto_6
    if-eqz v0, :cond_4

    invoke-virtual {v0}, Landroid/app/Activity;->isFinishing()Z

    move-result v10

    if-nez v10, :cond_4

    .line 3847
    const-string v10, "[Mms][ComposeMessageActivity]"

    const-string v11, "[onNewIntent] call finish composer"

    invoke-static {v10, v11}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 3848
    invoke-virtual {v0}, Landroid/app/Activity;->finish()V

    .line 3849
    invoke-virtual {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivity(Landroid/content/Intent;)V

    goto/16 :goto_3

    .line 3830
    .end local v0           #compose:Landroid/app/Activity;
    :cond_11
    const/4 v10, 0x0

    invoke-direct {p0, v10}, Lcom/android/mms/ui/ComposeMessageActivity;->saveDraft(Z)V

    goto :goto_5

    .line 3845
    :cond_12
    sget-object v10, Lcom/android/mms/ui/ComposeMessageActivity;->sCompose:Ljava/lang/ref/WeakReference;

    invoke-virtual {v10}, Ljava/lang/ref/Reference;->get()Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Lcom/android/mms/ui/ComposeMessageActivity;

    move-object v0, v10

    goto :goto_6

    .line 3855
    :cond_13
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    const/4 v11, 0x0

    invoke-virtual {v10, v11}, Lcom/android/mms/ui/MessageListAdapter;->changeCursor(Landroid/database/Cursor;)V

    .line 3856
    iput-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    .line 3859
    const-string v10, ""

    iput-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentNumberString:Ljava/lang/String;

    .line 3860
    const/4 v10, 0x0

    invoke-virtual {p0, v10, v4, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->initialize(Landroid/os/Bundle;J)V

    .line 3862
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSoloAlertDialog:Lcom/android/mms/ui/ComposeMessageActivity$SoloAlertDialog;

    invoke-virtual {v10}, Lcom/android/mms/ui/ComposeMessageActivity$SoloAlertDialog;->needShow()Z

    move-result v10

    if-nez v10, :cond_14

    .line 3863
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSoloAlertDialog:Lcom/android/mms/ui/ComposeMessageActivity$SoloAlertDialog;

    invoke-virtual {v10}, Lcom/android/mms/ui/ComposeMessageActivity$SoloAlertDialog;->dismiss()V

    .line 3867
    :cond_14
    const/4 v10, 0x0

    iput-boolean v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsSameConv:Z

    .line 3868
    const-string v10, "Mms/compose"

    const-string v11, "onNewIntent not same thread"

    invoke-static {v10, v11}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_4
.end method

.method public onOptionsItemSelected(Landroid/view/MenuItem;)Z
    .locals 10
    .parameter "item"

    .prologue
    const/16 v9, 0x6c

    const/4 v8, 0x0

    const/4 v7, 0x1

    .line 5081
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->onIpMsgOptionsItemSelected(Landroid/view/MenuItem;)V

    .line 5082
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v6, p1}, Lcom/mediatek/mms/ext/IMmsCompose;->onOptionsItemSelected(Landroid/view/MenuItem;)Z

    .line 5083
    invoke-interface {p1}, Landroid/view/MenuItem;->getItemId()I

    move-result v6

    sparse-switch v6, :sswitch_data_0

    .line 5232
    const-string v6, "Mms/compose"

    const-string v8, "unkown option."

    invoke-static {v6, v8}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 5236
    :cond_0
    :goto_0
    return v7

    .line 5085
    :sswitch_0
    invoke-direct {p0, v7}, Lcom/android/mms/ui/ComposeMessageActivity;->showSubjectEditor(Z)V

    .line 5086
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    const-string v8, ""

    invoke-virtual {v6, v8, v7}, Lcom/android/mms/data/WorkingMessage;->setSubject(Ljava/lang/CharSequence;Z)V

    .line 5088
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mInputMethodManager:Landroid/view/inputmethod/InputMethodManager;

    invoke-virtual {p0}, Landroid/app/Activity;->getCurrentFocus()Landroid/view/View;

    move-result-object v8

    invoke-virtual {v6, v8, v7}, Landroid/view/inputmethod/InputMethodManager;->showSoftInput(Landroid/view/View;I)Z

    .line 5090
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    .line 5091
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    invoke-virtual {v6}, Landroid/view/View;->requestFocus()Z

    goto :goto_0

    .line 5096
    :sswitch_1
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideInputMethod()V

    .line 5100
    const/4 v6, 0x5

    invoke-static {v6}, Lcom/android/mms/MmsPluginManager;->getMmsPluginObject(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;

    .line 5103
    .local v4, mMmsAttachmentEnhancePlugin:Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;
    if-eqz v4, :cond_3

    .line 5104
    invoke-interface {v4}, Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;->isSupportAttachmentEnhance()Z

    move-result v6

    if-eqz v6, :cond_1

    .line 5106
    invoke-direct {p0, v7}, Lcom/android/mms/ui/ComposeMessageActivity;->showAddAttachmentDialog(Z)V

    .line 5107
    const-string v6, "Mms/compose"

    const-string v8, "Attach: showAddAttachmentDialog(true)"

    invoke-static {v6, v8}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0

    .line 5110
    :cond_1
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v6}, Lcom/android/mms/data/WorkingMessage;->hasAttachedFiles()Z

    move-result v6

    if-nez v6, :cond_2

    move v6, v7

    :goto_1
    invoke-direct {p0, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->showAddAttachmentDialog(Z)V

    .line 5111
    const-string v6, "Mms/compose"

    const-string v8, "Attach: showAddAttachmentDialog(!mWorkingMessage.hasAttachedFiles())"

    invoke-static {v6, v8}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0

    :cond_2
    move v6, v8

    .line 5110
    goto :goto_1

    .line 5114
    :cond_3
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v6}, Lcom/android/mms/data/WorkingMessage;->hasAttachedFiles()Z

    move-result v6

    if-nez v6, :cond_4

    move v8, v7

    :cond_4
    invoke-direct {p0, v8}, Lcom/android/mms/ui/ComposeMessageActivity;->showAddAttachmentDialog(Z)V

    .line 5115
    const-string v6, "Mms/compose"

    const-string v8, "attach: showAddAttachmentDialog(true)"

    invoke-static {v6, v8}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0

    .line 5122
    .end local v4           #mMmsAttachmentEnhancePlugin:Lcom/mediatek/mms/ext/IMmsAttachmentEnhance;
    :sswitch_2
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->showQuickTextDialog()V

    goto :goto_0

    .line 5127
    :sswitch_3
    new-instance v1, Landroid/content/Intent;

    const-string v6, "android.intent.action.contacts.list.PICKMULTICONTACTS"

    invoke-direct {v1, v6}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 5128
    .local v1, intent:Landroid/content/Intent;
    const-string v6, "vnd.android.cursor.dir/contact"

    invoke-virtual {v1, v6}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 5129
    const/16 v6, 0x16

    invoke-virtual {p0, v1, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V

    goto :goto_0

    .line 5134
    .end local v1           #intent:Landroid/content/Intent;
    :sswitch_4
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v6}, Lcom/android/mms/data/WorkingMessage;->discard()V

    .line 5135
    invoke-virtual {p0}, Landroid/app/Activity;->finish()V

    goto/16 :goto_0

    .line 5138
    :sswitch_5
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isPreparedForSending()Z

    move-result v6

    if-eqz v6, :cond_0

    .line 5140
    iput-boolean v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowUnreadDivider:Z

    .line 5143
    invoke-direct {p0, v8}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState(Z)V

    .line 5144
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->checkRecipientsCount()V

    .line 5145
    iput-boolean v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonCanResponse:Z

    goto/16 :goto_0

    .line 5150
    :sswitch_6
    invoke-virtual {p0}, Landroid/app/Activity;->onSearchRequested()Z

    goto/16 :goto_0

    .line 5154
    :sswitch_7
    new-instance v2, Landroid/content/Intent;

    const-class v6, Lcom/android/mms/ui/MultiDeleteActivity;

    invoke-direct {v2, p0, v6}, Landroid/content/Intent;-><init>(Landroid/content/Context;Ljava/lang/Class;)V

    .line 5155
    .local v2, it:Landroid/content/Intent;
    const-string v6, "thread_id"

    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v8}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v8

    invoke-virtual {v2, v6, v8, v9}, Landroid/content/Intent;->putExtra(Ljava/lang/String;J)Landroid/content/Intent;

    .line 5156
    const/16 v6, 0x6e

    invoke-virtual {p0, v2, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V

    goto/16 :goto_0

    .line 5161
    .end local v2           #it:Landroid/content/Intent;
    :sswitch_8
    iput-boolean v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCheckObsolete:Z

    .line 5162
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v8}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v8

    invoke-virtual {v6, v8, v9}, Lcom/android/mms/data/Conversation;->setDiscardThreadId(J)V

    .line 5164
    :sswitch_9
    new-instance v6, Lcom/android/mms/ui/ComposeMessageActivity$43;

    invoke-direct {v6, p0}, Lcom/android/mms/ui/ComposeMessageActivity$43;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-direct {p0, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->exitComposeMessageActivity(Ljava/lang/Runnable;)V

    goto/16 :goto_0

    .line 5172
    :sswitch_a
    invoke-static {v8}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;

    move-result-object v6

    invoke-direct {p0, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->dialRecipient(Ljava/lang/Boolean;)V

    goto/16 :goto_0

    .line 5176
    :sswitch_b
    invoke-static {v7}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;

    move-result-object v6

    invoke-direct {p0, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->dialRecipient(Ljava/lang/Boolean;)V

    goto/16 :goto_0

    .line 5180
    :sswitch_c
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->showSmileyDialog()V

    goto/16 :goto_0

    .line 5184
    :sswitch_d
    new-instance v1, Landroid/content/Intent;

    const-class v6, Lcom/android/mms/ui/RecipientListActivity;

    invoke-direct {v1, p0, v6}, Landroid/content/Intent;-><init>(Landroid/content/Context;Ljava/lang/Class;)V

    .line 5185
    .restart local v1       #intent:Landroid/content/Intent;
    const-string v6, "thread_id"

    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v8}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v8

    invoke-virtual {v1, v6, v8, v9}, Landroid/content/Intent;->putExtra(Ljava/lang/String;J)Landroid/content/Intent;

    .line 5186
    const/16 v6, 0x82

    invoke-virtual {p0, v1, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V

    goto/16 :goto_0

    .line 5191
    .end local v1           #intent:Landroid/content/Intent;
    :sswitch_e
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v3

    .line 5192
    .local v3, list:Lcom/android/mms/data/ContactList;
    invoke-virtual {v3}, Ljava/util/ArrayList;->size()I

    move-result v6

    if-ne v6, v7, :cond_0

    invoke-virtual {v3, v8}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Lcom/android/mms/data/Contact;

    invoke-virtual {v6}, Lcom/android/mms/data/Contact;->existsInDatabase()Z

    move-result v6

    if-eqz v6, :cond_0

    .line 5193
    invoke-virtual {v3, v8}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Lcom/android/mms/data/Contact;

    invoke-virtual {v6}, Lcom/android/mms/data/Contact;->getUri()Landroid/net/Uri;

    move-result-object v0

    .line 5194
    .local v0, contactUri:Landroid/net/Uri;
    new-instance v1, Landroid/content/Intent;

    const-string v6, "android.intent.action.VIEW"

    invoke-direct {v1, v6, v0}, Landroid/content/Intent;-><init>(Ljava/lang/String;Landroid/net/Uri;)V

    .line 5195
    .restart local v1       #intent:Landroid/content/Intent;
    const/high16 v6, 0x8

    invoke-virtual {v1, v6}, Landroid/content/Intent;->setFlags(I)Landroid/content/Intent;

    .line 5196
    invoke-virtual {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivity(Landroid/content/Intent;)V

    goto/16 :goto_0

    .line 5201
    .end local v0           #contactUri:Landroid/net/Uri;
    .end local v1           #intent:Landroid/content/Intent;
    .end local v3           #list:Lcom/android/mms/data/ContactList;
    :sswitch_f
    invoke-interface {p1}, Landroid/view/MenuItem;->getIntent()Landroid/content/Intent;

    move-result-object v6

    iput-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAddContactIntent:Landroid/content/Intent;

    .line 5202
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAddContactIntent:Landroid/content/Intent;

    invoke-virtual {p0, v6, v9}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V

    goto/16 :goto_0

    .line 5205
    :sswitch_10
    const/4 v5, 0x0

    .line 5206
    .local v5, settingIntent:Landroid/content/Intent;
    invoke-static {}, Lcom/android/mms/MmsConfig;->isSupportTabSetting()Z

    move-result v6

    if-eqz v6, :cond_5

    .line 5207
    new-instance v5, Landroid/content/Intent;

    .end local v5           #settingIntent:Landroid/content/Intent;
    const-class v6, Lcom/android/mms/ui/MessageTabSettingActivity;

    invoke-direct {v5, p0, v6}, Landroid/content/Intent;-><init>(Landroid/content/Context;Ljava/lang/Class;)V

    .line 5211
    .restart local v5       #settingIntent:Landroid/content/Intent;
    :goto_2
    const/4 v6, -0x1

    invoke-virtual {p0, v5, v6}, Landroid/app/Activity;->startActivityIfNeeded(Landroid/content/Intent;I)Z

    goto/16 :goto_0

    .line 5209
    :cond_5
    new-instance v5, Landroid/content/Intent;

    .end local v5           #settingIntent:Landroid/content/Intent;
    const-class v6, Lcom/android/mms/ui/SettingListActivity;

    invoke-direct {v5, p0, v6}, Landroid/content/Intent;-><init>(Landroid/content/Context;Ljava/lang/Class;)V

    .restart local v5       #settingIntent:Landroid/content/Intent;
    goto :goto_2

    .line 5215
    .end local v5           #settingIntent:Landroid/content/Intent;
    :sswitch_11
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v6}, Lcom/android/mms/data/WorkingMessage;->dump()V

    .line 5216
    invoke-static {}, Lcom/android/mms/data/Conversation;->dump()V

    .line 5217
    invoke-static {p0}, Lcom/android/mms/LogTag;->dumpInternalTables(Landroid/content/Context;)V

    goto/16 :goto_0

    .line 5220
    :sswitch_12
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v6

    invoke-virtual {v6, v8}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Lcom/android/mms/data/Contact;

    invoke-virtual {v6}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v6

    invoke-static {v6}, Lcom/android/mms/ui/ConversationList;->createAddContactIntent(Ljava/lang/String;)Landroid/content/Intent;

    move-result-object v6

    iput-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAddContactIntent:Landroid/content/Intent;

    .line 5221
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAddContactIntent:Landroid/content/Intent;

    invoke-virtual {p0, v6, v9}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V

    goto/16 :goto_0

    .line 5227
    :sswitch_13
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideInputMethod()V

    .line 5228
    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQuickContact:Lcom/android/mms/ui/MmsQuickContactBadge;

    iget-object v8, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mActionBarCustomView:Landroid/view/View;

    invoke-virtual {v6, v8}, Lcom/android/mms/ui/MmsQuickContactBadge;->onClick(Landroid/view/View;)V

    goto/16 :goto_0

    .line 5083
    nop

    :sswitch_data_0
    .sparse-switch
        0x0 -> :sswitch_0
        0x1 -> :sswitch_7
        0x2 -> :sswitch_1
        0x3 -> :sswitch_4
        0x4 -> :sswitch_5
        0x5 -> :sswitch_a
        0x6 -> :sswitch_9
        0x7 -> :sswitch_11
        0x8 -> :sswitch_2
        0x9 -> :sswitch_3
        0xa -> :sswitch_b
        0xc -> :sswitch_e
        0xd -> :sswitch_12
        0x13 -> :sswitch_6
        0x1a -> :sswitch_c
        0x1b -> :sswitch_f
        0x1f -> :sswitch_10
        0x20 -> :sswitch_d
        0x79 -> :sswitch_13
        0x7a -> :sswitch_13
        0x102002c -> :sswitch_8
    .end sparse-switch
.end method

.method protected onPause()V
    .locals 5

    .prologue
    const/4 v4, 0x1

    const/4 v3, 0x0

    .line 4242
    invoke-super {p0}, Landroid/app/Activity;->onPause()V

    .line 4245
    invoke-virtual {p0}, Landroid/app/Activity;->isFinishing()Z

    move-result v0

    if-eqz v0, :cond_0

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v0

    if-nez v0, :cond_0

    invoke-static {}, Lcom/android/mms/MmsConfig;->getMmsDirMode()Z

    move-result v0

    if-nez v0, :cond_0

    .line 4246
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0, v3}, Lcom/android/mms/data/Conversation;->blockMarkAsRead(Z)V

    .line 4247
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->markAsRead()V

    .line 4250
    :cond_0
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDrawBottomPanel:Z

    .line 4257
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsShowSIMIndicator:Z

    .line 4258
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mStatusBarManager:Lcom/mediatek/encapsulation/android/app/EncapsulatedStatusBarManager;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mComponentName:Landroid/content/ComponentName;

    invoke-virtual {v0, v1}, Lcom/mediatek/encapsulation/android/app/EncapsulatedStatusBarManager;->hideSIMIndicator(Landroid/content/ComponentName;)V

    .line 4261
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->removeRecipientsListeners()V

    .line 4264
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAsyncDialog:Lcom/android/mms/ui/AsyncDialog;

    if-eqz v0, :cond_1

    .line 4265
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAsyncDialog:Lcom/android/mms/ui/AsyncDialog;

    invoke-virtual {v0}, Lcom/android/mms/ui/AsyncDialog;->clearPendingProgressDialog()V

    .line 4268
    :cond_1
    const-wide/16 v0, -0x2

    invoke-static {v0, v1}, Lcom/android/mms/transaction/MessagingNotification;->setCurrentlyDisplayedThreadId(J)V

    .line 4272
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    if-eqz v0, :cond_4

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v0}, Landroid/widget/AdapterView;->getLastVisiblePosition()I

    move-result v0

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v1}, Landroid/widget/CursorAdapter;->getCount()I

    move-result v1

    add-int/lit8 v1, v1, -0x1

    if-lt v0, v1, :cond_4

    .line 4274
    const v0, 0x7fffffff

    iput v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSavedScrollPosition:I

    .line 4278
    :goto_0
    const-string v0, "Mms:app"

    const/4 v1, 0x2

    invoke-static {v0, v1}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v0

    if-eqz v0, :cond_2

    .line 4279
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "onPause: mSavedScrollPosition="

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    iget v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSavedScrollPosition:I

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 4282
    :cond_2
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsRunning:Z

    .line 4283
    iput-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mErrorDialogShown:Z

    .line 4286
    invoke-static {p0, p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->removeIpMsgNotificationListeners(Landroid/content/Context;Lcom/mediatek/mms/ipmessage/INotificationsListener;)V

    .line 4287
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-nez v0, :cond_3

    .line 4288
    const-string v0, "Mms/noti"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "onPause(): exit Chat Mode. number = "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4289
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getChatManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ChatManager;

    move-result-object v0

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v0, v1}, Lcom/mediatek/mms/ipmessage/ChatManager;->exitFromChatMode(Ljava/lang/String;)V

    .line 4293
    :cond_3
    invoke-static {}, Lcom/android/mms/transaction/MessagingNotification;->stopInConversationNotificationSound()V

    .line 4296
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->checkObsoleteThreadId()V

    .line 4297
    return-void

    .line 4276
    :cond_4
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v0}, Landroid/widget/AdapterView;->getFirstVisiblePosition()I

    move-result v0

    iput v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSavedScrollPosition:I

    goto :goto_0
.end method

.method public onPreMessageSent()V
    .locals 1

    .prologue
    .line 4838
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mResetMessageRunnable:Ljava/lang/Runnable;

    invoke-virtual {p0, v0}, Landroid/app/Activity;->runOnUiThread(Ljava/lang/Runnable;)V

    .line 4839
    return-void
.end method

.method public onPreMmsSent()V
    .locals 2

    .prologue
    .line 10164
    const/16 v0, 0x2537

    const/4 v1, 0x0

    invoke-direct {p0, v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->startMsgListQuery(II)V

    .line 10165
    return-void
.end method

.method public onPrepareOptionsMenu(Landroid/view/Menu;)Z
    .locals 14
    .parameter "menu"

    .prologue
    .line 4920
    invoke-super {p0, p1}, Landroid/app/Activity;->onPrepareOptionsMenu(Landroid/view/Menu;)Z

    .line 4922
    invoke-interface {p1}, Landroid/view/Menu;->clear()V

    .line 4924
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v9

    invoke-virtual {v9}, Ljava/util/ArrayList;->size()I

    move-result v9

    const/4 v10, 0x1

    if-le v9, v10, :cond_0

    .line 4925
    const/4 v9, 0x0

    const/16 v10, 0x20

    const/4 v11, 0x0

    const v12, 0x7f0b0340

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIII)Landroid/view/MenuItem;

    .line 4928
    :cond_0
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v9}, Lcom/android/mms/data/WorkingMessage;->hasSlideshow()Z

    move-result v9

    if-eqz v9, :cond_1

    .line 4929
    const/4 v9, 0x0

    const/4 v10, 0x2

    const/4 v11, 0x0

    const v12, 0x7f0b025f

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIII)Landroid/view/MenuItem;

    .line 4931
    :cond_1
    invoke-static {p0}, Lcom/android/mms/MmsConfig;->getIpMessagServiceId(Landroid/content/Context;)I

    move-result v7

    .line 4933
    .local v7, serviceId:I
    if-eqz v7, :cond_f

    const/4 v3, 0x1

    .line 4935
    .local v3, hasIpMsgApk:Z
    :goto_0
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isCurrentRecipientIpMessageUser()Z

    move-result v4

    .line 4937
    .local v4, hasIpMsgUser:Z
    invoke-static {p0}, Lcom/android/mms/MmsConfig;->isActivated(Landroid/content/Context;)Z

    move-result v2

    .line 4939
    .local v2, hasActivatedHost:Z
    if-eqz v4, :cond_10

    if-eqz v2, :cond_10

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v9

    if-nez v9, :cond_10

    .line 4940
    const/4 v9, 0x0

    const/16 v10, 0x64

    const/4 v11, 0x0

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v12

    const/16 v13, 0xcd

    invoke-virtual {v12, v13}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v12

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIILjava/lang/CharSequence;)Landroid/view/MenuItem;

    .line 4949
    :cond_2
    :goto_1
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v9

    if-nez v9, :cond_6

    .line 4950
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v9

    invoke-virtual {v9}, Ljava/util/ArrayList;->size()I

    move-result v9

    const/4 v10, 0x1

    if-ne v9, v10, :cond_3

    .line 4951
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v9

    const/4 v10, 0x0

    invoke-virtual {v9, v10}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/mms/data/Contact;

    .line 4952
    .local v1, contact:Lcom/android/mms/data/Contact;
    invoke-virtual {v1}, Lcom/android/mms/data/Contact;->existsInDatabase()Z

    move-result v9

    if-eqz v9, :cond_11

    .line 4953
    const/4 v9, 0x0

    const/16 v10, 0x79

    const/4 v11, 0x0

    const v12, 0x7f0b0292

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIII)Landroid/view/MenuItem;

    move-result-object v9

    const v10, 0x7f0200c4

    invoke-interface {v9, v10}, Landroid/view/MenuItem;->setIcon(I)Landroid/view/MenuItem;

    move-result-object v9

    const v10, 0x7f0b0292

    invoke-interface {v9, v10}, Landroid/view/MenuItem;->setTitle(I)Landroid/view/MenuItem;

    move-result-object v9

    const/4 v10, 0x2

    invoke-interface {v9, v10}, Landroid/view/MenuItem;->setShowAsAction(I)V

    .line 4957
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQuickContact:Lcom/android/mms/ui/MmsQuickContactBadge;

    invoke-virtual {v1}, Lcom/android/mms/data/Contact;->getUri()Landroid/net/Uri;

    move-result-object v10

    invoke-virtual {v9, v10}, Landroid/widget/QuickContactBadge;->assignContactUri(Landroid/net/Uri;)V

    .line 4972
    .end local v1           #contact:Lcom/android/mms/data/Contact;
    :cond_3
    :goto_2
    const/4 v9, 0x0

    const/16 v10, 0x65

    const/4 v11, 0x0

    const v12, 0x7f0b0108

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIII)Landroid/view/MenuItem;

    .line 4973
    if-eqz v2, :cond_4

    .line 4974
    const-string v9, "Mms/ipmsg/compose"

    new-instance v10, Ljava/lang/StringBuilder;

    invoke-direct {v10}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "onPrepareOptionsMenu(): spam = "

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v10

    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v11}, Lcom/android/mms/data/Conversation;->isSpam()Z

    move-result v11

    invoke-virtual {v10, v11}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    invoke-static {v9, v10}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4975
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v9}, Lcom/android/mms/data/Conversation;->isSpam()Z

    move-result v9

    if-eqz v9, :cond_13

    .line 4976
    const/4 v9, 0x0

    const/16 v10, 0x67

    const/4 v11, 0x0

    const v12, 0x7f0b015f

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIII)Landroid/view/MenuItem;

    .line 4981
    :cond_4
    :goto_3
    const/4 v9, 0x0

    const/16 v10, 0x68

    const/4 v11, 0x0

    const v12, 0x7f0b0160

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIII)Landroid/view/MenuItem;

    .line 4982
    if-eqz v2, :cond_6

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v9}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v9

    const-wide/16 v11, 0x0

    cmp-long v9, v9, v11

    if-lez v9, :cond_6

    .line 4983
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getServiceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ServiceManager;

    move-result-object v9

    const/4 v10, 0x6

    invoke-virtual {v9, v10}, Lcom/mediatek/mms/ipmessage/ServiceManager;->isFeatureSupported(I)Z

    move-result v9

    if-eqz v9, :cond_5

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getChatManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ChatManager;

    move-result-object v9

    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v10}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v10

    const/16 v12, 0x230

    invoke-virtual {v9, v10, v11, v12}, Lcom/mediatek/mms/ipmessage/ChatManager;->getIpMessageCountOfTypeInThread(JI)I

    move-result v9

    if-lez v9, :cond_5

    .line 4987
    const/4 v9, 0x0

    const/16 v10, 0x69

    const/4 v11, 0x0

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v12

    const/16 v13, 0xce

    invoke-virtual {v12, v13}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v12

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIILjava/lang/CharSequence;)Landroid/view/MenuItem;

    .line 4991
    :cond_5
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getServiceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ServiceManager;

    move-result-object v9

    const/4 v10, 0x5

    invoke-virtual {v9, v10}, Lcom/mediatek/mms/ipmessage/ServiceManager;->isFeatureSupported(I)Z

    move-result v9

    if-eqz v9, :cond_6

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getChatManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ChatManager;

    move-result-object v9

    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v10}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v10

    const/16 v12, 0x80

    invoke-virtual {v9, v10, v11, v12}, Lcom/mediatek/mms/ipmessage/ChatManager;->getIpMessageCountOfTypeInThread(JI)I

    move-result v9

    if-lez v9, :cond_6

    .line 4994
    const/4 v9, 0x0

    const/16 v10, 0x6a

    const/4 v11, 0x0

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v12

    const/16 v13, 0xcf

    invoke-virtual {v12, v13}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v12

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIILjava/lang/CharSequence;)Landroid/view/MenuItem;

    .line 5002
    :cond_6
    const-string v9, "phone"

    invoke-virtual {p0, v9}, Landroid/app/Activity;->getSystemService(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v8

    check-cast v8, Landroid/telephony/TelephonyManager;

    .line 5003
    .local v8, telephony:Landroid/telephony/TelephonyManager;
    if-eqz v8, :cond_7

    invoke-virtual {v8}, Landroid/telephony/TelephonyManager;->isVoiceCapable()Z

    move-result v9

    if-eqz v9, :cond_7

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientCallable()Z

    move-result v9

    if-eqz v9, :cond_7

    .line 5004
    const/4 v9, 0x0

    const/4 v10, 0x5

    const/4 v11, 0x0

    const v12, 0x7f0b0234

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIII)Landroid/view/MenuItem;

    move-result-object v9

    const v10, 0x7f0200b4

    invoke-interface {v9, v10}, Landroid/view/MenuItem;->setIcon(I)Landroid/view/MenuItem;

    move-result-object v9

    const v10, 0x7f0b0234

    invoke-interface {v9, v10}, Landroid/view/MenuItem;->setTitle(I)Landroid/view/MenuItem;

    move-result-object v5

    .line 5007
    .local v5, item:Landroid/view/MenuItem;
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v9

    if-nez v9, :cond_7

    .line 5009
    const/4 v9, 0x2

    invoke-interface {v5, v9}, Landroid/view/MenuItem;->setShowAsAction(I)V

    .line 5019
    .end local v5           #item:Landroid/view/MenuItem;
    :cond_7
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v9}, Lcom/android/mms/data/WorkingMessage;->hasSlideshow()Z

    move-result v9

    if-eqz v9, :cond_8

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    if-eqz v9, :cond_9

    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    invoke-virtual {v9}, Landroid/view/View;->isFocused()Z

    move-result v9

    if-eqz v9, :cond_9

    .line 5020
    :cond_8
    const/4 v9, 0x0

    const/16 v10, 0x8

    const/4 v11, 0x0

    const v12, 0x7f0b0217

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIII)Landroid/view/MenuItem;

    move-result-object v9

    const v10, 0x7f0200c3

    invoke-interface {v9, v10}, Landroid/view/MenuItem;->setIcon(I)Landroid/view/MenuItem;

    .line 5026
    :cond_9
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v9}, Lcom/android/mms/data/WorkingMessage;->hasSlideshow()Z

    move-result v9

    if-nez v9, :cond_a

    if-nez v3, :cond_a

    .line 5027
    const/4 v9, 0x0

    const/16 v10, 0x9

    const/4 v11, 0x0

    const v12, 0x7f0b007b

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIII)Landroid/view/MenuItem;

    .line 5031
    :cond_a
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isSubjectEditorVisible()Z

    move-result v9

    if-nez v9, :cond_b

    .line 5032
    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    const v12, 0x7f0b0260

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIII)Landroid/view/MenuItem;

    move-result-object v9

    const v10, 0x7f0200b9

    invoke-interface {v9, v10}, Landroid/view/MenuItem;->setIcon(I)Landroid/view/MenuItem;

    .line 5034
    :cond_b
    if-nez v3, :cond_c

    .line 5035
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->buildAddAddressToContactMenuItem(Landroid/view/Menu;)V

    .line 5042
    :cond_c
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v9

    if-nez v9, :cond_d

    .line 5043
    const/4 v9, 0x0

    const/16 v10, 0x89

    const/4 v11, 0x0

    const v12, 0x7f0b019b

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIII)Landroid/view/MenuItem;

    move-result-object v9

    const v10, 0x1080049

    invoke-interface {v9, v10}, Landroid/view/MenuItem;->setIcon(I)Landroid/view/MenuItem;

    .line 5046
    invoke-static {}, Lcom/android/mms/MmsConfig;->isSupportCTFeature()Z

    move-result v9

    if-eqz v9, :cond_d

    .line 5047
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v9}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v0

    .line 5048
    .local v0, cl:Lcom/android/mms/data/ContactList;
    if-eqz v0, :cond_d

    invoke-virtual {v0}, Ljava/util/ArrayList;->size()I

    move-result v9

    const/4 v10, 0x1

    if-le v9, v10, :cond_d

    .line 5049
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-static {}, Lcom/android/mms/ui/ComposeMessageActivity;->getComposeContext()Landroid/app/Activity;

    move-result-object v10

    iget-object v11, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v11}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v11

    invoke-interface {v9, p1, v10, v11, v12}, Lcom/mediatek/mms/ext/IMmsCompose;->addSplitThreadOptionMenu(Landroid/view/Menu;Landroid/app/Activity;J)V

    .line 5055
    .end local v0           #cl:Lcom/android/mms/data/ContactList;
    :cond_d
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v9

    if-eqz v9, :cond_e

    .line 5056
    const/4 v9, 0x0

    const/4 v10, 0x3

    const/4 v11, 0x0

    const v12, 0x7f0b0261

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIII)Landroid/view/MenuItem;

    move-result-object v9

    const v10, 0x108003c

    invoke-interface {v9, v10}, Landroid/view/MenuItem;->setIcon(I)Landroid/view/MenuItem;

    .line 5060
    :cond_e
    const/4 v9, 0x1

    return v9

    .line 4933
    .end local v2           #hasActivatedHost:Z
    .end local v3           #hasIpMsgApk:Z
    .end local v4           #hasIpMsgUser:Z
    .end local v8           #telephony:Landroid/telephony/TelephonyManager;
    :cond_f
    const/4 v3, 0x0

    goto/16 :goto_0

    .line 4943
    .restart local v2       #hasActivatedHost:Z
    .restart local v3       #hasIpMsgApk:Z
    .restart local v4       #hasIpMsgUser:Z
    :cond_10
    if-nez v4, :cond_2

    iget-boolean v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpServiceEnabled:Z

    if-eqz v9, :cond_2

    iget-boolean v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowInviteMsg:Z

    if-eqz v9, :cond_2

    .line 4944
    const/4 v9, 0x0

    const/16 v10, 0x6b

    const/4 v11, 0x0

    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v12

    const/16 v13, 0xed

    invoke-virtual {v12, v13}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v12

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIILjava/lang/CharSequence;)Landroid/view/MenuItem;

    goto/16 :goto_1

    .line 4958
    .restart local v1       #contact:Lcom/android/mms/data/Contact;
    :cond_11
    invoke-static {v1}, Lcom/android/mms/ui/MessageUtils;->canAddToContacts(Lcom/android/mms/data/Contact;)Z

    move-result v9

    if-eqz v9, :cond_3

    .line 4959
    const/4 v9, 0x0

    const/16 v10, 0x7a

    const/4 v11, 0x0

    const v12, 0x7f0b0293

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIII)Landroid/view/MenuItem;

    move-result-object v9

    const v10, 0x7f0200c4

    invoke-interface {v9, v10}, Landroid/view/MenuItem;->setIcon(I)Landroid/view/MenuItem;

    move-result-object v9

    const v10, 0x7f0b0293

    invoke-interface {v9, v10}, Landroid/view/MenuItem;->setTitle(I)Landroid/view/MenuItem;

    move-result-object v9

    const/4 v10, 0x2

    invoke-interface {v9, v10}, Landroid/view/MenuItem;->setShowAsAction(I)V

    .line 4963
    invoke-virtual {v1}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v6

    .line 4964
    .local v6, number:Ljava/lang/String;
    invoke-static {v6}, Landroid/provider/Telephony$Mms;->isEmailAddress(Ljava/lang/String;)Z

    move-result v9

    if-eqz v9, :cond_12

    .line 4965
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQuickContact:Lcom/android/mms/ui/MmsQuickContactBadge;

    const/4 v10, 0x1

    invoke-virtual {v9, v6, v10}, Landroid/widget/QuickContactBadge;->assignContactFromEmail(Ljava/lang/String;Z)V

    goto/16 :goto_2

    .line 4967
    :cond_12
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mQuickContact:Lcom/android/mms/ui/MmsQuickContactBadge;

    const/4 v10, 0x1

    invoke-virtual {v9, v6, v10}, Landroid/widget/QuickContactBadge;->assignContactFromPhone(Ljava/lang/String;Z)V

    goto/16 :goto_2

    .line 4978
    .end local v1           #contact:Lcom/android/mms/data/Contact;
    .end local v6           #number:Ljava/lang/String;
    :cond_13
    const/4 v9, 0x0

    const/16 v10, 0x66

    const/4 v11, 0x0

    const v12, 0x7f0b015d

    invoke-interface {p1, v9, v10, v11, v12}, Landroid/view/Menu;->add(IIII)Landroid/view/MenuItem;

    goto/16 :goto_3
.end method

.method public onProtocolChanged(ZZ)V
    .locals 1
    .parameter "mms"
    .parameter "needToast"

    .prologue
    .line 4738
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$38;

    invoke-direct {v0, p0, p1, p2}, Lcom/android/mms/ui/ComposeMessageActivity$38;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;ZZ)V

    invoke-virtual {p0, v0}, Landroid/app/Activity;->runOnUiThread(Ljava/lang/Runnable;)V

    .line 4763
    return-void
.end method

.method protected onRestart()V
    .locals 2

    .prologue
    .line 3903
    invoke-super {p0}, Landroid/app/Activity;->onRestart()V

    .line 3906
    const/4 v0, 0x0

    sput-object v0, Lcom/android/mms/ui/ComposeMessageActivity;->sCompose:Ljava/lang/ref/WeakReference;

    .line 3907
    new-instance v0, Ljava/lang/ref/WeakReference;

    invoke-direct {v0, p0}, Ljava/lang/ref/WeakReference;-><init>(Ljava/lang/Object;)V

    sput-object v0, Lcom/android/mms/ui/ComposeMessageActivity;->sCompose:Ljava/lang/ref/WeakReference;

    .line 3910
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->isDiscarded()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 3916
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->unDiscard()V

    .line 3917
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0}, Lcom/android/mms/data/WorkingMessage;->isWorthSaving()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 3923
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->sanityCheckConversation()V

    .line 3943
    :cond_0
    :goto_0
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v0

    if-nez v0, :cond_1

    .line 3944
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->changeWallPaper()V

    .line 3947
    :cond_1
    return-void

    .line 3924
    :cond_2
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v0

    if-eqz v0, :cond_3

    .line 3928
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->goToConversationList()V

    goto :goto_0

    .line 3936
    :cond_3
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0, v1}, Lcom/android/mms/data/WorkingMessage;->setConversation(Lcom/android/mms/data/Conversation;)V

    .line 3937
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mAttachmentEditor:Lcom/android/mms/ui/AttachmentEditor;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v0, v1}, Lcom/android/mms/ui/AttachmentEditor;->update(Lcom/android/mms/data/WorkingMessage;)Z

    .line 3938
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateTextEditorHeightInFullScreen()V

    .line 3939
    invoke-virtual {p0}, Landroid/app/Activity;->invalidateOptionsMenu()V

    goto :goto_0
.end method

.method protected onResume()V
    .locals 8

    .prologue
    const/16 v7, 0x13

    const/4 v4, 0x2

    const/4 v6, 0x1

    const/4 v5, 0x0

    .line 4100
    iput-boolean v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowingContactPicker:Z

    .line 4102
    invoke-super {p0}, Landroid/app/Activity;->onResume()V

    .line 4104
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->getAsyncDialog()Lcom/android/mms/ui/AsyncDialog;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/mms/ui/AsyncDialog;->resetShowProgressDialog()V

    .line 4106
    invoke-virtual {p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v1

    invoke-virtual {v1}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;

    move-result-object v0

    .line 4107
    .local v0, config:Landroid/content/res/Configuration;
    const-string v1, "Mms/compose"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "onResume - config.orientation = "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget v3, v0, Landroid/content/res/Configuration;->orientation:I

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4108
    iget v1, v0, Landroid/content/res/Configuration;->orientation:I

    if-ne v1, v4, :cond_0

    .line 4109
    const-string v1, "Mms/compose"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "onResume Set setSoftInputMode to 0x"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-static {v7}, Ljava/lang/Integer;->toHexString(I)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 4112
    invoke-virtual {p0}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v1

    invoke-virtual {v1, v7}, Landroid/view/Window;->setSoftInputMode(I)V

    .line 4117
    :cond_0
    iput-boolean v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsShowSIMIndicator:Z

    .line 4118
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mStatusBarManager:Lcom/mediatek/encapsulation/android/app/EncapsulatedStatusBarManager;

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mComponentName:Landroid/content/ComponentName;

    invoke-virtual {v1, v2}, Lcom/mediatek/encapsulation/android/app/EncapsulatedStatusBarManager;->hideSIMIndicator(Landroid/content/ComponentName;)V

    .line 4119
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mStatusBarManager:Lcom/mediatek/encapsulation/android/app/EncapsulatedStatusBarManager;

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mComponentName:Landroid/content/ComponentName;

    const-string v3, "sms_sim_setting"

    invoke-virtual {v1, v2, v3}, Lcom/mediatek/encapsulation/android/app/EncapsulatedStatusBarManager;->showSIMIndicator(Landroid/content/ComponentName;Ljava/lang/String;)V

    .line 4123
    iput-boolean v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mClickCanResponse:Z

    .line 4127
    iput-boolean v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsEditingSlideshow:Z

    .line 4129
    iget-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDrawBottomPanel:Z

    if-eqz v1, :cond_1

    .line 4130
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->drawBottomPanel()V

    .line 4137
    :cond_1
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->addRecipientsListeners()V

    .line 4139
    const-string v1, "Mms:app"

    invoke-static {v1, v4}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v1

    if-eqz v1, :cond_2

    .line 4140
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "onResume: update title, mConversation="

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v2}, Lcom/android/mms/data/Conversation;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v1}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 4146
    :cond_2
    new-instance v1, Ljava/lang/Thread;

    new-instance v2, Lcom/android/mms/ui/ComposeMessageActivity$33;

    invoke-direct {v2, p0}, Lcom/android/mms/ui/ComposeMessageActivity$33;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-direct {v1, v2}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v1}, Ljava/lang/Thread;->start()V

    .line 4174
    iput-boolean v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsRunning:Z

    .line 4175
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateThreadIdIfRunning()V

    .line 4178
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v1, :cond_3

    .line 4179
    const-string v1, "Mms/compose"

    const-string v2, "show IpMsg saveIpMessageForAWhile"

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4180
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-direct {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->saveIpMessageForAWhile(Lcom/mediatek/mms/ipmessage/message/IpMessage;)V

    .line 4181
    iput-boolean v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSendButtonCanResponse:Z

    .line 4184
    :cond_3
    invoke-static {p0, p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->addIpMsgNotificationListeners(Landroid/content/Context;Lcom/mediatek/mms/ipmessage/INotificationsListener;)V

    .line 4185
    invoke-static {p0}, Lcom/android/mms/MmsConfig;->isServiceEnabled(Landroid/content/Context;)Z

    move-result v1

    iput-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpServiceEnabled:Z

    .line 4187
    const-string v1, "Mms/ipmsg/compose"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "onResume(): IpServiceEnabled = "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsIpServiceEnabled:Z

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, ", DefaultSimIpServiceEnabled = "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4189
    iget-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    if-eqz v1, :cond_f

    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->isNetworkConnected(Landroid/content/Context;)Z

    move-result v1

    if-eqz v1, :cond_f

    .line 4190
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v1}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v1

    const-wide/16 v3, 0x0

    cmp-long v1, v1, v3

    if-lez v1, :cond_4

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v1}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v1

    if-eqz v1, :cond_4

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v1}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v1

    invoke-virtual {v1}, Ljava/util/ArrayList;->size()I

    move-result v1

    if-ne v1, v6, :cond_4

    .line 4192
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v1}, Lcom/android/mms/data/Conversation;->getRecipients()Lcom/android/mms/data/ContactList;

    move-result-object v1

    invoke-virtual {v1, v5}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/mms/data/Contact;

    invoke-virtual {v1}, Lcom/android/mms/data/Contact;->getNumber()Ljava/lang/String;

    move-result-object v1

    iput-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    .line 4193
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getContactManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ContactManager;

    move-result-object v1

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v1, v2}, Lcom/mediatek/mms/ipmessage/ContactManager;->isIpMessageNumber(Ljava/lang/String;)Z

    move-result v1

    if-eqz v1, :cond_e

    .line 4194
    const-string v1, "Mms/noti"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "onResume(): enter Chat Mode. number = "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4196
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getChatManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ChatManager;

    move-result-object v1

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v1, v2}, Lcom/mediatek/mms/ipmessage/ChatManager;->enterChatMode(Ljava/lang/String;)V

    .line 4201
    :cond_4
    :goto_0
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getSettingsManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/SettingsManager;

    move-result-object v1

    invoke-virtual {v1}, Lcom/mediatek/mms/ipmessage/SettingsManager;->isCaptionOn()Z

    move-result v1

    iput-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    .line 4202
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getSettingsManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/SettingsManager;

    move-result-object v1

    invoke-virtual {v1}, Lcom/mediatek/mms/ipmessage/SettingsManager;->isPhotoCaptionOn()Z

    move-result v1

    iput-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImageCaptionOn:Z

    .line 4203
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getSettingsManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/SettingsManager;

    move-result-object v1

    invoke-virtual {v1}, Lcom/mediatek/mms/ipmessage/SettingsManager;->isVideoCaptionOn()Z

    move-result v1

    iput-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsVideoCaptionOn:Z

    .line 4204
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getSettingsManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/SettingsManager;

    move-result-object v1

    invoke-virtual {v1}, Lcom/mediatek/mms/ipmessage/SettingsManager;->isAudioCaptionOn()Z

    move-result v1

    iput-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsAudioCaptionOn:Z

    .line 4215
    :goto_1
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v1, :cond_8

    iget-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    if-eqz v1, :cond_8

    iget-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsAudioCaptionOn:Z

    if-eqz v1, :cond_5

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v1}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v1

    const/4 v2, 0x5

    if-eq v1, v2, :cond_7

    :cond_5
    iget-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImageCaptionOn:Z

    if-eqz v1, :cond_6

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v1}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v1

    const/4 v2, 0x4

    if-eq v1, v2, :cond_7

    :cond_6
    iget-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsVideoCaptionOn:Z

    if-eqz v1, :cond_8

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    invoke-virtual {v1}, Lcom/mediatek/mms/ipmessage/message/IpMessage;->getType()I

    move-result v1

    const/16 v2, 0x9

    if-ne v1, v2, :cond_8

    .line 4219
    :cond_7
    iput-boolean v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsEditingCaption:Z

    .line 4221
    :cond_8
    const-string v1, "Mms/ipmsg/compose"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "onResume(): mChatModeNumber = "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, ", mIsCaptionOn = "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, ", mIsImageCaptionOn = "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImageCaptionOn:Z

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, ", mIsVideoCaptionOn = "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsVideoCaptionOn:Z

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, ", mIsAudioCaptionOn = "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsAudioCaptionOn:Z

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 4226
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v1}, Lcom/mediatek/mms/ext/IMmsCompose;->hideCtSendPanel()Z

    .line 4227
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateSendButtonState()V

    .line 4228
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v1

    if-eqz v1, :cond_9

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v1}, Landroid/view/View;->hasFocus()Z

    move-result v1

    if-nez v1, :cond_b

    :cond_9
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isSubjectEditorVisible()Z

    move-result v1

    if-eqz v1, :cond_a

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSubjectTextEditor:Landroid/widget/EditText;

    invoke-virtual {v1}, Landroid/view/View;->hasFocus()Z

    move-result v1

    if-nez v1, :cond_b

    :cond_a
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    if-eqz v1, :cond_c

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v1}, Landroid/view/View;->getVisibility()I

    move-result v1

    if-nez v1, :cond_c

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v1}, Landroid/view/View;->hasFocus()Z

    move-result v1

    if-eqz v1, :cond_c

    .line 4231
    :cond_b
    invoke-direct {p0, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->showSharePanel(Z)V

    .line 4232
    invoke-direct {p0, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->showEmoticonPanel(Z)V

    .line 4235
    :cond_c
    iget-wide v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mOldThreadID:J

    const-wide/16 v3, -0x1

    cmp-long v1, v1, v3

    if-nez v1, :cond_d

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    if-eqz v1, :cond_d

    .line 4236
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v1}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v1

    iput-wide v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mOldThreadID:J

    .line 4238
    :cond_d
    return-void

    .line 4198
    :cond_e
    const-string v1, ""

    iput-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mChatModeNumber:Ljava/lang/String;

    goto/16 :goto_0

    .line 4210
    :cond_f
    iput-boolean v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCaptionOn:Z

    .line 4211
    iput-boolean v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsImageCaptionOn:Z

    .line 4212
    iput-boolean v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsVideoCaptionOn:Z

    .line 4213
    iput-boolean v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsAudioCaptionOn:Z

    goto/16 :goto_1
.end method

.method public onSaveInstanceState(Landroid/os/Bundle;)V
    .locals 7
    .parameter "outState"

    .prologue
    const/4 v2, 0x1

    .line 4059
    invoke-super {p0, p1}, Landroid/app/Activity;->onSaveInstanceState(Landroid/os/Bundle;)V

    .line 4062
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    if-eqz v1, :cond_4

    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v1

    if-eqz v1, :cond_4

    .line 4067
    iget-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCompressingImage:Z

    if-eqz v1, :cond_2

    .line 4068
    const-string v1, "thread"

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v3}, Lcom/android/mms/data/Conversation;->ensureThreadId()J

    move-result-wide v3

    invoke-virtual {p1, v1, v3, v4}, Landroid/os/Bundle;->putLong(Ljava/lang/String;J)V

    .line 4083
    :cond_0
    :goto_0
    const-string v1, "compressing_image"

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCompressingImage:Z

    invoke-virtual {p1, v1, v3}, Landroid/os/Bundle;->putBoolean(Ljava/lang/String;Z)V

    .line 4085
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1, p1}, Lcom/android/mms/data/WorkingMessage;->writeStateToBundle(Landroid/os/Bundle;)V

    .line 4087
    iget-boolean v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mExitOnSent:Z

    if-eqz v1, :cond_1

    .line 4088
    const-string v1, "exit_on_sent"

    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mExitOnSent:Z

    invoke-virtual {p1, v1, v3}, Landroid/os/Bundle;->putBoolean(Ljava/lang/String;Z)V

    .line 4091
    :cond_1
    const-string v3, "saved_ipmessage_draft"

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMessageDraft:Lcom/mediatek/mms/ipmessage/message/IpMessage;

    if-eqz v1, :cond_5

    move v1, v2

    :goto_1
    invoke-virtual {p1, v3, v1}, Landroid/os/Bundle;->putBoolean(Ljava/lang/String;Z)V

    .line 4093
    const-string v1, "cell_dialog_showing"

    iget-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsCellDialogShowing:Z

    invoke-virtual {p1, v1, v2}, Landroid/os/Bundle;->putBoolean(Ljava/lang/String;Z)V

    .line 4094
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->saveIpMessageDraft()V

    .line 4095
    return-void

    .line 4069
    :cond_2
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v1}, Lcom/android/mms/ui/RecipientsEditor;->getRecipientCount()I

    move-result v1

    if-ge v1, v2, :cond_3

    .line 4070
    const-string v1, "thread"

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v3}, Lcom/android/mms/data/Conversation;->ensureThreadId()J

    move-result-wide v3

    invoke-virtual {p1, v1, v3, v4}, Landroid/os/Bundle;->putLong(Ljava/lang/String;J)V

    .line 4071
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    if-eqz v1, :cond_0

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v1}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v3

    const-wide/16 v5, 0x0

    cmp-long v1, v3, v5

    if-lez v1, :cond_0

    .line 4072
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mBackgroundQueryHandler:Lcom/android/mms/ui/ComposeMessageActivity$BackgroundQueryHandler;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v3}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v3

    invoke-static {v1, v3, v4}, Lcom/android/mms/data/Conversation;->asyncDeleteObsoleteThreadID(Landroid/content/AsyncQueryHandler;J)V

    goto :goto_0

    .line 4074
    :cond_3
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v1}, Lcom/android/mms/ui/RecipientsEditor;->getRecipientCount()I

    move-result v1

    if-lez v1, :cond_0

    .line 4075
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    invoke-virtual {v1}, Lcom/android/mms/ui/RecipientsEditor;->getNumbers()Ljava/util/List;

    move-result-object v1

    check-cast v1, Ljava/util/ArrayList;

    move-object v0, v1

    check-cast v0, Ljava/util/ArrayList;

    .line 4076
    .local v0, numbers:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/String;>;"
    const-string v1, "recipients"

    const-string v3, ";"

    invoke-virtual {v0}, Ljava/util/ArrayList;->toArray()[Ljava/lang/Object;

    move-result-object v4

    invoke-static {v3, v4}, Landroid/text/TextUtils;->join(Ljava/lang/CharSequence;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {p1, v1, v3}, Landroid/os/Bundle;->putString(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0

    .line 4080
    .end local v0           #numbers:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/String;>;"
    :cond_4
    const-string v1, "thread"

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v3}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v3

    invoke-virtual {p1, v1, v3, v4}, Landroid/os/Bundle;->putLong(Ljava/lang/String;J)V

    .line 4081
    const-string v1, "Mms/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "saved thread id:"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    iget-object v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v4}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v4

    invoke-virtual {v3, v4, v5}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v1, v3}, Lcom/mediatek/encapsulation/MmsLog;->i(Ljava/lang/String;Ljava/lang/String;)V

    goto/16 :goto_0

    .line 4091
    :cond_5
    const/4 v1, 0x0

    goto/16 :goto_1
.end method

.method public onShutDown()V
    .locals 1

    .prologue
    .line 9726
    invoke-virtual {p0}, Landroid/app/Activity;->isFinishing()Z

    move-result v0

    if-nez v0, :cond_0

    .line 9727
    const/4 v0, 0x0

    invoke-direct {p0, v0}, Lcom/android/mms/ui/ComposeMessageActivity;->saveDraft(Z)V

    .line 9730
    :cond_0
    return-void
.end method

.method public onSimInforChanged()V
    .locals 6

    .prologue
    const-wide/16 v4, -0x5

    .line 10010
    const-string v0, "Mms"

    const-string v1, "onSimInforChanged(): Composer"

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->i(Ljava/lang/String;Ljava/lang/String;)V

    .line 10012
    invoke-virtual {p0}, Landroid/app/Activity;->isFinishing()Z

    move-result v0

    if-nez v0, :cond_0

    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsShowSIMIndicator:Z

    if-eqz v0, :cond_0

    .line 10013
    const-string v0, "Mms"

    const-string v1, "Hide current indicator and show new one."

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->i(Ljava/lang/String;Ljava/lang/String;)V

    .line 10014
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mStatusBarManager:Lcom/mediatek/encapsulation/android/app/EncapsulatedStatusBarManager;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mComponentName:Landroid/content/ComponentName;

    invoke-virtual {v0, v1}, Lcom/mediatek/encapsulation/android/app/EncapsulatedStatusBarManager;->hideSIMIndicator(Landroid/content/ComponentName;)V

    .line 10015
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mStatusBarManager:Lcom/mediatek/encapsulation/android/app/EncapsulatedStatusBarManager;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mComponentName:Landroid/content/ComponentName;

    const-string v2, "sms_sim_setting"

    invoke-virtual {v0, v1, v2}, Lcom/mediatek/encapsulation/android/app/EncapsulatedStatusBarManager;->showSIMIndicator(Landroid/content/ComponentName;Ljava/lang/String;)V

    .line 10018
    :cond_0
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v0

    const-string v1, "sms_sim_setting"

    invoke-static {v0, v1, v4, v5}, Lcom/mediatek/encapsulation/android/provider/EncapsulatedSettings$System;->getLong(Landroid/content/ContentResolver;Ljava/lang/String;J)J

    move-result-wide v0

    iput-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    .line 10021
    iget-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    const-wide/16 v2, -0x1

    cmp-long v0, v0, v2

    if-eqz v0, :cond_1

    iget-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    cmp-long v0, v0, v4

    if-eqz v0, :cond_1

    .line 10023
    iget-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    long-to-int v0, v0

    invoke-static {p0, v0}, Lcom/android/mms/MmsConfig;->isServiceEnabled(Landroid/content/Context;I)Z

    move-result v0

    iput-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    .line 10024
    iget-wide v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageSimId:J

    long-to-int v0, v0

    iput v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    .line 10029
    :goto_0
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$85;

    invoke-direct {v0, p0}, Lcom/android/mms/ui/ComposeMessageActivity$85;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-virtual {p0, v0}, Landroid/app/Activity;->runOnUiThread(Ljava/lang/Runnable;)V

    .line 10039
    return-void

    .line 10026
    :cond_1
    invoke-static {p0}, Lcom/android/mms/MmsConfig;->isServiceEnabled(Landroid/content/Context;)Z

    move-result v0

    iput-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMessageDefaultSimIpServiceEnabled:Z

    .line 10027
    const/4 v0, 0x0

    iput v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSelectedSimId:I

    goto :goto_0
.end method

.method protected onStart()V
    .locals 8

    .prologue
    const/4 v7, 0x2

    const/4 v6, 0x1

    .line 3951
    invoke-super {p0}, Landroid/app/Activity;->onStart()V

    .line 3954
    const/4 v2, 0x0

    sput-object v2, Lcom/android/mms/ui/ComposeMessageActivity;->sCompose:Ljava/lang/ref/WeakReference;

    .line 3955
    new-instance v2, Ljava/lang/ref/WeakReference;

    invoke-direct {v2, p0}, Ljava/lang/ref/WeakReference;-><init>(Ljava/lang/Object;)V

    sput-object v2, Lcom/android/mms/ui/ComposeMessageActivity;->sCompose:Ljava/lang/ref/WeakReference;

    .line 3959
    invoke-static {}, Lcom/android/mms/MmsConfig;->getAdjustFontSizeEnabled()Z

    move-result v2

    if-eqz v2, :cond_0

    .line 3960
    const-string v2, "message_font_size"

    const/high16 v3, 0x4190

    invoke-static {p0, v2, v3}, Lcom/android/mms/ui/MessageUtils;->getPreferenceValueFloat(Landroid/content/Context;Ljava/lang/String;F)F

    move-result v1

    .line 3962
    .local v1, textSize:F
    invoke-virtual {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->setTextSize(F)V

    .line 3964
    .end local v1           #textSize:F
    :cond_0
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsTextSizeAdjustPlugin:Lcom/mediatek/mms/ext/IMmsTextSizeAdjust;

    if-eqz v2, :cond_1

    .line 3965
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsTextSizeAdjustPlugin:Lcom/mediatek/mms/ext/IMmsTextSizeAdjust;

    invoke-interface {v2, p0, p0}, Lcom/mediatek/mms/ext/IMmsTextSizeAdjust;->init(Lcom/mediatek/mms/ext/IMmsTextSizeAdjustHost;Landroid/app/Activity;)V

    .line 3966
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsTextSizeAdjustPlugin:Lcom/mediatek/mms/ext/IMmsTextSizeAdjust;

    invoke-interface {v2}, Lcom/mediatek/mms/ext/IMmsTextSizeAdjust;->refresh()V

    .line 3971
    :cond_1
    const/4 v2, 0x0

    iput-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->misPickContatct:Z

    .line 3974
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mScrollListener:Lcom/android/mms/ui/MyScrollListener;

    invoke-virtual {v2, v3}, Landroid/widget/AbsListView;->setOnScrollListener(Landroid/widget/AbsListView$OnScrollListener;)V

    .line 3975
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mScrollListener:Lcom/android/mms/ui/MyScrollListener;

    invoke-virtual {v2, v6}, Lcom/android/mms/ui/MyScrollListener;->setIsNeedRefresh(Z)V

    .line 3976
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->initFocus()V

    .line 3979
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHttpProgressReceiver:Landroid/content/BroadcastReceiver;

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHttpProgressFilter:Landroid/content/IntentFilter;

    invoke-virtual {p0, v2, v3}, Landroid/content/ContextWrapper;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;)Landroid/content/Intent;

    .line 3981
    invoke-virtual {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->loadMessageContent()V

    .line 3987
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v2}, Lcom/android/mms/data/Conversation;->getThreadId()J

    move-result-wide v2

    const-wide/16 v4, 0x0

    cmp-long v2, v2, v4

    if-nez v2, :cond_2

    .line 3988
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->syncWorkingRecipients()V

    .line 3992
    :cond_2
    const-string v2, "Mms:app"

    invoke-static {v2, v7}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v2

    if-eqz v2, :cond_3

    .line 3993
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "onStart: update title, mConversation="

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v3}, Lcom/android/mms/data/Conversation;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v2}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 3996
    :cond_3
    invoke-virtual {p0}, Landroid/app/Activity;->getActionBar()Landroid/app/ActionBar;

    move-result-object v0

    .line 3997
    .local v0, actionBar:Landroid/app/ActionBar;
    invoke-virtual {v0, v6}, Landroid/app/ActionBar;->setDisplayHomeAsUpEnabled(Z)V

    .line 4000
    iput-boolean v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mNeedUpdateContactForMessageContent:Z

    .line 4003
    iput-boolean v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMarkMsgAsRead:Z

    .line 4006
    const-string v2, "ComposeMessageActivity.onStart"

    invoke-static {p0, v2}, Lcom/android/mms/MmsConfig;->printMmsMemStat(Landroid/content/Context;Ljava/lang/String;)V

    .line 4009
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v2

    if-eqz v2, :cond_4

    invoke-virtual {p0}, Landroid/view/ContextThemeWrapper;->getResources()Landroid/content/res/Resources;

    move-result-object v2

    invoke-virtual {v2}, Landroid/content/res/Resources;->getConfiguration()Landroid/content/res/Configuration;

    move-result-object v2

    iget v2, v2, Landroid/content/res/Configuration;->orientation:I

    if-eq v2, v7, :cond_4

    .line 4011
    invoke-virtual {p0}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v2

    const/16 v3, 0x14

    invoke-virtual {v2, v3}, Landroid/view/Window;->setSoftInputMode(I)V

    .line 4014
    :cond_4
    return-void
.end method

.method protected onStop()V
    .locals 4

    .prologue
    const/4 v2, 0x1

    const/4 v3, 0x0

    .line 4301
    invoke-super {p0}, Landroid/app/Activity;->onStop()V

    .line 4305
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0, v2}, Lcom/android/mms/data/Conversation;->setComposeIsPaused(Z)V

    .line 4308
    iget-boolean v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->misPickContatct:Z

    if-eqz v0, :cond_0

    .line 4376
    :goto_0
    return-void

    .line 4314
    :cond_0
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v0

    if-nez v0, :cond_1

    invoke-static {}, Lcom/android/mms/MmsConfig;->getMmsDirMode()Z

    move-result v0

    if-nez v0, :cond_1

    .line 4315
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0, v3}, Lcom/android/mms/data/Conversation;->blockMarkAsRead(Z)V

    .line 4316
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mConversation:Lcom/android/mms/data/Conversation;

    invoke-virtual {v0}, Lcom/android/mms/data/Conversation;->markAsRead()V

    .line 4320
    :cond_1
    new-instance v0, Ljava/lang/Thread;

    new-instance v1, Lcom/android/mms/ui/ComposeMessageActivity$34;

    invoke-direct {v1, p0}, Lcom/android/mms/ui/ComposeMessageActivity$34;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;)V

    invoke-direct {v0, v1}, Ljava/lang/Thread;-><init>(Ljava/lang/Runnable;)V

    invoke-virtual {v0}, Ljava/lang/Thread;->start()V

    .line 4331
    const-string v0, "Mms:app"

    const/4 v1, 0x2

    invoke-static {v0, v1}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v0

    if-eqz v0, :cond_2

    .line 4332
    const-string v0, "onStop: save draft"

    invoke-static {v0}, Lcom/android/mms/ui/ComposeMessageActivity;->log(Ljava/lang/String;)V

    .line 4336
    :cond_2
    invoke-virtual {p0}, Landroid/app/Activity;->isFinishing()Z

    move-result v0

    if-eqz v0, :cond_3

    .line 4337
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->waitForCompressing()V

    .line 4340
    :cond_3
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->isRecipientsEditorVisible()Z

    move-result v0

    if-eqz v0, :cond_4

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mRecipientsEditor:Lcom/android/mms/ui/RecipientsEditor;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v1

    invoke-virtual {v0, v1}, Lcom/android/mms/ui/RecipientsEditor;->hasValidRecipient(Z)Z

    move-result v0

    if-eqz v0, :cond_5

    .line 4342
    :cond_4
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

    if-eqz v0, :cond_5

    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

    invoke-static {}, Lcom/android/mms/MmsConfig;->getDeviceStorageFullStatus()Z

    move-result v1

    invoke-interface {v0, p0, v1, v3, v3}, Lcom/mediatek/mms/ext/IMmsUtils;->allowSafeDraft(Landroid/app/Activity;ZZI)Z

    move-result v0

    if-eqz v0, :cond_5

    .line 4345
    invoke-direct {p0, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->saveDraft(Z)V

    .line 4350
    :cond_5
    const-string v0, "Mms/compose"

    const-string v1, "update MmsWidget"

    invoke-static {v0, v1}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 4351
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v0

    invoke-static {v0}, Lcom/android/mms/widget/MmsWidgetProvider;->notifyDatasetChanged(Landroid/content/Context;)V

    .line 4352
    const-string v0, "Mms/compose"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "onStop(): mWorkingMessage.isDiscarded() == "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v2}, Lcom/android/mms/data/WorkingMessage;->isDiscarded()Z

    move-result v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Lcom/mediatek/encapsulation/MmsLog;->i(Ljava/lang/String;Ljava/lang/String;)V

    .line 4355
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mHttpProgressReceiver:Landroid/content/BroadcastReceiver;

    invoke-virtual {p0, v0}, Landroid/content/ContextWrapper;->unregisterReceiver(Landroid/content/BroadcastReceiver;)V

    .line 4362
    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsMarkMsgAsRead:Z

    .line 4374
    invoke-virtual {p0}, Landroid/app/Activity;->getWindow()Landroid/view/Window;

    move-result-object v0

    const/high16 v1, 0x48

    invoke-virtual {v0, v1}, Landroid/view/Window;->clearFlags(I)V

    goto/16 :goto_0
.end method

.method public onUpdate(Lcom/android/mms/data/Contact;)V
    .locals 4
    .parameter "updated"

    .prologue
    .line 8319
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPrevRunnable:Ljava/lang/Runnable;

    if-eqz v0, :cond_0

    .line 8320
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageListItemHandler:Landroid/os/Handler;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPrevRunnable:Ljava/lang/Runnable;

    invoke-virtual {v0, v1}, Landroid/os/Handler;->removeCallbacks(Ljava/lang/Runnable;)V

    .line 8322
    :cond_0
    new-instance v0, Lcom/android/mms/ui/ComposeMessageActivity$69;

    invoke-direct {v0, p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity$69;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Lcom/android/mms/data/Contact;)V

    iput-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPrevRunnable:Ljava/lang/Runnable;

    .line 8369
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMessageListItemHandler:Landroid/os/Handler;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPrevRunnable:Ljava/lang/Runnable;

    const-wide/16 v2, 0x64

    invoke-virtual {v0, v1, v2, v3}, Landroid/os/Handler;->postDelayed(Ljava/lang/Runnable;J)Z

    .line 8370
    return-void
.end method

.method public onUserInteraction()V
    .locals 0

    .prologue
    .line 4531
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->checkPendingNotification()V

    .line 4532
    return-void
.end method

.method public recordAudio()V
    .locals 4

    .prologue
    .line 11213
    new-instance v0, Landroid/content/Intent;

    sget-object v1, Lcom/mediatek/mms/ipmessage/IpMessageConsts$RemoteActivities;->AUDIO:Ljava/lang/String;

    invoke-direct {v0, v1}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 11214
    .local v0, intent:Landroid/content/Intent;
    const-string v1, "request_code"

    const/16 v2, 0xce

    invoke-virtual {v0, v1, v2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 11215
    const-string v1, "size"

    const-wide/32 v2, 0x4b000

    invoke-virtual {v0, v1, v2, v3}, Landroid/content/Intent;->putExtra(Ljava/lang/String;J)Landroid/content/Intent;

    .line 11216
    invoke-static {p0, v0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->startRemoteActivityForResult(Landroid/content/Context;Landroid/content/Intent;)V

    .line 11217
    return-void
.end method

.method public recordVideo()V
    .locals 7

    .prologue
    const/4 v6, 0x0

    .line 11182
    invoke-static {}, Lcom/android/mms/ui/MessageUtils;->getVideoCaptureDurationLimit()I

    move-result v0

    .line 11183
    .local v0, durationLimit:I
    new-instance v2, Landroid/content/Intent;

    const-string v3, "android.media.action.VIDEO_CAPTURE"

    invoke-direct {v2, v3}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 11184
    .local v2, intent:Landroid/content/Intent;
    const-string v3, "android.intent.extra.videoQuality"

    invoke-virtual {v2, v3, v6}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 11185
    const-string v3, "android.intent.extra.sizeLimit"

    const-wide/32 v4, 0x4b000

    invoke-virtual {v2, v3, v4, v5}, Landroid/content/Intent;->putExtra(Ljava/lang/String;J)Landroid/content/Intent;

    .line 11186
    const-string v3, "android.intent.extra.durationLimit"

    invoke-virtual {v2, v3, v0}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 11188
    const/16 v3, 0xc9

    :try_start_0
    invoke-virtual {p0, v2, v3}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 11196
    :goto_0
    return-void

    .line 11189
    :catch_0
    move-exception v1

    .line 11190
    .local v1, e:Ljava/lang/Exception;
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v3

    const/16 v4, 0xc7

    invoke-virtual {v3, v4}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v3

    invoke-static {p0, v3, v6}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v3

    invoke-virtual {v3}, Landroid/widget/Toast;->show()V

    .line 11194
    const-string v3, "Mms/ipmsg/compose"

    const-string v4, "recordVideo()"

    invoke-static {v3, v4, v1}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_0
.end method

.method public setCTSendButtonType()Z
    .locals 13

    .prologue
    .line 14625
    const/4 v5, 0x0

    .line 14627
    .local v5, simCardSize:I
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    if-nez v9, :cond_0

    .line 14628
    const/4 v5, 0x0

    .line 14632
    :goto_0
    const/16 v9, 0xd

    invoke-static {v9}, Lcom/android/mms/MmsPluginManager;->getMmsPluginObject(I)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/mediatek/mms/ext/IMmsUtils;

    .line 14633
    .local v3, mmsUtilsPlugin:Lcom/mediatek/mms/ext/IMmsUtils;
    const/4 v1, 0x0

    .line 14634
    .local v1, bigImageId:Landroid/graphics/drawable/Drawable;
    const/4 v8, 0x0

    .line 14635
    .local v8, smallImageId:Landroid/graphics/drawable/Drawable;
    const/4 v4, 0x0

    check-cast v4, [[Ljava/lang/Object;

    .line 14636
    .local v4, resIds:[[Ljava/lang/Object;
    const/4 v9, 0x2

    new-array v9, v9, [Landroid/graphics/drawable/Drawable;

    iput-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonDrawable:[Landroid/graphics/drawable/Drawable;

    .line 14637
    if-nez v5, :cond_1

    .line 14638
    const/4 v9, 0x1

    .line 14705
    :goto_1
    return v9

    .line 14630
    .end local v1           #bigImageId:Landroid/graphics/drawable/Drawable;
    .end local v3           #mmsUtilsPlugin:Lcom/mediatek/mms/ext/IMmsUtils;
    .end local v4           #resIds:[[Ljava/lang/Object;
    .end local v8           #smallImageId:Landroid/graphics/drawable/Drawable;
    :cond_0
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    invoke-interface {v9}, Ljava/util/List;->size()I

    move-result v5

    goto :goto_0

    .line 14639
    .restart local v1       #bigImageId:Landroid/graphics/drawable/Drawable;
    .restart local v3       #mmsUtilsPlugin:Lcom/mediatek/mms/ext/IMmsUtils;
    .restart local v4       #resIds:[[Ljava/lang/Object;
    .restart local v8       #smallImageId:Landroid/graphics/drawable/Drawable;
    :cond_1
    const/4 v9, 0x1

    if-ne v5, v9, :cond_6

    .line 14640
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    const/4 v10, 0x0

    invoke-interface {v9, v10}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;

    invoke-virtual {v9}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSlot()I

    move-result v6

    .line 14642
    .local v6, slotId:I
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v9

    invoke-interface {v3, v9, v6}, Lcom/mediatek/mms/ext/IMmsUtils;->getSendButtonResourceIdBySlotId(Landroid/content/Context;I)[[Ljava/lang/Object;

    move-result-object v4

    .line 14643
    if-eqz v4, :cond_2

    .line 14644
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonDrawable:[Landroid/graphics/drawable/Drawable;

    const/4 v11, 0x0

    const/4 v9, 0x0

    aget-object v9, v4, v9

    const/4 v12, 0x0

    aget-object v9, v9, v12

    check-cast v9, Landroid/graphics/drawable/Drawable;

    aput-object v9, v10, v11

    .line 14645
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonDrawable:[Landroid/graphics/drawable/Drawable;

    const/4 v11, 0x1

    const/4 v9, 0x1

    aget-object v9, v4, v9

    const/4 v12, 0x0

    aget-object v9, v9, v12

    check-cast v9, Landroid/graphics/drawable/Drawable;

    aput-object v9, v10, v11

    .line 14648
    :cond_2
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    invoke-virtual {v9}, Landroid/view/View;->isEnabled()Z

    move-result v9

    if-eqz v9, :cond_3

    .line 14649
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v9

    const/4 v10, 0x1

    invoke-interface {v3, v9, v6, v10}, Lcom/mediatek/mms/ext/IMmsUtils;->getSendButtonResourceIdBySlotId(Landroid/content/Context;IZ)[[Ljava/lang/Object;

    move-result-object v4

    .line 14651
    :cond_3
    if-nez v4, :cond_4

    .line 14652
    const/4 v9, 0x1

    goto :goto_1

    .line 14654
    :cond_4
    const/4 v9, 0x0

    aget-object v9, v4, v9

    const/4 v10, 0x0

    aget-object v1, v9, v10

    .end local v1           #bigImageId:Landroid/graphics/drawable/Drawable;
    check-cast v1, Landroid/graphics/drawable/Drawable;

    .line 14655
    .restart local v1       #bigImageId:Landroid/graphics/drawable/Drawable;
    const/4 v9, 0x1

    aget-object v9, v4, v9

    const/4 v10, 0x0

    aget-object v8, v9, v10

    .end local v8           #smallImageId:Landroid/graphics/drawable/Drawable;
    check-cast v8, Landroid/graphics/drawable/Drawable;

    .line 14685
    .end local v6           #slotId:I
    .restart local v8       #smallImageId:Landroid/graphics/drawable/Drawable;
    :cond_5
    :goto_2
    if-nez v4, :cond_c

    .line 14686
    const/4 v9, 0x1

    goto :goto_1

    .line 14656
    :cond_6
    const/4 v9, 0x2

    if-ne v5, v9, :cond_5

    .line 14657
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v9

    const-string v10, "sms_sim_setting"

    const-wide/16 v11, -0x5

    invoke-static {v9, v10, v11, v12}, Lcom/mediatek/encapsulation/android/provider/EncapsulatedSettings$System;->getLong(Landroid/content/ContentResolver;Ljava/lang/String;J)J

    move-result-wide v9

    long-to-int v2, v9

    .line 14660
    .local v2, defaultSimId:I
    const/4 v6, 0x0

    .line 14661
    .restart local v6       #slotId:I
    int-to-long v9, v2

    const-wide/16 v11, -0x1

    cmp-long v9, v9, v11

    if-nez v9, :cond_9

    .line 14662
    const/4 v6, 0x0

    .line 14669
    :goto_3
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v9

    invoke-interface {v3, v9, v6}, Lcom/mediatek/mms/ext/IMmsUtils;->getSendButtonResourceIdBySlotId(Landroid/content/Context;I)[[Ljava/lang/Object;

    move-result-object v4

    .line 14670
    if-eqz v4, :cond_7

    .line 14671
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonDrawable:[Landroid/graphics/drawable/Drawable;

    const/4 v11, 0x0

    const/4 v9, 0x0

    aget-object v9, v4, v9

    const/4 v12, 0x0

    aget-object v9, v9, v12

    check-cast v9, Landroid/graphics/drawable/Drawable;

    aput-object v9, v10, v11

    .line 14672
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonDrawable:[Landroid/graphics/drawable/Drawable;

    const/4 v11, 0x1

    const/4 v9, 0x1

    aget-object v9, v4, v9

    const/4 v12, 0x0

    aget-object v9, v9, v12

    check-cast v9, Landroid/graphics/drawable/Drawable;

    aput-object v9, v10, v11

    .line 14675
    :cond_7
    iget-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    invoke-virtual {v9}, Landroid/view/View;->isEnabled()Z

    move-result v9

    if-eqz v9, :cond_8

    .line 14676
    invoke-virtual {p0}, Landroid/content/ContextWrapper;->getApplicationContext()Landroid/content/Context;

    move-result-object v9

    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    invoke-virtual {v10}, Landroid/view/View;->isEnabled()Z

    move-result v10

    invoke-interface {v3, v9, v6, v10}, Lcom/mediatek/mms/ext/IMmsUtils;->getSendButtonResourceIdBySlotId(Landroid/content/Context;IZ)[[Ljava/lang/Object;

    move-result-object v4

    .line 14679
    :cond_8
    if-nez v4, :cond_b

    .line 14680
    const/4 v9, 0x1

    goto/16 :goto_1

    .line 14663
    :cond_9
    int-to-long v9, v2

    const-wide/16 v11, -0x5

    cmp-long v9, v9, v11

    if-nez v9, :cond_a

    .line 14664
    const/4 v6, 0x0

    goto :goto_3

    .line 14666
    :cond_a
    int-to-long v9, v2

    invoke-static {p0, v9, v10}, Lcom/mediatek/encapsulation/android/telephony/EncapsulatedSimInfoManager;->getSlotById(Landroid/content/Context;J)I

    move-result v6

    goto :goto_3

    .line 14682
    :cond_b
    const/4 v9, 0x0

    aget-object v9, v4, v9

    const/4 v10, 0x0

    aget-object v1, v9, v10

    .end local v1           #bigImageId:Landroid/graphics/drawable/Drawable;
    check-cast v1, Landroid/graphics/drawable/Drawable;

    .line 14683
    .restart local v1       #bigImageId:Landroid/graphics/drawable/Drawable;
    const/4 v9, 0x1

    aget-object v9, v4, v9

    const/4 v10, 0x0

    aget-object v8, v9, v10

    .end local v8           #smallImageId:Landroid/graphics/drawable/Drawable;
    check-cast v8, Landroid/graphics/drawable/Drawable;

    .restart local v8       #smallImageId:Landroid/graphics/drawable/Drawable;
    goto :goto_2

    .line 14688
    .end local v2           #defaultSimId:I
    .end local v6           #slotId:I
    :cond_c
    const/4 v9, 0x2

    new-array v9, v9, [I

    iput-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSlotIds:[I

    .line 14689
    const/4 v9, 0x2

    new-array v9, v9, [I

    iput-object v9, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonColors:[I

    .line 14691
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSlotIds:[I

    const/4 v11, 0x0

    const/4 v9, 0x0

    aget-object v9, v4, v9

    const/4 v12, 0x1

    aget-object v9, v9, v12

    check-cast v9, Ljava/lang/Integer;

    invoke-virtual {v9}, Ljava/lang/Integer;->intValue()I

    move-result v9

    aput v9, v10, v11

    .line 14692
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSlotIds:[I

    const/4 v11, 0x1

    const/4 v9, 0x1

    aget-object v9, v4, v9

    const/4 v12, 0x1

    aget-object v9, v9, v12

    check-cast v9, Ljava/lang/Integer;

    invoke-virtual {v9}, Ljava/lang/Integer;->intValue()I

    move-result v9

    aput v9, v10, v11

    .line 14693
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonColors:[I

    const/4 v11, 0x0

    const/4 v9, 0x0

    aget-object v9, v4, v9

    const/4 v12, 0x2

    aget-object v9, v9, v12

    check-cast v9, Ljava/lang/Integer;

    invoke-virtual {v9}, Ljava/lang/Integer;->intValue()I

    move-result v9

    aput v9, v10, v11

    .line 14694
    iget-object v10, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonColors:[I

    const/4 v11, 0x1

    const/4 v9, 0x1

    aget-object v9, v4, v9

    const/4 v12, 0x2

    aget-object v9, v9, v12

    check-cast v9, Ljava/lang/Integer;

    invoke-virtual {v9}, Ljava/lang/Integer;->intValue()I

    move-result v9

    aput v9, v10, v11

    .line 14696
    move-object v0, v1

    .line 14697
    .local v0, bigButtonImageId:Landroid/graphics/drawable/Drawable;
    move-object v7, v8

    .line 14698
    .local v7, smallButtonImageId:Landroid/graphics/drawable/Drawable;
    new-instance v9, Lcom/android/mms/ui/ComposeMessageActivity$135;

    invoke-direct {v9, p0, v0, v7}, Lcom/android/mms/ui/ComposeMessageActivity$135;-><init>(Lcom/android/mms/ui/ComposeMessageActivity;Landroid/graphics/drawable/Drawable;Landroid/graphics/drawable/Drawable;)V

    invoke-virtual {p0, v9}, Landroid/app/Activity;->runOnUiThread(Ljava/lang/Runnable;)V

    .line 14705
    const/4 v9, 0x1

    goto/16 :goto_1
.end method

.method public setHandler(Landroid/os/Handler;)V
    .locals 2
    .parameter "handler"

    .prologue
    .line 10848
    iput-object p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    .line 10849
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonPanel:Lcom/android/mms/ui/EmoticonPanel;

    if-eqz v0, :cond_0

    .line 10850
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mEmoticonPanel:Lcom/android/mms/ui/EmoticonPanel;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    invoke-virtual {v0, v1}, Lcom/android/mms/ui/EmoticonPanel;->setHandler(Landroid/os/Handler;)V

    .line 10852
    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSharePanel:Lcom/mediatek/ipmsg/ui/SharePanel;

    if-eqz v0, :cond_1

    .line 10853
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSharePanel:Lcom/mediatek/ipmsg/ui/SharePanel;

    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIpMsgHandler:Landroid/os/Handler;

    invoke-virtual {v0, v1}, Lcom/mediatek/ipmsg/ui/SharePanel;->setHandler(Landroid/os/Handler;)V

    .line 10855
    :cond_1
    return-void
.end method

.method public setTextSize(F)V
    .locals 4
    .parameter "size"

    .prologue
    .line 10470
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    if-eqz v3, :cond_0

    .line 10471
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    invoke-virtual {v3, p1}, Landroid/widget/TextView;->setTextSize(F)V

    .line 10473
    :cond_0
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    if-eqz v3, :cond_1

    .line 10474
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListAdapter:Lcom/android/mms/ui/MessageListAdapter;

    invoke-virtual {v3, p1}, Lcom/android/mms/ui/MessageListAdapter;->setTextSize(F)V

    .line 10477
    :cond_1
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    if-eqz v3, :cond_3

    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v3}, Landroid/view/View;->getVisibility()I

    move-result v3

    if-nez v3, :cond_3

    .line 10478
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v3}, Landroid/view/ViewGroup;->getChildCount()I

    move-result v0

    .line 10479
    .local v0, count:I
    const/4 v1, 0x0

    .local v1, i:I
    :goto_0
    if-ge v1, v0, :cond_3

    .line 10480
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMsgListView:Lcom/android/mms/ui/MessageListView;

    invoke-virtual {v3, v1}, Landroid/view/ViewGroup;->getChildAt(I)Landroid/view/View;

    move-result-object v2

    check-cast v2, Lcom/android/mms/ui/MessageListItem;

    .line 10481
    .local v2, item:Lcom/android/mms/ui/MessageListItem;
    if-eqz v2, :cond_2

    .line 10482
    invoke-virtual {v2, p1}, Lcom/android/mms/ui/MessageListItem;->setBodyTextSize(F)V

    .line 10479
    :cond_2
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    .line 10486
    .end local v0           #count:I
    .end local v1           #i:I
    .end local v2           #item:Lcom/android/mms/ui/MessageListItem;
    :cond_3
    return-void
.end method

.method public shareCalendar()V
    .locals 5

    .prologue
    const/4 v4, 0x0

    .line 11280
    new-instance v1, Landroid/content/Intent;

    const-string v2, "android.intent.action.CALENDARCHOICE"

    invoke-direct {v1, v2}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 11281
    .local v1, intent:Landroid/content/Intent;
    const-string v2, "text/x-vcalendar"

    invoke-virtual {v1, v2}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 11282
    const-string v2, "request_type"

    invoke-virtual {v1, v2, v4}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 11284
    const/16 v2, 0xd1

    :try_start_0
    invoke-virtual {p0, v1, v2}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V
    :try_end_0
    .catch Landroid/content/ActivityNotFoundException; {:try_start_0 .. :try_end_0} :catch_0

    .line 11292
    :goto_0
    return-void

    .line 11285
    :catch_0
    move-exception v0

    .line 11286
    .local v0, e:Landroid/content/ActivityNotFoundException;
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v2

    const/16 v3, 0xc7

    invoke-virtual {v2, v3}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v2

    invoke-static {p0, v2, v4}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v2

    invoke-virtual {v2}, Landroid/widget/Toast;->show()V

    .line 11290
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "shareCalendar()"

    invoke-static {v2, v3, v0}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_0
.end method

.method public shareContact()V
    .locals 2

    .prologue
    .line 11240
    new-instance v0, Landroid/content/Intent;

    const-string v1, "android.intent.action.contacts.list.PICKMULTICONTACTS"

    invoke-direct {v0, v1}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 11241
    .local v0, intent:Landroid/content/Intent;
    const-string v1, "vnd.android.cursor.dir/contact"

    invoke-virtual {v0, v1}, Landroid/content/Intent;->setType(Ljava/lang/String;)Landroid/content/Intent;

    .line 11242
    const/16 v1, 0xcb

    invoke-virtual {p0, v0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V

    .line 11243
    return-void
.end method

.method public shareLocation()V
    .locals 3

    .prologue
    .line 11246
    new-instance v0, Landroid/content/Intent;

    sget-object v1, Lcom/mediatek/mms/ipmessage/IpMessageConsts$RemoteActivities;->LOCATION:Ljava/lang/String;

    invoke-direct {v0, v1}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 11247
    .local v0, intent:Landroid/content/Intent;
    const-string v1, "request_code"

    const/16 v2, 0xcf

    invoke-virtual {v0, v1, v2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 11248
    invoke-static {p0, v0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->startRemoteActivityForResult(Landroid/content/Context;Landroid/content/Intent;)V

    .line 11249
    return-void
.end method

.method public shareSMSLocation()V
    .locals 3

    .prologue
    .line 11233
    new-instance v0, Landroid/content/Intent;

    sget-object v1, Lcom/mediatek/mms/ipmessage/IpMessageConsts$RemoteActivities;->LOCATION:Ljava/lang/String;

    invoke-direct {v0, v1}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 11234
    .local v0, intent:Landroid/content/Intent;
    const-string v1, "request_code"

    const/16 v2, 0xd5

    invoke-virtual {v0, v1, v2}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 11235
    invoke-static {p0, v0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->startRemoteActivityForResult(Landroid/content/Context;Landroid/content/Intent;)V

    .line 11236
    return-void
.end method

.method public showCTButtonPanel()Z
    .locals 2

    .prologue
    const/4 v1, 0x0

    .line 14500
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    if-eqz v0, :cond_0

    .line 14501
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 14504
    :cond_0
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    if-eqz v0, :cond_1

    .line 14505
    iget-object v0, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    invoke-virtual {v0, v1}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 14507
    :cond_1
    const/4 v0, 0x1

    return v0
.end method

.method public showMassTextMsgDetails([Ljava/lang/String;Landroid/content/DialogInterface$OnClickListener;Ljava/lang/String;Z)V
    .locals 2
    .parameter "items"
    .parameter "clickListener"
    .parameter "btnStr"
    .parameter "showButton"

    .prologue
    .line 14443
    new-instance v0, Landroid/app/AlertDialog$Builder;

    invoke-direct {v0, p0}, Landroid/app/AlertDialog$Builder;-><init>(Landroid/content/Context;)V

    .line 14444
    .local v0, detailDialog:Landroid/app/AlertDialog$Builder;
    const v1, 0x7f0b02c1

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setTitle(I)Landroid/app/AlertDialog$Builder;

    .line 14445
    const/4 v1, 0x1

    invoke-virtual {v0, v1}, Landroid/app/AlertDialog$Builder;->setCancelable(Z)Landroid/app/AlertDialog$Builder;

    .line 14446
    if-eqz p2, :cond_0

    if-eqz p4, :cond_0

    .line 14447
    invoke-virtual {v0, p3, p2}, Landroid/app/AlertDialog$Builder;->setPositiveButton(Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    .line 14449
    :cond_0
    const/4 v1, 0x0

    invoke-virtual {v0, p1, v1}, Landroid/app/AlertDialog$Builder;->setItems([Ljava/lang/CharSequence;Landroid/content/DialogInterface$OnClickListener;)Landroid/app/AlertDialog$Builder;

    .line 14450
    invoke-virtual {v0}, Landroid/app/AlertDialog$Builder;->show()Landroid/app/AlertDialog;

    .line 14451
    return-void
.end method

.method public showSharePanelOrEmoticonPanel(ZZZ)V
    .locals 8
    .parameter "isShowShare"
    .parameter "isShowEmoticon"
    .parameter "isShowKeyboard"

    .prologue
    const/4 v7, 0x1

    const/4 v6, 0x0

    .line 10695
    if-eqz p1, :cond_0

    if-eqz p2, :cond_0

    .line 10696
    const-string v2, "Mms/ipmsg/compose"

    const-string v3, "Can not show both SharePanel and EmoticonPanel"

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->w(Ljava/lang/String;Ljava/lang/String;)V

    .line 10748
    :goto_0
    return-void

    .line 10700
    :cond_0
    const-string v2, "Mms/compose"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "showSharePanelOrEmoticonPanel(): isShowShare = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, ", isShowEmoticon = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p2}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, ", isShowKeyboard = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p3}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, ", mIsSoftKeyBoardShow = "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    iget-boolean v4, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsSoftKeyBoardShow:Z

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 10703
    if-nez p3, :cond_6

    iget-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsSoftKeyBoardShow:Z

    if-eqz v2, :cond_6

    iget-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsLandscape:Z

    if-nez v2, :cond_6

    .line 10704
    invoke-direct {p0, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->showKeyBoard(Z)V

    .line 10705
    iget-object v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWaitingImeChangedObject:Ljava/lang/Object;

    monitor-enter v3

    .line 10708
    const/16 v1, 0x64

    .line 10709
    .local v1, waitTime:I
    :try_start_0
    const-string v2, "Mms/compose"

    const-string v4, "showSharePanelOrEmoticonPanel(): object start wait."

    invoke-static {v2, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 10710
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWaitingImeChangedObject:Ljava/lang/Object;

    int-to-long v4, v1

    invoke-virtual {v2, v4, v5}, Ljava/lang/Object;->wait(J)V

    .line 10711
    const-string v2, "Mms/compose"

    const-string v4, "showSharePanelOrEmoticonPanel(): object end wait."

    invoke-static {v2, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/lang/InterruptedException; {:try_start_0 .. :try_end_0} :catch_0

    .line 10715
    :goto_1
    :try_start_1
    monitor-exit v3
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 10716
    if-nez p1, :cond_4

    .line 10717
    iget-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowKeyBoardFromShare:Z

    if-eqz v2, :cond_1

    .line 10718
    invoke-direct {p0, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->showSharePanel(Z)V

    .line 10723
    :cond_1
    :goto_2
    if-nez p2, :cond_5

    .line 10724
    iget-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowKeyBoardFromEmoticon:Z

    if-eqz v2, :cond_2

    .line 10725
    invoke-direct {p0, v6}, Lcom/android/mms/ui/ComposeMessageActivity;->showEmoticonPanel(Z)V

    .line 10730
    :cond_2
    :goto_3
    iput-boolean p1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowKeyBoardFromShare:Z

    .line 10731
    iput-boolean p2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowKeyBoardFromEmoticon:Z

    .line 10737
    .end local v1           #waitTime:I
    :goto_4
    if-nez p1, :cond_3

    if-nez p2, :cond_3

    if-eqz p3, :cond_8

    .line 10738
    :cond_3
    iget-boolean v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsLandscape:Z

    if-eqz v2, :cond_7

    .line 10739
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    iget v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    mul-int/lit8 v3, v3, 0x41

    div-int/lit16 v3, v3, 0x320

    invoke-virtual {v2, v3}, Landroid/widget/TextView;->setMaxHeight(I)V

    goto/16 :goto_0

    .line 10712
    .restart local v1       #waitTime:I
    :catch_0
    move-exception v0

    .line 10713
    .local v0, e:Ljava/lang/InterruptedException;
    :try_start_2
    const-string v2, "Mms/compose"

    const-string v4, "InterruptedException"

    invoke-static {v2, v4}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_1

    .line 10715
    .end local v0           #e:Ljava/lang/InterruptedException;
    :catchall_0
    move-exception v2

    monitor-exit v3
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    throw v2

    .line 10721
    :cond_4
    invoke-direct {p0, v7}, Lcom/android/mms/ui/ComposeMessageActivity;->showSharePanel(Z)V

    goto :goto_2

    .line 10728
    :cond_5
    invoke-direct {p0, v7}, Lcom/android/mms/ui/ComposeMessageActivity;->showEmoticonPanel(Z)V

    goto :goto_3

    .line 10733
    .end local v1           #waitTime:I
    :cond_6
    invoke-direct {p0, p1}, Lcom/android/mms/ui/ComposeMessageActivity;->showSharePanel(Z)V

    .line 10734
    invoke-direct {p0, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->showEmoticonPanel(Z)V

    .line 10735
    invoke-direct {p0, p3}, Lcom/android/mms/ui/ComposeMessageActivity;->showKeyBoard(Z)V

    goto :goto_4

    .line 10742
    :cond_7
    iget-object v2, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextEditor:Lcom/android/mms/ui/EnhanceEditText;

    iget v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mCurrentMaxHeight:I

    mul-int/lit16 v3, v3, 0x8c

    div-int/lit16 v3, v3, 0x320

    invoke-virtual {v2, v3}, Landroid/widget/TextView;->setMaxHeight(I)V

    goto/16 :goto_0

    .line 10745
    :cond_8
    const-string v2, "Mms/compose"

    const-string v3, "showSharePanelOrEmoticonPanel()"

    invoke-static {v2, v3}, Lcom/mediatek/encapsulation/MmsLog;->d(Ljava/lang/String;Ljava/lang/String;)V

    .line 10746
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->updateFullScreenTextEditorHeight()V

    goto/16 :goto_0
.end method

.method public startActivity(Landroid/content/Intent;)V
    .locals 3
    .parameter "intent"

    .prologue
    .line 10145
    :try_start_0
    invoke-super {p0, p1}, Landroid/app/Activity;->startActivity(Landroid/content/Intent;)V
    :try_end_0
    .catch Landroid/content/ActivityNotFoundException; {:try_start_0 .. :try_end_0} :catch_0

    .line 10150
    :goto_0
    return-void

    .line 10146
    :catch_0
    move-exception v0

    .line 10147
    .local v0, e:Landroid/content/ActivityNotFoundException;
    const/4 v2, 0x0

    invoke-static {p1, v2}, Landroid/content/Intent;->createChooser(Landroid/content/Intent;Ljava/lang/CharSequence;)Landroid/content/Intent;

    move-result-object v1

    .line 10148
    .local v1, mChooserIntent:Landroid/content/Intent;
    invoke-super {p0, v1}, Landroid/app/Activity;->startActivity(Landroid/content/Intent;)V

    goto :goto_0
.end method

.method public startActivityForResult(Landroid/content/Intent;I)V
    .locals 7
    .parameter "intent"
    .parameter "requestCode"

    .prologue
    const/4 v6, 0x0

    .line 1364
    if-ltz p2, :cond_0

    .line 1365
    const/4 v3, 0x1

    iput-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWaitingForSubActivity:Z

    .line 1367
    :cond_0
    iget-boolean v3, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mIsKeyboardOpen:Z

    if-eqz v3, :cond_1

    .line 1368
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideKeyboard()V

    .line 1372
    :cond_1
    if-eqz p1, :cond_2

    invoke-virtual {p1}, Landroid/content/Intent;->getData()Landroid/net/Uri;

    move-result-object v3

    if-eqz v3, :cond_2

    invoke-virtual {p1}, Landroid/content/Intent;->getData()Landroid/net/Uri;

    move-result-object v3

    invoke-virtual {v3}, Landroid/net/Uri;->getScheme()Ljava/lang/String;

    move-result-object v3

    const-string v4, "mailto"

    invoke-virtual {v3, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_2

    .line 1375
    :try_start_0
    invoke-super {p0, p1, p2}, Landroid/app/Activity;->startActivityForResult(Landroid/content/Intent;I)V
    :try_end_0
    .catch Landroid/content/ActivityNotFoundException; {:try_start_0 .. :try_end_0} :catch_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_1

    .line 1401
    :goto_0
    return-void

    .line 1376
    :catch_0
    move-exception v0

    .line 1377
    .local v0, e:Landroid/content/ActivityNotFoundException;
    const-string v3, "Mms/compose"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Failed to startActivityForResult: "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 1378
    new-instance v3, Landroid/content/Intent;

    invoke-direct {v3}, Landroid/content/Intent;-><init>()V

    const-string v4, "com.android.email"

    const-string v5, "com.android.email.activity.setup.AccountSetupBasics"

    invoke-virtual {v3, v4, v5}, Landroid/content/Intent;->setClassName(Ljava/lang/String;Ljava/lang/String;)Landroid/content/Intent;

    move-result-object v1

    .line 1380
    .local v1, i:Landroid/content/Intent;
    invoke-virtual {p0, v1}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivity(Landroid/content/Intent;)V

    .line 1381
    invoke-virtual {p0}, Landroid/app/Activity;->finish()V

    goto :goto_0

    .line 1382
    .end local v0           #e:Landroid/content/ActivityNotFoundException;
    .end local v1           #i:Landroid/content/Intent;
    :catch_1
    move-exception v0

    .line 1383
    .local v0, e:Ljava/lang/Exception;
    const-string v3, "Mms/compose"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Failed to startActivityForResult: "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;)V

    .line 1384
    const v3, 0x7f0b0063

    invoke-virtual {p0, v3}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v3

    invoke-static {p0, v3, v6}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v3

    invoke-virtual {v3}, Landroid/widget/Toast;->show()V

    goto :goto_0

    .line 1389
    .end local v0           #e:Ljava/lang/Exception;
    :cond_2
    :try_start_1
    invoke-super {p0, p1, p2}, Landroid/app/Activity;->startActivityForResult(Landroid/content/Intent;I)V
    :try_end_1
    .catch Landroid/content/ActivityNotFoundException; {:try_start_1 .. :try_end_1} :catch_2

    goto :goto_0

    .line 1390
    :catch_2
    move-exception v0

    .line 1392
    .local v0, e:Landroid/content/ActivityNotFoundException;
    const/16 v3, 0x6d

    if-eq p2, v3, :cond_3

    const/16 v3, 0xd2

    if-ne p2, v3, :cond_4

    .line 1393
    :cond_3
    iput-boolean v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->misPickContatct:Z

    .line 1394
    iput-boolean v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mShowingContactPicker:Z

    .line 1396
    :cond_4
    const/4 v3, 0x0

    invoke-static {p1, v3}, Landroid/content/Intent;->createChooser(Landroid/content/Intent;Ljava/lang/CharSequence;)Landroid/content/Intent;

    move-result-object v2

    .line 1397
    .local v2, mchooserIntent:Landroid/content/Intent;
    invoke-super {p0, v2, p2}, Landroid/app/Activity;->startActivityForResult(Landroid/content/Intent;I)V

    goto :goto_0
.end method

.method public takePhoto()V
    .locals 8

    .prologue
    .line 11144
    new-instance v2, Landroid/content/Intent;

    const-string v5, "android.media.action.IMAGE_CAPTURE"

    invoke-direct {v2, v5}, Landroid/content/Intent;-><init>(Ljava/lang/String;)V

    .line 11145
    .local v2, imageCaptureIntent:Landroid/content/Intent;
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v6

    invoke-virtual {v5, v6, v7}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, ".jpg"

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    .line 11146
    .local v1, fileName:Ljava/lang/String;
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {p0}, Lcom/android/mms/MmsConfig;->getPicTempPath(Landroid/content/Context;)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    sget-object v6, Ljava/io/File;->separator:Ljava/lang/String;

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    .line 11147
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    iput-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mDstPath:Ljava/lang/String;

    .line 11148
    new-instance v3, Ljava/io/File;

    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mPhotoFilePath:Ljava/lang/String;

    invoke-direct {v3, v5}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    .line 11149
    .local v3, out:Ljava/io/File;
    invoke-static {v3}, Landroid/net/Uri;->fromFile(Ljava/io/File;)Landroid/net/Uri;

    move-result-object v4

    .line 11150
    .local v4, uri:Landroid/net/Uri;
    const-string v5, "output"

    invoke-virtual {v2, v5, v4}, Landroid/content/Intent;->putExtra(Ljava/lang/String;Landroid/os/Parcelable;)Landroid/content/Intent;

    .line 11151
    const-string v5, "android.intent.extra.videoQuality"

    const/4 v6, 0x1

    invoke-virtual {v2, v5, v6}, Landroid/content/Intent;->putExtra(Ljava/lang/String;I)Landroid/content/Intent;

    .line 11153
    const/16 v5, 0xc8

    :try_start_0
    invoke-virtual {p0, v2, v5}, Lcom/android/mms/ui/ComposeMessageActivity;->startActivityForResult(Landroid/content/Intent;I)V
    :try_end_0
    .catch Ljava/lang/Exception; {:try_start_0 .. :try_end_0} :catch_0

    .line 11161
    :goto_0
    return-void

    .line 11154
    :catch_0
    move-exception v0

    .line 11155
    .local v0, e:Ljava/lang/Exception;
    invoke-static {p0}, Lcom/mediatek/ipmsg/util/IpMessageUtils;->getResourceManager(Landroid/content/Context;)Lcom/mediatek/mms/ipmessage/ResourceManager;

    move-result-object v5

    const/16 v6, 0xc7

    invoke-virtual {v5, v6}, Lcom/mediatek/mms/ipmessage/ResourceManager;->getSingleString(I)Ljava/lang/String;

    move-result-object v5

    const/4 v6, 0x0

    invoke-static {p0, v5, v6}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v5

    invoke-virtual {v5}, Landroid/widget/Toast;->show()V

    .line 11159
    const-string v5, "Mms/ipmsg/compose"

    const-string v6, "takePhoto()"

    invoke-static {v5, v6, v0}, Lcom/mediatek/encapsulation/MmsLog;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)V

    goto :goto_0
.end method

.method undeliveredMessageDialog(J)V
    .locals 6
    .parameter "date"

    .prologue
    const/4 v5, 0x1

    .line 6925
    const-wide/16 v1, 0x0

    cmp-long v1, p1, v1

    if-ltz v1, :cond_0

    .line 6926
    const v1, 0x7f0b0243

    new-array v2, v5, [Ljava/lang/Object;

    const/4 v3, 0x0

    invoke-static {p0, p1, p2}, Lcom/android/mms/ui/MessageUtils;->formatTimeStampString(Landroid/content/Context;J)Ljava/lang/String;

    move-result-object v4

    aput-object v4, v2, v3

    invoke-virtual {p0, v1, v2}, Landroid/content/Context;->getString(I[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v0

    .line 6933
    .local v0, body:Ljava/lang/String;
    :goto_0
    invoke-static {p0, v0, v5}, Landroid/widget/Toast;->makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast;

    move-result-object v1

    invoke-virtual {v1}, Landroid/widget/Toast;->show()V

    .line 6934
    return-void

    .line 6930
    .end local v0           #body:Ljava/lang/String;
    :cond_0
    const v1, 0x7f0b0244

    invoke-virtual {p0, v1}, Landroid/content/Context;->getString(I)Ljava/lang/String;

    move-result-object v0

    .restart local v0       #body:Ljava/lang/String;
    goto :goto_0
.end method

.method public updateCTSendButtonStatue(ZZ)Z
    .locals 10
    .parameter "enable"
    .parameter "isMms"

    .prologue
    const/4 v9, 0x1

    const/4 v8, 0x0

    .line 14539
    iget v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimCount:I

    if-lez v5, :cond_6

    .line 14540
    invoke-direct {p0}, Lcom/android/mms/ui/ComposeMessageActivity;->hideAllSrcButton()Z

    .line 14547
    :goto_0
    const/4 v3, 0x0

    .line 14548
    .local v3, simCardSize:I
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    if-nez v5, :cond_7

    .line 14549
    const/4 v3, 0x0

    .line 14554
    :goto_1
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    invoke-virtual {v5}, Landroid/view/View;->isEnabled()Z

    move-result v0

    .line 14555
    .local v0, bigEnable:Z
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    invoke-virtual {v5}, Landroid/view/View;->isEnabled()Z

    move-result v4

    .line 14557
    .local v4, smallEnable:Z
    if-eq v0, p1, :cond_1

    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSlotIds:[I

    if-eqz v5, :cond_1

    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonColors:[I

    if-eqz v5, :cond_1

    .line 14558
    const/4 v1, 0x0

    .line 14559
    .local v1, drawable:Landroid/graphics/drawable/Drawable;
    if-eqz p1, :cond_8

    .line 14560
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSlotIds:[I

    aget v6, v6, v8

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonColors:[I

    aget v7, v7, v8

    invoke-interface {v5, v6, v8, v7}, Lcom/mediatek/mms/ext/IMmsUtils;->getActivatedButtonIconBySlotId(IZI)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    .line 14566
    :cond_0
    :goto_2
    if-eqz v1, :cond_1

    .line 14567
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    invoke-virtual {v5, v1}, Landroid/widget/ImageView;->setImageDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 14570
    .end local v1           #drawable:Landroid/graphics/drawable/Drawable;
    :cond_1
    if-eq v4, p1, :cond_3

    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSlotIds:[I

    if-eqz v5, :cond_3

    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonColors:[I

    if-eqz v5, :cond_3

    .line 14571
    const/4 v1, 0x0

    .line 14572
    .restart local v1       #drawable:Landroid/graphics/drawable/Drawable;
    if-eqz p1, :cond_9

    .line 14573
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsUtils:Lcom/mediatek/mms/ext/IMmsUtils;

    iget-object v6, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSlotIds:[I

    aget v6, v6, v9

    iget-object v7, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonColors:[I

    aget v7, v7, v9

    invoke-interface {v5, v6, v9, v7}, Lcom/mediatek/mms/ext/IMmsUtils;->getActivatedButtonIconBySlotId(IZI)Landroid/graphics/drawable/Drawable;

    move-result-object v1

    .line 14579
    :cond_2
    :goto_3
    if-eqz v1, :cond_3

    .line 14580
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    invoke-virtual {v5, v1}, Landroid/widget/ImageView;->setImageDrawable(Landroid/graphics/drawable/Drawable;)V

    .line 14584
    .end local v1           #drawable:Landroid/graphics/drawable/Drawable;
    :cond_3
    if-nez v3, :cond_a

    .line 14585
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    invoke-virtual {v5, v8}, Landroid/view/View;->setEnabled(Z)V

    .line 14586
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    invoke-virtual {v5, v8}, Landroid/view/View;->setEnabled(Z)V

    .line 14587
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v5}, Lcom/mediatek/mms/ext/IMmsCompose;->hideCTButtonPanel()Z

    .line 14598
    :cond_4
    :goto_4
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    invoke-virtual {v5, p1}, Landroid/view/View;->setFocusable(Z)V

    .line 14599
    if-eqz p2, :cond_5

    .line 14600
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextCounter:Landroid/widget/TextView;

    const v6, 0x7f0b0266

    invoke-virtual {v5, v6}, Landroid/widget/TextView;->setText(I)V

    .line 14601
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextCounter:Landroid/widget/TextView;

    invoke-virtual {v5, v8}, Landroid/view/View;->setVisibility(I)V

    .line 14603
    :cond_5
    return v9

    .line 14542
    .end local v0           #bigEnable:Z
    .end local v3           #simCardSize:I
    .end local v4           #smallEnable:Z
    :cond_6
    invoke-direct {p0, p2}, Lcom/android/mms/ui/ComposeMessageActivity;->showSmsOrMmsSendButton(Z)Landroid/view/View;

    move-result-object v2

    .line 14543
    .local v2, sendButton:Landroid/view/View;
    invoke-virtual {v2, p1}, Landroid/view/View;->setEnabled(Z)V

    .line 14544
    invoke-virtual {v2, p1}, Landroid/view/View;->setFocusable(Z)V

    goto/16 :goto_0

    .line 14551
    .end local v2           #sendButton:Landroid/view/View;
    .restart local v3       #simCardSize:I
    :cond_7
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mSimInfoList:Ljava/util/List;

    invoke-interface {v5}, Ljava/util/List;->size()I

    move-result v3

    goto/16 :goto_1

    .line 14562
    .restart local v0       #bigEnable:Z
    .restart local v1       #drawable:Landroid/graphics/drawable/Drawable;
    .restart local v4       #smallEnable:Z
    :cond_8
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonDrawable:[Landroid/graphics/drawable/Drawable;

    if-eqz v5, :cond_0

    .line 14563
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonDrawable:[Landroid/graphics/drawable/Drawable;

    aget-object v1, v5, v8

    goto :goto_2

    .line 14575
    :cond_9
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonDrawable:[Landroid/graphics/drawable/Drawable;

    if-eqz v5, :cond_2

    .line 14576
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonDrawable:[Landroid/graphics/drawable/Drawable;

    aget-object v1, v5, v9

    goto :goto_3

    .line 14588
    .end local v1           #drawable:Landroid/graphics/drawable/Drawable;
    :cond_a
    if-ne v3, v9, :cond_b

    .line 14589
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    invoke-virtual {v5, p1}, Landroid/view/View;->setEnabled(Z)V

    .line 14590
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    invoke-virtual {v5, v8}, Landroid/widget/ImageView;->setVisibility(I)V

    .line 14591
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    invoke-virtual {v5, v8}, Landroid/view/View;->setEnabled(Z)V

    .line 14592
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    const/16 v6, 0x8

    invoke-virtual {v5, v6}, Landroid/widget/ImageView;->setVisibility(I)V

    goto :goto_4

    .line 14593
    :cond_b
    const/4 v5, 0x2

    if-ne v3, v5, :cond_4

    .line 14594
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonBig:Landroid/widget/ImageButton;

    invoke-virtual {v5, p1}, Landroid/view/View;->setEnabled(Z)V

    .line 14595
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mButtonSmall:Landroid/widget/ImageButton;

    invoke-virtual {v5, p1}, Landroid/view/View;->setEnabled(Z)V

    .line 14596
    iget-object v5, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mMmsComposePlugin:Lcom/mediatek/mms/ext/IMmsCompose;

    invoke-interface {v5}, Lcom/mediatek/mms/ext/IMmsCompose;->showCTButtonPanel()Z

    goto :goto_4
.end method

.method public updateCTTextCounter(II)Z
    .locals 5
    .parameter "remainingInCurrentMessage"
    .parameter "msgCount"

    .prologue
    const/4 v4, 0x1

    const/4 v3, 0x0

    .line 14607
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mWorkingMessage:Lcom/android/mms/data/WorkingMessage;

    invoke-virtual {v1}, Lcom/android/mms/data/WorkingMessage;->requiresMms()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 14608
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextCounter:Landroid/widget/TextView;

    const v2, 0x7f0b0266

    invoke-virtual {v1, v2}, Landroid/widget/TextView;->setText(I)V

    .line 14609
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextCounter:Landroid/widget/TextView;

    invoke-virtual {v1, v3}, Landroid/view/View;->setVisibility(I)V

    .line 14621
    :goto_0
    return v4

    .line 14618
    :cond_0
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, "/"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    .line 14619
    .local v0, counterText:Ljava/lang/String;
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextCounter:Landroid/widget/TextView;

    invoke-virtual {v1, v0}, Landroid/widget/TextView;->setText(Ljava/lang/CharSequence;)V

    .line 14620
    iget-object v1, p0, Lcom/android/mms/ui/ComposeMessageActivity;->mTextCounter:Landroid/widget/TextView;

    invoke-virtual {v1, v3}, Landroid/view/View;->setVisibility(I)V

    goto :goto_0
.end method
