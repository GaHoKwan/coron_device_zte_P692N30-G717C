.class public Lcom/android/providers/contacts/ContactsProvider2;
.super Lcom/android/providers/contacts/AbstractContactsProvider;
.source "ContactsProvider2.java"

# interfaces
.implements Landroid/accounts/OnAccountsUpdateListener;


# annotations
.annotation system Ldalvik/annotation/MemberClasses;
    value = {
        Lcom/android/providers/contacts/ContactsProvider2$RawContactEntry;,
        Lcom/android/providers/contacts/ContactsProvider2$SimStateReceiver;,
        Lcom/android/providers/contacts/ContactsProvider2$DataUsageStatQuery;,
        Lcom/android/providers/contacts/ContactsProvider2$StructuredNameLookupBuilder;,
        Lcom/android/providers/contacts/ContactsProvider2$PipeMonitor;,
        Lcom/android/providers/contacts/ContactsProvider2$LookupByDisplayNameQuery;,
        Lcom/android/providers/contacts/ContactsProvider2$LookupByRawContactIdQuery;,
        Lcom/android/providers/contacts/ContactsProvider2$LookupBySourceIdQuery;,
        Lcom/android/providers/contacts/ContactsProvider2$AddressBookIndexQuery;,
        Lcom/android/providers/contacts/ContactsProvider2$DirectoryQuery;,
        Lcom/android/providers/contacts/ContactsProvider2$GroupAccountQuery;,
        Lcom/android/providers/contacts/ContactsProvider2$GroupIdCacheEntry;,
        Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;,
        Lcom/android/providers/contacts/ContactsProvider2$RawContactsQuery;,
        Lcom/android/providers/contacts/ContactsProvider2$DataContactsQuery;
    }
.end annotation


# static fields
.field public static final ACCOUNT_NAME_LOCAL_PHONE:Ljava/lang/String; = "Phone"

.field private static final ACCOUNT_STRING_SEPARATOR_INNER:Ljava/lang/String; = "\u0002"

.field private static final ACCOUNT_STRING_SEPARATOR_OUTER:Ljava/lang/String; = "\u0001"

.field public static final ACCOUNT_TYPE_LOCAL_PHONE:Ljava/lang/String; = "Local Phone Account"

.field private static final AGGREGATE_CONTACTS:Ljava/lang/String; = "sync.contacts.aggregate"

.field private static final AGGREGATION_EXCEPTIONS:I = 0x1770

.field private static final AGGREGATION_EXCEPTION_ID:I = 0x1771

.field private static final AGGREGATION_SUGGESTIONS:I = 0x1f40

.field private static final BACKGROUND_TASK_CHANGE_LOCALE:I = 0x9

.field private static final BACKGROUND_TASK_CLEANUP_PHOTOS:I = 0xa

.field private static final BACKGROUND_TASK_INITIALIZE:I = 0x0

.field private static final BACKGROUND_TASK_LOAD_LOCAL_ACCOUNT:I = 0x14

.field private static final BACKGROUND_TASK_OPEN_WRITE_ACCESS:I = 0x1

.field private static final BACKGROUND_TASK_UPDATE_ACCOUNTS:I = 0x3

.field private static final BACKGROUND_TASK_UPDATE_DIRECTORIES:I = 0x8

.field private static final BACKGROUND_TASK_UPDATE_LOCALE:I = 0x4

.field private static final BACKGROUND_TASK_UPDATE_PROVIDER_STATUS:I = 0x7

.field private static final BACKGROUND_TASK_UPDATE_SEARCH_INDEX:I = 0x6

.field private static final BACKGROUND_TASK_UPGRADE_AGGREGATION_ALGORITHM:I = 0x5

.field private static final CALLABLES:I = 0xbc3

.field private static final CALLABLES_FILTER:I = 0xbc5

.field private static final CALLABLES_ID:I = 0xbc4

.field private static final COMPLETE_NAME:I = 0x4650

.field private static final CONTACTS:I = 0x3e8

.field private static final CONTACTS_AS_MULTI_VCARD:I = 0x3f8

.field private static final CONTACTS_AS_VCARD:I = 0x3f7

.field static final CONTACTS_DB_TAG:Ljava/lang/String; = "contacts"

.field private static final CONTACTS_DELETE_USAGE:I = 0x402

.field private static final CONTACTS_FILTER:I = 0x3ed

.field private static final CONTACTS_FREQUENT:I = 0x401

.field private static final CONTACTS_GROUP:I = 0x3f0

.field private static final CONTACTS_ID:I = 0x3e9

.field private static final CONTACTS_ID_DATA:I = 0x3ec

.field private static final CONTACTS_ID_DISPLAY_PHOTO:I = 0x3f4

.field private static final CONTACTS_ID_ENTITIES:I = 0x3fb

.field private static final CONTACTS_ID_PHOTO:I = 0x3f1

.field private static final CONTACTS_ID_STREAM_ITEMS:I = 0x3fe

.field private static final CONTACTS_IN_GROUP_SELECT:Ljava/lang/String; = "_id IN (SELECT contact_id FROM raw_contacts WHERE raw_contacts._id IN (SELECT data.raw_contact_id FROM data JOIN mimetypes ON (data.mimetype_id = mimetypes._id) WHERE mimetype_id=? AND data1=(SELECT groups._id FROM groups WHERE _id=? AND deleted=0) ) )"

.field private static final CONTACTS_LOOKUP:I = 0x3ea

.field private static final CONTACTS_LOOKUP_DATA:I = 0x3f9

.field private static final CONTACTS_LOOKUP_DISPLAY_PHOTO:I = 0x3f5

.field private static final CONTACTS_LOOKUP_ENTITIES:I = 0x3fc

.field private static final CONTACTS_LOOKUP_ID:I = 0x3eb

.field private static final CONTACTS_LOOKUP_ID_DATA:I = 0x3fa

.field private static final CONTACTS_LOOKUP_ID_DISPLAY_PHOTO:I = 0x3f6

.field private static final CONTACTS_LOOKUP_ID_ENTITIES:I = 0x3fd

.field private static final CONTACTS_LOOKUP_ID_PHOTO:I = 0x3f3

.field private static final CONTACTS_LOOKUP_ID_STREAM_ITEMS:I = 0x400

.field private static final CONTACTS_LOOKUP_PHOTO:I = 0x3f2

.field private static final CONTACTS_LOOKUP_STREAM_ITEMS:I = 0x3ff

.field private static final CONTACTS_STREQUENT:I = 0x3ee

.field private static final CONTACTS_STREQUENT_FILTER:I = 0x3ef

.field private static final CONTACT_LOOKUP_NAME_TYPES:Ljava/lang/String; = "2,4,3"

.field private static final CONTACT_MEMORY_FILE_NAME:Ljava/lang/String; = "contactAssetFile"

.field private static final DATA:I = 0xbb8

.field private static final DATA_ID:I = 0xbb9

.field private static final DATA_USAGE_FEEDBACK_ID:I = 0x4e21

.field private static final DEBUG_PROPERTY_KEEP_STALE_ACCOUNT_DATA:Ljava/lang/String; = "debug.contacts.ksad"

.field public static final DEFAULT_ACCOUNT_TYPE:Ljava/lang/String; = "com.google"

.field private static final DEFAULT_MAX_SUGGESTIONS:I = 0x5

.field private static final DEFAULT_PREAUTHORIZED_URI_EXPIRATION:I = 0x493e0

.field private static final DEFAULT_SNIPPET_ARG_ELLIPSIS:Ljava/lang/String; = "..."

.field private static final DEFAULT_SNIPPET_ARG_END_MATCH:Ljava/lang/String; = "]"

.field private static final DEFAULT_SNIPPET_ARG_MAX_TOKENS:I = -0xa

.field private static final DEFAULT_SNIPPET_ARG_START_MATCH:Ljava/lang/String; = "["

.field private static final DIALER_SEARCH_INCREMENT:I = 0x15f90

.field private static final DIALER_SEARCH_INIT:I = 0x15f93

.field private static final DIALER_SEARCH_SIMPLE:I = 0x15f91

.field private static final DIRECTORIES:I = 0x4269

.field private static final DIRECTORIES_ID:I = 0x426a

.field private static final DISPLAY_PHOTO_ID:I = 0x55f0

.field private static final DISTINCT_DATA_PROHIBITING_COLUMNS:[Ljava/lang/String; = null

.field private static final EMAILS:I = 0xbbd

.field private static final EMAILS_FILTER:I = 0xbc0

.field private static final EMAILS_ID:I = 0xbbe

.field private static final EMAILS_LOOKUP:I = 0xbbf

.field private static final EMAIL_FILTER_SORT_ORDER:Ljava/lang/String; = "starred DESC, is_super_primary DESC, is_primary DESC, (CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC, in_visible_group DESC, display_name, contact_id"

.field private static final EMPTY_STRING_ARRAY:[Ljava/lang/String; = null

.field private static final FREQUENT_ORDER_BY:Ljava/lang/String; = "times_used DESC,display_name COLLATE LOCALIZED ASC"

.field private static final GROUPS:I = 0x2710

.field private static final GROUPS_ID:I = 0x2711

.field private static final GROUPS_SUMMARY:I = 0x2713

.field private static final INSERT_URI_ID_VALUE_MAP:Ljava/util/Map; = null
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/Map",
            "<",
            "Ljava/lang/Integer;",
            "Ljava/lang/String;",
            ">;"
        }
    .end annotation
.end field

.field private static final LAST_TIME_USED_CURRENT_SEC:J = 0x3f480L

.field private static final LAST_TIME_USED_RECENT_SEC:J = 0x278d00L

.field private static final LEGACY_IMPORT_FAILED_NOTIFICATION:I = 0x1

.field private static final LIVE_FOLDERS_PHONES_CONTACTS:I = 0x36b4

.field private static final LIVE_FOLDERS_SIM1_CONTACTS:I = 0x36b6

.field private static final LIVE_FOLDERS_SIM2_CONTACTS:I = 0x36b7

.field private static final LIVE_FOLDERS_SIM_CONTACTS:I = 0x36b5

.field private static final LIVE_FOLDERS_USIM1_CONTACTS:I = 0x36b9

.field private static final LIVE_FOLDERS_USIM2_CONTACTS:I = 0x36ba

.field private static final LIVE_FOLDERS_USIM_CONTACTS:I = 0x36b8

.field private static final MAX_STREAM_ITEMS_PER_RAW_CONTACT:I = 0x5

.field private static final MESSAGE_LOAD_DATA:I = 0x0

.field static final PHONEBOOK_COLLATOR_NAME:Ljava/lang/String; = "PHONEBOOK"

.field private static final PHONES:I = 0xbba

.field private static final PHONES_FILTER:I = 0xbbc

.field private static final PHONES_ID:I = 0xbbb

.field private static final PHONE_EMAIL:I = 0xc1d

.field private static final PHONE_EMAIL_FILTER:I = 0xc1e

.field private static final PHONE_FILTER_SORT_ORDER:Ljava/lang/String; = "starred DESC, is_super_primary DESC, is_primary DESC, (CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC, in_visible_group DESC, display_name, contact_id"

.field private static final PHONE_LOOKUP:I = 0xfa0

.field private static final PHOTO_CLEANUP_RATE_LIMIT:I = 0x5265c00

.field private static final PHOTO_DIMENSIONS:I = 0x55f1

.field private static final POSTALS:I = 0xbc1

.field private static final POSTALS_ID:I = 0xbc2

.field private static final PREAUTHORIZED_URI_TOKEN:Ljava/lang/String; = "perm_token"

.field private static final PREF_LOCALE:Ljava/lang/String; = "locale"

.field private static final PROFILE:I = 0x4a38

.field private static final PROFILE_AS_VCARD:I = 0x4a3c

.field private static final PROFILE_DATA:I = 0x4a3a

.field private static final PROFILE_DATA_ID:I = 0x4a3b

.field static final PROFILE_DB_TAG:Ljava/lang/String; = "profile"

.field private static final PROFILE_DISPLAY_PHOTO:I = 0x4a44

.field private static final PROFILE_ENTITIES:I = 0x4a39

.field private static final PROFILE_PHOTO:I = 0x4a43

.field private static final PROFILE_RAW_CONTACTS:I = 0x4a3d

.field private static final PROFILE_RAW_CONTACTS_ID:I = 0x4a3e

.field private static final PROFILE_RAW_CONTACTS_ID_DATA:I = 0x4a3f

.field private static final PROFILE_RAW_CONTACTS_ID_ENTITIES:I = 0x4a40

.field private static final PROFILE_RAW_CONTACT_ENTITIES:I = 0x4a42

.field private static final PROFILE_STATUS_UPDATES:I = 0x4a41

.field private static final PROFILE_SYNCSTATE:I = 0x2afa

.field private static final PROFILE_SYNCSTATE_ID:I = 0x2afb

.field private static final PROJECTION_GROUP_ID:[Ljava/lang/String; = null

.field private static final PROPERTY_AGGREGATION_ALGORITHM_VERSION:I = 0x3

.field private static final PROVIDER_STATUS:I = 0x3e81

.field static final QUERY_TOKENIZER_REGEX:Ljava/lang/String; = "[^\\w@]+"

.field private static final RAW_CONTACTS:I = 0x7d2

.field private static final RAW_CONTACTS_ID:I = 0x7d3

.field private static final RAW_CONTACTS_ID_DATA:I = 0x7d4

.field private static final RAW_CONTACTS_ID_DISPLAY_PHOTO:I = 0x7d6

.field private static final RAW_CONTACTS_ID_STREAM_ITEMS:I = 0x7d7

.field private static final RAW_CONTACTS_ID_STREAM_ITEMS_ID:I = 0x7d8

.field private static final RAW_CONTACT_ENTITIES:I = 0x3a99

.field private static final RAW_CONTACT_ID_ENTITY:I = 0x7d5

.field private static final SEARCH_SHORTCUT:I = 0x2ee2

.field private static final SEARCH_SUGGESTIONS:I = 0x2ee1

.field private static final SELECTION_AUTO_ADD_GROUPS_BY_RAW_CONTACT_ID:Ljava/lang/String; = "raw_contacts._id=? AND groups.account_id=raw_contacts.account_id AND auto_add != 0"

.field private static final SELECTION_FAVORITES_GROUPS_BY_RAW_CONTACT_ID:Ljava/lang/String; = "raw_contacts._id=? AND groups.account_id=raw_contacts.account_id AND favorites != 0"

.field private static final SELECTION_GROUPMEMBERSHIP_DATA:Ljava/lang/String; = "mimetype_id=? AND data1=? AND raw_contact_id=?"

.field private static final SELECTION_STARRED_FROM_RAW_CONTACTS:Ljava/lang/String; = "SELECT starred FROM raw_contacts WHERE _id=?"

.field private static final SETTINGS:I = 0x2328

.field private static final SOCIAL_STREAM_URIS:Ljava/util/List; = null
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/List",
            "<",
            "Ljava/lang/Integer;",
            ">;"
        }
    .end annotation
.end field

.field private static final SORT_BY_DATA_USAGE:Ljava/lang/String; = "(CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC"

.field private static final STATUS_UPDATES:I = 0x1b58

.field private static final STATUS_UPDATES_ID:I = 0x1b59

.field private static final STREAM_ITEMS:I = 0x5208

.field private static final STREAM_ITEMS_ID:I = 0x520a

.field private static final STREAM_ITEMS_ID_PHOTOS:I = 0x520b

.field private static final STREAM_ITEMS_ID_PHOTOS_ID:I = 0x520c

.field private static final STREAM_ITEMS_LIMIT:I = 0x520d

.field private static final STREAM_ITEMS_PHOTOS:I = 0x5209

.field private static final SYNCSTATE:I = 0x2af8

.field private static final SYNCSTATE_ID:I = 0x2af9

.field private static final TIME_SINCE_LAST_USED_SEC:Ljava/lang/String; = "(strftime(\'%s\', \'now\') - last_time_used/1000)"

.field private static final UPDATE_RAW_CONTACT_SET_DIRTY_SQL:Ljava/lang/String; = "UPDATE raw_contacts SET dirty=1 WHERE _id IN ("

.field private static final UPDATE_RAW_CONTACT_SET_VERSION_SQL:Ljava/lang/String; = "UPDATE raw_contacts SET version = version + 1 WHERE _id IN ("

.field static final UPDATE_TIMES_CONTACTED_CONTACTS_TABLE:Ljava/lang/String; = "UPDATE contacts SET times_contacted= ifnull(times_contacted,0)+1 WHERE _id=?"

.field static final UPDATE_TIMES_CONTACTED_RAWCONTACTS_TABLE:Ljava/lang/String; = "UPDATE raw_contacts SET times_contacted= ifnull(times_contacted,0)+1  WHERE contact_id=?"

.field private static final WHERE_CLAUSE_FOR_STATUS_UPDATES_TABLE:Ljava/lang/String; = "status_update_data_id IN (SELECT Distinct presence_data_id FROM status_updates LEFT OUTER JOIN presence ON status_update_data_id = presence_data_id WHERE "

.field private static final sAggregationExceptionsProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sContactPresenceColumns:Lcom/android/common/content/ProjectionMap;

.field private static final sContactsColumns:Lcom/android/common/content/ProjectionMap;

.field private static final sContactsPresenceColumns:Lcom/android/common/content/ProjectionMap;

.field private static final sContactsProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sContactsProjectionWithSnippetMap:Lcom/android/common/content/ProjectionMap;

.field private static final sContactsVCardProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sCountProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sDataColumns:Lcom/android/common/content/ProjectionMap;

.field private static final sDataPresenceColumns:Lcom/android/common/content/ProjectionMap;

.field private static final sDataProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sDataSipLookupProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sDirectoryProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sDistinctDataProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sDistinctDataSipLookupProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sEntityProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sGroupsProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sGroupsSummaryProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sPhoneLookupProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sRawContactColumns:Lcom/android/common/content/ProjectionMap;

.field private static final sRawContactSyncColumns:Lcom/android/common/content/ProjectionMap;

.field private static final sRawContactsProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sRawEntityProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sSettingsProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sSipLookupColumns:Lcom/android/common/content/ProjectionMap;

.field private static final sSnippetColumns:Lcom/android/common/content/ProjectionMap;

.field private static final sStatusUpdatesProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sStreamItemPhotosProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sStreamItemsProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sStrequentFrequentProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sStrequentPhoneOnlyFrequentProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sStrequentPhoneOnlyStarredProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sStrequentStarredProjectionMap:Lcom/android/common/content/ProjectionMap;

.field private static final sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;


# instance fields
.field private mAccount:Landroid/accounts/Account;

.field private mAccountUpdateListenerRegistered:Z

.field private final mAccountWritability:Ljava/util/HashMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/HashMap",
            "<",
            "Ljava/lang/String;",
            "Ljava/lang/Boolean;",
            ">;"
        }
    .end annotation
.end field

.field private final mAggregator:Ljava/lang/ThreadLocal;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ThreadLocal",
            "<",
            "Lcom/android/providers/contacts/aggregation/ContactAggregator;",
            ">;"
        }
    .end annotation
.end field

.field private mBackgroundHandler:Landroid/os/Handler;

.field private mBackgroundThread:Landroid/os/HandlerThread;

.field private mBroadcastReceiver:Landroid/content/BroadcastReceiver;

.field private mCommonNicknameCache:Lcom/android/providers/contacts/aggregation/util/CommonNicknameCache;

.field private mContactAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

.field private mContactDirectoryManager:Lcom/android/providers/contacts/ContactDirectoryManager;

.field private final mContactTransactionContext:Lcom/android/providers/contacts/TransactionContext;

.field private mContactsAccountCount:I

.field private mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

.field private mContactsPhotoStore:Lcom/android/providers/contacts/PhotoStore;

.field private mCurrentLocale:Ljava/util/Locale;

.field private mDataRowHandlers:Ljava/util/HashMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/HashMap",
            "<",
            "Ljava/lang/String;",
            "Lcom/android/providers/contacts/DataRowHandler;",
            ">;"
        }
    .end annotation
.end field

.field private final mDbHelper:Ljava/lang/ThreadLocal;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ThreadLocal",
            "<",
            "Lcom/android/providers/contacts/ContactsDatabaseHelper;",
            ">;"
        }
    .end annotation
.end field

.field private mDialerSearchSupport:Lcom/android/providers/contacts/DialerSearchSupport;

.field private mDirectoryCache:Ljava/util/HashMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/HashMap",
            "<",
            "Ljava/lang/String;",
            "Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;",
            ">;"
        }
    .end annotation
.end field

.field private mDirectoryCacheValid:Z

.field private mEstimatedStorageRequirement:J

.field private mFastScrollingIndexCache:Lcom/android/providers/contacts/FastScrollingIndexCache;

.field private mFastScrollingIndexCacheMissCount:I

.field private mFastScrollingIndexCacheRequestCount:I

.field private mGlobalSearchSupport:Lcom/android/providers/contacts/GlobalSearchSupport;

.field private mGroupIdCache:Ljava/util/HashMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/HashMap",
            "<",
            "Ljava/lang/String;",
            "Ljava/util/ArrayList",
            "<",
            "Lcom/android/providers/contacts/ContactsProvider2$GroupIdCacheEntry;",
            ">;>;"
        }
    .end annotation
.end field

.field private final mInProfileMode:Ljava/lang/ThreadLocal;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ThreadLocal",
            "<",
            "Ljava/lang/Boolean;",
            ">;"
        }
    .end annotation
.end field

.field private mIsPhone:Z

.field private mIsPhoneInitialized:Z

.field private mLastPhotoCleanup:J

.field private mLegacyApiSupport:Lcom/android/providers/contacts/LegacyApiSupport;

.field private mListenerHandler:Landroid/os/Handler;

.field private mListenerThread:Landroid/os/HandlerThread;

.field private mNameLookupBuilder:Lcom/android/providers/contacts/NameLookupBuilder;

.field private mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

.field private mOkToOpenAccess:Z

.field private final mPhotoStore:Ljava/lang/ThreadLocal;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ThreadLocal",
            "<",
            "Lcom/android/providers/contacts/PhotoStore;",
            ">;"
        }
    .end annotation
.end field

.field private mPostalSplitter:Lcom/android/providers/contacts/PostalSplitter;

.field private mPreAuthorizedUriDuration:J

.field private final mPreAuthorizedUris:Ljava/util/Map;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/Map",
            "<",
            "Landroid/net/Uri;",
            "Ljava/lang/Long;",
            ">;"
        }
    .end annotation
.end field

.field private mProfileAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

.field private mProfileDataRowHandlers:Ljava/util/HashMap;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/HashMap",
            "<",
            "Ljava/lang/String;",
            "Lcom/android/providers/contacts/DataRowHandler;",
            ">;"
        }
    .end annotation
.end field

.field private mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

.field private mProfilePhotoStore:Lcom/android/providers/contacts/PhotoStore;

.field private mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

.field private final mProfileTransactionContext:Lcom/android/providers/contacts/TransactionContext;

.field private mProviderStatus:I

.field private mProviderStatusUpdateNeeded:Z

.field private final mRandom:Ljava/security/SecureRandom;

.field private volatile mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

.field private final mSb:Ljava/lang/StringBuilder;

.field private mSearchIndexManager:Lcom/android/providers/contacts/SearchIndexManager;

.field private final mSelectionArgs:Ljava/util/ArrayList;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/util/ArrayList",
            "<",
            "Ljava/lang/String;",
            ">;"
        }
    .end annotation
.end field

.field private final mSelectionArgs1:[Ljava/lang/String;

.field private final mSelectionArgs2:[Ljava/lang/String;

.field private final mSelectionArgs3:[Ljava/lang/String;

.field private final mSelectionArgs4:[Ljava/lang/String;

.field private mSyncToNetwork:Z

.field private mTotalTimeFastScrollingIndexGenerate:J

.field private final mTransactionContext:Ljava/lang/ThreadLocal;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ThreadLocal",
            "<",
            "Lcom/android/providers/contacts/TransactionContext;",
            ">;"
        }
    .end annotation
.end field

.field private final mTransactionHolder:Ljava/lang/ThreadLocal;
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "Ljava/lang/ThreadLocal",
            "<",
            "Lcom/android/providers/contacts/ContactsTransaction;",
            ">;"
        }
    .end annotation
.end field

.field private final mValues:Landroid/content/ContentValues;

.field private mVisibleTouched:Z

.field private volatile mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;


# direct methods
.method static constructor <clinit>()V
    .locals 10

    .prologue
    const/16 v9, 0x5208

    const/16 v8, 0x7d7

    const/4 v4, 0x1

    const-wide v6, 0x7fffffffffffffffL

    const/4 v5, 0x0

    .line 253
    new-instance v1, Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    const/4 v2, -0x1

    invoke-direct {v1, v2}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;-><init>(I)V

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    .line 402
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    .line 404
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    const/16 v2, 0xbb8

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const-string v3, "raw_contact_id"

    invoke-interface {v1, v2, v3}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 405
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    const/16 v2, 0x7d4

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const-string v3, "raw_contact_id"

    invoke-interface {v1, v2, v3}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 406
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    const/16 v2, 0x1b58

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const-string v3, "presence_data_id"

    invoke-interface {v1, v2, v3}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 407
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    invoke-static {v9}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const-string v3, "raw_contact_id"

    invoke-interface {v1, v2, v3}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 408
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const-string v3, "raw_contact_id"

    invoke-interface {v1, v2, v3}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 409
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    const/16 v2, 0x5209

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const-string v3, "stream_item_id"

    invoke-interface {v1, v2, v3}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 410
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    const/16 v2, 0x520b

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    const-string v3, "stream_item_id"

    invoke-interface {v1, v2, v3}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 416
    const/16 v1, 0xa

    new-array v1, v1, [Ljava/lang/Integer;

    const/16 v2, 0x3fe

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v1, v5

    const/16 v2, 0x3ff

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    aput-object v2, v1, v4

    const/4 v2, 0x2

    const/16 v3, 0x400

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    aput-object v3, v1, v2

    const/4 v2, 0x3

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    aput-object v3, v1, v2

    const/4 v2, 0x4

    const/16 v3, 0x7d8

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    aput-object v3, v1, v2

    const/4 v2, 0x5

    invoke-static {v9}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    aput-object v3, v1, v2

    const/4 v2, 0x6

    const/16 v3, 0x5209

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    aput-object v3, v1, v2

    const/4 v2, 0x7

    const/16 v3, 0x520a

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    aput-object v3, v1, v2

    const/16 v2, 0x8

    const/16 v3, 0x520b

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    aput-object v3, v1, v2

    const/16 v2, 0x9

    const/16 v3, 0x520c

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    aput-object v3, v1, v2

    invoke-static {v1}, Lcom/google/android/collect/Lists;->newArrayList([Ljava/lang/Object;)Ljava/util/ArrayList;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->SOCIAL_STREAM_URIS:Ljava/util/List;

    .line 439
    new-array v1, v4, [Ljava/lang/String;

    const-string v2, "groups._id"

    aput-object v2, v1, v5

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->PROJECTION_GROUP_ID:[Ljava/lang/String;

    .line 571
    const/16 v1, 0xb

    new-array v1, v1, [Ljava/lang/String;

    const-string v2, "_id"

    aput-object v2, v1, v5

    const-string v2, "raw_contact_id"

    aput-object v2, v1, v4

    const/4 v2, 0x2

    const-string v3, "name_raw_contact_id"

    aput-object v3, v1, v2

    const/4 v2, 0x3

    const-string v3, "account_name"

    aput-object v3, v1, v2

    const/4 v2, 0x4

    const-string v3, "account_type"

    aput-object v3, v1, v2

    const/4 v2, 0x5

    const-string v3, "data_set"

    aput-object v3, v1, v2

    const/4 v2, 0x6

    const-string v3, "account_type_and_data_set"

    aput-object v3, v1, v2

    const/4 v2, 0x7

    const-string v3, "dirty"

    aput-object v3, v1, v2

    const/16 v2, 0x8

    const-string v3, "name_verified"

    aput-object v3, v1, v2

    const/16 v2, 0x9

    const-string v3, "sourceid"

    aput-object v3, v1, v2

    const/16 v2, 0xa

    const-string v3, "version"

    aput-object v3, v1, v2

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->DISTINCT_DATA_PROHIBITING_COLUMNS:[Ljava/lang/String;

    .line 585
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "custom_ringtone"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "display_name"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "display_name_alt"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "display_name_source"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "in_visible_group"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "last_time_contacted"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "lookup"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "phonetic_name"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "phonetic_name_style"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "photo_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "photo_file_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "photo_uri"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "photo_thumb_uri"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "send_to_voicemail"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sort_key_alt"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sort_key"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "starred"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "times_contacted"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "has_phone_number"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "indicate_phone_or_sim_contact"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "index_in_sim"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "send_to_voicemail_vt"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "send_to_voicemail_sip"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "is_sdn_contact"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sContactsColumns:Lcom/android/common/content/ProjectionMap;

    .line 613
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_presence"

    const-string v3, "agg_presence.mode"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_chat_capability"

    const-string v3, "agg_presence.chat_capability"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_status"

    const-string v3, "contacts_status_updates.status"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_status_ts"

    const-string v3, "contacts_status_updates.status_ts"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_status_res_package"

    const-string v3, "contacts_status_updates.status_res_package"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_status_label"

    const-string v3, "contacts_status_updates.status_label"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_status_icon"

    const-string v3, "contacts_status_updates.status_icon"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sContactsPresenceColumns:Lcom/android/common/content/ProjectionMap;

    .line 630
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "snippet"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sSnippetColumns:Lcom/android/common/content/ProjectionMap;

    .line 634
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "account_name"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "account_type"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data_set"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "account_type_and_data_set"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "dirty"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "name_verified"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sourceid"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "version"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "indicate_phone_or_sim_contact"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "index_in_sim"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "timestamp"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "is_sdn_contact"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactColumns:Lcom/android/common/content/ProjectionMap;

    .line 649
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sync1"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sync2"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sync3"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sync4"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactSyncColumns:Lcom/android/common/content/ProjectionMap;

    .line 656
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data1"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data2"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data3"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data4"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data5"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data6"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data7"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data8"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data9"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data10"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data11"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data12"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data13"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data14"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data15"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data_version"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "is_primary"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "is_super_primary"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "mimetype"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "res_package"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data_sync1"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data_sync2"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data_sync3"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data_sync4"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "group_sourceid"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sim_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "is_additional_number"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sDataColumns:Lcom/android/common/content/ProjectionMap;

    .line 686
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_presence"

    const-string v3, "agg_presence.mode"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_chat_capability"

    const-string v3, "agg_presence.chat_capability"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_status"

    const-string v3, "contacts_status_updates.status"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_status_ts"

    const-string v3, "contacts_status_updates.status_ts"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_status_res_package"

    const-string v3, "contacts_status_updates.status_res_package"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_status_label"

    const-string v3, "contacts_status_updates.status_label"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_status_icon"

    const-string v3, "contacts_status_updates.status_icon"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sContactPresenceColumns:Lcom/android/common/content/ProjectionMap;

    .line 703
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "mode"

    const-string v3, "presence.mode"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "chat_capability"

    const-string v3, "presence.chat_capability"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "status"

    const-string v3, "status_updates.status"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "status_ts"

    const-string v3, "status_updates.status_ts"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "status_res_package"

    const-string v3, "status_updates.status_res_package"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "status_label"

    const-string v3, "status_updates.status_label"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "status_icon"

    const-string v3, "status_updates.status_icon"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sDataPresenceColumns:Lcom/android/common/content/ProjectionMap;

    .line 714
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_count"

    const-string v3, "COUNT(*)"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sCountProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 719
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "has_phone_number"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "name_raw_contact_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "is_user_profile"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactsColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactsPresenceColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 729
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sSnippetColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionWithSnippetMap:Lcom/android/common/content/ProjectionMap;

    .line 735
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "times_used"

    invoke-static {v6, v7}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "last_time_used"

    invoke-static {v6, v7}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentStarredProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 741
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "times_used"

    const-string v3, "SUM(data_usage_stat.times_used)"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "last_time_used"

    const-string v3, "MAX(data_usage_stat.last_time_used)"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentFrequentProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 754
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "times_used"

    invoke-static {v6, v7}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "last_time_used"

    invoke-static {v6, v7}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data1"

    const-string v3, "NULL"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data2"

    const-string v3, "NULL"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data3"

    const-string v3, "NULL"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentPhoneOnlyStarredProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 771
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "times_used"

    const-string v3, "data_usage_stat.times_used"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "last_time_used"

    const-string v3, "data_usage_stat.last_time_used"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data1"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data2"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data3"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "is_user_profile"

    const-string v3, "NULL"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentPhoneOnlyFrequentProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 783
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_display_name"

    const-string v3, "display_name || \'.vcf\'"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_size"

    const-string v3, "NULL"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sContactsVCardProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 790
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "deleted"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "display_name"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "display_name_alt"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "display_name_source"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "phonetic_name"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "phonetic_name_style"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sort_key"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sort_key_alt"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "times_contacted"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "last_time_contacted"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "custom_ringtone"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "send_to_voicemail"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "starred"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "aggregation_mode"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "raw_contact_is_user_profile"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "timestamp"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "send_to_voicemail_vt"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "send_to_voicemail_sip"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactSyncColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactsProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 816
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "deleted"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "starred"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "raw_contact_is_user_profile"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactSyncColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDataColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sRawEntityProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 829
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "raw_contact_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "name_raw_contact_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "deleted"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "is_user_profile"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactsColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactPresenceColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactSyncColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDataColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDataPresenceColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sEntityProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 846
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "number"

    const-string v3, "data1"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "type"

    const-string v3, "0"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "label"

    const-string v3, "NULL"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "normalized_number"

    const-string v3, "NULL"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sSipLookupColumns:Lcom/android/common/content/ProjectionMap;

    .line 854
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "raw_contact_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "name_raw_contact_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "raw_contact_is_user_profile"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDataColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDataPresenceColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactsColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactPresenceColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sDataProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 868
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDataProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sSipLookupColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sDataSipLookupProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 874
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_id"

    const-string v3, "MIN(_id)"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "raw_contact_is_user_profile"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDataColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDataPresenceColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactsColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sContactPresenceColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sDistinctDataProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 885
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sDistinctDataProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sSipLookupColumns:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sDistinctDataSipLookupProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 891
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_id"

    const-string v3, "contacts_view._id"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "lookup"

    const-string v3, "contacts_view.lookup"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "display_name"

    const-string v3, "contacts_view.display_name"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "last_time_contacted"

    const-string v3, "contacts_view.last_time_contacted"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "times_contacted"

    const-string v3, "contacts_view.times_contacted"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "starred"

    const-string v3, "contacts_view.starred"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "in_visible_group"

    const-string v3, "contacts_view.in_visible_group"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "photo_id"

    const-string v3, "contacts_view.photo_id"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "photo_uri"

    const-string v3, "contacts_view.photo_uri"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "photo_thumb_uri"

    const-string v3, "contacts_view.photo_thumb_uri"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "custom_ringtone"

    const-string v3, "contacts_view.custom_ringtone"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "has_phone_number"

    const-string v3, "contacts_view.has_phone_number"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "send_to_voicemail"

    const-string v3, "contacts_view.send_to_voicemail"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "number"

    const-string v3, "data1"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "type"

    const-string v3, "data2"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "label"

    const-string v3, "data3"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "normalized_number"

    const-string v3, "data4"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "send_to_voicemail_vt"

    const-string v3, "contacts_view.send_to_voicemail_vt"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "send_to_voicemail_sip"

    const-string v3, "contacts_view.send_to_voicemail_sip"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "indicate_phone_or_sim_contact"

    const-string v3, "contacts_view.indicate_phone_or_sim_contact"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "index_in_sim"

    const-string v3, "contacts_view.index_in_sim"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "filter"

    const-string v3, "contacts_view.filter"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data_id"

    const-string v3, "data_id"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "raw_contact_id"

    const-string v3, "raw_contacts._id"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "is_sdn_contact"

    const-string v3, "raw_contacts.is_sdn_contact"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_id"

    const-string v3, "contacts_view._id"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data1"

    const-string v3, "data1"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data3"

    const-string v3, "data3"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "display_name"

    const-string v3, "contacts_view.display_name"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_id"

    const-string v3, "contacts_view._id"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_presence"

    const-string v3, "mode"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_status"

    const-string v3, "status"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data4"

    const-string v3, "data4"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "send_to_voicemail"

    const-string v3, "contacts_view.send_to_voicemail"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sPhoneLookupProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 934
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "account_name"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "account_type"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data_set"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "account_type_and_data_set"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sourceid"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "dirty"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "version"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "res_package"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "title"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "title_res"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "group_visible"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "system_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "deleted"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "notes"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "should_sync"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "favorites"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "auto_add"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "group_is_read_only"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sync1"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sync2"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sync3"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sync4"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sGroupsProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 969
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->sGroupsProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->addAll(Lcom/android/common/content/ProjectionMap;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "summ_count"

    const-string v3, "ifnull(group_member_count, 0)"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "summ_phones"

    const-string v3, "(SELECT COUNT(contacts._id) FROM contacts INNER JOIN raw_contacts ON (raw_contacts.contact_id=contacts._id) INNER JOIN data ON (data.data1=groups._id AND data.raw_contact_id=raw_contacts._id AND data.mimetype_id=(SELECT _id FROM mimetypes WHERE mimetypes.mimetype=\'vnd.android.cursor.item/group_membership\')) WHERE has_phone_number)"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "group_count_per_account"

    const-string v3, "0"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sGroupsSummaryProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 980
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_id"

    const-string v3, "agg_exceptions._id"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "type"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "raw_contact_id1"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "raw_contact_id2"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sAggregationExceptionsProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 988
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "account_name"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "account_type"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data_set"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "ungrouped_visible"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "should_sync"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "any_unsynced"

    const-string v3, "(CASE WHEN MIN(should_sync,(SELECT (CASE WHEN MIN(should_sync) IS NULL THEN 1 ELSE MIN(should_sync) END) FROM view_groups WHERE view_groups.account_name=settings.account_name AND view_groups.account_type=settings.account_type AND ((view_groups.data_set IS NULL AND settings.data_set IS NULL) OR (view_groups.data_set=settings.data_set))))=0 THEN 1 ELSE 0 END)"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "summ_count"

    const-string v3, "(SELECT COUNT(*) FROM (SELECT 1 FROM settings LEFT OUTER JOIN raw_contacts ON (raw_contacts.account_id=(SELECT accounts._id FROM accounts WHERE (accounts.account_name=settings.account_name) AND (accounts.account_type=settings.account_type)))LEFT OUTER JOIN data ON (data.mimetype_id=? AND data.raw_contact_id = raw_contacts._id) LEFT OUTER JOIN contacts ON (raw_contacts.contact_id = contacts._id) GROUP BY settings.account_name,settings.account_type,contact_id HAVING COUNT(data.data1) == 0))"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "summ_phones"

    const-string v3, "(SELECT COUNT(*) FROM (SELECT 1 FROM settings LEFT OUTER JOIN raw_contacts ON (raw_contacts.account_id=(SELECT accounts._id FROM accounts WHERE (accounts.account_name=settings.account_name) AND (accounts.account_type=settings.account_type)))LEFT OUTER JOIN data ON (data.mimetype_id=? AND data.raw_contact_id = raw_contacts._id) LEFT OUTER JOIN contacts ON (raw_contacts.contact_id = contacts._id) WHERE has_phone_number GROUP BY settings.account_name,settings.account_type,contact_id HAVING COUNT(data.data1) == 0))"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sSettingsProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 1031
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "presence_raw_contact_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "presence_data_id"

    const-string v3, "data._id"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "im_account"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "im_handle"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "protocol"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "custom_protocol"

    const-string v3, "(CASE WHEN custom_protocol=\'\' THEN NULL ELSE custom_protocol END)"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "mode"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "chat_capability"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "status"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "status_ts"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "status_res_package"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "status_icon"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "status_label"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sStatusUpdatesProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 1053
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "contact_lookup"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "account_name"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "account_type"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "data_set"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "raw_contact_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "raw_contact_source_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "res_package"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "icon"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "label"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "text"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "timestamp"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "comments"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "stream_item_sync1"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "stream_item_sync2"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "stream_item_sync3"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "stream_item_sync4"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sStreamItemsProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 1074
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_id"

    const-string v3, "stream_item_photos._id"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "raw_contact_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "raw_contact_source_id"

    const-string v3, "raw_contacts.sourceid"

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "stream_item_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "sort_index"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "photo_file_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "photo_uri"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "\'"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    sget-object v4, Landroid/provider/ContactsContract$DisplayPhoto;->CONTENT_URI:Landroid/net/Uri;

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "\'||\'/\'||"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "photo_file_id"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "height"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "width"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "filesize"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "stream_item_photo_sync1"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "stream_item_photo_sync2"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "stream_item_photo_sync3"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "stream_item_photo_sync4"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sStreamItemPhotosProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 1093
    invoke-static {}, Lcom/android/common/content/ProjectionMap;->builder()Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "_id"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "packageName"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "typeResourceId"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "displayName"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "authority"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "accountType"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "accountName"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "exportSupport"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "shortcutSupport"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    const-string v2, "photoSupport"

    invoke-virtual {v1, v2}, Lcom/android/common/content/ProjectionMap$Builder;->add(Ljava/lang/String;)Lcom/android/common/content/ProjectionMap$Builder;

    move-result-object v1

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap$Builder;->build()Lcom/android/common/content/ProjectionMap;

    move-result-object v1

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sDirectoryProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 1112
    new-array v1, v5, [Ljava/lang/String;

    sput-object v1, Lcom/android/providers/contacts/ContactsProvider2;->EMPTY_STRING_ARRAY:[Ljava/lang/String;

    .line 1138
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    .line 1139
    .local v0, matcher:Landroid/content/UriMatcher;
    const-string v1, "com.android.contacts"

    const-string v2, "contacts"

    const/16 v3, 0x3e8

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1140
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/#"

    const/16 v3, 0x3e9

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1141
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/#/data"

    const/16 v3, 0x3ec

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1142
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/#/entities"

    const/16 v3, 0x3fb

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1143
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/#/suggestions"

    const/16 v3, 0x1f40

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1145
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/#/suggestions/*"

    const/16 v3, 0x1f40

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1147
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/#/photo"

    const/16 v3, 0x3f1

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1148
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/#/display_photo"

    const/16 v3, 0x3f4

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1150
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/#/stream_items"

    const/16 v3, 0x3fe

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1152
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/filter"

    const/16 v3, 0x3ed

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1153
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/filter/*"

    const/16 v3, 0x3ed

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1154
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/lookup/*"

    const/16 v3, 0x3ea

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1155
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/lookup/*/data"

    const/16 v3, 0x3f9

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1156
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/lookup/*/photo"

    const/16 v3, 0x3f2

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1158
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/lookup/*/#"

    const/16 v3, 0x3eb

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1159
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/lookup/*/#/data"

    const/16 v3, 0x3fa

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1161
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/lookup/*/#/photo"

    const/16 v3, 0x3f3

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1163
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/lookup/*/display_photo"

    const/16 v3, 0x3f5

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1165
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/lookup/*/#/display_photo"

    const/16 v3, 0x3f6

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1167
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/lookup/*/entities"

    const/16 v3, 0x3fc

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1169
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/lookup/*/#/entities"

    const/16 v3, 0x3fd

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1171
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/lookup/*/stream_items"

    const/16 v3, 0x3ff

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1173
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/lookup/*/#/stream_items"

    const/16 v3, 0x400

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1175
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/as_vcard/*"

    const/16 v3, 0x3f7

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1176
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/as_multi_vcard/*"

    const/16 v3, 0x3f8

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1178
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/strequent/"

    const/16 v3, 0x3ee

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1179
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/strequent/filter/*"

    const/16 v3, 0x3ef

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1181
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/group/*"

    const/16 v3, 0x3f0

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1182
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/frequent"

    const/16 v3, 0x401

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1183
    const-string v1, "com.android.contacts"

    const-string v2, "contacts/delete_usage"

    const/16 v3, 0x402

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1185
    const-string v1, "com.android.contacts"

    const-string v2, "raw_contacts"

    const/16 v3, 0x7d2

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1186
    const-string v1, "com.android.contacts"

    const-string v2, "raw_contacts/#"

    const/16 v3, 0x7d3

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1187
    const-string v1, "com.android.contacts"

    const-string v2, "raw_contacts/#/data"

    const/16 v3, 0x7d4

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1188
    const-string v1, "com.android.contacts"

    const-string v2, "raw_contacts/#/display_photo"

    const/16 v3, 0x7d6

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1190
    const-string v1, "com.android.contacts"

    const-string v2, "raw_contacts/#/entity"

    const/16 v3, 0x7d5

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1191
    const-string v1, "com.android.contacts"

    const-string v2, "raw_contacts/#/stream_items"

    invoke-virtual {v0, v1, v2, v8}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1193
    const-string v1, "com.android.contacts"

    const-string v2, "raw_contacts/#/stream_items/#"

    const/16 v3, 0x7d8

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1196
    const-string v1, "com.android.contacts"

    const-string v2, "raw_contact_entities"

    const/16 v3, 0x3a99

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1198
    const-string v1, "com.android.contacts"

    const-string v2, "data"

    const/16 v3, 0xbb8

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1199
    const-string v1, "com.android.contacts"

    const-string v2, "data/#"

    const/16 v3, 0xbb9

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1200
    const-string v1, "com.android.contacts"

    const-string v2, "data/phones"

    const/16 v3, 0xbba

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1201
    const-string v1, "com.android.contacts"

    const-string v2, "data/phones/#"

    const/16 v3, 0xbbb

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1202
    const-string v1, "com.android.contacts"

    const-string v2, "data/phones/filter"

    const/16 v3, 0xbbc

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1203
    const-string v1, "com.android.contacts"

    const-string v2, "data/phones/filter/*"

    const/16 v3, 0xbbc

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1204
    const-string v1, "com.android.contacts"

    const-string v2, "data/emails"

    const/16 v3, 0xbbd

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1205
    const-string v1, "com.android.contacts"

    const-string v2, "data/emails/#"

    const/16 v3, 0xbbe

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1206
    const-string v1, "com.android.contacts"

    const-string v2, "data/emails/lookup"

    const/16 v3, 0xbbf

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1207
    const-string v1, "com.android.contacts"

    const-string v2, "data/emails/lookup/*"

    const/16 v3, 0xbbf

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1208
    const-string v1, "com.android.contacts"

    const-string v2, "data/emails/filter"

    const/16 v3, 0xbc0

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1209
    const-string v1, "com.android.contacts"

    const-string v2, "data/emails/filter/*"

    const/16 v3, 0xbc0

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1210
    const-string v1, "com.android.contacts"

    const-string v2, "data/postals"

    const/16 v3, 0xbc1

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1211
    const-string v1, "com.android.contacts"

    const-string v2, "data/postals/#"

    const/16 v3, 0xbc2

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1213
    const-string v1, "com.android.contacts"

    const-string v2, "data/usagefeedback/*"

    const/16 v3, 0x4e21

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1214
    const-string v1, "com.android.contacts"

    const-string v2, "data/callables/"

    const/16 v3, 0xbc3

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1215
    const-string v1, "com.android.contacts"

    const-string v2, "data/callables/#"

    const/16 v3, 0xbc4

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1216
    const-string v1, "com.android.contacts"

    const-string v2, "data/callables/filter"

    const/16 v3, 0xbc5

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1217
    const-string v1, "com.android.contacts"

    const-string v2, "data/callables/filter/*"

    const/16 v3, 0xbc5

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1219
    const-string v1, "com.android.contacts"

    const-string v2, "groups"

    const/16 v3, 0x2710

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1220
    const-string v1, "com.android.contacts"

    const-string v2, "groups/#"

    const/16 v3, 0x2711

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1221
    const-string v1, "com.android.contacts"

    const-string v2, "groups_summary"

    const/16 v3, 0x2713

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1223
    const-string v1, "com.android.contacts"

    const-string v2, "syncstate"

    const/16 v3, 0x2af8

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1224
    const-string v1, "com.android.contacts"

    const-string v2, "syncstate/#"

    const/16 v3, 0x2af9

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1226
    const-string v1, "com.android.contacts"

    const-string v2, "profile/syncstate"

    const/16 v3, 0x2afa

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1228
    const-string v1, "com.android.contacts"

    const-string v2, "profile/syncstate/#"

    const/16 v3, 0x2afb

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1233
    const-string v1, "com.android.contacts"

    const-string v2, "phone_lookup"

    const/16 v3, 0xfa0

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1234
    const-string v1, "com.android.contacts"

    const-string v2, "phone_lookup/*"

    const/16 v3, 0xfa0

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1235
    const-string v1, "com.android.contacts"

    const-string v2, "aggregation_exceptions"

    const/16 v3, 0x1770

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1237
    const-string v1, "com.android.contacts"

    const-string v2, "aggregation_exceptions/*"

    const/16 v3, 0x1771

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1240
    const-string v1, "com.android.contacts"

    const-string v2, "settings"

    const/16 v3, 0x2328

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1242
    const-string v1, "com.android.contacts"

    const-string v2, "status_updates"

    const/16 v3, 0x1b58

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1243
    const-string v1, "com.android.contacts"

    const-string v2, "status_updates/#"

    const/16 v3, 0x1b59

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1245
    const-string v1, "com.android.contacts"

    const-string v2, "search_suggest_query"

    const/16 v3, 0x2ee1

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1247
    const-string v1, "com.android.contacts"

    const-string v2, "search_suggest_query/*"

    const/16 v3, 0x2ee1

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1249
    const-string v1, "com.android.contacts"

    const-string v2, "search_suggest_shortcut/*"

    const/16 v3, 0x2ee2

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1252
    const-string v1, "com.android.contacts"

    const-string v2, "provider_status"

    const/16 v3, 0x3e81

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1254
    const-string v1, "com.android.contacts"

    const-string v2, "directories"

    const/16 v3, 0x4269

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1255
    const-string v1, "com.android.contacts"

    const-string v2, "directories/#"

    const/16 v3, 0x426a

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1257
    const-string v1, "com.android.contacts"

    const-string v2, "complete_name"

    const/16 v3, 0x4650

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1259
    const-string v1, "com.android.contacts"

    const-string v2, "profile"

    const/16 v3, 0x4a38

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1260
    const-string v1, "com.android.contacts"

    const-string v2, "profile/entities"

    const/16 v3, 0x4a39

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1261
    const-string v1, "com.android.contacts"

    const-string v2, "profile/data"

    const/16 v3, 0x4a3a

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1262
    const-string v1, "com.android.contacts"

    const-string v2, "profile/data/#"

    const/16 v3, 0x4a3b

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1263
    const-string v1, "com.android.contacts"

    const-string v2, "profile/photo"

    const/16 v3, 0x4a43

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1264
    const-string v1, "com.android.contacts"

    const-string v2, "profile/display_photo"

    const/16 v3, 0x4a44

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1265
    const-string v1, "com.android.contacts"

    const-string v2, "profile/as_vcard"

    const/16 v3, 0x4a3c

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1266
    const-string v1, "com.android.contacts"

    const-string v2, "profile/raw_contacts"

    const/16 v3, 0x4a3d

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1267
    const-string v1, "com.android.contacts"

    const-string v2, "profile/raw_contacts/#"

    const/16 v3, 0x4a3e

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1269
    const-string v1, "com.android.contacts"

    const-string v2, "profile/raw_contacts/#/data"

    const/16 v3, 0x4a3f

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1271
    const-string v1, "com.android.contacts"

    const-string v2, "profile/raw_contacts/#/entity"

    const/16 v3, 0x4a40

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1273
    const-string v1, "com.android.contacts"

    const-string v2, "profile/status_updates"

    const/16 v3, 0x4a41

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1275
    const-string v1, "com.android.contacts"

    const-string v2, "profile/raw_contact_entities"

    const/16 v3, 0x4a42

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1278
    const-string v1, "com.android.contacts"

    const-string v2, "stream_items"

    invoke-virtual {v0, v1, v2, v9}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1279
    const-string v1, "com.android.contacts"

    const-string v2, "stream_items/photo"

    const/16 v3, 0x5209

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1280
    const-string v1, "com.android.contacts"

    const-string v2, "stream_items/#"

    const/16 v3, 0x520a

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1281
    const-string v1, "com.android.contacts"

    const-string v2, "stream_items/#/photo"

    const/16 v3, 0x520b

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1282
    const-string v1, "com.android.contacts"

    const-string v2, "stream_items/#/photo/#"

    const/16 v3, 0x520c

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1284
    const-string v1, "com.android.contacts"

    const-string v2, "stream_items_limit"

    const/16 v3, 0x520d

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1286
    const-string v1, "com.android.contacts"

    const-string v2, "display_photo/#"

    const/16 v3, 0x55f0

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1287
    const-string v1, "com.android.contacts"

    const-string v2, "photo_dimensions"

    const/16 v3, 0x55f1

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1290
    const-string v1, "com.android.contacts"

    const-string v2, "data/phone_email"

    const/16 v3, 0xc1d

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1291
    const-string v1, "com.android.contacts"

    const-string v2, "data/phone_email/filter"

    const/16 v3, 0xc1e

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1292
    const-string v1, "com.android.contacts"

    const-string v2, "data/phone_email/filter/*"

    const/16 v3, 0xc1e

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1293
    const-string v1, "com.android.contacts"

    const-string v2, "live_folders/phone_contact"

    const/16 v3, 0x36b4

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1295
    const-string v1, "com.android.contacts"

    const-string v2, "live_folders/sim_contact"

    const/16 v3, 0x36b5

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1297
    const-string v1, "com.android.contacts"

    const-string v2, "live_folders/sim1_contact"

    const/16 v3, 0x36b6

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1299
    const-string v1, "com.android.contacts"

    const-string v2, "live_folders/sim2_contact"

    const/16 v3, 0x36b7

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1301
    const-string v1, "com.android.contacts"

    const-string v2, "live_folders/usim_contact"

    const/16 v3, 0x36b8

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1303
    const-string v1, "com.android.contacts"

    const-string v2, "live_folders/usim1_contact"

    const/16 v3, 0x36b9

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1305
    const-string v1, "com.android.contacts"

    const-string v2, "live_folders/usim2_contact"

    const/16 v3, 0x36ba

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1307
    const-string v1, "com.android.contacts"

    const-string v2, "dialer_search/"

    const v3, 0x15f93

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1308
    const-string v1, "com.android.contacts"

    const-string v2, "dialer_search/increment/*"

    const v3, 0x15f90

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1309
    const-string v1, "com.android.contacts"

    const-string v2, "dialer_search/simple/*"

    const v3, 0x15f91

    invoke-virtual {v0, v1, v2, v3}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->addURI(Ljava/lang/String;Ljava/lang/String;I)V

    .line 1311
    return-void
.end method

.method public constructor <init>()V
    .locals 5

    .prologue
    const-wide/16 v3, 0x0

    const/4 v2, 0x1

    const/4 v1, 0x0

    .line 200
    invoke-direct {p0}, Lcom/android/providers/contacts/AbstractContactsProvider;-><init>()V

    .line 1127
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    .line 1128
    new-array v0, v2, [Ljava/lang/String;

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    .line 1129
    const/4 v0, 0x2

    new-array v0, v0, [Ljava/lang/String;

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs2:[Ljava/lang/String;

    .line 1130
    const/4 v0, 0x3

    new-array v0, v0, [Ljava/lang/String;

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs3:[Ljava/lang/String;

    .line 1131
    const/4 v0, 0x4

    new-array v0, v0, [Ljava/lang/String;

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs4:[Ljava/lang/String;

    .line 1132
    invoke-static {}, Lcom/google/android/collect/Lists;->newArrayList()Ljava/util/ArrayList;

    move-result-object v0

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    .line 1322
    new-instance v0, Ljava/util/HashMap;

    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCache:Ljava/util/HashMap;

    .line 1323
    iput-boolean v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCacheValid:Z

    .line 1343
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v0

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mGroupIdCache:Ljava/util/HashMap;

    .line 1367
    new-instance v0, Ljava/lang/ThreadLocal;

    invoke-direct {v0}, Ljava/lang/ThreadLocal;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionHolder:Ljava/lang/ThreadLocal;

    .line 1371
    new-instance v0, Ljava/lang/ThreadLocal;

    invoke-direct {v0}, Ljava/lang/ThreadLocal;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mInProfileMode:Ljava/lang/ThreadLocal;

    .line 1379
    new-instance v0, Ljava/lang/ThreadLocal;

    invoke-direct {v0}, Ljava/lang/ThreadLocal;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    .line 1386
    new-instance v0, Ljava/lang/ThreadLocal;

    invoke-direct {v0}, Ljava/lang/ThreadLocal;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    .line 1392
    new-instance v0, Ljava/lang/ThreadLocal;

    invoke-direct {v0}, Ljava/lang/ThreadLocal;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPhotoStore:Ljava/lang/ThreadLocal;

    .line 1399
    new-instance v0, Lcom/android/providers/contacts/TransactionContext;

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/TransactionContext;-><init>(Z)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactTransactionContext:Lcom/android/providers/contacts/TransactionContext;

    .line 1400
    new-instance v0, Lcom/android/providers/contacts/TransactionContext;

    invoke-direct {v0, v2}, Lcom/android/providers/contacts/TransactionContext;-><init>(Z)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileTransactionContext:Lcom/android/providers/contacts/TransactionContext;

    .line 1401
    new-instance v0, Ljava/lang/ThreadLocal;

    invoke-direct {v0}, Ljava/lang/ThreadLocal;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    .line 1408
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v0

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUris:Ljava/util/Map;

    .line 1411
    new-instance v0, Ljava/security/SecureRandom;

    invoke-direct {v0}, Ljava/security/SecureRandom;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mRandom:Ljava/security/SecureRandom;

    .line 1418
    new-instance v0, Landroid/content/ContentValues;

    invoke-direct {v0}, Landroid/content/ContentValues;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    .line 1419
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v0

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccountWritability:Ljava/util/HashMap;

    .line 1421
    iput v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    .line 1423
    iput-wide v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mEstimatedStorageRequirement:J

    .line 1427
    iput-boolean v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mOkToOpenAccess:Z

    .line 1429
    iput-boolean v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    .line 1439
    iput-wide v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLastPhotoCleanup:J

    .line 9309
    return-void
.end method

.method static synthetic access$200(Lcom/android/providers/contacts/ContactsProvider2;)Ljava/util/concurrent/CountDownLatch;
    .locals 1
    .parameter "x0"

    .prologue
    .line 200
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    return-object v0
.end method

.method static synthetic access$300(Lcom/android/providers/contacts/ContactsProvider2;Ljava/util/concurrent/CountDownLatch;)V
    .locals 0
    .parameter "x0"
    .parameter "x1"

    .prologue
    .line 200
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    return-void
.end method

.method static synthetic access$400(Lcom/android/providers/contacts/ContactsProvider2;)Lcom/android/providers/contacts/PhotoStore;
    .locals 1
    .parameter "x0"

    .prologue
    .line 200
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfilePhotoStore:Lcom/android/providers/contacts/PhotoStore;

    return-object v0
.end method

.method static synthetic access$500(Lcom/android/providers/contacts/ContactsProvider2;)Lcom/android/providers/contacts/PhotoStore;
    .locals 1
    .parameter "x0"

    .prologue
    .line 200
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsPhotoStore:Lcom/android/providers/contacts/PhotoStore;

    return-object v0
.end method

.method static synthetic access$600(Lcom/android/providers/contacts/ContactsProvider2;)Ljava/lang/ThreadLocal;
    .locals 1
    .parameter "x0"

    .prologue
    .line 200
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    return-object v0
.end method

.method static synthetic access$700(Lcom/android/providers/contacts/ContactsProvider2;)Lcom/android/providers/contacts/aggregation/util/CommonNicknameCache;
    .locals 1
    .parameter "x0"

    .prologue
    .line 200
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCommonNicknameCache:Lcom/android/providers/contacts/aggregation/util/CommonNicknameCache;

    return-object v0
.end method

.method static synthetic access$800(Lcom/android/providers/contacts/ContactsProvider2;)Landroid/os/Handler;
    .locals 1
    .parameter "x0"

    .prologue
    .line 200
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundHandler:Landroid/os/Handler;

    return-object v0
.end method

.method static accountsToString(Ljava/util/Set;)Ljava/lang/String;
    .locals 4
    .parameter
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/Set",
            "<",
            "Landroid/accounts/Account;",
            ">;)",
            "Ljava/lang/String;"
        }
    .end annotation

    .prologue
    .line 4814
    .local p0, accounts:Ljava/util/Set;,"Ljava/util/Set<Landroid/accounts/Account;>;"
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    .line 4815
    .local v2, sb:Ljava/lang/StringBuilder;
    invoke-interface {p0}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v1

    .local v1, i$:Ljava/util/Iterator;
    :goto_0
    invoke-interface {v1}, Ljava/util/Iterator;->hasNext()Z

    move-result v3

    if-eqz v3, :cond_1

    invoke-interface {v1}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/accounts/Account;

    .line 4816
    .local v0, account:Landroid/accounts/Account;
    invoke-virtual {v2}, Ljava/lang/StringBuilder;->length()I

    move-result v3

    if-lez v3, :cond_0

    .line 4817
    const-string v3, "\u0001"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 4819
    :cond_0
    iget-object v3, v0, Landroid/accounts/Account;->name:Ljava/lang/String;

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 4820
    const-string v3, "\u0002"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 4821
    iget-object v3, v0, Landroid/accounts/Account;->type:Ljava/lang/String;

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto :goto_0

    .line 4823
    .end local v0           #account:Landroid/accounts/Account;
    :cond_1
    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    return-object v3
.end method

.method private addAutoAddMembership(J)V
    .locals 3
    .parameter "rawContactId"

    .prologue
    .line 2742
    const-string v1, "raw_contacts._id=? AND groups.account_id=raw_contacts.account_id AND auto_add != 0"

    invoke-direct {p0, v1, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->findGroupByRawContactId(Ljava/lang/String;J)Ljava/lang/Long;

    move-result-object v0

    .line 2744
    .local v0, groupId:Ljava/lang/Long;
    if-eqz v0, :cond_0

    .line 2745
    invoke-virtual {v0}, Ljava/lang/Long;->longValue()J

    move-result-wide v1

    invoke-direct {p0, p1, p2, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertDataGroupMembership(JJ)V

    .line 2747
    :cond_0
    return-void
.end method

.method private addDeferredSnippetingExtra(Landroid/database/Cursor;)Landroid/database/Cursor;
    .locals 4
    .parameter "cursor"

    .prologue
    .line 5286
    instance-of v2, p1, Landroid/database/AbstractCursor;

    if-eqz v2, :cond_1

    .line 5287
    invoke-interface {p1}, Landroid/database/Cursor;->getExtras()Landroid/os/Bundle;

    move-result-object v1

    .line 5288
    .local v1, oldExtras:Landroid/os/Bundle;
    new-instance v0, Landroid/os/Bundle;

    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V

    .line 5289
    .local v0, extras:Landroid/os/Bundle;
    if-eqz v1, :cond_0

    .line 5290
    invoke-virtual {v0, v1}, Landroid/os/Bundle;->putAll(Landroid/os/Bundle;)V

    .line 5292
    :cond_0
    const-string v2, "deferred_snippeting"

    const/4 v3, 0x1

    invoke-virtual {v0, v2, v3}, Landroid/os/Bundle;->putBoolean(Ljava/lang/String;Z)V

    move-object v2, p1

    .line 5293
    check-cast v2, Landroid/database/AbstractCursor;

    invoke-virtual {v2, v0}, Landroid/database/AbstractCursor;->setExtras(Landroid/os/Bundle;)V

    .line 5295
    .end local v0           #extras:Landroid/os/Bundle;
    .end local v1           #oldExtras:Landroid/os/Bundle;
    :cond_1
    return-object p1
.end method

.method private addSnippetExtrasToCursor(Landroid/net/Uri;Landroid/database/Cursor;)Landroid/database/Cursor;
    .locals 4
    .parameter "uri"
    .parameter "cursor"

    .prologue
    .line 5265
    const-string v3, "snippet"

    invoke-interface {p2, v3}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I

    move-result v3

    if-gez v3, :cond_1

    .line 5282
    :cond_0
    :goto_0
    return-object p2

    .line 5269
    :cond_1
    invoke-virtual {p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v2

    .line 5272
    .local v2, query:Ljava/lang/String;
    instance-of v3, p2, Landroid/database/AbstractCursor;

    if-eqz v3, :cond_0

    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->deferredSnippetingRequested(Landroid/net/Uri;)Z

    move-result v3

    if-eqz v3, :cond_0

    .line 5273
    invoke-interface {p2}, Landroid/database/Cursor;->getExtras()Landroid/os/Bundle;

    move-result-object v1

    .line 5274
    .local v1, oldExtras:Landroid/os/Bundle;
    new-instance v0, Landroid/os/Bundle;

    invoke-direct {v0}, Landroid/os/Bundle;-><init>()V

    .line 5275
    .local v0, extras:Landroid/os/Bundle;
    if-eqz v1, :cond_2

    .line 5276
    invoke-virtual {v0, v1}, Landroid/os/Bundle;->putAll(Landroid/os/Bundle;)V

    .line 5278
    :cond_2
    const-string v3, "deferred_snippeting_query"

    invoke-virtual {v0, v3, v2}, Landroid/os/Bundle;->putString(Ljava/lang/String;Ljava/lang/String;)V

    move-object v3, p2

    .line 5280
    check-cast v3, Landroid/database/AbstractCursor;

    invoke-virtual {v3, v0}, Landroid/database/AbstractCursor;->setExtras(Landroid/os/Bundle;)V

    goto :goto_0
.end method

.method private appendAccountFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V
    .locals 5
    .parameter "qb"
    .parameter "uri"

    .prologue
    .line 7549
    invoke-direct {p0, p2}, Lcom/android/providers/contacts/ContactsProvider2;->getAccountWithDataSetFromUri(Landroid/net/Uri;)Lcom/android/providers/contacts/AccountWithDataSet;

    move-result-object v0

    .line 7553
    .local v0, accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    invoke-virtual {v0}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v3

    invoke-static {v3}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_0

    const/4 v2, 0x1

    .line 7554
    .local v2, validAccount:Z
    :goto_0
    if-eqz v2, :cond_2

    .line 7555
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "(account_name="

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v0}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v4

    invoke-static {v4}, Landroid/database/DatabaseUtils;->sqlEscapeString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, " AND "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "account_type"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "="

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v0}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v4

    invoke-static {v4}, Landroid/database/DatabaseUtils;->sqlEscapeString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    .line 7559
    .local v1, toAppend:Ljava/lang/String;
    invoke-virtual {v0}, Lcom/android/providers/contacts/AccountWithDataSet;->getDataSet()Ljava/lang/String;

    move-result-object v3

    if-nez v3, :cond_1

    .line 7560
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, " AND data_set IS NULL"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    .line 7565
    :goto_1
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, ")"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    .line 7566
    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7570
    .end local v1           #toAppend:Ljava/lang/String;
    :goto_2
    return-void

    .line 7553
    .end local v2           #validAccount:Z
    :cond_0
    const/4 v2, 0x0

    goto :goto_0

    .line 7562
    .restart local v1       #toAppend:Ljava/lang/String;
    .restart local v2       #validAccount:Z
    :cond_1
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, " AND data_set="

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v0}, Lcom/android/providers/contacts/AccountWithDataSet;->getDataSet()Ljava/lang/String;

    move-result-object v4

    invoke-static {v4}, Landroid/database/DatabaseUtils;->sqlEscapeString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    goto :goto_1

    .line 7568
    .end local v1           #toAppend:Ljava/lang/String;
    :cond_2
    const-string v3, "1"

    invoke-virtual {p1, v3}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto :goto_2
.end method

.method private appendAccountIdFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V
    .locals 5
    .parameter "qb"
    .parameter "uri"

    .prologue
    .line 7573
    invoke-direct {p0, p2}, Lcom/android/providers/contacts/ContactsProvider2;->getAccountWithDataSetFromUri(Landroid/net/Uri;)Lcom/android/providers/contacts/AccountWithDataSet;

    move-result-object v1

    .line 7577
    .local v1, accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    invoke-virtual {v1}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v3

    invoke-static {v3}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_0

    const/4 v2, 0x1

    .line 7578
    .local v2, validAccount:Z
    :goto_0
    if-eqz v2, :cond_2

    .line 7579
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getAccountIdOrNull(Lcom/android/providers/contacts/AccountWithDataSet;)Ljava/lang/Long;

    move-result-object v0

    .line 7580
    .local v0, accountId:Ljava/lang/Long;
    if-nez v0, :cond_1

    .line 7582
    const-string v3, "(1=2)"

    invoke-virtual {p1, v3}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7590
    .end local v0           #accountId:Ljava/lang/Long;
    :goto_1
    return-void

    .line 7577
    .end local v2           #validAccount:Z
    :cond_0
    const/4 v2, 0x0

    goto :goto_0

    .line 7584
    .restart local v0       #accountId:Ljava/lang/Long;
    .restart local v2       #validAccount:Z
    :cond_1
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "(account_id="

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v0}, Ljava/lang/Long;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, ")"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {p1, v3}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto :goto_1

    .line 7588
    .end local v0           #accountId:Ljava/lang/Long;
    :cond_2
    const-string v3, "1"

    invoke-virtual {p1, v3}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto :goto_1
.end method

.method private appendAccountIdToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;
    .locals 6
    .parameter "uri"
    .parameter "selection"

    .prologue
    .line 7635
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->getAccountWithDataSetFromUri(Landroid/net/Uri;)Lcom/android/providers/contacts/AccountWithDataSet;

    move-result-object v1

    .line 7639
    .local v1, accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    invoke-virtual {v1}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v4

    invoke-static {v4}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-nez v4, :cond_2

    const/4 v3, 0x1

    .line 7640
    .local v3, validAccount:Z
    :goto_0
    if-eqz v3, :cond_1

    .line 7641
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    .line 7643
    .local v2, selectionSb:Ljava/lang/StringBuilder;
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getAccountIdOrNull(Lcom/android/providers/contacts/AccountWithDataSet;)Ljava/lang/Long;

    move-result-object v0

    .line 7644
    .local v0, accountId:Ljava/lang/Long;
    if-nez v0, :cond_3

    .line 7650
    const-string v4, "(1=2)"

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7656
    :goto_1
    invoke-static {p2}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-nez v4, :cond_0

    .line 7657
    const-string v4, " AND ("

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7658
    invoke-virtual {v2, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7659
    const/16 v4, 0x29

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;

    .line 7661
    :cond_0
    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p2

    .line 7663
    .end local v0           #accountId:Ljava/lang/Long;
    .end local v2           #selectionSb:Ljava/lang/StringBuilder;
    .end local p2
    :cond_1
    return-object p2

    .line 7639
    .end local v3           #validAccount:Z
    .restart local p2
    :cond_2
    const/4 v3, 0x0

    goto :goto_0

    .line 7652
    .restart local v0       #accountId:Ljava/lang/Long;
    .restart local v2       #selectionSb:Ljava/lang/StringBuilder;
    .restart local v3       #validAccount:Z
    :cond_3
    const-string v4, "account_id="

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7653
    invoke-virtual {v0}, Ljava/lang/Long;->longValue()J

    move-result-wide v4

    invoke-static {v4, v5}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto :goto_1
.end method

.method private appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;
    .locals 5
    .parameter "uri"
    .parameter "selection"

    .prologue
    .line 7607
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->getAccountWithDataSetFromUri(Landroid/net/Uri;)Lcom/android/providers/contacts/AccountWithDataSet;

    move-result-object v0

    .line 7611
    .local v0, accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    invoke-virtual {v0}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v3

    invoke-static {v3}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_2

    const/4 v2, 0x1

    .line 7612
    .local v2, validAccount:Z
    :goto_0
    if-eqz v2, :cond_1

    .line 7613
    new-instance v1, Ljava/lang/StringBuilder;

    const-string v3, "account_name="

    invoke-direct {v1, v3}, Ljava/lang/StringBuilder;-><init>(Ljava/lang/String;)V

    .line 7614
    .local v1, selectionSb:Ljava/lang/StringBuilder;
    invoke-virtual {v0}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v3

    invoke-static {v3}, Landroid/database/DatabaseUtils;->sqlEscapeString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7615
    const-string v3, " AND account_type="

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7616
    invoke-virtual {v0}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v3

    invoke-static {v3}, Landroid/database/DatabaseUtils;->sqlEscapeString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7617
    invoke-virtual {v0}, Lcom/android/providers/contacts/AccountWithDataSet;->getDataSet()Ljava/lang/String;

    move-result-object v3

    if-nez v3, :cond_3

    .line 7618
    const-string v3, " AND data_set IS NULL"

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7623
    :goto_1
    invoke-static {p2}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_0

    .line 7624
    const-string v3, " AND ("

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7625
    invoke-virtual {v1, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7626
    const/16 v3, 0x29

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;

    .line 7628
    :cond_0
    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p2

    .line 7630
    .end local v1           #selectionSb:Ljava/lang/StringBuilder;
    .end local p2
    :cond_1
    return-object p2

    .line 7611
    .end local v2           #validAccount:Z
    .restart local p2
    :cond_2
    const/4 v2, 0x0

    goto :goto_0

    .line 7620
    .restart local v1       #selectionSb:Ljava/lang/StringBuilder;
    .restart local v2       #validAccount:Z
    :cond_3
    const-string v3, " AND data_set="

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v0}, Lcom/android/providers/contacts/AccountWithDataSet;->getDataSet()Ljava/lang/String;

    move-result-object v4

    invoke-static {v4}, Landroid/database/DatabaseUtils;->sqlEscapeString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto :goto_1
.end method

.method private appendContactPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V
    .locals 3
    .parameter "sb"
    .parameter "projection"
    .parameter "contactIdColumn"

    .prologue
    .line 7499
    const/4 v0, 0x2

    new-array v0, v0, [Ljava/lang/String;

    const/4 v1, 0x0

    const-string v2, "contact_presence"

    aput-object v2, v0, v1

    const/4 v1, 0x1

    const-string v2, "contact_chat_capability"

    aput-object v2, v0, v1

    invoke-static {p2, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;[Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 7501
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v1, " LEFT OUTER JOIN agg_presence ON ("

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, " = "

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, "agg_presence.presence_contact_id"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, ")"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7505
    :cond_0
    return-void
.end method

.method private appendContactStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V
    .locals 3
    .parameter "sb"
    .parameter "projection"
    .parameter "lastStatusUpdateIdColumn"

    .prologue
    .line 7464
    const/4 v0, 0x5

    new-array v0, v0, [Ljava/lang/String;

    const/4 v1, 0x0

    const-string v2, "contact_status"

    aput-object v2, v0, v1

    const/4 v1, 0x1

    const-string v2, "contact_status_res_package"

    aput-object v2, v0, v1

    const/4 v1, 0x2

    const-string v2, "contact_status_icon"

    aput-object v2, v0, v1

    const/4 v1, 0x3

    const-string v2, "contact_status_label"

    aput-object v2, v0, v1

    const/4 v1, 0x4

    const-string v2, "contact_status_ts"

    aput-object v2, v0, v1

    invoke-static {p2, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;[Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 7470
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v1, " LEFT OUTER JOIN status_updates contacts_status_updates ON ("

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, "="

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, "contacts_status_updates.status_update_data_id"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, ")"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7475
    :cond_0
    return-void
.end method

.method private appendDataPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V
    .locals 3
    .parameter "sb"
    .parameter "projection"
    .parameter "dataIdColumn"

    .prologue
    .line 7509
    const/4 v0, 0x2

    new-array v0, v0, [Ljava/lang/String;

    const/4 v1, 0x0

    const-string v2, "mode"

    aput-object v2, v0, v1

    const/4 v1, 0x1

    const-string v2, "chat_capability"

    aput-object v2, v0, v1

    invoke-static {p2, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;[Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 7511
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v1, " LEFT OUTER JOIN presence ON (presence_data_id="

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, ")"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7514
    :cond_0
    return-void
.end method

.method private appendDataStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V
    .locals 3
    .parameter "sb"
    .parameter "projection"
    .parameter "dataIdColumn"

    .prologue
    .line 7479
    const/4 v0, 0x5

    new-array v0, v0, [Ljava/lang/String;

    const/4 v1, 0x0

    const-string v2, "status"

    aput-object v2, v0, v1

    const/4 v1, 0x1

    const-string v2, "status_res_package"

    aput-object v2, v0, v1

    const/4 v1, 0x2

    const-string v2, "status_icon"

    aput-object v2, v0, v1

    const/4 v1, 0x3

    const-string v2, "status_label"

    aput-object v2, v0, v1

    const/4 v1, 0x4

    const-string v2, "status_ts"

    aput-object v2, v0, v1

    invoke-static {p2, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;[Ljava/lang/String;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 7485
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v1, " LEFT OUTER JOIN status_updates ON (status_updates.status_update_data_id="

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, ")"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7489
    :cond_0
    return-void
.end method

.method private appendDataUsageStatJoin(Ljava/lang/StringBuilder;ILjava/lang/String;)V
    .locals 2
    .parameter "sb"
    .parameter "usageType"
    .parameter "dataIdColumn"

    .prologue
    .line 7492
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    const-string v1, " LEFT OUTER JOIN data_usage_stat ON (data_usage_stat.data_id="

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, " AND "

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, "data_usage_stat.usage_type"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, "="

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0, p2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v0

    const-string v1, ")"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v0

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7495
    return-void
.end method

.method private appendIds(Ljava/lang/StringBuilder;Ljava/util/Set;)V
    .locals 5
    .parameter "sb"
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/lang/StringBuilder;",
            "Ljava/util/Set",
            "<",
            "Ljava/lang/Long;",
            ">;)V"
        }
    .end annotation

    .prologue
    .line 2424
    .local p2, ids:Ljava/util/Set;,"Ljava/util/Set<Ljava/lang/Long;>;"
    invoke-interface {p2}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v0

    .local v0, i$:Ljava/util/Iterator;
    :goto_0
    invoke-interface {v0}, Ljava/util/Iterator;->hasNext()Z

    move-result v3

    if-eqz v3, :cond_0

    invoke-interface {v0}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Ljava/lang/Long;

    invoke-virtual {v3}, Ljava/lang/Long;->longValue()J

    move-result-wide v1

    .line 2425
    .local v1, id:J
    invoke-virtual {p1, v1, v2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v3

    const/16 v4, 0x2c

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;

    goto :goto_0

    .line 2428
    .end local v1           #id:J
    :cond_0
    invoke-virtual {p1}, Ljava/lang/StringBuilder;->length()I

    move-result v3

    add-int/lit8 v3, v3, -0x1

    invoke-virtual {p1, v3}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 2429
    return-void
.end method

.method private appendLocalDirectoryAndAccountSelectionIfNeeded(Landroid/database/sqlite/SQLiteQueryBuilder;JLandroid/net/Uri;)V
    .locals 8
    .parameter "qb"
    .parameter "directoryId"
    .parameter "uri"

    .prologue
    const/4 v5, 0x0

    .line 7518
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    .line 7519
    .local v2, sb:Ljava/lang/StringBuilder;
    const-wide/16 v6, 0x0

    cmp-long v4, p2, v6

    if-nez v4, :cond_1

    .line 7520
    const-string v4, "(_id IN default_directory)"

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7527
    :goto_0
    invoke-direct {p0, p4}, Lcom/android/providers/contacts/ContactsProvider2;->getAccountWithDataSetFromUri(Landroid/net/Uri;)Lcom/android/providers/contacts/AccountWithDataSet;

    move-result-object v1

    .line 7530
    .local v1, accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    invoke-virtual {v1}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v4

    invoke-static {v4}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-nez v4, :cond_3

    const/4 v3, 0x1

    .line 7531
    .local v3, validAccount:Z
    :goto_1
    if-eqz v3, :cond_0

    .line 7532
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getAccountIdOrNull(Lcom/android/providers/contacts/AccountWithDataSet;)Ljava/lang/Long;

    move-result-object v0

    .line 7533
    .local v0, accountId:Ljava/lang/Long;
    if-nez v0, :cond_4

    .line 7535
    invoke-virtual {v2, v5}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 7536
    const-string v4, "(1=2)"

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7545
    .end local v0           #accountId:Ljava/lang/Long;
    :cond_0
    :goto_2
    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-virtual {p1, v4}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 7546
    return-void

    .line 7521
    .end local v1           #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    .end local v3           #validAccount:Z
    :cond_1
    const-wide/16 v6, 0x1

    cmp-long v4, p2, v6

    if-nez v4, :cond_2

    .line 7522
    const-string v4, "(_id NOT IN default_directory)"

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto :goto_0

    .line 7524
    :cond_2
    const-string v4, "(1)"

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto :goto_0

    .restart local v1       #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    :cond_3
    move v3, v5

    .line 7530
    goto :goto_1

    .line 7538
    .restart local v0       #accountId:Ljava/lang/Long;
    .restart local v3       #validAccount:Z
    :cond_4
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, " AND (_id IN (SELECT contact_id FROM raw_contacts WHERE account_id="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v0}, Ljava/lang/Long;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "))"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v2, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto :goto_2
.end method

.method private appendRawContactsByNormalizedNameFilter(Ljava/lang/StringBuilder;Ljava/lang/String;Z)V
    .locals 1
    .parameter "sb"
    .parameter "normalizedName"
    .parameter "allowEmailMatch"

    .prologue
    .line 8964
    const-string v0, "(SELECT raw_contact_id FROM name_lookup WHERE normalized_name GLOB \'"

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8969
    invoke-virtual {p1, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8970
    const-string v0, "*\' AND name_type IN (2,3,0,1"

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8975
    if-eqz p3, :cond_0

    .line 8976
    const-string v0, ",4"

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8978
    :cond_0
    const-string v0, "))"

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8979
    return-void
.end method

.method private appendSearchIndexJoin(Ljava/lang/StringBuilder;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;Z)V
    .locals 21
    .parameter "sb"
    .parameter "uri"
    .parameter "projection"
    .parameter "filter"
    .parameter "deferSnippeting"

    .prologue
    .line 7151
    move-object/from16 v0, p0

    move-object/from16 v1, p3

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->snippetNeeded([Ljava/lang/String;)Z

    move-result v2

    if-eqz v2, :cond_5

    .line 7152
    const/16 v19, 0x0

    .line 7153
    .local v19, args:[Ljava/lang/String;
    const-string v2, "snippet_args"

    move-object/from16 v0, p2

    invoke-static {v0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v20

    .line 7155
    .local v20, snippetArgs:Ljava/lang/String;
    if-eqz v20, :cond_0

    .line 7156
    const-string v2, ","

    move-object/from16 v0, v20

    invoke-virtual {v0, v2}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v19

    .line 7159
    :cond_0
    if-eqz v19, :cond_1

    move-object/from16 v0, v19

    array-length v2, v0

    if-lez v2, :cond_1

    const/4 v2, 0x0

    aget-object v6, v19, v2

    .line 7161
    .local v6, startMatch:Ljava/lang/String;
    :goto_0
    if-eqz v19, :cond_2

    move-object/from16 v0, v19

    array-length v2, v0

    const/4 v3, 0x1

    if-le v2, v3, :cond_2

    const/4 v2, 0x1

    aget-object v7, v19, v2

    .line 7163
    .local v7, endMatch:Ljava/lang/String;
    :goto_1
    if-eqz v19, :cond_3

    move-object/from16 v0, v19

    array-length v2, v0

    const/4 v3, 0x2

    if-le v2, v3, :cond_3

    const/4 v2, 0x2

    aget-object v8, v19, v2

    .line 7165
    .local v8, ellipsis:Ljava/lang/String;
    :goto_2
    if-eqz v19, :cond_4

    move-object/from16 v0, v19

    array-length v2, v0

    const/4 v3, 0x3

    if-le v2, v3, :cond_4

    const/4 v2, 0x3

    aget-object v2, v19, v2

    invoke-static {v2}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v9

    .line 7168
    .local v9, maxTokens:I
    :goto_3
    const/4 v5, 0x1

    move-object/from16 v2, p0

    move-object/from16 v3, p1

    move-object/from16 v4, p4

    move/from16 v10, p5

    invoke-virtual/range {v2 .. v10}, Lcom/android/providers/contacts/ContactsProvider2;->appendSearchIndexJoin(Ljava/lang/StringBuilder;Ljava/lang/String;ZLjava/lang/String;Ljava/lang/String;Ljava/lang/String;IZ)V

    .line 7174
    .end local v6           #startMatch:Ljava/lang/String;
    .end local v7           #endMatch:Ljava/lang/String;
    .end local v8           #ellipsis:Ljava/lang/String;
    .end local v9           #maxTokens:I
    .end local v19           #args:[Ljava/lang/String;
    .end local v20           #snippetArgs:Ljava/lang/String;
    :goto_4
    return-void

    .line 7159
    .restart local v19       #args:[Ljava/lang/String;
    .restart local v20       #snippetArgs:Ljava/lang/String;
    :cond_1
    const-string v6, "["

    goto :goto_0

    .line 7161
    .restart local v6       #startMatch:Ljava/lang/String;
    :cond_2
    const-string v7, "]"

    goto :goto_1

    .line 7163
    .restart local v7       #endMatch:Ljava/lang/String;
    :cond_3
    const-string v8, "..."

    goto :goto_2

    .line 7165
    .restart local v8       #ellipsis:Ljava/lang/String;
    :cond_4
    const/16 v9, -0xa

    goto :goto_3

    .line 7172
    .end local v6           #startMatch:Ljava/lang/String;
    .end local v7           #endMatch:Ljava/lang/String;
    .end local v8           #ellipsis:Ljava/lang/String;
    .end local v19           #args:[Ljava/lang/String;
    .end local v20           #snippetArgs:Ljava/lang/String;
    :cond_5
    const/4 v13, 0x0

    const/4 v14, 0x0

    const/4 v15, 0x0

    const/16 v16, 0x0

    const/16 v17, 0x0

    const/16 v18, 0x0

    move-object/from16 v10, p0

    move-object/from16 v11, p1

    move-object/from16 v12, p4

    invoke-virtual/range {v10 .. v18}, Lcom/android/providers/contacts/ContactsProvider2;->appendSearchIndexJoin(Ljava/lang/StringBuilder;Ljava/lang/String;ZLjava/lang/String;Ljava/lang/String;Ljava/lang/String;IZ)V

    goto :goto_4
.end method

.method private appendSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;
    .locals 4
    .parameter "selectionArgs"
    .parameter "arg"

    .prologue
    const/4 v3, 0x0

    .line 8458
    if-nez p1, :cond_0

    .line 8459
    const/4 v2, 0x1

    new-array v1, v2, [Ljava/lang/String;

    aput-object p2, v1, v3

    .line 8465
    :goto_0
    return-object v1

    .line 8461
    :cond_0
    array-length v2, p1

    add-int/lit8 v0, v2, 0x1

    .line 8462
    .local v0, newLength:I
    new-array v1, v0, [Ljava/lang/String;

    .line 8463
    .local v1, newSelectionArgs:[Ljava/lang/String;
    aput-object p2, v1, v0

    .line 8464
    array-length v2, p1

    add-int/lit8 v2, v2, -0x1

    invoke-static {p1, v3, v1, v3, v2}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    goto :goto_0
.end method

.method private appendSnippetFunction(Ljava/lang/StringBuilder;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)V
    .locals 1
    .parameter "sb"
    .parameter "startMatch"
    .parameter "endMatch"
    .parameter "ellipsis"
    .parameter "maxTokens"

    .prologue
    .line 7336
    const-string v0, "snippet(search_index,"

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7337
    invoke-static {p1, p2}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 7338
    const-string v0, ","

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7339
    invoke-static {p1, p3}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 7340
    const-string v0, ","

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7341
    invoke-static {p1, p4}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 7344
    const-string v0, ",1,"

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7345
    invoke-virtual {p1, p5}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    .line 7346
    const-string v0, ")"

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7347
    return-void
.end method

.method private buildAssetFileDescriptor(Ljava/io/ByteArrayOutputStream;)Landroid/content/res/AssetFileDescriptor;
    .locals 5
    .parameter "stream"

    .prologue
    .line 8118
    :try_start_0
    invoke-virtual {p1}, Ljava/io/OutputStream;->flush()V

    .line 8120
    invoke-virtual {p1}, Ljava/io/ByteArrayOutputStream;->toByteArray()[B

    move-result-object v0

    .line 8122
    .local v0, byteData:[B
    const-string v2, "contactAssetFile"

    invoke-static {v0, v2}, Landroid/os/ParcelFileDescriptor;->fromData([BLjava/lang/String;)Landroid/os/ParcelFileDescriptor;

    move-result-object v2

    array-length v3, v0

    int-to-long v3, v3

    invoke-direct {p0, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->makeAssetFileDescriptor(Landroid/os/ParcelFileDescriptor;J)Landroid/content/res/AssetFileDescriptor;
    :try_end_0
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v2

    .line 8127
    .end local v0           #byteData:[B
    :goto_0
    return-object v2

    .line 8125
    :catch_0
    move-exception v1

    .line 8126
    .local v1, e:Ljava/io/IOException;
    const-string v2, "ContactsProvider"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "Problem writing stream into an ParcelFileDescriptor: "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v1}, Ljava/lang/Throwable;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    .line 8127
    const/4 v2, 0x0

    goto :goto_0
.end method

.method static buildSingleRowResult([Ljava/lang/String;[Ljava/lang/String;[Ljava/lang/Object;)Landroid/database/Cursor;
    .locals 9
    .parameter "projection"
    .parameter "availableColumns"
    .parameter "data"
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .prologue
    const/4 v7, 0x1

    .line 8878
    array-length v6, p1

    array-length v8, p2

    if-ne v6, v8, :cond_2

    move v6, v7

    :goto_0
    invoke-static {v6}, Lcom/google/common/base/Preconditions;->checkArgument(Z)V

    .line 8879
    if-nez p0, :cond_0

    .line 8880
    move-object p0, p1

    .line 8882
    :cond_0
    new-instance v0, Landroid/database/MatrixCursor;

    invoke-direct {v0, p0, v7}, Landroid/database/MatrixCursor;-><init>([Ljava/lang/String;I)V

    .line 8883
    .local v0, c:Landroid/database/MatrixCursor;
    invoke-virtual {v0}, Landroid/database/MatrixCursor;->newRow()Landroid/database/MatrixCursor$RowBuilder;

    move-result-object v5

    .line 8886
    .local v5, row:Landroid/database/MatrixCursor$RowBuilder;
    const/4 v3, 0x0

    .local v3, i:I
    :goto_1
    invoke-virtual {v0}, Landroid/database/AbstractCursor;->getColumnCount()I

    move-result v6

    if-ge v3, v6, :cond_5

    .line 8887
    invoke-virtual {v0, v3}, Landroid/database/AbstractCursor;->getColumnName(I)Ljava/lang/String;

    move-result-object v1

    .line 8889
    .local v1, column:Ljava/lang/String;
    const/4 v2, 0x0

    .line 8890
    .local v2, found:Z
    const/4 v4, 0x0

    .local v4, j:I
    :goto_2
    array-length v6, p1

    if-ge v4, v6, :cond_1

    .line 8891
    aget-object v6, p1, v4

    invoke-virtual {v6, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v6

    if-eqz v6, :cond_3

    .line 8892
    aget-object v6, p2, v4

    invoke-virtual {v5, v6}, Landroid/database/MatrixCursor$RowBuilder;->add(Ljava/lang/Object;)Landroid/database/MatrixCursor$RowBuilder;

    .line 8893
    const/4 v2, 0x1

    .line 8897
    :cond_1
    if-nez v2, :cond_4

    .line 8898
    new-instance v6, Ljava/lang/IllegalArgumentException;

    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "Invalid column "

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    aget-object v8, p0, v3

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-direct {v6, v7}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v6

    .line 8878
    .end local v0           #c:Landroid/database/MatrixCursor;
    .end local v1           #column:Ljava/lang/String;
    .end local v2           #found:Z
    .end local v3           #i:I
    .end local v4           #j:I
    .end local v5           #row:Landroid/database/MatrixCursor$RowBuilder;
    :cond_2
    const/4 v6, 0x0

    goto :goto_0

    .line 8890
    .restart local v0       #c:Landroid/database/MatrixCursor;
    .restart local v1       #column:Ljava/lang/String;
    .restart local v2       #found:Z
    .restart local v3       #i:I
    .restart local v4       #j:I
    .restart local v5       #row:Landroid/database/MatrixCursor$RowBuilder;
    :cond_3
    add-int/lit8 v4, v4, 0x1

    goto :goto_2

    .line 8886
    :cond_4
    add-int/lit8 v3, v3, 0x1

    goto :goto_1

    .line 8901
    .end local v1           #column:Ljava/lang/String;
    .end local v2           #found:Z
    .end local v4           #j:I
    :cond_5
    return-object v0
.end method

.method private bundleFastScrollingIndexExtras(Landroid/database/Cursor;Landroid/net/Uri;Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)V
    .locals 16
    .parameter "cursor"
    .parameter "queryUri"
    .parameter "db"
    .parameter "qb"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "sortOrder"
    .parameter "countExpression"
    .parameter "cancellationSignal"

    .prologue
    .line 6650
    move-object/from16 v0, p1

    instance-of v1, v0, Landroid/database/AbstractCursor;

    if-nez v1, :cond_0

    .line 6651
    const-string v1, "ContactsProvider"

    const-string v2, "Unable to bundle extras.  Cursor is not AbstractCursor."

    invoke-static {v1, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    .line 6695
    .end local p1
    :goto_0
    return-void

    .line 6670
    .restart local p1
    :cond_0
    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/providers/contacts/ContactsProvider2;->mFastScrollingIndexCache:Lcom/android/providers/contacts/FastScrollingIndexCache;

    monitor-enter v15

    .line 6672
    :try_start_0
    move-object/from16 v0, p0

    iget v1, v0, Lcom/android/providers/contacts/ContactsProvider2;->mFastScrollingIndexCacheRequestCount:I

    add-int/lit8 v1, v1, 0x1

    move-object/from16 v0, p0

    iput v1, v0, Lcom/android/providers/contacts/ContactsProvider2;->mFastScrollingIndexCacheRequestCount:I

    .line 6673
    move-object/from16 v0, p0

    iget-object v1, v0, Lcom/android/providers/contacts/ContactsProvider2;->mFastScrollingIndexCache:Lcom/android/providers/contacts/FastScrollingIndexCache;

    move-object/from16 v2, p2

    move-object/from16 v3, p5

    move-object/from16 v4, p6

    move-object/from16 v5, p7

    move-object/from16 v6, p8

    invoke-virtual/range {v1 .. v6}, Lcom/android/providers/contacts/FastScrollingIndexCache;->get(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/os/Bundle;

    move-result-object v7

    .line 6676
    .local v7, b:Landroid/os/Bundle;
    if-nez v7, :cond_2

    .line 6677
    move-object/from16 v0, p0

    iget v1, v0, Lcom/android/providers/contacts/ContactsProvider2;->mFastScrollingIndexCacheMissCount:I

    add-int/lit8 v1, v1, 0x1

    move-object/from16 v0, p0

    iput v1, v0, Lcom/android/providers/contacts/ContactsProvider2;->mFastScrollingIndexCacheMissCount:I

    .line 6679
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v12

    .line 6681
    .local v12, start:J
    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getLocale()Ljava/util/Locale;

    move-result-object v9

    move-object/from16 v1, p2

    move-object/from16 v2, p3

    move-object/from16 v3, p4

    move-object/from16 v4, p5

    move-object/from16 v5, p6

    move-object/from16 v6, p7

    move-object/from16 v7, p8

    move-object/from16 v8, p9

    invoke-static/range {v1 .. v9}, Lcom/android/providers/contacts/ContactsProvider2;->getFastScrollingIndexExtras(Landroid/net/Uri;Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;Ljava/util/Locale;)Landroid/os/Bundle;

    .end local v7           #b:Landroid/os/Bundle;
    move-result-object v7

    .line 6684
    .restart local v7       #b:Landroid/os/Bundle;
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v10

    .line 6685
    .local v10, end:J
    sub-long v1, v10, v12

    long-to-int v14, v1

    .line 6686
    .local v14, time:I
    move-object/from16 v0, p0

    iget-wide v1, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTotalTimeFastScrollingIndexGenerate:J

    int-to-long v3, v14

    add-long/2addr v1, v3

    move-object/from16 v0, p0

    iput-wide v1, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTotalTimeFastScrollingIndexGenerate:J

    .line 6687
    sget-boolean v1, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v1, :cond_1

    .line 6688
    const-string v1, "ContactsProvider"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "getLetterCountExtraBundle took "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v14}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "ms"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 6690
    :cond_1
    move-object/from16 v0, p0

    iget-object v1, v0, Lcom/android/providers/contacts/ContactsProvider2;->mFastScrollingIndexCache:Lcom/android/providers/contacts/FastScrollingIndexCache;

    move-object/from16 v2, p2

    move-object/from16 v3, p5

    move-object/from16 v4, p6

    move-object/from16 v5, p7

    move-object/from16 v6, p8

    invoke-virtual/range {v1 .. v7}, Lcom/android/providers/contacts/FastScrollingIndexCache;->put(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/os/Bundle;)V

    .line 6693
    .end local v10           #end:J
    .end local v12           #start:J
    .end local v14           #time:I
    :cond_2
    monitor-exit v15
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 6694
    check-cast p1, Landroid/database/AbstractCursor;

    .end local p1
    move-object/from16 v0, p1

    invoke-virtual {v0, v7}, Landroid/database/AbstractCursor;->setExtras(Landroid/os/Bundle;)V

    goto/16 :goto_0

    .line 6693
    .end local v7           #b:Landroid/os/Bundle;
    .restart local p1
    :catchall_0
    move-exception v1

    :try_start_1
    monitor-exit v15
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    throw v1
.end method

.method private bundleNonFilterIdsExtras(Landroid/database/Cursor;Landroid/net/Uri;Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)V
    .locals 19
    .parameter "cursor"
    .parameter "nonFilterUri"
    .parameter "db"
    .parameter "qb"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "sortOrder"
    .parameter "groupBy"
    .parameter "having"
    .parameter "limit"
    .parameter "cancellationSignal"

    .prologue
    .line 9419
    const/4 v9, 0x0

    .line 9421
    .local v9, c:Landroid/database/Cursor;
    const/4 v1, 0x1

    :try_start_0
    new-array v3, v1, [Ljava/lang/String;

    const/4 v1, 0x0

    const-string v2, "_id"

    aput-object v2, v3, v1

    const-string v6, "_id"

    move-object/from16 v1, p0

    move-object/from16 v2, p2

    move-object/from16 v4, p5

    move-object/from16 v5, p6

    move-object/from16 v7, p11

    invoke-virtual/range {v1 .. v7}, Lcom/android/providers/contacts/ContactsProvider2;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v9

    .line 9423
    if-eqz v9, :cond_3

    invoke-interface {v9}, Landroid/database/Cursor;->getCount()I

    move-result v1

    if-eqz v1, :cond_3

    .line 9424
    invoke-interface {v9}, Landroid/database/Cursor;->getCount()I

    move-result v1

    new-array v13, v1, [I

    .line 9425
    .local v13, ids:[I
    const/4 v14, 0x0

    .line 9426
    .local v14, index:I
    const/4 v1, -0x1

    invoke-interface {v9, v1}, Landroid/database/Cursor;->moveToPosition(I)Z

    move v15, v14

    .line 9427
    .end local v14           #index:I
    .local v15, index:I
    :goto_0
    invoke-interface {v9}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 9428
    add-int/lit8 v14, v15, 0x1

    .end local v15           #index:I
    .restart local v14       #index:I
    const/4 v1, 0x0

    invoke-interface {v9, v1}, Landroid/database/Cursor;->getInt(I)I

    move-result v1

    aput v1, v13, v15

    move v15, v14

    .end local v14           #index:I
    .restart local v15       #index:I
    goto :goto_0

    .line 9431
    :cond_0
    invoke-interface/range {p1 .. p1}, Landroid/database/Cursor;->getExtras()Landroid/os/Bundle;

    move-result-object v17

    .line 9432
    .local v17, oldExtras:Landroid/os/Bundle;
    new-instance v10, Landroid/os/Bundle;

    invoke-direct {v10}, Landroid/os/Bundle;-><init>()V

    .line 9433
    .local v10, extras:Landroid/os/Bundle;
    if-eqz v17, :cond_1

    .line 9434
    move-object/from16 v0, v17

    invoke-virtual {v10, v0}, Landroid/os/Bundle;->putAll(Landroid/os/Bundle;)V

    .line 9436
    :cond_1
    const-string v1, "checked_ids"

    invoke-virtual {v10, v1, v13}, Landroid/os/Bundle;->putIntArray(Ljava/lang/String;[I)V

    .line 9437
    check-cast p1, Landroid/database/AbstractCursor;

    .end local p1
    move-object/from16 v0, p1

    invoke-virtual {v0, v10}, Landroid/database/AbstractCursor;->setExtras(Landroid/os/Bundle;)V

    .line 9440
    sget-boolean v1, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v1, :cond_3

    .line 9441
    new-instance v18, Ljava/lang/StringBuilder;

    invoke-direct/range {v18 .. v18}, Ljava/lang/StringBuilder;-><init>()V

    .line 9442
    .local v18, sb:Ljava/lang/StringBuilder;
    const-string v1, "bundleNonFilterIdsExtras ids: "

    move-object/from16 v0, v18

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 9443
    move-object v8, v13

    .local v8, arr$:[I
    array-length v0, v8

    move/from16 v16, v0

    .local v16, len$:I
    const/4 v11, 0x0

    .local v11, i$:I
    :goto_1
    move/from16 v0, v16

    if-ge v11, v0, :cond_2

    aget v12, v8, v11

    .line 9444
    .local v12, id:I
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    invoke-static {v12}, Ljava/lang/String;->valueOf(I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, ","

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    move-object/from16 v0, v18

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 9443
    add-int/lit8 v11, v11, 0x1

    goto :goto_1

    .line 9446
    .end local v12           #id:I
    :cond_2
    const-string v1, "ContactsProvider"

    invoke-virtual/range {v18 .. v18}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 9451
    .end local v8           #arr$:[I
    .end local v10           #extras:Landroid/os/Bundle;
    .end local v11           #i$:I
    .end local v13           #ids:[I
    .end local v15           #index:I
    .end local v16           #len$:I
    .end local v17           #oldExtras:Landroid/os/Bundle;
    .end local v18           #sb:Ljava/lang/StringBuilder;
    :cond_3
    if-eqz v9, :cond_4

    .line 9452
    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    .line 9455
    :cond_4
    return-void

    .line 9451
    :catchall_0
    move-exception v1

    if-eqz v9, :cond_5

    .line 9452
    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    :cond_5
    throw v1
.end method

.method private canDeleteAccount(Lcom/android/providers/contacts/AccountWithDataSet;)Z
    .locals 3
    .parameter "accountWithDataSet"

    .prologue
    .line 9289
    invoke-virtual {p1}, Lcom/android/providers/contacts/AccountWithDataSet;->getDataSet()Ljava/lang/String;

    move-result-object v0

    if-nez v0, :cond_2

    .line 9290
    invoke-virtual {p1}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v0

    const-string v1, "Phone"

    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_0

    invoke-virtual {p1}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v0

    const-string v1, "Local Phone Account"

    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-nez v0, :cond_1

    :cond_0
    invoke-virtual {p1}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v0

    const-string v1, "Tablet"

    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-nez v0, :cond_1

    invoke-virtual {p1}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v0

    const-string v1, "SIM Account"

    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-nez v0, :cond_1

    invoke-virtual {p1}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v0

    const-string v1, "USIM Account"

    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_2

    .line 9296
    :cond_1
    const-string v0, "ContactsProvider"

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "[canDeleteAccount] -> not delete: "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-static {v0, v1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 9297
    const/4 v0, 0x0

    .line 9300
    :goto_0
    return v0

    :cond_2
    const/4 v0, 0x1

    goto :goto_0
.end method

.method private changeLocaleInBackground()V
    .locals 3

    .prologue
    .line 1815
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 1816
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v1

    .line 1817
    .local v1, profileDb:Landroid/database/sqlite/SQLiteDatabase;
    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V

    .line 1818
    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V

    .line 1820
    :try_start_0
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->initForDefaultLocale()V

    .line 1821
    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V

    .line 1822
    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 1824
    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    .line 1825
    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    .line 1828
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateLocaleInBackground()V

    .line 1829
    return-void

    .line 1824
    :catchall_0
    move-exception v2

    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    .line 1825
    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    throw v2
.end method

.method private cleanUpOldStreamItems(JJ)J
    .locals 14
    .parameter "rawContactId"
    .parameter "insertedStreamItemId"

    .prologue
    .line 3004
    move-wide/from16 v9, p3

    .line 3005
    .local v9, postCleanupInsertedStreamId:J
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 3006
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v1, "stream_items"

    const/4 v2, 0x1

    new-array v2, v2, [Ljava/lang/String;

    const/4 v3, 0x0

    const-string v4, "_id"

    aput-object v4, v2, v3

    const-string v3, "raw_contact_id=?"

    const/4 v4, 0x1

    new-array v4, v4, [Ljava/lang/String;

    const/4 v5, 0x0

    invoke-static/range {p1 .. p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v5

    const/4 v5, 0x0

    const/4 v6, 0x0

    const-string v7, "timestamp DESC, _id DESC"

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 3010
    .local v8, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface {v8}, Landroid/database/Cursor;->getCount()I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v11

    .line 3011
    .local v11, streamItemCount:I
    const/4 v1, 0x5

    if-gt v11, v1, :cond_0

    .line 3027
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    .line 3029
    .end local p3
    :goto_0
    return-wide p3

    .line 3015
    .restart local p3
    :cond_0
    :try_start_1
    invoke-interface {v8}, Landroid/database/Cursor;->moveToLast()Z

    .line 3016
    :goto_1
    invoke-interface {v8}, Landroid/database/Cursor;->getPosition()I

    move-result v1

    const/4 v2, 0x5

    if-lt v1, v2, :cond_2

    .line 3017
    const/4 v1, 0x0

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v12

    .line 3018
    .local v12, streamItemId:J
    cmp-long v1, p3, v12

    if-nez v1, :cond_1

    .line 3020
    const-wide/16 v9, 0x0

    .line 3022
    :cond_1
    const/4 v1, 0x0

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v1

    invoke-direct {p0, v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItem(Landroid/database/sqlite/SQLiteDatabase;J)I

    .line 3023
    invoke-interface {v8}, Landroid/database/Cursor;->moveToPrevious()Z
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_1

    .line 3027
    .end local v11           #streamItemCount:I
    .end local v12           #streamItemId:J
    :catchall_0
    move-exception v1

    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v1

    .restart local v11       #streamItemCount:I
    :cond_2
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    move-wide/from16 p3, v9

    .line 3029
    goto :goto_0
.end method

.method private completeName(Landroid/net/Uri;[Ljava/lang/String;)Landroid/database/Cursor;
    .locals 8
    .parameter "uri"
    .parameter "projection"

    .prologue
    .line 8400
    if-nez p2, :cond_0

    .line 8401
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sDataProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v5}, Lcom/android/common/content/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object p2

    .line 8404
    :cond_0
    new-instance v4, Landroid/content/ContentValues;

    invoke-direct {v4}, Landroid/content/ContentValues;-><init>()V

    .line 8405
    .local v4, values:Landroid/content/ContentValues;
    const-string v5, "vnd.android.cursor.item/name"

    invoke-virtual {p0, v5}, Lcom/android/providers/contacts/ContactsProvider2;->getDataRowHandler(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/DataRowHandlerForStructuredName;

    .line 8408
    .local v1, handler:Lcom/android/providers/contacts/DataRowHandlerForStructuredName;
    const/16 v5, 0xa

    new-array v5, v5, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v7, "data1"

    aput-object v7, v5, v6

    const/4 v6, 0x1

    const-string v7, "data4"

    aput-object v7, v5, v6

    const/4 v6, 0x2

    const-string v7, "data2"

    aput-object v7, v5, v6

    const/4 v6, 0x3

    const-string v7, "data5"

    aput-object v7, v5, v6

    const/4 v6, 0x4

    const-string v7, "data3"

    aput-object v7, v5, v6

    const/4 v6, 0x5

    const-string v7, "data6"

    aput-object v7, v5, v6

    const/4 v6, 0x6

    const-string v7, "phonetic_name"

    aput-object v7, v5, v6

    const/4 v6, 0x7

    const-string v7, "data9"

    aput-object v7, v5, v6

    const/16 v6, 0x8

    const-string v7, "data8"

    aput-object v7, v5, v6

    const/16 v6, 0x9

    const-string v7, "data7"

    aput-object v7, v5, v6

    invoke-direct {p0, v4, p1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->copyQueryParamsToContentValues(Landroid/content/ContentValues;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 8421
    invoke-virtual {v1, v4, v4}, Lcom/android/providers/contacts/DataRowHandlerForStructuredName;->fixStructuredNameComponents(Landroid/content/ContentValues;Landroid/content/ContentValues;)V

    .line 8423
    new-instance v0, Landroid/database/MatrixCursor;

    invoke-direct {v0, p2}, Landroid/database/MatrixCursor;-><init>([Ljava/lang/String;)V

    .line 8424
    .local v0, cursor:Landroid/database/MatrixCursor;
    array-length v5, p2

    new-array v3, v5, [Ljava/lang/Object;

    .line 8425
    .local v3, row:[Ljava/lang/Object;
    const/4 v2, 0x0

    .local v2, i:I
    :goto_0
    array-length v5, p2

    if-ge v2, v5, :cond_1

    .line 8426
    aget-object v5, p2, v2

    invoke-virtual {v4, v5}, Landroid/content/ContentValues;->get(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v5

    aput-object v5, v3, v2

    .line 8425
    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    .line 8428
    :cond_1
    invoke-virtual {v0, v3}, Landroid/database/MatrixCursor;->addRow([Ljava/lang/Object;)V

    .line 8429
    return-object v0
.end method

.method private varargs copyQueryParamsToContentValues(Landroid/content/ContentValues;Landroid/net/Uri;[Ljava/lang/String;)V
    .locals 5
    .parameter "values"
    .parameter "uri"
    .parameter "columns"

    .prologue
    .line 8433
    move-object v0, p3

    .local v0, arr$:[Ljava/lang/String;
    array-length v3, v0

    .local v3, len$:I
    const/4 v2, 0x0

    .local v2, i$:I
    :goto_0
    if-ge v2, v3, :cond_1

    aget-object v1, v0, v2

    .line 8434
    .local v1, column:Ljava/lang/String;
    invoke-virtual {p2, v1}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    .line 8435
    .local v4, param:Ljava/lang/String;
    if-eqz v4, :cond_0

    .line 8436
    invoke-virtual {p1, v1, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 8433
    :cond_0
    add-int/lit8 v2, v2, 0x1

    goto :goto_0

    .line 8439
    .end local v1           #column:Ljava/lang/String;
    .end local v4           #param:Ljava/lang/String;
    :cond_1
    return-void
.end method

.method public static countPhoneNumberDigits(Ljava/lang/String;)I
    .locals 5
    .parameter "query"

    .prologue
    .line 8376
    const/4 v3, 0x0

    .line 8377
    .local v3, numDigits:I
    invoke-virtual {p0}, Ljava/lang/String;->length()I

    move-result v2

    .line 8378
    .local v2, len:I
    const/4 v1, 0x0

    .local v1, i:I
    :goto_0
    if-ge v1, v2, :cond_3

    .line 8379
    invoke-virtual {p0, v1}, Ljava/lang/String;->charAt(I)C

    move-result v0

    .line 8380
    .local v0, c:C
    invoke-static {v0}, Ljava/lang/Character;->isDigit(C)Z

    move-result v4

    if-eqz v4, :cond_1

    .line 8381
    add-int/lit8 v3, v3, 0x1

    .line 8378
    :cond_0
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    .line 8382
    :cond_1
    const/16 v4, 0x2a

    if-eq v0, v4, :cond_0

    const/16 v4, 0x23

    if-eq v0, v4, :cond_0

    const/16 v4, 0x4e

    if-eq v0, v4, :cond_0

    const/16 v4, 0x2e

    if-eq v0, v4, :cond_0

    const/16 v4, 0x3b

    if-eq v0, v4, :cond_0

    const/16 v4, 0x2d

    if-eq v0, v4, :cond_0

    const/16 v4, 0x28

    if-eq v0, v4, :cond_0

    const/16 v4, 0x29

    if-eq v0, v4, :cond_0

    const/16 v4, 0x20

    if-eq v0, v4, :cond_0

    .line 8385
    const/16 v4, 0x2b

    if-ne v0, v4, :cond_2

    if-eqz v3, :cond_0

    .line 8388
    :cond_2
    const/4 v3, 0x0

    .line 8391
    .end local v0           #c:C
    .end local v3           #numDigits:I
    :cond_3
    return v3
.end method

.method private deferredSnippetingRequested(Landroid/net/Uri;)Z
    .locals 2
    .parameter "uri"

    .prologue
    .line 8850
    const-string v1, "deferred_snippeting"

    invoke-static {p1, v1}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    .line 8852
    .local v0, deferredSnippeting:Ljava/lang/String;
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v1

    if-nez v1, :cond_0

    const-string v1, "1"

    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v1

    if-eqz v1, :cond_0

    const/4 v1, 0x1

    :goto_0
    return v1

    :cond_0
    const/4 v1, 0x0

    goto :goto_0
.end method

.method private deleteContact(JZ)I
    .locals 12
    .parameter "contactId"
    .parameter "callerIsSyncAdapter"

    .prologue
    const/4 v11, 0x1

    const/4 v4, 0x0

    const/4 v5, 0x0

    .line 3800
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 3801
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    invoke-static {p1, p2}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v2

    aput-object v2, v1, v4

    .line 3802
    const-string v1, "raw_contacts"

    new-array v2, v11, [Ljava/lang/String;

    const-string v3, "_id"

    aput-object v3, v2, v4

    const-string v3, "contact_id=?"

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    move-object v6, v5

    move-object v7, v5

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 3806
    .local v8, c:Landroid/database/Cursor;
    :goto_0
    :try_start_0
    invoke-interface {v8}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 3807
    const/4 v1, 0x0

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v9

    .line 3808
    .local v9, rawContactId:J
    invoke-direct {p0, v0, v9, v10, p3}, Lcom/android/providers/contacts/ContactsProvider2;->markRawContactAsDeleted(Landroid/database/sqlite/SQLiteDatabase;JZ)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    .line 3811
    .end local v9           #rawContactId:J
    :catchall_0
    move-exception v1

    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v1

    :cond_0
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    .line 3814
    iput-boolean v11, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatusUpdateNeeded:Z

    .line 3816
    const-string v1, "contacts"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "_id="

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, p1, p2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v1, v2, v5}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v1

    return v1
.end method

.method private deleteData(Ljava/lang/String;[Ljava/lang/String;Z)I
    .locals 13
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 3036
    const/4 v7, 0x0

    .line 3038
    .local v7, count:I
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v8

    .line 3042
    .local v8, db:Landroid/database/sqlite/SQLiteDatabase;
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->inProfileMode()Z

    move-result v0

    if-eqz v0, :cond_1

    sget-object v0, Landroid/provider/ContactsContract$Profile;->CONTENT_URI:Landroid/net/Uri;

    const-string v2, "data"

    invoke-static {v0, v2}, Landroid/net/Uri;->withAppendedPath(Landroid/net/Uri;Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v1

    .line 3045
    .local v1, dataUri:Landroid/net/Uri;
    :goto_0
    sget-object v2, Lcom/android/providers/contacts/DataRowHandler$DataDeleteQuery;->COLUMNS:[Ljava/lang/String;

    const/4 v5, 0x0

    move-object v0, p0

    move-object v3, p1

    move-object v4, p2

    invoke-virtual/range {v0 .. v5}, Lcom/android/providers/contacts/ContactsProvider2;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v6

    .line 3048
    .local v6, c:Landroid/database/Cursor;
    :cond_0
    :goto_1
    :try_start_0
    invoke-interface {v6}, Landroid/database/Cursor;->moveToNext()Z

    move-result v0

    if-eqz v0, :cond_2

    .line 3049
    const/4 v0, 0x2

    invoke-interface {v6, v0}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v10

    .line 3050
    .local v10, rawContactId:J
    const/4 v0, 0x1

    invoke-interface {v6, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v9

    .line 3051
    .local v9, mimeType:Ljava/lang/String;
    invoke-virtual {p0, v9}, Lcom/android/providers/contacts/ContactsProvider2;->getDataRowHandler(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;

    move-result-object v12

    .line 3052
    .local v12, rowHandler:Lcom/android/providers/contacts/DataRowHandler;
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v12, v8, v0, v6}, Lcom/android/providers/contacts/DataRowHandler;->delete(Landroid/database/sqlite/SQLiteDatabase;Lcom/android/providers/contacts/TransactionContext;Landroid/database/Cursor;)I

    move-result v0

    add-int/2addr v7, v0

    .line 3053
    if-nez p3, :cond_0

    .line 3054
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v0, v10, v11}, Lcom/android/providers/contacts/TransactionContext;->markRawContactDirty(J)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    .line 3058
    .end local v9           #mimeType:Ljava/lang/String;
    .end local v10           #rawContactId:J
    .end local v12           #rowHandler:Lcom/android/providers/contacts/DataRowHandler;
    :catchall_0
    move-exception v0

    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    throw v0

    .line 3042
    .end local v1           #dataUri:Landroid/net/Uri;
    .end local v6           #c:Landroid/database/Cursor;
    :cond_1
    sget-object v1, Landroid/provider/ContactsContract$Data;->CONTENT_URI:Landroid/net/Uri;

    goto :goto_0

    .line 3058
    .restart local v1       #dataUri:Landroid/net/Uri;
    .restart local v6       #c:Landroid/database/Cursor;
    :cond_2
    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    .line 3061
    return v7
.end method

.method private deleteDataGroupMembership(JJ)V
    .locals 6
    .parameter "rawContactId"
    .parameter "groupId"

    .prologue
    .line 2788
    const/4 v2, 0x3

    new-array v1, v2, [Ljava/lang/String;

    const/4 v3, 0x0

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v4, "vnd.android.cursor.item/group_membership"

    invoke-virtual {v2, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v4

    invoke-static {v4, v5}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v2

    aput-object v2, v1, v3

    const/4 v2, 0x1

    invoke-static {p3, p4}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v3

    aput-object v3, v1, v2

    const/4 v2, 0x2

    invoke-static {p1, p2}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v3

    aput-object v3, v1, v2

    .line 2792
    .local v1, selectionArgs:[Ljava/lang/String;
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 2793
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v2, "data"

    const-string v3, "mimetype_id=? AND data1=? AND raw_contact_id=?"

    invoke-virtual {v0, v2, v3, v1}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    .line 2794
    return-void
.end method

.method private deleteDataUsage()I
    .locals 3

    .prologue
    const/4 v2, 0x0

    .line 3949
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 3950
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v1, "UPDATE raw_contacts SET times_contacted=0,last_time_contacted=NULL"

    invoke-virtual {v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V

    .line 3954
    const-string v1, "UPDATE contacts SET times_contacted=0,last_time_contacted=NULL"

    invoke-virtual {v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V

    .line 3958
    const-string v1, "data_usage_stat"

    invoke-virtual {v0, v1, v2, v2}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    .line 3960
    const/4 v1, 0x1

    return v1
.end method

.method private deleteSettings(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 4
    .parameter "uri"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 3792
    const-string v2, "ContactsProvider"

    const-string v3, "deleteSettings() ****"

    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 3793
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v1

    .line 3794
    .local v1, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v2, "settings"

    invoke-virtual {v1, v2, p2, p3}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v0

    .line 3795
    .local v0, count:I
    const/4 v2, 0x1

    iput-boolean v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    .line 3796
    return v0
.end method

.method private deleteStatusUpdates(Ljava/lang/String;[Ljava/lang/String;)I
    .locals 4
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 3873
    sget-boolean v1, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v1, :cond_0

    .line 3874
    const-string v1, "ContactsProvider"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "deleting data from status_updates for "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 3876
    :cond_0
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 3877
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v1, "status_updates"

    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->getWhereClauseForStatusUpdatesTable(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v1, v2, p2}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    .line 3879
    const-string v1, "presence"

    invoke-virtual {v0, v1, p1, p2}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v1

    return v1
.end method

.method private deleteStreamItem(Landroid/database/sqlite/SQLiteDatabase;J)I
    .locals 5
    .parameter "db"
    .parameter "streamItemId"

    .prologue
    .line 3900
    invoke-direct {p0, p2, p3}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItemPhotos(J)I

    .line 3901
    const-string v0, "stream_items"

    const-string v1, "_id=?"

    const/4 v2, 0x1

    new-array v2, v2, [Ljava/lang/String;

    const/4 v3, 0x0

    invoke-static {p2, p3}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    aput-object v4, v2, v3

    invoke-virtual {p1, v0, v1, v2}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v0

    return v0
.end method

.method private deleteStreamItemPhotos(J)I
    .locals 6
    .parameter "streamItemId"

    .prologue
    .line 3912
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 3914
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v1, "stream_item_photos"

    const-string v2, "stream_item_id=?"

    const/4 v3, 0x1

    new-array v3, v3, [Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static {p1, p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v3, v4

    invoke-virtual {v0, v1, v2, v3}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v1

    return v1
.end method

.method private deleteStreamItemPhotos(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 2
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 3907
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 3908
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v1, "stream_item_photos"

    invoke-virtual {v0, v1, p3, p4}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v1

    return v1
.end method

.method private deleteStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 10
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    const/4 v5, 0x0

    .line 3884
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 3885
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const/4 v9, 0x0

    .line 3886
    .local v9, count:I
    const-string v1, "view_stream_items"

    sget-object v2, Lcom/android/providers/contacts/ContactsDatabaseHelper$Projections;->ID:[Ljava/lang/String;

    move-object v3, p3

    move-object v4, p4

    move-object v6, v5

    move-object v7, v5

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 3889
    .local v8, c:Landroid/database/Cursor;
    const/4 v1, -0x1

    :try_start_0
    invoke-interface {v8, v1}, Landroid/database/Cursor;->moveToPosition(I)Z

    .line 3890
    :goto_0
    invoke-interface {v8}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 3891
    const/4 v1, 0x0

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v1

    invoke-direct {p0, v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItem(Landroid/database/sqlite/SQLiteDatabase;J)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v1

    add-int/2addr v9, v1

    goto :goto_0

    .line 3894
    :cond_0
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    .line 3896
    return v9

    .line 3894
    :catchall_0
    move-exception v1

    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v1
.end method

.method private enforceSocialStreamReadPermission(Landroid/net/Uri;)V
    .locals 3
    .parameter "uri"

    .prologue
    .line 2973
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->SOCIAL_STREAM_URIS:Ljava/util/List;

    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v1, p1}, Landroid/content/UriMatcher;->match(Landroid/net/Uri;)I

    move-result v1

    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    invoke-interface {v0, v1}, Ljava/util/List;->contains(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_0

    invoke-virtual {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->isValidPreAuthorizedUri(Landroid/net/Uri;)Z

    move-result v0

    if-nez v0, :cond_0

    .line 2975
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v0

    const-string v1, "android.permission.READ_SOCIAL_STREAM"

    const/4 v2, 0x0

    invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V

    .line 2978
    :cond_0
    return-void
.end method

.method private enforceSocialStreamWritePermission(Landroid/net/Uri;)V
    .locals 3
    .parameter "uri"

    .prologue
    .line 2986
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->SOCIAL_STREAM_URIS:Ljava/util/List;

    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v1, p1}, Landroid/content/UriMatcher;->match(Landroid/net/Uri;)I

    move-result v1

    invoke-static {v1}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v1

    invoke-interface {v0, v1}, Ljava/util/List;->contains(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 2987
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v0

    const-string v1, "android.permission.WRITE_SOCIAL_STREAM"

    const/4 v2, 0x0

    invoke-virtual {v0, v1, v2}, Landroid/content/Context;->enforceCallingOrSelfPermission(Ljava/lang/String;Ljava/lang/String;)V

    .line 2990
    :cond_0
    return-void
.end method

.method private findGroupByRawContactId(Ljava/lang/String;J)Ljava/lang/Long;
    .locals 9
    .parameter "selection"
    .parameter "rawContactId"

    .prologue
    const/4 v6, 0x0

    const/4 v5, 0x0

    .line 2750
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 2751
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v1, "groups,raw_contacts"

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2;->PROJECTION_GROUP_ID:[Ljava/lang/String;

    const/4 v3, 0x1

    new-array v4, v3, [Ljava/lang/String;

    invoke-static {p2, p3}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v3

    aput-object v3, v4, v6

    move-object v3, p1

    move-object v6, v5

    move-object v7, v5

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 2756
    .local v8, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface {v8}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 2757
    const/4 v1, 0x0

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v1

    invoke-static {v1, v2}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-object v5

    .line 2761
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    :goto_0
    return-object v5

    :cond_0
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    goto :goto_0

    :catchall_0
    move-exception v1

    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v1
.end method

.method private flushTransactionalChanges()V
    .locals 13

    .prologue
    const/4 v12, 0x0

    .line 2378
    sget-boolean v9, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v9, :cond_0

    .line 2379
    const-string v10, "ContactsProvider"

    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    const-string v11, "flushTransactionalChanges: "

    invoke-virtual {v9, v11}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v11

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->inProfileMode()Z

    move-result v9

    if-eqz v9, :cond_1

    const-string v9, "profile"

    :goto_0
    invoke-virtual {v11, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    invoke-static {v10, v9}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 2382
    :cond_0
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v9}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v9}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 2383
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v9}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v9}, Lcom/android/providers/contacts/TransactionContext;->getInsertedRawContactIds()Ljava/util/Set;

    move-result-object v9

    invoke-interface {v9}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v3

    .local v3, i$:Ljava/util/Iterator;
    :goto_1
    invoke-interface {v3}, Ljava/util/Iterator;->hasNext()Z

    move-result v9

    if-eqz v9, :cond_2

    invoke-interface {v3}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Ljava/lang/Long;

    invoke-virtual {v9}, Ljava/lang/Long;->longValue()J

    move-result-wide v6

    .line 2384
    .local v6, rawContactId:J
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v9}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v9, v0, v6, v7}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->updateRawContactDisplayName(Landroid/database/sqlite/SQLiteDatabase;J)V

    .line 2385
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v9}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    iget-object v10, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v10}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v9, v10, v0, v6, v7}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->onRawContactInsert(Lcom/android/providers/contacts/TransactionContext;Landroid/database/sqlite/SQLiteDatabase;J)J

    goto :goto_1

    .line 2379
    .end local v0           #db:Landroid/database/sqlite/SQLiteDatabase;
    .end local v3           #i$:Ljava/util/Iterator;
    .end local v6           #rawContactId:J
    :cond_1
    const-string v9, "contacts"

    goto :goto_0

    .line 2389
    .restart local v0       #db:Landroid/database/sqlite/SQLiteDatabase;
    .restart local v3       #i$:Ljava/util/Iterator;
    :cond_2
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v9}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v9}, Lcom/android/providers/contacts/TransactionContext;->getDirtyRawContactIds()Ljava/util/Set;

    move-result-object v1

    .line 2390
    .local v1, dirtyRawContacts:Ljava/util/Set;,"Ljava/util/Set<Ljava/lang/Long;>;"
    invoke-interface {v1}, Ljava/util/Set;->isEmpty()Z

    move-result v9

    if-nez v9, :cond_3

    .line 2391
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    invoke-virtual {v9, v12}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 2392
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v10, "UPDATE raw_contacts SET dirty=1 WHERE _id IN ("

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 2393
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    invoke-direct {p0, v9, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendIds(Ljava/lang/StringBuilder;Ljava/util/Set;)V

    .line 2394
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v10, ")"

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 2395
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    invoke-virtual {v0, v9}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V

    .line 2398
    :cond_3
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v9}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v9}, Lcom/android/providers/contacts/TransactionContext;->getUpdatedRawContactIds()Ljava/util/Set;

    move-result-object v8

    .line 2399
    .local v8, updatedRawContacts:Ljava/util/Set;,"Ljava/util/Set<Ljava/lang/Long;>;"
    invoke-interface {v8}, Ljava/util/Set;->isEmpty()Z

    move-result v9

    if-nez v9, :cond_4

    .line 2400
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    invoke-virtual {v9, v12}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 2401
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v10, "UPDATE raw_contacts SET version = version + 1 WHERE _id IN ("

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 2402
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    invoke-direct {p0, v9, v8}, Lcom/android/providers/contacts/ContactsProvider2;->appendIds(Ljava/lang/StringBuilder;Ljava/util/Set;)V

    .line 2403
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v10, ")"

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 2404
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    invoke-virtual {v0, v9}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V

    .line 2408
    :cond_4
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v9}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v9}, Lcom/android/providers/contacts/TransactionContext;->getUpdatedSyncStates()Ljava/util/Set;

    move-result-object v9

    invoke-interface {v9}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v3

    :cond_5
    invoke-interface {v3}, Ljava/util/Iterator;->hasNext()Z

    move-result v9

    if-eqz v9, :cond_6

    invoke-interface {v3}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Ljava/util/Map$Entry;

    .line 2409
    .local v2, entry:Ljava/util/Map$Entry;,"Ljava/util/Map$Entry<Ljava/lang/Long;Ljava/lang/Object;>;"
    invoke-interface {v2}, Ljava/util/Map$Entry;->getKey()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Ljava/lang/Long;

    invoke-virtual {v9}, Ljava/lang/Long;->longValue()J

    move-result-wide v4

    .line 2410
    .local v4, id:J
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v9}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v9}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v9

    invoke-interface {v2}, Ljava/util/Map$Entry;->getValue()Ljava/lang/Object;

    move-result-object v10

    invoke-virtual {v9, v0, v4, v5, v10}, Lcom/android/common/content/SyncStateContentProviderHelper;->update(Landroid/database/sqlite/SQLiteDatabase;JLjava/lang/Object;)I

    move-result v9

    if-gtz v9, :cond_5

    .line 2411
    new-instance v9, Ljava/lang/IllegalStateException;

    const-string v10, "unable to update sync state, does it still exist?"

    invoke-direct {v9, v10}, Ljava/lang/IllegalStateException;-><init>(Ljava/lang/String;)V

    throw v9

    .line 2416
    .end local v2           #entry:Ljava/util/Map$Entry;,"Ljava/util/Map$Entry<Ljava/lang/Long;Ljava/lang/Object;>;"
    .end local v4           #id:J
    :cond_6
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v9}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v9}, Lcom/android/providers/contacts/TransactionContext;->clearExceptSearchIndexUpdates()V

    .line 2417
    return-void
.end method

.method private getAccountPromotionSortOrder(Landroid/net/Uri;)Ljava/lang/String;
    .locals 4
    .parameter "uri"

    .prologue
    .line 8824
    const-string v3, "name_for_primary_account"

    invoke-virtual {p1, v3}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    .line 8826
    .local v0, primaryAccountName:Ljava/lang/String;
    const-string v3, "type_for_primary_account"

    invoke-virtual {p1, v3}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    .line 8830
    .local v1, primaryAccountType:Ljava/lang/String;
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_1

    .line 8831
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    .line 8832
    .local v2, sb:Ljava/lang/StringBuilder;
    const-string v3, "(CASE WHEN account_name="

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8833
    invoke-static {v2, v0}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 8834
    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_0

    .line 8835
    const-string v3, " AND account_type="

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8836
    invoke-static {v2, v1}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 8838
    :cond_0
    const-string v3, " THEN 0 ELSE 1 END)"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8839
    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    .line 8841
    .end local v2           #sb:Ljava/lang/StringBuilder;
    :goto_0
    return-object v3

    :cond_1
    const/4 v3, 0x0

    goto :goto_0
.end method

.method private getAccountWithDataSetFromUri(Landroid/net/Uri;)Lcom/android/providers/contacts/AccountWithDataSet;
    .locals 7
    .parameter "uri"

    .prologue
    .line 7593
    const-string v4, "account_name"

    invoke-static {p1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    .line 7594
    .local v0, accountName:Ljava/lang/String;
    const-string v4, "account_type"

    invoke-static {p1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    .line 7595
    .local v1, accountType:Ljava/lang/String;
    const-string v4, "data_set"

    invoke-static {p1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    .line 7597
    .local v2, dataSet:Ljava/lang/String;
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    xor-int v3, v4, v5

    .line 7598
    .local v3, partialUri:Z
    if-eqz v3, :cond_0

    .line 7600
    new-instance v5, Ljava/lang/IllegalArgumentException;

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v6, "Must specify both or neither of ACCOUNT_NAME and ACCOUNT_TYPE"

    invoke-virtual {v4, v6, p1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v4

    invoke-direct {v5, v4}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v5

    .line 7603
    :cond_0
    invoke-static {v0, v1, v2}, Lcom/android/providers/contacts/AccountWithDataSet;->get(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/AccountWithDataSet;

    move-result-object v4

    return-object v4
.end method

.method private static final getDataUsageFeedbackType(Ljava/lang/String;Ljava/lang/Integer;)I
    .locals 3
    .parameter "type"
    .parameter "defaultType"

    .prologue
    .line 8929
    const-string v0, "call"

    invoke-virtual {v0, p0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 8930
    const/4 v0, 0x0

    .line 8939
    :goto_0
    return v0

    .line 8932
    :cond_0
    const-string v0, "long_text"

    invoke-virtual {v0, p0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_1

    .line 8933
    const/4 v0, 0x1

    goto :goto_0

    .line 8935
    :cond_1
    const-string v0, "short_text"

    invoke-virtual {v0, p0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_2

    .line 8936
    const/4 v0, 0x2

    goto :goto_0

    .line 8938
    :cond_2
    if-eqz p1, :cond_3

    .line 8939
    invoke-virtual {p1}, Ljava/lang/Integer;->intValue()I

    move-result v0

    goto :goto_0

    .line 8941
    :cond_3
    new-instance v0, Ljava/lang/IllegalArgumentException;

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "Invalid usage type "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1, p0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v1}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v0
.end method

.method private getDirectoryAuthority(Ljava/lang/String;)Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;
    .locals 12
    .parameter "directoryId"

    .prologue
    .line 5316
    iget-object v11, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCache:Ljava/util/HashMap;

    monitor-enter v11

    .line 5317
    :try_start_0
    iget-boolean v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCacheValid:Z

    if-nez v1, :cond_1

    .line 5318
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCache:Ljava/util/HashMap;

    invoke-virtual {v1}, Ljava/util/HashMap;->clear()V

    .line 5319
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 5320
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v1, "directories"

    sget-object v2, Lcom/android/providers/contacts/ContactsProvider2$DirectoryQuery;->COLUMNS:[Ljava/lang/String;

    const/4 v3, 0x0

    const/4 v4, 0x0

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_1

    move-result-object v8

    .line 5324
    .local v8, cursor:Landroid/database/Cursor;
    :goto_0
    :try_start_1
    invoke-interface {v8}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 5325
    new-instance v10, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;

    const/4 v1, 0x0

    invoke-direct {v10, v1}, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;-><init>(Lcom/android/providers/contacts/ContactsProvider2$1;)V

    .line 5326
    .local v10, info:Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;
    const/4 v1, 0x0

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v9

    .line 5327
    .local v9, id:Ljava/lang/String;
    const/4 v1, 0x1

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v1

    iput-object v1, v10, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->authority:Ljava/lang/String;

    .line 5328
    const/4 v1, 0x2

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v1

    iput-object v1, v10, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->accountName:Ljava/lang/String;

    .line 5329
    const/4 v1, 0x3

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v1

    iput-object v1, v10, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->accountType:Ljava/lang/String;

    .line 5330
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCache:Ljava/util/HashMap;

    invoke-virtual {v1, v9, v10}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_0

    .line 5333
    .end local v9           #id:Ljava/lang/String;
    .end local v10           #info:Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;
    :catchall_0
    move-exception v1

    :try_start_2
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v1

    .line 5339
    .end local v0           #db:Landroid/database/sqlite/SQLiteDatabase;
    .end local v8           #cursor:Landroid/database/Cursor;
    :catchall_1
    move-exception v1

    monitor-exit v11
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_1

    throw v1

    .line 5333
    .restart local v0       #db:Landroid/database/sqlite/SQLiteDatabase;
    .restart local v8       #cursor:Landroid/database/Cursor;
    :cond_0
    :try_start_3
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    .line 5335
    const/4 v1, 0x1

    iput-boolean v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCacheValid:Z

    .line 5338
    .end local v0           #db:Landroid/database/sqlite/SQLiteDatabase;
    .end local v8           #cursor:Landroid/database/Cursor;
    :cond_1
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCache:Ljava/util/HashMap;

    invoke-virtual {v1, p1}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;

    monitor-exit v11
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_1

    return-object v1
.end method

.method private static getFastScrollingIndexExtras(Landroid/net/Uri;Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;Ljava/util/Locale;)Landroid/os/Bundle;
    .locals 29
    .parameter "queryUri"
    .parameter "db"
    .parameter "qb"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "sortOrder"
    .parameter "countExpression"
    .parameter "cancellationSignal"
    .parameter "currentLocale"

    .prologue
    .line 6729
    const-string v25, ""

    .line 6730
    .local v25, sortOrderSuffix:Ljava/lang/String;
    if-eqz p5, :cond_4

    .line 6731
    const/16 v3, 0x20

    move-object/from16 v0, p5

    invoke-virtual {v0, v3}, Ljava/lang/String;->indexOf(I)I

    move-result v26

    .line 6732
    .local v26, spaceIndex:I
    const/4 v3, -0x1

    move/from16 v0, v26

    if-eq v0, v3, :cond_3

    .line 6733
    const/4 v3, 0x0

    move-object/from16 v0, p5

    move/from16 v1, v26

    invoke-virtual {v0, v3, v1}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v24

    .line 6734
    .local v24, sortKey:Ljava/lang/String;
    move-object/from16 v0, p5

    move/from16 v1, v26

    invoke-virtual {v0, v1}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v25

    .line 6742
    .end local v26           #spaceIndex:I
    :goto_0
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v22

    .line 6743
    .local v22, projectionMap:Ljava/util/HashMap;,"Ljava/util/HashMap<Ljava/lang/String;Ljava/lang/String;>;"
    sget-object v3, Ljava/util/Locale;->US:Ljava/util/Locale;

    const-string v4, "SUBSTR(%1$s,1,1)"

    const/4 v5, 0x1

    new-array v5, v5, [Ljava/lang/Object;

    const/4 v6, 0x0

    aput-object v24, v5, v6

    invoke-static {v3, v4, v5}, Ljava/lang/String;->format(Ljava/util/Locale;Ljava/lang/String;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v23

    .line 6745
    .local v23, sectionHeading:Ljava/lang/String;
    const-string v3, "letter"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v23

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " AS "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "letter"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v22

    invoke-virtual {v0, v3, v4}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 6749
    invoke-static/range {p6 .. p6}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-eqz v3, :cond_0

    .line 6750
    const-string p6, "*"

    .line 6760
    :cond_0
    const-string v3, "title"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "GET_PHONEBOOK_INDEX("

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, v23

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, ",\'"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual/range {p8 .. p8}, Ljava/util/Locale;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "\')"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " AS "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "title"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v22

    invoke-virtual {v0, v3, v4}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 6763
    const-string v3, "count"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "COUNT("

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p6

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, ") AS "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "count"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v22

    invoke-virtual {v0, v3, v4}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 6765
    move-object/from16 v0, p2

    move-object/from16 v1, v22

    invoke-virtual {v0, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 6767
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2$AddressBookIndexQuery;->COLUMNS:[Ljava/lang/String;

    const-string v8, "letter COLLATE PHONEBOOK"

    const/4 v9, 0x0

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "letter COLLATE PHONEBOOK"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-object/from16 v0, v25

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v10

    const/4 v11, 0x0

    move-object/from16 v3, p2

    move-object/from16 v4, p1

    move-object/from16 v6, p3

    move-object/from16 v7, p4

    move-object/from16 v12, p7

    invoke-virtual/range {v3 .. v12}, Landroid/database/sqlite/SQLiteQueryBuilder;->query(Landroid/database/sqlite/SQLiteDatabase;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v19

    .line 6773
    .local v19, indexCursor:Landroid/database/Cursor;
    :try_start_0
    invoke-interface/range {v19 .. v19}, Landroid/database/Cursor;->getCount()I

    move-result v16

    .line 6774
    .local v16, groupCount:I
    move/from16 v0, v16

    new-array v0, v0, [Ljava/lang/String;

    move-object/from16 v28, v0

    .line 6775
    .local v28, titles:[Ljava/lang/String;
    move/from16 v0, v16

    new-array v14, v0, [I

    .line 6776
    .local v14, counts:[I
    const/16 v18, 0x0

    .line 6777
    .local v18, indexCount:I
    const/4 v15, 0x0

    .line 6782
    .local v15, currentTitle:Ljava/lang/String;
    const/16 v17, 0x0

    .local v17, i:I
    :goto_1
    move/from16 v0, v17

    move/from16 v1, v16

    if-ge v0, v1, :cond_6

    .line 6783
    invoke-interface/range {v19 .. v19}, Landroid/database/Cursor;->moveToNext()Z

    .line 6784
    const/4 v3, 0x1

    move-object/from16 v0, v19

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v27

    .line 6785
    .local v27, title:Ljava/lang/String;
    if-nez v27, :cond_1

    .line 6786
    const-string v27, ""

    .line 6788
    :cond_1
    const/4 v3, 0x2

    move-object/from16 v0, v19

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getInt(I)I

    move-result v13

    .line 6789
    .local v13, count:I
    if-eqz v18, :cond_2

    move-object/from16 v0, v27

    invoke-static {v0, v15}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_5

    .line 6790
    :cond_2
    move-object/from16 v15, v27

    aput-object v27, v28, v18

    .line 6791
    aput v13, v14, v18
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 6792
    add-int/lit8 v18, v18, 0x1

    .line 6782
    :goto_2
    add-int/lit8 v17, v17, 0x1

    goto :goto_1

    .line 6736
    .end local v13           #count:I
    .end local v14           #counts:[I
    .end local v15           #currentTitle:Ljava/lang/String;
    .end local v16           #groupCount:I
    .end local v17           #i:I
    .end local v18           #indexCount:I
    .end local v19           #indexCursor:Landroid/database/Cursor;
    .end local v22           #projectionMap:Ljava/util/HashMap;,"Ljava/util/HashMap<Ljava/lang/String;Ljava/lang/String;>;"
    .end local v23           #sectionHeading:Ljava/lang/String;
    .end local v24           #sortKey:Ljava/lang/String;
    .end local v27           #title:Ljava/lang/String;
    .end local v28           #titles:[Ljava/lang/String;
    .restart local v26       #spaceIndex:I
    :cond_3
    move-object/from16 v24, p5

    .restart local v24       #sortKey:Ljava/lang/String;
    goto/16 :goto_0

    .line 6739
    .end local v24           #sortKey:Ljava/lang/String;
    .end local v26           #spaceIndex:I
    :cond_4
    const-string v24, "sort_key"

    .restart local v24       #sortKey:Ljava/lang/String;
    goto/16 :goto_0

    .line 6794
    .restart local v13       #count:I
    .restart local v14       #counts:[I
    .restart local v15       #currentTitle:Ljava/lang/String;
    .restart local v16       #groupCount:I
    .restart local v17       #i:I
    .restart local v18       #indexCount:I
    .restart local v19       #indexCursor:Landroid/database/Cursor;
    .restart local v22       #projectionMap:Ljava/util/HashMap;,"Ljava/util/HashMap<Ljava/lang/String;Ljava/lang/String;>;"
    .restart local v23       #sectionHeading:Ljava/lang/String;
    .restart local v27       #title:Ljava/lang/String;
    .restart local v28       #titles:[Ljava/lang/String;
    :cond_5
    add-int/lit8 v3, v18, -0x1

    :try_start_1
    aget v4, v14, v3

    add-int/2addr v4, v13

    aput v4, v14, v3
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_2

    .line 6809
    .end local v13           #count:I
    .end local v14           #counts:[I
    .end local v15           #currentTitle:Ljava/lang/String;
    .end local v16           #groupCount:I
    .end local v17           #i:I
    .end local v18           #indexCount:I
    .end local v27           #title:Ljava/lang/String;
    .end local v28           #titles:[Ljava/lang/String;
    :catchall_0
    move-exception v3

    invoke-interface/range {v19 .. v19}, Landroid/database/Cursor;->close()V

    throw v3

    .line 6798
    .restart local v14       #counts:[I
    .restart local v15       #currentTitle:Ljava/lang/String;
    .restart local v16       #groupCount:I
    .restart local v17       #i:I
    .restart local v18       #indexCount:I
    .restart local v28       #titles:[Ljava/lang/String;
    :cond_6
    move/from16 v0, v18

    move/from16 v1, v16

    if-ge v0, v1, :cond_7

    .line 6799
    :try_start_2
    move/from16 v0, v18

    new-array v0, v0, [Ljava/lang/String;

    move-object/from16 v21, v0

    .line 6800
    .local v21, newTitles:[Ljava/lang/String;
    const/4 v3, 0x0

    const/4 v4, 0x0

    move-object/from16 v0, v28

    move-object/from16 v1, v21

    move/from16 v2, v18

    invoke-static {v0, v3, v1, v4, v2}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    .line 6801
    move-object/from16 v28, v21

    .line 6803
    move/from16 v0, v18

    new-array v0, v0, [I

    move-object/from16 v20, v0

    .line 6804
    .local v20, newCounts:[I
    const/4 v3, 0x0

    const/4 v4, 0x0

    move-object/from16 v0, v20

    move/from16 v1, v18

    invoke-static {v14, v3, v0, v4, v1}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    .line 6805
    move-object/from16 v14, v20

    .line 6807
    .end local v20           #newCounts:[I
    .end local v21           #newTitles:[Ljava/lang/String;
    :cond_7
    move-object/from16 v0, v28

    invoke-static {v0, v14}, Lcom/android/providers/contacts/FastScrollingIndexCache;->buildExtraBundle([Ljava/lang/String;[I)Landroid/os/Bundle;
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    move-result-object v3

    .line 6809
    invoke-interface/range {v19 .. v19}, Landroid/database/Cursor;->close()V

    return-object v3
.end method

.method private getLimit(Landroid/net/Uri;)Ljava/lang/String;
    .locals 7
    .parameter "uri"

    .prologue
    const/4 v3, 0x0

    .line 7674
    const-string v4, "limit"

    invoke-static {p1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    .line 7675
    .local v2, limitParam:Ljava/lang/String;
    if-nez v2, :cond_0

    .line 7688
    :goto_0
    return-object v3

    .line 7680
    :cond_0
    :try_start_0
    invoke-static {v2}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v1

    .line 7681
    .local v1, l:I
    if-gez v1, :cond_1

    .line 7682
    const-string v4, "ContactsProvider"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "Invalid limit parameter: "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v4, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
    :try_end_0
    .catch Ljava/lang/NumberFormatException; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0

    .line 7686
    .end local v1           #l:I
    :catch_0
    move-exception v0

    .line 7687
    .local v0, ex:Ljava/lang/NumberFormatException;
    const-string v4, "ContactsProvider"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "Invalid limit parameter: "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v4, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_0

    .line 7685
    .end local v0           #ex:Ljava/lang/NumberFormatException;
    .restart local v1       #l:I
    :cond_1
    :try_start_1
    invoke-static {v1}, Ljava/lang/String;->valueOf(I)Ljava/lang/String;
    :try_end_1
    .catch Ljava/lang/NumberFormatException; {:try_start_1 .. :try_end_1} :catch_0

    move-result-object v3

    goto :goto_0
.end method

.method private getMostReferencedContactId(Ljava/util/ArrayList;)J
    .locals 13
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList",
            "<",
            "Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;",
            ">;)J"
        }
    .end annotation

    .prologue
    .line 7056
    .local p1, segments:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;>;"
    invoke-static {p1}, Ljava/util/Collections;->sort(Ljava/util/List;)V

    .line 7058
    const-wide/16 v0, -0x1

    .line 7059
    .local v0, bestContactId:J
    const/4 v2, 0x0

    .line 7061
    .local v2, bestRefCount:I
    const-wide/16 v3, -0x1

    .line 7062
    .local v3, contactId:J
    const/4 v5, 0x0

    .line 7064
    .local v5, count:I
    invoke-virtual {p1}, Ljava/util/ArrayList;->size()I

    move-result v8

    .line 7065
    .local v8, segmentCount:I
    const/4 v6, 0x0

    .local v6, i:I
    :goto_0
    if-ge v6, v8, :cond_3

    .line 7066
    invoke-virtual {p1, v6}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 7067
    .local v7, segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    iget-wide v9, v7, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->contactId:J

    const-wide/16 v11, -0x1

    cmp-long v9, v9, v11

    if-eqz v9, :cond_0

    .line 7068
    iget-wide v9, v7, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->contactId:J

    cmp-long v9, v9, v3

    if-nez v9, :cond_1

    .line 7069
    add-int/lit8 v5, v5, 0x1

    .line 7065
    :cond_0
    :goto_1
    add-int/lit8 v6, v6, 0x1

    goto :goto_0

    .line 7071
    :cond_1
    if-le v5, v2, :cond_2

    .line 7072
    move-wide v0, v3

    .line 7073
    move v2, v5

    .line 7075
    :cond_2
    iget-wide v3, v7, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->contactId:J

    .line 7076
    const/4 v5, 0x1

    goto :goto_1

    .line 7080
    .end local v7           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_3
    if-le v5, v2, :cond_4

    .line 7083
    .end local v3           #contactId:J
    :goto_2
    return-wide v3

    .restart local v3       #contactId:J
    :cond_4
    move-wide v3, v0

    goto :goto_2
.end method

.method static getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;
    .locals 12
    .parameter "uri"
    .parameter "parameter"

    .prologue
    const/16 v11, 0x26

    const/4 v10, -0x1

    const/4 v7, 0x0

    .line 8549
    invoke-virtual {p0}, Landroid/net/Uri;->getEncodedQuery()Ljava/lang/String;

    move-result-object v4

    .line 8550
    .local v4, query:Ljava/lang/String;
    if-nez v4, :cond_1

    .line 8595
    :cond_0
    :goto_0
    return-object v7

    .line 8554
    :cond_1
    invoke-virtual {v4}, Ljava/lang/String;->length()I

    move-result v5

    .line 8555
    .local v5, queryLength:I
    invoke-virtual {p1}, Ljava/lang/String;->length()I

    move-result v2

    .line 8558
    .local v2, parameterLength:I
    const/4 v1, 0x0

    .line 8560
    .local v1, index:I
    :cond_2
    :goto_1
    invoke-virtual {v4, p1, v1}, Ljava/lang/String;->indexOf(Ljava/lang/String;I)I

    move-result v1

    .line 8561
    if-eq v1, v10, :cond_0

    .line 8567
    if-lez v1, :cond_3

    .line 8568
    add-int/lit8 v8, v1, -0x1

    invoke-virtual {v4, v8}, Ljava/lang/String;->charAt(I)C

    move-result v3

    .line 8569
    .local v3, prevChar:C
    const/16 v8, 0x3f

    if-eq v3, v8, :cond_3

    if-eq v3, v11, :cond_3

    .line 8571
    add-int/2addr v1, v2

    .line 8572
    goto :goto_1

    .line 8576
    .end local v3           #prevChar:C
    :cond_3
    add-int/2addr v1, v2

    .line 8578
    if-eq v5, v1, :cond_0

    .line 8582
    invoke-virtual {v4, v1}, Ljava/lang/String;->charAt(I)C

    move-result v8

    const/16 v9, 0x3d

    if-ne v8, v9, :cond_2

    .line 8583
    add-int/lit8 v1, v1, 0x1

    .line 8588
    invoke-virtual {v4, v11, v1}, Ljava/lang/String;->indexOf(II)I

    move-result v0

    .line 8589
    .local v0, ampIndex:I
    if-ne v0, v10, :cond_4

    .line 8590
    invoke-virtual {v4, v1}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v6

    .line 8595
    .local v6, value:Ljava/lang/String;
    :goto_2
    invoke-static {v6}, Landroid/net/Uri;->decode(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    goto :goto_0

    .line 8592
    .end local v6           #value:Ljava/lang/String;
    :cond_4
    invoke-virtual {v4, v1, v0}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v6

    .restart local v6       #value:Ljava/lang/String;
    goto :goto_2
.end method

.method private getResourceName(Landroid/content/res/Resources;Ljava/lang/String;Ljava/lang/Integer;)Ljava/lang/String;
    .locals 7
    .parameter "resources"
    .parameter "expectedType"
    .parameter "resourceId"

    .prologue
    const/4 v3, 0x0

    .line 3445
    if-eqz p3, :cond_0

    :try_start_0
    invoke-virtual {p3}, Ljava/lang/Integer;->intValue()I

    move-result v4

    if-nez v4, :cond_2

    :cond_0
    move-object v1, v3

    .line 3458
    :cond_1
    :goto_0
    return-object v1

    .line 3448
    :cond_2
    invoke-virtual {p3}, Ljava/lang/Integer;->intValue()I

    move-result v4

    invoke-virtual {p1, v4}, Landroid/content/res/Resources;->getResourceEntryName(I)Ljava/lang/String;

    move-result-object v1

    .line 3449
    .local v1, resourceEntryName:Ljava/lang/String;
    invoke-virtual {p3}, Ljava/lang/Integer;->intValue()I

    move-result v4

    invoke-virtual {p1, v4}, Landroid/content/res/Resources;->getResourceTypeName(I)Ljava/lang/String;

    move-result-object v2

    .line 3450
    .local v2, resourceTypeName:Ljava/lang/String;
    invoke-virtual {p2, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_1

    .line 3451
    const-string v4, "ContactsProvider"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "Resource "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, " ("

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, ") is of type "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, " but "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, " is required."

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v4, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
    :try_end_0
    .catch Landroid/content/res/Resources$NotFoundException; {:try_start_0 .. :try_end_0} :catch_0

    move-object v1, v3

    .line 3453
    goto :goto_0

    .line 3457
    .end local v1           #resourceEntryName:Ljava/lang/String;
    .end local v2           #resourceTypeName:Ljava/lang/String;
    :catch_0
    move-exception v0

    .local v0, e:Landroid/content/res/Resources$NotFoundException;
    move-object v1, v3

    .line 3458
    goto :goto_0
.end method

.method private getSettableColumnsForPresenceTable(Landroid/content/ContentValues;)Landroid/content/ContentValues;
    .locals 3
    .parameter "values"

    .prologue
    .line 4306
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v0}, Landroid/content/ContentValues;->clear()V

    .line 4307
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "mode"

    const-string v2, "mode"

    invoke-static {v0, v1, p1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4309
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "chat_capability"

    const-string v2, "chat_capability"

    invoke-static {v0, v1, p1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4311
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    return-object v0
.end method

.method private getSettableColumnsForStatusUpdatesTable(Landroid/content/ContentValues;)Landroid/content/ContentValues;
    .locals 3
    .parameter "values"

    .prologue
    .line 4291
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v0}, Landroid/content/ContentValues;->clear()V

    .line 4292
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "status"

    const-string v2, "status"

    invoke-static {v0, v1, p1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4294
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "status_ts"

    const-string v2, "status_ts"

    invoke-static {v0, v1, p1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4296
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "status_res_package"

    const-string v2, "status_res_package"

    invoke-static {v0, v1, p1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4298
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "status_label"

    const-string v2, "status_label"

    invoke-static {v0, v1, p1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4300
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "status_icon"

    const-string v2, "status_icon"

    invoke-static {v0, v1, p1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4302
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    return-object v0
.end method

.method private getWhereClauseForStatusUpdatesTable(Ljava/lang/String;)Ljava/lang/String;
    .locals 2
    .parameter "selection"

    .prologue
    .line 4283
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 4284
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v1, "status_update_data_id IN (SELECT Distinct presence_data_id FROM status_updates LEFT OUTER JOIN presence ON status_update_data_id = presence_data_id WHERE "

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 4285
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    invoke-virtual {v0, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 4286
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v1, ")"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 4287
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    return-object v0
.end method

.method private handleDataUsageFeedback(Landroid/net/Uri;)Z
    .locals 17
    .parameter "uri"

    .prologue
    .line 8702
    invoke-static {}, Lcom/android/providers/contacts/util/Clock;->getInstance()Lcom/android/providers/contacts/util/Clock;

    move-result-object v14

    invoke-virtual {v14}, Lcom/android/providers/contacts/util/Clock;->currentTimeMillis()J

    move-result-wide v2

    .line 8703
    .local v2, currentTimeMillis:J
    const-string v14, "type"

    move-object/from16 v0, p1

    invoke-virtual {v0, v14}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v13

    .line 8704
    .local v13, usageType:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v14

    invoke-virtual {v14}, Ljava/lang/String;->trim()Ljava/lang/String;

    move-result-object v14

    const-string v15, ","

    invoke-virtual {v14, v15}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v9

    .line 8705
    .local v9, ids:[Ljava/lang/String;
    new-instance v4, Ljava/util/ArrayList;

    array-length v14, v9

    invoke-direct {v4, v14}, Ljava/util/ArrayList;-><init>(I)V

    .line 8707
    .local v4, dataIds:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Long;>;"
    move-object v1, v9

    .local v1, arr$:[Ljava/lang/String;
    array-length v10, v1

    .local v10, len$:I
    const/4 v7, 0x0

    .local v7, i$:I
    :goto_0
    if-ge v7, v10, :cond_0

    aget-object v8, v1, v7

    .line 8708
    .local v8, id:Ljava/lang/String;
    invoke-static {v8}, Ljava/lang/Long;->valueOf(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v14

    invoke-virtual {v4, v14}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 8707
    add-int/lit8 v7, v7, 0x1

    goto :goto_0

    .line 8711
    .end local v8           #id:Ljava/lang/String;
    :cond_0
    invoke-static {v13}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v14

    if-eqz v14, :cond_2

    .line 8712
    const-string v14, "ContactsProvider"

    const-string v15, "Method for data usage feedback isn\'t specified. Ignoring."

    invoke-static {v14, v15}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    .line 8713
    const/4 v12, 0x0

    .line 8719
    .local v12, successful:Z
    :goto_1
    new-instance v11, Ljava/lang/StringBuilder;

    invoke-direct {v11}, Ljava/lang/StringBuilder;-><init>()V

    .line 8720
    .local v11, rawContactIdSelect:Ljava/lang/StringBuilder;
    const-string v14, "SELECT raw_contact_id FROM data WHERE _id IN ("

    invoke-virtual {v11, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8722
    const/4 v6, 0x0

    .local v6, i:I
    :goto_2
    array-length v14, v9

    if-ge v6, v14, :cond_4

    .line 8723
    if-lez v6, :cond_1

    const-string v14, ","

    invoke-virtual {v11, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8724
    :cond_1
    aget-object v14, v9, v6

    invoke-virtual {v11, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8722
    add-int/lit8 v6, v6, 0x1

    goto :goto_2

    .line 8715
    .end local v6           #i:I
    .end local v11           #rawContactIdSelect:Ljava/lang/StringBuilder;
    .end local v12           #successful:Z
    :cond_2
    move-object/from16 v0, p0

    invoke-virtual {v0, v4, v13, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->updateDataUsageStat(Ljava/util/List;Ljava/lang/String;J)I

    move-result v14

    if-lez v14, :cond_3

    const/4 v12, 0x1

    .restart local v12       #successful:Z
    :goto_3
    goto :goto_1

    .end local v12           #successful:Z
    :cond_3
    const/4 v12, 0x0

    goto :goto_3

    .line 8726
    .restart local v6       #i:I
    .restart local v11       #rawContactIdSelect:Ljava/lang/StringBuilder;
    .restart local v12       #successful:Z
    :cond_4
    const-string v14, ")"

    invoke-virtual {v11, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8728
    move-object/from16 v0, p0

    iget-object v14, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v14}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v14

    check-cast v14, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v14}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v5

    .line 8730
    .local v5, db:Landroid/database/sqlite/SQLiteDatabase;
    move-object/from16 v0, p0

    iget-object v14, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v15, 0x0

    invoke-static {v2, v3}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v16

    aput-object v16, v14, v15

    .line 8732
    new-instance v14, Ljava/lang/StringBuilder;

    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V

    const-string v15, "UPDATE raw_contacts SET last_time_contacted=?,times_contacted=ifnull(times_contacted,0) + 1 WHERE _id IN ("

    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v14

    invoke-virtual {v11}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v15

    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v14

    const-string v15, ")"

    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v14

    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v14

    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    invoke-virtual {v5, v14, v15}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 8738
    new-instance v14, Ljava/lang/StringBuilder;

    invoke-direct {v14}, Ljava/lang/StringBuilder;-><init>()V

    const-string v15, "UPDATE contacts SET last_time_contacted=?,times_contacted=ifnull(times_contacted,0) + 1 WHERE _id IN (SELECT contact_id FROM raw_contacts WHERE _id IN ("

    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v14

    invoke-virtual {v11}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v15

    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v14

    const-string v15, "))"

    invoke-virtual {v14, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v14

    invoke-virtual {v14}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v14

    move-object/from16 v0, p0

    iget-object v15, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    invoke-virtual {v5, v14, v15}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 8746
    return v12
.end method

.method private initDataRowHandlers(Ljava/util/Map;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;Lcom/android/providers/contacts/PhotoStore;)V
    .locals 8
    .parameter
    .parameter "dbHelper"
    .parameter "contactAggregator"
    .parameter "photoStore"
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/Map",
            "<",
            "Ljava/lang/String;",
            "Lcom/android/providers/contacts/DataRowHandler;",
            ">;",
            "Lcom/android/providers/contacts/ContactsDatabaseHelper;",
            "Lcom/android/providers/contacts/aggregation/ContactAggregator;",
            "Lcom/android/providers/contacts/PhotoStore;",
            ")V"
        }
    .end annotation

    .prologue
    .line 1594
    .local p1, handlerMap:Ljava/util/Map;,"Ljava/util/Map<Ljava/lang/String;Lcom/android/providers/contacts/DataRowHandler;>;"
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v1

    .line 1595
    .local v1, context:Landroid/content/Context;
    const-string v0, "vnd.android.cursor.item/email_v2"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForEmail;

    invoke-direct {v2, v1, p2, p3}, Lcom/android/providers/contacts/DataRowHandlerForEmail;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1597
    const-string v0, "vnd.android.cursor.item/im"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForIm;

    invoke-direct {v2, v1, p2, p3}, Lcom/android/providers/contacts/DataRowHandlerForIm;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1599
    const-string v0, "vnd.android.cursor.item/organization"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForOrganization;

    invoke-direct {v2, v1, p2, p3}, Lcom/android/providers/contacts/DataRowHandlerForOrganization;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1612
    const-string v0, "vnd.android.cursor.item/phone_v2"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForPhoneNumberEx;

    invoke-direct {v2, v1, p2, p3}, Lcom/android/providers/contacts/DataRowHandlerForPhoneNumberEx;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1614
    const-string v6, "vnd.android.cursor.item/name"

    new-instance v0, Lcom/android/providers/contacts/DataRowHandlerForStructuredNameEx;

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameLookupBuilder:Lcom/android/providers/contacts/NameLookupBuilder;

    move-object v2, p2

    move-object v3, p3

    invoke-direct/range {v0 .. v5}, Lcom/android/providers/contacts/DataRowHandlerForStructuredNameEx;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;Lcom/android/providers/contacts/NameSplitter;Lcom/android/providers/contacts/NameLookupBuilder;)V

    invoke-interface {p1, v6, v0}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1617
    const-string v0, "vnd.android.cursor.item/sip_address"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForSipAddress;

    invoke-direct {v2, v1, p2, p3}, Lcom/android/providers/contacts/DataRowHandlerForSipAddress;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1619
    const-string v0, "vnd.android.cursor.item/website"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForWebsite;

    invoke-direct {v2, v1, p2, p3}, Lcom/android/providers/contacts/DataRowHandlerForWebsite;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1626
    const-string v0, "vnd.android.cursor.item/nickname"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForNickname;

    invoke-direct {v2, v1, p2, p3}, Lcom/android/providers/contacts/DataRowHandlerForNickname;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1628
    const-string v0, "vnd.android.cursor.item/postal-address_v2"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForStructuredPostal;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPostalSplitter:Lcom/android/providers/contacts/PostalSplitter;

    invoke-direct {v2, v1, p2, p3, v3}, Lcom/android/providers/contacts/DataRowHandlerForStructuredPostal;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;Lcom/android/providers/contacts/PostalSplitter;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1631
    const-string v0, "vnd.android.cursor.item/group_membership"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForGroupMembership;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mGroupIdCache:Ljava/util/HashMap;

    invoke-direct {v2, v1, p2, p3, v3}, Lcom/android/providers/contacts/DataRowHandlerForGroupMembership;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;Ljava/util/HashMap;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1634
    const-string v7, "vnd.android.cursor.item/photo"

    new-instance v0, Lcom/android/providers/contacts/DataRowHandlerForPhoto;

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getMaxDisplayPhotoDim()I

    move-result v5

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getMaxThumbnailDim()I

    move-result v6

    move-object v2, p2

    move-object v3, p3

    move-object v4, p4

    invoke-direct/range {v0 .. v6}, Lcom/android/providers/contacts/DataRowHandlerForPhoto;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;Lcom/android/providers/contacts/PhotoStore;II)V

    invoke-interface {p1, v7, v0}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1637
    const-string v0, "vnd.android.cursor.item/note"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForNote;

    invoke-direct {v2, v1, p2, p3}, Lcom/android/providers/contacts/DataRowHandlerForNote;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1639
    const-string v0, "vnd.android.cursor.item/identity"

    new-instance v2, Lcom/android/providers/contacts/DataRowHandlerForIdentity;

    invoke-direct {v2, v1, p2, p3}, Lcom/android/providers/contacts/DataRowHandlerForIdentity;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;)V

    invoke-interface {p1, v0, v2}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1641
    return-void
.end method

.method private initForDefaultLocale()V
    .locals 8

    .prologue
    const/4 v7, 0x1

    .line 1559
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v6

    .line 1560
    .local v6, context:Landroid/content/Context;
    new-instance v0, Lcom/android/providers/contacts/LegacyApiSupport;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mGlobalSearchSupport:Lcom/android/providers/contacts/GlobalSearchSupport;

    invoke-direct {v0, v6, v1, p0, v2}, Lcom/android/providers/contacts/LegacyApiSupport;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/ContactsProvider2;Lcom/android/providers/contacts/GlobalSearchSupport;)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLegacyApiSupport:Lcom/android/providers/contacts/LegacyApiSupport;

    .line 1562
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getLocale()Ljava/util/Locale;

    move-result-object v0

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCurrentLocale:Ljava/util/Locale;

    .line 1563
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->createNameSplitter()Lcom/android/providers/contacts/NameSplitter;

    move-result-object v0

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    .line 1564
    new-instance v0, Lcom/android/providers/contacts/ContactsProvider2$StructuredNameLookupBuilder;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    invoke-direct {v0, p0, v1}, Lcom/android/providers/contacts/ContactsProvider2$StructuredNameLookupBuilder;-><init>(Lcom/android/providers/contacts/ContactsProvider2;Lcom/android/providers/contacts/NameSplitter;)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameLookupBuilder:Lcom/android/providers/contacts/NameLookupBuilder;

    .line 1565
    new-instance v0, Lcom/android/providers/contacts/PostalSplitter;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCurrentLocale:Ljava/util/Locale;

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/PostalSplitter;-><init>(Ljava/util/Locale;)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPostalSplitter:Lcom/android/providers/contacts/PostalSplitter;

    .line 1566
    new-instance v0, Lcom/android/providers/contacts/aggregation/util/CommonNicknameCache;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v1

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/aggregation/util/CommonNicknameCache;-><init>(Landroid/database/sqlite/SQLiteDatabase;)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCommonNicknameCache:Lcom/android/providers/contacts/aggregation/util/CommonNicknameCache;

    .line 1567
    invoke-static {}, Lcom/android/providers/contacts/ContactLocaleUtils;->getIntance()Lcom/android/providers/contacts/ContactLocaleUtils;

    move-result-object v0

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCurrentLocale:Ljava/util/Locale;

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactLocaleUtils;->setLocale(Ljava/util/Locale;)V

    .line 1568
    new-instance v0, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {p0, v6}, Lcom/android/providers/contacts/ContactsProvider2;->createPhotoPriorityResolver(Landroid/content/Context;)Lcom/android/providers/contacts/PhotoPriorityResolver;

    move-result-object v3

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCommonNicknameCache:Lcom/android/providers/contacts/aggregation/util/CommonNicknameCache;

    move-object v1, p0

    invoke-direct/range {v0 .. v5}, Lcom/android/providers/contacts/aggregation/ContactAggregator;-><init>(Lcom/android/providers/contacts/ContactsProvider2;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/PhotoPriorityResolver;Lcom/android/providers/contacts/NameSplitter;Lcom/android/providers/contacts/aggregation/util/CommonNicknameCache;)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

    .line 1570
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

    const-string v1, "sync.contacts.aggregate"

    invoke-static {v1, v7}, Landroid/os/SystemProperties;->getBoolean(Ljava/lang/String;Z)Z

    move-result v1

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->setEnabled(Z)V

    .line 1571
    new-instance v0, Lcom/android/providers/contacts/aggregation/ProfileAggregator;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {p0, v6}, Lcom/android/providers/contacts/ContactsProvider2;->createPhotoPriorityResolver(Landroid/content/Context;)Lcom/android/providers/contacts/PhotoPriorityResolver;

    move-result-object v3

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mNameSplitter:Lcom/android/providers/contacts/NameSplitter;

    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCommonNicknameCache:Lcom/android/providers/contacts/aggregation/util/CommonNicknameCache;

    move-object v1, p0

    invoke-direct/range {v0 .. v5}, Lcom/android/providers/contacts/aggregation/ProfileAggregator;-><init>(Lcom/android/providers/contacts/ContactsProvider2;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/PhotoPriorityResolver;Lcom/android/providers/contacts/NameSplitter;Lcom/android/providers/contacts/aggregation/util/CommonNicknameCache;)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

    .line 1573
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

    const-string v1, "sync.contacts.aggregate"

    invoke-static {v1, v7}, Landroid/os/SystemProperties;->getBoolean(Ljava/lang/String;Z)Z

    move-result v1

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->setEnabled(Z)V

    .line 1574
    new-instance v0, Lcom/android/providers/contacts/SearchIndexManager;

    invoke-direct {v0, p0}, Lcom/android/providers/contacts/SearchIndexManager;-><init>(Lcom/android/providers/contacts/ContactsProvider2;)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSearchIndexManager:Lcom/android/providers/contacts/SearchIndexManager;

    .line 1576
    new-instance v0, Lcom/android/providers/contacts/PhotoStore;

    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-virtual {v1}, Landroid/content/Context;->getFilesDir()Ljava/io/File;

    move-result-object v1

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/PhotoStore;-><init>(Ljava/io/File;Lcom/android/providers/contacts/ContactsDatabaseHelper;)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsPhotoStore:Lcom/android/providers/contacts/PhotoStore;

    .line 1577
    new-instance v0, Lcom/android/providers/contacts/PhotoStore;

    new-instance v1, Ljava/io/File;

    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-virtual {v2}, Landroid/content/Context;->getFilesDir()Ljava/io/File;

    move-result-object v2

    const-string v3, "profile"

    invoke-direct {v1, v2, v3}, Ljava/io/File;-><init>(Ljava/io/File;Ljava/lang/String;)V

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/PhotoStore;-><init>(Ljava/io/File;Lcom/android/providers/contacts/ContactsDatabaseHelper;)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfilePhotoStore:Lcom/android/providers/contacts/PhotoStore;

    .line 1580
    new-instance v0, Ljava/util/HashMap;

    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDataRowHandlers:Ljava/util/HashMap;

    .line 1581
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDataRowHandlers:Ljava/util/HashMap;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsPhotoStore:Lcom/android/providers/contacts/PhotoStore;

    invoke-direct {p0, v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->initDataRowHandlers(Ljava/util/Map;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;Lcom/android/providers/contacts/PhotoStore;)V

    .line 1583
    new-instance v0, Ljava/util/HashMap;

    invoke-direct {v0}, Ljava/util/HashMap;-><init>()V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileDataRowHandlers:Ljava/util/HashMap;

    .line 1584
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileDataRowHandlers:Ljava/util/HashMap;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfilePhotoStore:Lcom/android/providers/contacts/PhotoStore;

    invoke-direct {p0, v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->initDataRowHandlers(Ljava/util/Map;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;Lcom/android/providers/contacts/PhotoStore;)V

    .line 1588
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 1589
    return-void
.end method

.method private initialize()Z
    .locals 5

    .prologue
    const/4 v4, 0x1

    .line 1493
    new-instance v1, Landroid/os/StrictMode$ThreadPolicy$Builder;

    invoke-direct {v1}, Landroid/os/StrictMode$ThreadPolicy$Builder;-><init>()V

    invoke-virtual {v1}, Landroid/os/StrictMode$ThreadPolicy$Builder;->detectAll()Landroid/os/StrictMode$ThreadPolicy$Builder;

    move-result-object v1

    invoke-virtual {v1}, Landroid/os/StrictMode$ThreadPolicy$Builder;->penaltyLog()Landroid/os/StrictMode$ThreadPolicy$Builder;

    move-result-object v1

    invoke-virtual {v1}, Landroid/os/StrictMode$ThreadPolicy$Builder;->build()Landroid/os/StrictMode$ThreadPolicy;

    move-result-object v1

    invoke-static {v1}, Landroid/os/StrictMode;->setThreadPolicy(Landroid/os/StrictMode$ThreadPolicy;)V

    .line 1496
    new-instance v1, Lcom/android/providers/contacts/FastScrollingIndexCache;

    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-direct {v1, v2}, Lcom/android/providers/contacts/FastScrollingIndexCache;-><init>(Landroid/content/Context;)V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mFastScrollingIndexCache:Lcom/android/providers/contacts/FastScrollingIndexCache;

    .line 1498
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-virtual {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->getDatabaseHelper(Landroid/content/Context;)Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-result-object v1

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    .line 1499
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1, v2}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 1502
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v2, "contacts"

    invoke-virtual {p0, v1, v2, p0}, Lcom/android/providers/contacts/AbstractContactsProvider;->setDbHelperToSerializeOn(Landroid/database/sqlite/SQLiteOpenHelper;Ljava/lang/String;Landroid/database/sqlite/SQLiteTransactionListener;)V

    .line 1504
    new-instance v1, Lcom/android/providers/contacts/ContactDirectoryManager;

    invoke-direct {v1, p0}, Lcom/android/providers/contacts/ContactDirectoryManager;-><init>(Lcom/android/providers/contacts/ContactsProvider2;)V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactDirectoryManager:Lcom/android/providers/contacts/ContactDirectoryManager;

    .line 1505
    new-instance v1, Lcom/android/providers/contacts/GlobalSearchSupport;

    invoke-direct {v1, p0}, Lcom/android/providers/contacts/GlobalSearchSupport;-><init>(Lcom/android/providers/contacts/ContactsProvider2;)V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mGlobalSearchSupport:Lcom/android/providers/contacts/GlobalSearchSupport;

    .line 1508
    new-instance v1, Ljava/util/concurrent/CountDownLatch;

    invoke-direct {v1, v4}, Ljava/util/concurrent/CountDownLatch;-><init>(I)V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

    .line 1509
    new-instance v1, Ljava/util/concurrent/CountDownLatch;

    invoke-direct {v1, v4}, Ljava/util/concurrent/CountDownLatch;-><init>(I)V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    .line 1525
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->createBackgroundStuff()V

    .line 1526
    new-instance v1, Lcom/android/providers/contacts/DialerSearchSupport;

    invoke-direct {v1, p0}, Lcom/android/providers/contacts/DialerSearchSupport;-><init>(Lcom/android/providers/contacts/ContactsProvider2;)V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDialerSearchSupport:Lcom/android/providers/contacts/DialerSearchSupport;

    .line 1532
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->newProfileProvider()Lcom/android/providers/contacts/ProfileProvider;

    move-result-object v1

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    .line 1533
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v3, "contacts"

    invoke-virtual {v1, v2, v3, p0}, Lcom/android/providers/contacts/AbstractContactsProvider;->setDbHelperToSerializeOn(Landroid/database/sqlite/SQLiteOpenHelper;Ljava/lang/String;Landroid/database/sqlite/SQLiteTransactionListener;)V

    .line 1534
    new-instance v0, Landroid/content/pm/ProviderInfo;

    invoke-direct {v0}, Landroid/content/pm/ProviderInfo;-><init>()V

    .line 1535
    .local v0, profileInfo:Landroid/content/pm/ProviderInfo;
    const-string v1, "android.permission.READ_PROFILE"

    iput-object v1, v0, Landroid/content/pm/ProviderInfo;->readPermission:Ljava/lang/String;

    .line 1536
    const-string v1, "android.permission.WRITE_PROFILE"

    iput-object v1, v0, Landroid/content/pm/ProviderInfo;->writePermission:Ljava/lang/String;

    .line 1537
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-virtual {v1, v2, v0}, Landroid/content/ContentProvider;->attachInfo(Landroid/content/Context;Landroid/content/pm/ProviderInfo;)V

    .line 1538
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-virtual {v1, v2}, Lcom/android/providers/contacts/ProfileProvider;->getDatabaseHelper(Landroid/content/Context;)Lcom/android/providers/contacts/ProfileDatabaseHelper;

    move-result-object v1

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    .line 1541
    const-wide/32 v1, 0x493e0

    iput-wide v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUriDuration:J

    .line 1543
    const/4 v1, 0x0

    invoke-virtual {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1544
    const/4 v1, 0x3

    invoke-virtual {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1545
    const/4 v1, 0x4

    invoke-virtual {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1546
    const/4 v1, 0x5

    invoke-virtual {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1547
    const/4 v1, 0x6

    invoke-virtual {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1548
    const/4 v1, 0x7

    invoke-virtual {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1549
    invoke-virtual {p0, v4}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1550
    const/16 v1, 0xa

    invoke-virtual {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 1552
    return v4
.end method

.method private insertContact(Landroid/content/ContentValues;)J
    .locals 2
    .parameter "values"

    .prologue
    .line 2689
    new-instance v0, Ljava/lang/UnsupportedOperationException;

    const-string v1, "Aggregate contacts are created automatically"

    invoke-direct {v0, v1}, Ljava/lang/UnsupportedOperationException;-><init>(Ljava/lang/String;)V

    throw v0
.end method

.method private insertData(Landroid/content/ContentValues;Z)J
    .locals 13
    .parameter "values"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 2803
    const-wide/16 v6, 0x0

    .line 2804
    .local v6, id:J
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v2}, Landroid/content/ContentValues;->clear()V

    .line 2805
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v2, p1}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 2807
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "raw_contact_id"

    invoke-virtual {v2, v5}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/Long;->longValue()J

    move-result-wide v3

    .line 2810
    .local v3, rawContactId:J
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "res_package"

    invoke-virtual {v2, v5}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v9

    .line 2811
    .local v9, packageName:Ljava/lang/String;
    if-eqz v9, :cond_0

    .line 2812
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v10, "package_id"

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2, v9}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getPackageId(Ljava/lang/String;)J

    move-result-wide v11

    invoke-static {v11, v12}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v5, v10, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 2814
    :cond_0
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "res_package"

    invoke-virtual {v2, v5}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 2817
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "mimetype"

    invoke-virtual {v2, v5}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v8

    .line 2818
    .local v8, mimeType:Ljava/lang/String;
    invoke-static {v8}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-eqz v2, :cond_1

    .line 2819
    new-instance v2, Ljava/lang/IllegalArgumentException;

    const-string v5, "mimetype is required"

    invoke-direct {v2, v5}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v2

    .line 2822
    :cond_1
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v10, "mimetype_id"

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2, v8}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v11

    invoke-static {v11, v12}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v5, v10, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 2823
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "mimetype"

    invoke-virtual {v2, v5}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 2825
    invoke-virtual {p0, v8}, Lcom/android/providers/contacts/ContactsProvider2;->getDataRowHandler(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;

    move-result-object v0

    .line 2826
    .local v0, rowHandler:Lcom/android/providers/contacts/DataRowHandler;
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v1

    .line 2827
    .local v1, db:Landroid/database/sqlite/SQLiteDatabase;
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/TransactionContext;

    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual/range {v0 .. v5}, Lcom/android/providers/contacts/DataRowHandler;->insert(Landroid/database/sqlite/SQLiteDatabase;Lcom/android/providers/contacts/TransactionContext;JLandroid/content/ContentValues;)J

    move-result-wide v6

    .line 2828
    if-nez p2, :cond_2

    .line 2829
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/TransactionContext;->markRawContactDirty(J)V

    .line 2831
    :cond_2
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/TransactionContext;->rawContactUpdated(J)V

    .line 2832
    return-wide v6
.end method

.method private insertDataGroupMembership(JJ)V
    .locals 6
    .parameter "rawContactId"
    .parameter "groupId"

    .prologue
    .line 2778
    new-instance v1, Landroid/content/ContentValues;

    invoke-direct {v1}, Landroid/content/ContentValues;-><init>()V

    .line 2779
    .local v1, groupMembershipValues:Landroid/content/ContentValues;
    const-string v2, "data1"

    invoke-static {p3, p4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 2780
    const-string v2, "raw_contact_id"

    invoke-static {p1, p2}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-virtual {v1, v2, v3}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 2781
    const-string v3, "mimetype_id"

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v4, "vnd.android.cursor.item/group_membership"

    invoke-virtual {v2, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v4

    invoke-static {v4, v5}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v1, v3, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 2783
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 2784
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v2, "data"

    const/4 v3, 0x0

    invoke-virtual {v0, v2, v3, v1}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    .line 2785
    return-void
.end method

.method private insertGroup(Landroid/net/Uri;Landroid/content/ContentValues;Z)J
    .locals 22
    .parameter "uri"
    .parameter "values"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 3106
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v6}, Landroid/content/ContentValues;->clear()V

    .line 3107
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v0, p2

    invoke-virtual {v6, v0}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 3109
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v6}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object/from16 v0, p0

    iget-object v7, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct {v0, v1, v7}, Lcom/android/providers/contacts/ContactsProvider2;->resolveAccountWithDataSet(Landroid/net/Uri;Landroid/content/ContentValues;)Lcom/android/providers/contacts/AccountWithDataSet;

    move-result-object v7

    invoke-virtual {v6, v7}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getOrCreateAccountIdInTransaction(Lcom/android/providers/contacts/AccountWithDataSet;)J

    move-result-wide v13

    .line 3111
    .local v13, accountId:J
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v7, "account_name"

    invoke-virtual {v6, v7}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 3112
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v7, "account_type"

    invoke-virtual {v6, v7}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 3113
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v7, "data_set"

    invoke-virtual {v6, v7}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 3114
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v7, "account_id"

    invoke-static {v13, v14}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v8

    invoke-virtual {v6, v7, v8}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 3117
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v7, "res_package"

    invoke-virtual {v6, v7}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v17

    .line 3118
    .local v17, packageName:Ljava/lang/String;
    if-eqz v17, :cond_0

    .line 3119
    move-object/from16 v0, p0

    iget-object v7, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v8, "package_id"

    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v6}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object/from16 v0, v17

    invoke-virtual {v6, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getPackageId(Ljava/lang/String;)J

    move-result-wide v9

    invoke-static {v9, v10}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v6

    invoke-virtual {v7, v8, v6}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 3121
    :cond_0
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v7, "res_package"

    invoke-virtual {v6, v7}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 3123
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v7, "favorites"

    invoke-virtual {v6, v7}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v6

    if-eqz v6, :cond_4

    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v7, "favorites"

    invoke-virtual {v6, v7}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/Long;->longValue()J

    move-result-wide v6

    const-wide/16 v8, 0x0

    cmp-long v6, v6, v8

    if-eqz v6, :cond_3

    const/16 v16, 0x1

    .line 3127
    .local v16, isFavoritesGroup:Z
    :goto_0
    if-nez p3, :cond_1

    .line 3128
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v7, "dirty"

    const/4 v8, 0x1

    invoke-static {v8}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v8

    invoke-virtual {v6, v7, v8}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 3131
    :cond_1
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v6}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v6}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v5

    .line 3133
    .local v5, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v6, "groups"

    const-string v7, "title"

    move-object/from16 v0, p0

    iget-object v8, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v5, v6, v7, v8}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    move-result-wide v20

    .line 3135
    .local v20, result:J
    if-nez p3, :cond_6

    if-eqz v16, :cond_6

    .line 3137
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v7, 0x0

    invoke-static {v13, v14}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v8

    aput-object v8, v6, v7

    .line 3138
    const-string v6, "raw_contacts"

    const/4 v7, 0x2

    new-array v7, v7, [Ljava/lang/String;

    const/4 v8, 0x0

    const-string v9, "_id"

    aput-object v9, v7, v8

    const/4 v8, 0x1

    const-string v9, "starred"

    aput-object v9, v7, v8

    const-string v8, "raw_contacts.account_id=?"

    move-object/from16 v0, p0

    iget-object v9, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v10, 0x0

    const/4 v11, 0x0

    const/4 v12, 0x0

    invoke-virtual/range {v5 .. v12}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v15

    .line 3143
    .local v15, c:Landroid/database/Cursor;
    :cond_2
    :goto_1
    :try_start_0
    invoke-interface {v15}, Landroid/database/Cursor;->moveToNext()Z

    move-result v6

    if-eqz v6, :cond_5

    .line 3144
    const/4 v6, 0x1

    invoke-interface {v15, v6}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v6

    const-wide/16 v8, 0x0

    cmp-long v6, v6, v8

    if-eqz v6, :cond_2

    .line 3145
    const/4 v6, 0x0

    invoke-interface {v15, v6}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v18

    .line 3146
    .local v18, rawContactId:J
    move-object/from16 v0, p0

    move-wide/from16 v1, v18

    move-wide/from16 v3, v20

    invoke-direct {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertDataGroupMembership(JJ)V

    .line 3147
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v6}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Lcom/android/providers/contacts/TransactionContext;

    move-wide/from16 v0, v18

    invoke-virtual {v6, v0, v1}, Lcom/android/providers/contacts/TransactionContext;->markRawContactDirty(J)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    .line 3151
    .end local v18           #rawContactId:J
    :catchall_0
    move-exception v6

    invoke-interface {v15}, Landroid/database/Cursor;->close()V

    throw v6

    .line 3123
    .end local v5           #db:Landroid/database/sqlite/SQLiteDatabase;
    .end local v15           #c:Landroid/database/Cursor;
    .end local v16           #isFavoritesGroup:Z
    .end local v20           #result:J
    :cond_3
    const/16 v16, 0x0

    goto/16 :goto_0

    :cond_4
    const/16 v16, 0x0

    goto/16 :goto_0

    .line 3151
    .restart local v5       #db:Landroid/database/sqlite/SQLiteDatabase;
    .restart local v15       #c:Landroid/database/Cursor;
    .restart local v16       #isFavoritesGroup:Z
    .restart local v20       #result:J
    :cond_5
    invoke-interface {v15}, Landroid/database/Cursor;->close()V

    .line 3155
    .end local v15           #c:Landroid/database/Cursor;
    :cond_6
    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v7, "group_visible"

    invoke-virtual {v6, v7}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v6

    if-eqz v6, :cond_7

    .line 3156
    const/4 v6, 0x1

    move-object/from16 v0, p0

    iput-boolean v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    .line 3159
    :cond_7
    return-wide v20
.end method

.method private insertRawContact(Landroid/net/Uri;Landroid/content/ContentValues;Z)J
    .locals 11
    .parameter "uri"
    .parameter "values"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 2701
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v7}, Landroid/content/ContentValues;->clear()V

    .line 2702
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v7, p2}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 2703
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v8, "contact_id"

    invoke-virtual {v7, v8}, Landroid/content/ContentValues;->putNull(Ljava/lang/String;)V

    .line 2705
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-direct {p0, p1, v7}, Lcom/android/providers/contacts/ContactsProvider2;->resolveAccountIdInTransaction(Landroid/net/Uri;Landroid/content/ContentValues;)J

    move-result-wide v0

    .line 2706
    .local v0, accountId:J
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v8, "account_name"

    invoke-virtual {v7, v8}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 2707
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v8, "account_type"

    invoke-virtual {v7, v8}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 2708
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v8, "data_set"

    invoke-virtual {v7, v8}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 2709
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v8, "account_id"

    invoke-static {v0, v1}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v9

    invoke-virtual {v7, v8, v9}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 2711
    const-string v7, "deleted"

    invoke-virtual {p2, v7}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v7

    if-eqz v7, :cond_0

    const-string v7, "deleted"

    invoke-virtual {p2, v7}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/Integer;->intValue()I

    move-result v7

    if-eqz v7, :cond_0

    .line 2713
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v8, "aggregation_mode"

    const/4 v9, 0x3

    invoke-static {v9}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v9

    invoke-virtual {v7, v8, v9}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 2716
    :cond_0
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v7}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v7}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v3

    .line 2718
    .local v3, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v7, "raw_contacts"

    const-string v8, "contact_id"

    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v3, v7, v8, v9}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    move-result-wide v4

    .line 2720
    .local v4, rawContactId:J
    const/4 v2, 0x0

    .line 2721
    .local v2, aggregationMode:I
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v8, "aggregation_mode"

    invoke-virtual {v7, v8}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v7

    if-eqz v7, :cond_1

    .line 2722
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v8, "aggregation_mode"

    invoke-virtual {v7, v8}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/Integer;->intValue()I

    move-result v2

    .line 2724
    :cond_1
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v7}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    invoke-virtual {v7, v4, v5, v2}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->markNewForAggregation(JI)V

    .line 2727
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v7}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v7, v4, v5, v0, v1}, Lcom/android/providers/contacts/TransactionContext;->rawContactInserted(JJ)V

    .line 2729
    if-nez p3, :cond_2

    .line 2730
    invoke-direct {p0, v4, v5}, Lcom/android/providers/contacts/ContactsProvider2;->addAutoAddMembership(J)V

    .line 2731
    const-string v7, "starred"

    invoke-virtual {p2, v7}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v6

    .line 2732
    .local v6, starred:Ljava/lang/Long;
    if-eqz v6, :cond_2

    invoke-virtual {v6}, Ljava/lang/Long;->longValue()J

    move-result-wide v7

    const-wide/16 v9, 0x0

    cmp-long v7, v7, v9

    if-eqz v7, :cond_2

    .line 2733
    invoke-virtual {v6}, Ljava/lang/Long;->longValue()J

    move-result-wide v7

    const-wide/16 v9, 0x0

    cmp-long v7, v7, v9

    if-eqz v7, :cond_3

    const/4 v7, 0x1

    :goto_0
    invoke-direct {p0, v4, v5, v7}, Lcom/android/providers/contacts/ContactsProvider2;->updateFavoritesMembership(JZ)V

    .line 2737
    .end local v6           #starred:Ljava/lang/Long;
    :cond_2
    const/4 v7, 0x1

    iput-boolean v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatusUpdateNeeded:Z

    .line 2738
    return-wide v4

    .line 2733
    .restart local v6       #starred:Ljava/lang/Long;
    :cond_3
    const/4 v7, 0x0

    goto :goto_0
.end method

.method private insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;
    .locals 5
    .parameter "selectionArgs"
    .parameter "arg"

    .prologue
    const/4 v4, 0x1

    const/4 v3, 0x0

    .line 8446
    if-nez p1, :cond_0

    .line 8447
    new-array v1, v4, [Ljava/lang/String;

    aput-object p2, v1, v3

    .line 8453
    :goto_0
    return-object v1

    .line 8449
    :cond_0
    array-length v2, p1

    add-int/lit8 v0, v2, 0x1

    .line 8450
    .local v0, newLength:I
    new-array v1, v0, [Ljava/lang/String;

    .line 8451
    .local v1, newSelectionArgs:[Ljava/lang/String;
    aput-object p2, v1, v3

    .line 8452
    array-length v2, p1

    invoke-static {p1, v3, v1, v4, v2}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    goto :goto_0
.end method

.method private insertSettings(Landroid/net/Uri;Landroid/content/ContentValues;)J
    .locals 24
    .parameter "uri"
    .parameter "values"

    .prologue
    .line 3166
    const-string v5, "account_name"

    move-object/from16 v0, p2

    invoke-virtual {v0, v5}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v14

    .line 3167
    .local v14, accountName:Ljava/lang/String;
    const-string v5, "account_type"

    move-object/from16 v0, p2

    invoke-virtual {v0, v5}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v15

    .line 3168
    .local v15, accountType:Ljava/lang/String;
    const-string v5, "data_set"

    move-object/from16 v0, p2

    invoke-virtual {v0, v5}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v17

    .line 3169
    .local v17, dataSet:Ljava/lang/String;
    const-string v5, "ContactsProvider"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "insertSettings(), accountName= "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, "****"

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v5, v6}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 3170
    sget-object v5, Landroid/provider/ContactsContract$Settings;->CONTENT_URI:Landroid/net/Uri;

    invoke-virtual {v5}, Landroid/net/Uri;->buildUpon()Landroid/net/Uri$Builder;

    move-result-object v23

    .line 3171
    .local v23, settingsUri:Landroid/net/Uri$Builder;
    if-eqz v14, :cond_0

    .line 3172
    const-string v5, "account_name"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5, v14}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 3174
    :cond_0
    if-eqz v15, :cond_1

    .line 3175
    const-string v5, "account_type"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5, v15}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 3177
    :cond_1
    if-eqz v17, :cond_2

    .line 3178
    const-string v5, "data_set"

    move-object/from16 v0, v23

    move-object/from16 v1, v17

    invoke-virtual {v0, v5, v1}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 3180
    :cond_2
    invoke-virtual/range {v23 .. v23}, Landroid/net/Uri$Builder;->build()Landroid/net/Uri;

    move-result-object v6

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x0

    const-wide/16 v11, 0x0

    const/4 v13, 0x0

    move-object/from16 v5, p0

    invoke-virtual/range {v5 .. v13}, Lcom/android/providers/contacts/ContactsProvider2;->queryLocal(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;JLandroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v16

    .line 3182
    .local v16, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->getCount()I

    move-result v5

    if-lez v5, :cond_6

    .line 3184
    const/16 v21, 0x0

    .line 3185
    .local v21, selection:Ljava/lang/String;
    const/16 v22, 0x0

    .line 3186
    .local v22, selectionArgs:[Ljava/lang/String;
    if-eqz v14, :cond_3

    if-eqz v15, :cond_3

    .line 3187
    const-string v21, "account_name=? AND account_type=?"

    .line 3188
    if-nez v17, :cond_5

    .line 3189
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v21

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, " AND data_set IS NULL"

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v21

    .line 3190
    const/4 v5, 0x2

    new-array v0, v5, [Ljava/lang/String;

    move-object/from16 v22, v0

    .end local v22           #selectionArgs:[Ljava/lang/String;
    const/4 v5, 0x0

    aput-object v14, v22, v5

    const/4 v5, 0x1

    aput-object v15, v22, v5

    .line 3196
    .restart local v22       #selectionArgs:[Ljava/lang/String;
    :cond_3
    :goto_0
    const-string v5, "ContactsProvider"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "insertSettings(), selection= "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-object/from16 v0, v21

    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, "****"

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v5, v6}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 3197
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    move-object/from16 v3, v21

    move-object/from16 v4, v22

    invoke-direct {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->updateSettings(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v5

    int-to-long v0, v5

    move-wide/from16 v19, v0

    .line 3200
    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->close()V

    .line 3212
    .end local v21           #selection:Ljava/lang/String;
    .end local v22           #selectionArgs:[Ljava/lang/String;
    :cond_4
    :goto_1
    return-wide v19

    .line 3192
    .restart local v21       #selection:Ljava/lang/String;
    .restart local v22       #selectionArgs:[Ljava/lang/String;
    :cond_5
    :try_start_1
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v21

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, " AND data_set=?"

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v21

    .line 3193
    const/4 v5, 0x3

    new-array v0, v5, [Ljava/lang/String;

    move-object/from16 v22, v0

    .end local v22           #selectionArgs:[Ljava/lang/String;
    const/4 v5, 0x0

    aput-object v14, v22, v5

    const/4 v5, 0x1

    aput-object v15, v22, v5

    const/4 v5, 0x2

    aput-object v17, v22, v5
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .restart local v22       #selectionArgs:[Ljava/lang/String;
    goto :goto_0

    .line 3200
    .end local v21           #selection:Ljava/lang/String;
    .end local v22           #selectionArgs:[Ljava/lang/String;
    :cond_6
    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->close()V

    .line 3203
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v18

    .line 3206
    .local v18, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v5, "settings"

    const/4 v6, 0x0

    move-object/from16 v0, v18

    move-object/from16 v1, p2

    invoke-virtual {v0, v5, v6, v1}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    move-result-wide v19

    .line 3208
    .local v19, id:J
    const-string v5, "ungrouped_visible"

    move-object/from16 v0, p2

    invoke-virtual {v0, v5}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_4

    .line 3209
    const/4 v5, 0x1

    move-object/from16 v0, p0

    iput-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    goto :goto_1

    .line 3200
    .end local v18           #db:Landroid/database/sqlite/SQLiteDatabase;
    .end local v19           #id:J
    :catchall_0
    move-exception v5

    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->close()V

    throw v5
.end method

.method private insertStreamItem(Landroid/net/Uri;Landroid/content/ContentValues;)J
    .locals 8
    .parameter "uri"
    .parameter "values"

    .prologue
    .line 2847
    const-wide/16 v1, 0x0

    .line 2848
    .local v1, id:J
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v5}, Landroid/content/ContentValues;->clear()V

    .line 2849
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v5, p2}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 2851
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v6, "raw_contact_id"

    invoke-virtual {v5, v6}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/Long;->longValue()J

    move-result-wide v3

    .line 2854
    .local v3, rawContactId:J
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v6, "account_name"

    invoke-virtual {v5, v6}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 2855
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v6, "account_type"

    invoke-virtual {v5, v6}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 2858
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 2859
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v5, "stream_items"

    const/4 v6, 0x0

    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v0, v5, v6, v7}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    move-result-wide v1

    .line 2860
    const-wide/16 v5, -0x1

    cmp-long v5, v1, v5

    if-nez v5, :cond_0

    .line 2862
    const-wide/16 v5, 0x0

    .line 2870
    :goto_0
    return-wide v5

    .line 2868
    :cond_0
    invoke-direct {p0, v3, v4, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->cleanUpOldStreamItems(JJ)J

    move-result-wide v1

    move-wide v5, v1

    .line 2870
    goto :goto_0
.end method

.method private insertStreamItemPhoto(Landroid/net/Uri;Landroid/content/ContentValues;)J
    .locals 10
    .parameter "uri"
    .parameter "values"

    .prologue
    .line 2883
    const-wide/16 v1, 0x0

    .line 2884
    .local v1, id:J
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v7}, Landroid/content/ContentValues;->clear()V

    .line 2885
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v7, p2}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 2887
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v8, "stream_item_id"

    invoke-virtual {v7, v8}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/Long;->longValue()J

    move-result-wide v5

    .line 2888
    .local v5, streamItemId:J
    const-wide/16 v7, 0x0

    cmp-long v7, v5, v7

    if-eqz v7, :cond_0

    .line 2889
    invoke-direct {p0, v5, v6}, Lcom/android/providers/contacts/ContactsProvider2;->lookupRawContactIdForStreamId(J)J

    move-result-wide v3

    .line 2893
    .local v3, rawContactId:J
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v8, "account_name"

    invoke-virtual {v7, v8}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 2894
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v8, "account_type"

    invoke-virtual {v7, v8}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 2897
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const/4 v8, 0x0

    invoke-direct {p0, v7, v8}, Lcom/android/providers/contacts/ContactsProvider2;->processStreamItemPhoto(Landroid/content/ContentValues;Z)Z

    move-result v7

    if-eqz v7, :cond_0

    .line 2899
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v7}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v7}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 2900
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v7, "stream_item_photos"

    const/4 v8, 0x0

    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v0, v7, v8, v9}, Landroid/database/sqlite/SQLiteDatabase;->insert(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    move-result-wide v1

    .line 2903
    .end local v0           #db:Landroid/database/sqlite/SQLiteDatabase;
    .end local v3           #rawContactId:J
    :cond_0
    return-wide v1
.end method

.method private invalidateFastScrollingIndexCache()V
    .locals 1

    .prologue
    .line 6638
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mFastScrollingIndexCache:Lcom/android/providers/contacts/FastScrollingIndexCache;

    invoke-virtual {v0}, Lcom/android/providers/contacts/FastScrollingIndexCache;->invalidate()V

    .line 6639
    return-void
.end method

.method private isLocalAccount(Landroid/database/Cursor;)Z
    .locals 5
    .parameter "c"

    .prologue
    const/4 v1, 0x1

    .line 8985
    invoke-interface {p1, v1}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v0

    .line 8986
    .local v0, accountType:Ljava/lang/String;
    const-string v2, "ContactsProvider"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "isLocalAccount(), accountType= "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "****"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 8987
    const-string v2, "SIM Account"

    invoke-virtual {v0, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-nez v2, :cond_0

    const-string v2, "USIM Account"

    invoke-virtual {v0, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-nez v2, :cond_0

    const-string v2, "Local Phone Account"

    invoke-virtual {v0, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_1

    .line 8992
    :cond_0
    :goto_0
    return v1

    :cond_1
    const/4 v1, 0x0

    goto :goto_0
.end method

.method private isSingleWordQuery(Ljava/lang/String;)Z
    .locals 2
    .parameter "query"

    .prologue
    const/4 v0, 0x1

    .line 8860
    const-string v1, "[^\\w@]+"

    invoke-virtual {p1, v1}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v1

    array-length v1, v1

    if-ne v1, v0, :cond_0

    :goto_0
    return v0

    :cond_0
    const/4 v0, 0x0

    goto :goto_0
.end method

.method private log(Ljava/lang/String;)V
    .locals 1
    .parameter "msg"

    .prologue
    .line 9462
    const-string v0, "ContactsProvider"

    invoke-static {v0, p1}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 9463
    return-void
.end method

.method private lookupContactIdByDisplayNames(Landroid/database/sqlite/SQLiteDatabase;Ljava/util/ArrayList;)J
    .locals 18
    .parameter "db"
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Landroid/database/sqlite/SQLiteDatabase;",
            "Ljava/util/ArrayList",
            "<",
            "Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;",
            ">;)J"
        }
    .end annotation

    .prologue
    .line 6999
    .local p2, segments:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;>;"
    new-instance v16, Ljava/lang/StringBuilder;

    invoke-direct/range {v16 .. v16}, Ljava/lang/StringBuilder;-><init>()V

    .line 7000
    .local v16, sb:Ljava/lang/StringBuilder;
    const-string v2, "normalized_name IN ("

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7001
    const/4 v14, 0x0

    .local v14, i:I
    :goto_0
    invoke-virtual/range {p2 .. p2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v14, v2, :cond_2

    .line 7002
    move-object/from16 v0, p2

    invoke-virtual {v0, v14}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v17

    check-cast v17, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 7003
    .local v17, segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    const/4 v3, 0x1

    if-eq v2, v3, :cond_0

    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    const/4 v3, 0x2

    if-ne v2, v3, :cond_1

    .line 7005
    :cond_0
    move-object/from16 v0, v17

    iget-object v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->key:Ljava/lang/String;

    move-object/from16 v0, v16

    invoke-static {v0, v2}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 7006
    const-string v2, ","

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7001
    :cond_1
    add-int/lit8 v14, v14, 0x1

    goto :goto_0

    .line 7009
    .end local v17           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_2
    invoke-virtual/range {v16 .. v16}, Ljava/lang/StringBuilder;->length()I

    move-result v2

    add-int/lit8 v2, v2, -0x1

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 7010
    const-string v2, ") AND name_type=2 AND contact_id NOT NULL"

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7013
    const-string v3, "name_lookup INNER JOIN view_raw_contacts ON (name_lookup.raw_contact_id = view_raw_contacts._id)"

    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2$LookupByDisplayNameQuery;->COLUMNS:[Ljava/lang/String;

    invoke-virtual/range {v16 .. v16}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    move-object/from16 v2, p1

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v13

    .line 7016
    .local v13, c:Landroid/database/Cursor;
    :cond_3
    :goto_1
    :try_start_0
    invoke-interface {v13}, Landroid/database/Cursor;->moveToNext()Z

    move-result v2

    if-eqz v2, :cond_6

    .line 7017
    const/4 v2, 0x1

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v12

    .line 7019
    .local v12, accountTypeAndDataSet:Ljava/lang/String;
    const/4 v2, 0x2

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v11

    .line 7020
    .local v11, accountName:Ljava/lang/String;
    invoke-static {v12, v11}, Lcom/android/providers/contacts/ContactLookupKey;->getAccountHashCode(Ljava/lang/String;Ljava/lang/String;)I

    move-result v10

    .line 7022
    .local v10, accountHashCode:I
    const/4 v2, 0x3

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v15

    .line 7023
    .local v15, name:Ljava/lang/String;
    const/4 v14, 0x0

    :goto_2
    invoke-virtual/range {p2 .. p2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v14, v2, :cond_3

    .line 7024
    move-object/from16 v0, p2

    invoke-virtual {v0, v14}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v17

    check-cast v17, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 7025
    .restart local v17       #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    const/4 v3, 0x1

    if-eq v2, v3, :cond_4

    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    const/4 v3, 0x2

    if-ne v2, v3, :cond_5

    :cond_4
    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->accountHashCode:I

    if-ne v10, v2, :cond_5

    move-object/from16 v0, v17

    iget-object v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->key:Ljava/lang/String;

    invoke-virtual {v2, v15}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_5

    .line 7029
    const/4 v2, 0x0

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v2

    move-object/from16 v0, v17

    iput-wide v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->contactId:J
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    .line 7035
    .end local v10           #accountHashCode:I
    .end local v11           #accountName:Ljava/lang/String;
    .end local v12           #accountTypeAndDataSet:Ljava/lang/String;
    .end local v15           #name:Ljava/lang/String;
    .end local v17           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :catchall_0
    move-exception v2

    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    throw v2

    .line 7023
    .restart local v10       #accountHashCode:I
    .restart local v11       #accountName:Ljava/lang/String;
    .restart local v12       #accountTypeAndDataSet:Ljava/lang/String;
    .restart local v15       #name:Ljava/lang/String;
    .restart local v17       #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_5
    add-int/lit8 v14, v14, 0x1

    goto :goto_2

    .line 7035
    .end local v10           #accountHashCode:I
    .end local v11           #accountName:Ljava/lang/String;
    .end local v12           #accountTypeAndDataSet:Ljava/lang/String;
    .end local v15           #name:Ljava/lang/String;
    .end local v17           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_6
    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    .line 7038
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->getMostReferencedContactId(Ljava/util/ArrayList;)J

    move-result-wide v2

    return-wide v2
.end method

.method private lookupContactIdByRawContactIds(Landroid/database/sqlite/SQLiteDatabase;Ljava/util/ArrayList;)J
    .locals 18
    .parameter "db"
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Landroid/database/sqlite/SQLiteDatabase;",
            "Ljava/util/ArrayList",
            "<",
            "Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;",
            ">;)J"
        }
    .end annotation

    .prologue
    .line 6942
    .local p2, segments:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;>;"
    new-instance v16, Ljava/lang/StringBuilder;

    invoke-direct/range {v16 .. v16}, Ljava/lang/StringBuilder;-><init>()V

    .line 6943
    .local v16, sb:Ljava/lang/StringBuilder;
    const-string v2, "_id IN ("

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6944
    const/4 v14, 0x0

    .local v14, i:I
    :goto_0
    invoke-virtual/range {p2 .. p2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v14, v2, :cond_1

    .line 6945
    move-object/from16 v0, p2

    invoke-virtual {v0, v14}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v17

    check-cast v17, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 6946
    .local v17, segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    const/4 v3, 0x2

    if-ne v2, v3, :cond_0

    .line 6947
    move-object/from16 v0, v17

    iget-object v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->rawContactId:Ljava/lang/String;

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6948
    const-string v2, ","

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6944
    :cond_0
    add-int/lit8 v14, v14, 0x1

    goto :goto_0

    .line 6951
    .end local v17           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_1
    invoke-virtual/range {v16 .. v16}, Ljava/lang/StringBuilder;->length()I

    move-result v2

    add-int/lit8 v2, v2, -0x1

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 6952
    const-string v2, ") AND contact_id NOT NULL"

    move-object/from16 v0, v16

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6954
    const-string v3, "view_raw_contacts"

    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2$LookupByRawContactIdQuery;->COLUMNS:[Ljava/lang/String;

    invoke-virtual/range {v16 .. v16}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    move-object/from16 v2, p1

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v13

    .line 6957
    .local v13, c:Landroid/database/Cursor;
    :cond_2
    :goto_1
    :try_start_0
    invoke-interface {v13}, Landroid/database/Cursor;->moveToNext()Z

    move-result v2

    if-eqz v2, :cond_4

    .line 6958
    const/4 v2, 0x1

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v12

    .line 6960
    .local v12, accountTypeAndDataSet:Ljava/lang/String;
    const/4 v2, 0x2

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v11

    .line 6961
    .local v11, accountName:Ljava/lang/String;
    invoke-static {v12, v11}, Lcom/android/providers/contacts/ContactLookupKey;->getAccountHashCode(Ljava/lang/String;Ljava/lang/String;)I

    move-result v10

    .line 6963
    .local v10, accountHashCode:I
    const/4 v2, 0x3

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v15

    .line 6964
    .local v15, rawContactId:Ljava/lang/String;
    const/4 v14, 0x0

    :goto_2
    invoke-virtual/range {p2 .. p2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v14, v2, :cond_2

    .line 6965
    move-object/from16 v0, p2

    invoke-virtual {v0, v14}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v17

    check-cast v17, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 6966
    .restart local v17       #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    const/4 v3, 0x2

    if-ne v2, v3, :cond_3

    move-object/from16 v0, v17

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->accountHashCode:I

    if-ne v10, v2, :cond_3

    move-object/from16 v0, v17

    iget-object v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->rawContactId:Ljava/lang/String;

    invoke-virtual {v2, v15}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_3

    .line 6969
    const/4 v2, 0x0

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v2

    move-object/from16 v0, v17

    iput-wide v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->contactId:J
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    .line 6975
    .end local v10           #accountHashCode:I
    .end local v11           #accountName:Ljava/lang/String;
    .end local v12           #accountTypeAndDataSet:Ljava/lang/String;
    .end local v15           #rawContactId:Ljava/lang/String;
    .end local v17           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :catchall_0
    move-exception v2

    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    throw v2

    .line 6964
    .restart local v10       #accountHashCode:I
    .restart local v11       #accountName:Ljava/lang/String;
    .restart local v12       #accountTypeAndDataSet:Ljava/lang/String;
    .restart local v15       #rawContactId:Ljava/lang/String;
    .restart local v17       #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_3
    add-int/lit8 v14, v14, 0x1

    goto :goto_2

    .line 6975
    .end local v10           #accountHashCode:I
    .end local v11           #accountName:Ljava/lang/String;
    .end local v12           #accountTypeAndDataSet:Ljava/lang/String;
    .end local v15           #rawContactId:Ljava/lang/String;
    .end local v17           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_4
    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    .line 6978
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->getMostReferencedContactId(Ljava/util/ArrayList;)J

    move-result-wide v2

    return-wide v2
.end method

.method private lookupContactIdBySourceIds(Landroid/database/sqlite/SQLiteDatabase;Ljava/util/ArrayList;)J
    .locals 18
    .parameter "db"
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Landroid/database/sqlite/SQLiteDatabase;",
            "Ljava/util/ArrayList",
            "<",
            "Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;",
            ">;)J"
        }
    .end annotation

    .prologue
    .line 6885
    .local p2, segments:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;>;"
    new-instance v15, Ljava/lang/StringBuilder;

    invoke-direct {v15}, Ljava/lang/StringBuilder;-><init>()V

    .line 6886
    .local v15, sb:Ljava/lang/StringBuilder;
    const-string v2, "sourceid IN ("

    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6887
    const/4 v14, 0x0

    .local v14, i:I
    :goto_0
    invoke-virtual/range {p2 .. p2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v14, v2, :cond_1

    .line 6888
    move-object/from16 v0, p2

    invoke-virtual {v0, v14}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v16

    check-cast v16, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 6889
    .local v16, segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    move-object/from16 v0, v16

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    if-nez v2, :cond_0

    .line 6890
    move-object/from16 v0, v16

    iget-object v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->key:Ljava/lang/String;

    invoke-static {v15, v2}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 6891
    const-string v2, ","

    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6887
    :cond_0
    add-int/lit8 v14, v14, 0x1

    goto :goto_0

    .line 6894
    .end local v16           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_1
    invoke-virtual {v15}, Ljava/lang/StringBuilder;->length()I

    move-result v2

    add-int/lit8 v2, v2, -0x1

    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 6895
    const-string v2, ") AND contact_id NOT NULL"

    invoke-virtual {v15, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6897
    const-string v3, "view_raw_contacts"

    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2$LookupBySourceIdQuery;->COLUMNS:[Ljava/lang/String;

    invoke-virtual {v15}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    move-object/from16 v2, p1

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v13

    .line 6900
    .local v13, c:Landroid/database/Cursor;
    :cond_2
    :goto_1
    :try_start_0
    invoke-interface {v13}, Landroid/database/Cursor;->moveToNext()Z

    move-result v2

    if-eqz v2, :cond_4

    .line 6901
    const/4 v2, 0x1

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v12

    .line 6903
    .local v12, accountTypeAndDataSet:Ljava/lang/String;
    const/4 v2, 0x2

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v11

    .line 6904
    .local v11, accountName:Ljava/lang/String;
    invoke-static {v12, v11}, Lcom/android/providers/contacts/ContactLookupKey;->getAccountHashCode(Ljava/lang/String;Ljava/lang/String;)I

    move-result v10

    .line 6906
    .local v10, accountHashCode:I
    const/4 v2, 0x3

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v17

    .line 6907
    .local v17, sourceId:Ljava/lang/String;
    const/4 v14, 0x0

    :goto_2
    invoke-virtual/range {p2 .. p2}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v14, v2, :cond_2

    .line 6908
    move-object/from16 v0, p2

    invoke-virtual {v0, v14}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v16

    check-cast v16, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 6909
    .restart local v16       #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    move-object/from16 v0, v16

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    if-nez v2, :cond_3

    move-object/from16 v0, v16

    iget v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->accountHashCode:I

    if-ne v10, v2, :cond_3

    move-object/from16 v0, v16

    iget-object v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->key:Ljava/lang/String;

    move-object/from16 v0, v17

    invoke-virtual {v2, v0}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_3

    .line 6912
    const/4 v2, 0x0

    invoke-interface {v13, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v2

    move-object/from16 v0, v16

    iput-wide v2, v0, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->contactId:J
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    .line 6918
    .end local v10           #accountHashCode:I
    .end local v11           #accountName:Ljava/lang/String;
    .end local v12           #accountTypeAndDataSet:Ljava/lang/String;
    .end local v16           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    .end local v17           #sourceId:Ljava/lang/String;
    :catchall_0
    move-exception v2

    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    throw v2

    .line 6907
    .restart local v10       #accountHashCode:I
    .restart local v11       #accountName:Ljava/lang/String;
    .restart local v12       #accountTypeAndDataSet:Ljava/lang/String;
    .restart local v16       #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    .restart local v17       #sourceId:Ljava/lang/String;
    :cond_3
    add-int/lit8 v14, v14, 0x1

    goto :goto_2

    .line 6918
    .end local v10           #accountHashCode:I
    .end local v11           #accountName:Ljava/lang/String;
    .end local v12           #accountTypeAndDataSet:Ljava/lang/String;
    .end local v16           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    .end local v17           #sourceId:Ljava/lang/String;
    :cond_4
    invoke-interface {v13}, Landroid/database/Cursor;->close()V

    .line 6921
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->getMostReferencedContactId(Ljava/util/ArrayList;)J

    move-result-wide v2

    return-wide v2
.end method

.method private lookupKeyContainsType(Ljava/util/ArrayList;I)Z
    .locals 3
    .parameter
    .parameter "lookupType"
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList",
            "<",
            "Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;",
            ">;I)Z"
        }
    .end annotation

    .prologue
    .line 7042
    .local p1, segments:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;>;"
    const/4 v0, 0x0

    .local v0, i:I
    :goto_0
    invoke-virtual {p1}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-ge v0, v2, :cond_1

    .line 7043
    invoke-virtual {p1, v0}, Ljava/util/ArrayList;->get(I)Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;

    .line 7044
    .local v1, segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    iget v2, v1, Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;->lookupType:I

    if-ne v2, p2, :cond_0

    .line 7045
    const/4 v2, 0x1

    .line 7049
    .end local v1           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :goto_1
    return v2

    .line 7042
    .restart local v1       #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_0
    add-int/lit8 v0, v0, 0x1

    goto :goto_0

    .line 7049
    .end local v1           #segment:Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;
    :cond_1
    const/4 v2, 0x0

    goto :goto_1
.end method

.method private lookupRawContactIdForStreamId(J)J
    .locals 11
    .parameter "streamItemId"

    .prologue
    const/4 v4, 0x1

    const/4 v5, 0x0

    const/4 v7, 0x0

    .line 2951
    const-wide/16 v9, -0x1

    .line 2952
    .local v9, rawContactId:J
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 2953
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v1, "stream_items"

    new-array v2, v4, [Ljava/lang/String;

    const-string v3, "raw_contact_id"

    aput-object v3, v2, v7

    const-string v3, "_id=?"

    new-array v4, v4, [Ljava/lang/String;

    invoke-static {p1, p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v7

    move-object v6, v5

    move-object v7, v5

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 2958
    .local v8, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface {v8}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 2959
    const/4 v1, 0x0

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getLong(I)J
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-wide v9

    .line 2962
    :cond_0
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    .line 2964
    return-wide v9

    .line 2962
    :catchall_0
    move-exception v1

    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v1
.end method

.method private lookupSingleContactId(Landroid/database/sqlite/SQLiteDatabase;)J
    .locals 10
    .parameter "db"

    .prologue
    const/4 v4, 0x0

    const/4 v3, 0x0

    .line 6854
    const-string v1, "contacts"

    const/4 v0, 0x1

    new-array v2, v0, [Ljava/lang/String;

    const-string v0, "_id"

    aput-object v0, v2, v4

    const-string v8, "1"

    move-object v0, p1

    move-object v4, v3

    move-object v5, v3

    move-object v6, v3

    move-object v7, v3

    invoke-virtual/range {v0 .. v8}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v9

    .line 6857
    .local v9, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface {v9}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v0

    if-eqz v0, :cond_0

    .line 6858
    const/4 v0, 0x0

    invoke-interface {v9, v0}, Landroid/database/Cursor;->getLong(I)J
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-wide v0

    .line 6863
    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    :goto_0
    return-wide v0

    .line 6860
    :cond_0
    const-wide/16 v0, -0x1

    .line 6863
    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    goto :goto_0

    :catchall_0
    move-exception v0

    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    throw v0
.end method

.method private makeAssetFileDescriptor(Landroid/os/ParcelFileDescriptor;)Landroid/content/res/AssetFileDescriptor;
    .locals 2
    .parameter "fd"

    .prologue
    .line 8132
    const-wide/16 v0, -0x1

    invoke-direct {p0, p1, v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->makeAssetFileDescriptor(Landroid/os/ParcelFileDescriptor;J)Landroid/content/res/AssetFileDescriptor;

    move-result-object v0

    return-object v0
.end method

.method private makeAssetFileDescriptor(Landroid/os/ParcelFileDescriptor;J)Landroid/content/res/AssetFileDescriptor;
    .locals 6
    .parameter "fd"
    .parameter "length"

    .prologue
    .line 8136
    if-eqz p1, :cond_0

    new-instance v0, Landroid/content/res/AssetFileDescriptor;

    const-wide/16 v2, 0x0

    move-object v1, p1

    move-wide v4, p2

    invoke-direct/range {v0 .. v5}, Landroid/content/res/AssetFileDescriptor;-><init>(Landroid/os/ParcelFileDescriptor;JJ)V

    :goto_0
    return-object v0

    :cond_0
    const/4 v0, 0x0

    goto :goto_0
.end method

.method private mapsToProfileDb(Landroid/net/Uri;)Z
    .locals 1
    .parameter "uri"

    .prologue
    .line 2049
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v0, p1}, Lcom/android/providers/contacts/ProfileAwareUriMatcher;->mapsToProfile(Landroid/net/Uri;)Z

    move-result v0

    return v0
.end method

.method private mapsToProfileDbWithInsertedValues(Landroid/net/Uri;Landroid/content/ContentValues;)Z
    .locals 7
    .parameter "uri"
    .parameter "values"

    .prologue
    const/4 v4, 0x1

    .line 2064
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDb(Landroid/net/Uri;)Z

    move-result v5

    if-eqz v5, :cond_1

    .line 2077
    :cond_0
    :goto_0
    return v4

    .line 2067
    :cond_1
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v5, p1}, Landroid/content/UriMatcher;->match(Landroid/net/Uri;)I

    move-result v3

    .line 2068
    .local v3, match:I
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v6

    invoke-interface {v5, v6}, Ljava/util/Map;->containsKey(Ljava/lang/Object;)Z

    move-result v5

    if-eqz v5, :cond_2

    .line 2069
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->INSERT_URI_ID_VALUE_MAP:Ljava/util/Map;

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v6

    invoke-interface {v5, v6}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Ljava/lang/String;

    .line 2070
    .local v2, idField:Ljava/lang/String;
    invoke-virtual {p2, v2}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_2

    .line 2071
    invoke-virtual {p2, v2}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/Long;->longValue()J

    move-result-wide v0

    .line 2072
    .local v0, id:J
    invoke-static {v0, v1}, Landroid/provider/ContactsContract;->isProfileId(J)Z

    move-result v5

    if-nez v5, :cond_0

    .line 2077
    .end local v0           #id:J
    .end local v2           #idField:Ljava/lang/String;
    :cond_2
    const/4 v4, 0x0

    goto :goto_0
.end method

.method private markRawContactAsDeleted(Landroid/database/sqlite/SQLiteDatabase;JZ)I
    .locals 7
    .parameter "db"
    .parameter "rawContactId"
    .parameter "callerIsSyncAdapter"

    .prologue
    const/4 v3, 0x1

    .line 3921
    iput-boolean v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 3923
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v0}, Landroid/content/ContentValues;->clear()V

    .line 3924
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "deleted"

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 3925
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "aggregation_mode"

    const/4 v2, 0x3

    invoke-static {v2}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 3926
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "aggregation_needed"

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 3927
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "contact_id"

    invoke-virtual {v0, v1}, Landroid/content/ContentValues;->putNull(Ljava/lang/String;)V

    .line 3928
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v1, "dirty"

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 3938
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move-object v0, p0

    move-object v1, p1

    move-wide v2, p2

    move v5, p4

    invoke-direct/range {v0 .. v5}, Lcom/android/providers/contacts/ContactsProvider2;->updateRawContact(Landroid/database/sqlite/SQLiteDatabase;JLandroid/content/ContentValues;Z)I

    move-result v6

    .line 3940
    .local v6, updateCount:I
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDialerSearchSupport:Lcom/android/providers/contacts/DialerSearchSupport;

    invoke-virtual {v0, p1, p2, p3}, Lcom/android/providers/contacts/DialerSearchSupport;->updateDialerSearchDataForDelete(Landroid/database/sqlite/SQLiteDatabase;J)V

    .line 3942
    return v6
.end method

.method private static matchQueryParameter(Ljava/lang/String;ILjava/lang/String;Z)Z
    .locals 6
    .parameter "query"
    .parameter "index"
    .parameter "value"
    .parameter "ignoreCase"

    .prologue
    const/4 v4, 0x0

    .line 8540
    invoke-virtual {p2}, Ljava/lang/String;->length()I

    move-result v5

    .local v5, length:I
    move-object v0, p0

    move v1, p3

    move v2, p1

    move-object v3, p2

    .line 8541
    invoke-virtual/range {v0 .. v5}, Ljava/lang/String;->regionMatches(ZILjava/lang/String;II)Z

    move-result v0

    if-eqz v0, :cond_1

    invoke-virtual {p0}, Ljava/lang/String;->length()I

    move-result v0

    add-int v1, p1, v5

    if-eq v0, v1, :cond_0

    add-int v0, p1, v5

    invoke-virtual {p0, v0}, Ljava/lang/String;->charAt(I)C

    move-result v0

    const/16 v1, 0x26

    if-ne v0, v1, :cond_1

    :cond_0
    const/4 v4, 0x1

    :cond_1
    return v4
.end method

.method private openDisplayPhotoForRead(J)Landroid/content/res/AssetFileDescriptor;
    .locals 6
    .parameter "photoFileId"
    .annotation system Ldalvik/annotation/Throws;
        value = {
            Ljava/io/FileNotFoundException;
        }
    .end annotation

    .prologue
    const/16 v5, 0xa

    .line 7992
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPhotoStore:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/PhotoStore;

    invoke-virtual {v2, p1, p2}, Lcom/android/providers/contacts/PhotoStore;->get(J)Lcom/android/providers/contacts/PhotoStore$Entry;

    move-result-object v0

    .line 7993
    .local v0, entry:Lcom/android/providers/contacts/PhotoStore$Entry;
    if-eqz v0, :cond_0

    .line 7995
    :try_start_0
    new-instance v2, Ljava/io/File;

    iget-object v3, v0, Lcom/android/providers/contacts/PhotoStore$Entry;->path:Ljava/lang/String;

    invoke-direct {v2, v3}, Ljava/io/File;-><init>(Ljava/lang/String;)V

    const/high16 v3, 0x1000

    invoke-static {v2, v3}, Landroid/os/ParcelFileDescriptor;->open(Ljava/io/File;I)Landroid/os/ParcelFileDescriptor;

    move-result-object v2

    iget-wide v3, v0, Lcom/android/providers/contacts/PhotoStore$Entry;->size:J

    invoke-direct {p0, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->makeAssetFileDescriptor(Landroid/os/ParcelFileDescriptor;J)Landroid/content/res/AssetFileDescriptor;
    :try_end_0
    .catch Ljava/io/FileNotFoundException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v2

    return-object v2

    .line 7999
    :catch_0
    move-exception v1

    .line 8000
    .local v1, fnfe:Ljava/io/FileNotFoundException;
    invoke-virtual {p0, v5}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 8001
    throw v1

    .line 8004
    .end local v1           #fnfe:Ljava/io/FileNotFoundException;
    :cond_0
    invoke-virtual {p0, v5}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 8005
    new-instance v2, Ljava/io/FileNotFoundException;

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "No photo file found for ID "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p1, p2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-direct {v2, v3}, Ljava/io/FileNotFoundException;-><init>(Ljava/lang/String;)V

    throw v2
.end method

.method private openDisplayPhotoForWrite(JJLandroid/net/Uri;Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
    .locals 11
    .parameter "rawContactId"
    .parameter "dataId"
    .parameter "uri"
    .parameter "mode"

    .prologue
    .line 8027
    :try_start_0
    invoke-static {}, Landroid/os/ParcelFileDescriptor;->createPipe()[Landroid/os/ParcelFileDescriptor;

    move-result-object v10

    .line 8028
    .local v10, pipeFds:[Landroid/os/ParcelFileDescriptor;
    new-instance v1, Lcom/android/providers/contacts/ContactsProvider2$PipeMonitor;

    const/4 v2, 0x0

    aget-object v7, v10, v2

    const/4 v8, 0x0

    move-object v2, p0

    move-wide v3, p1

    move-wide v5, p3

    invoke-direct/range {v1 .. v8}, Lcom/android/providers/contacts/ContactsProvider2$PipeMonitor;-><init>(Lcom/android/providers/contacts/ContactsProvider2;JJLandroid/os/ParcelFileDescriptor;Lcom/android/providers/contacts/ContactsProvider2$1;)V

    .line 8029
    .local v1, pipeMonitor:Lcom/android/providers/contacts/ContactsProvider2$PipeMonitor;
    sget-object v3, Landroid/os/AsyncTask;->THREAD_POOL_EXECUTOR:Ljava/util/concurrent/Executor;

    const/4 v2, 0x0

    check-cast v2, [Ljava/lang/Object;

    invoke-virtual {v1, v3, v2}, Landroid/os/AsyncTask;->executeOnExecutor(Ljava/util/concurrent/Executor;[Ljava/lang/Object;)Landroid/os/AsyncTask;

    .line 8030
    new-instance v2, Landroid/content/res/AssetFileDescriptor;

    const/4 v3, 0x1

    aget-object v3, v10, v3

    const-wide/16 v4, 0x0

    const-wide/16 v6, -0x1

    invoke-direct/range {v2 .. v7}, Landroid/content/res/AssetFileDescriptor;-><init>(Landroid/os/ParcelFileDescriptor;JJ)V
    :try_end_0
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_0

    .line 8033
    .end local v1           #pipeMonitor:Lcom/android/providers/contacts/ContactsProvider2$PipeMonitor;
    .end local v10           #pipeFds:[Landroid/os/ParcelFileDescriptor;
    :goto_0
    return-object v2

    .line 8031
    :catch_0
    move-exception v9

    .line 8032
    .local v9, ioe:Ljava/io/IOException;
    const-string v2, "ContactsProvider"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "Could not create temp image file in mode "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-object/from16 v0, p6

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    .line 8033
    const/4 v2, 0x0

    goto :goto_0
.end method

.method private openPhotoAssetFile(Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
    .locals 6
    .parameter "db"
    .parameter "uri"
    .parameter "mode"
    .parameter "selection"
    .parameter "selectionArgs"
    .annotation system Ldalvik/annotation/Throws;
        value = {
            Ljava/io/FileNotFoundException;
        }
    .end annotation

    .prologue
    .line 7967
    const-string v2, "r"

    invoke-virtual {v2, p3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-nez v2, :cond_0

    .line 7968
    new-instance v3, Ljava/io/FileNotFoundException;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Mode "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " not supported."

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v2, v4, p2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v2

    invoke-direct {v3, v2}, Ljava/io/FileNotFoundException;-><init>(Ljava/lang/String;)V

    throw v3

    .line 7972
    :cond_0
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "SELECT data15 FROM view_data WHERE "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, p4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    .line 7976
    .local v1, sql:Ljava/lang/String;
    :try_start_0
    invoke-static {p1, v1, p5}, Landroid/database/DatabaseUtils;->blobFileDescriptorForQuery(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;)Landroid/os/ParcelFileDescriptor;

    move-result-object v2

    invoke-direct {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->makeAssetFileDescriptor(Landroid/os/ParcelFileDescriptor;)Landroid/content/res/AssetFileDescriptor;
    :try_end_0
    .catch Landroid/database/sqlite/SQLiteDoneException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v2

    return-object v2

    .line 7978
    :catch_0
    move-exception v0

    .line 7980
    .local v0, e:Landroid/database/sqlite/SQLiteDoneException;
    new-instance v2, Ljava/io/FileNotFoundException;

    invoke-virtual {p2}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-direct {v2, v3}, Ljava/io/FileNotFoundException;-><init>(Ljava/lang/String;)V

    throw v2
.end method

.method private outputRawContactsAsVCard(Landroid/net/Uri;Ljava/io/OutputStream;Ljava/lang/String;[Ljava/lang/String;)V
    .locals 11
    .parameter "uri"
    .parameter "stream"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    const/4 v2, 0x0

    .line 8146
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v6

    .line 8147
    .local v6, context:Landroid/content/Context;
    sget v8, Lcom/android/vcard/VCardConfig;->VCARD_TYPE_DEFAULT:I

    .line 8148
    .local v8, vcardconfig:I
    const-string v1, "nophoto"

    invoke-virtual {p1, v1, v2}, Landroid/net/Uri;->getBooleanQueryParameter(Ljava/lang/String;Z)Z

    move-result v1

    if-eqz v1, :cond_0

    .line 8150
    const/high16 v1, 0x80

    or-int/2addr v8, v1

    .line 8152
    :cond_0
    new-instance v0, Lcom/android/vcard/VCardComposer;

    invoke-direct {v0, v6, v8, v2}, Lcom/android/vcard/VCardComposer;-><init>(Landroid/content/Context;IZ)V

    .line 8154
    .local v0, composer:Lcom/android/vcard/VCardComposer;
    const/4 v9, 0x0

    .line 8156
    .local v9, writer:Ljava/io/Writer;
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDb(Landroid/net/Uri;)Z

    move-result v1

    if-eqz v1, :cond_3

    .line 8160
    sget-object v1, Landroid/provider/ContactsContract$RawContactsEntity;->PROFILE_CONTENT_URI:Landroid/net/Uri;

    invoke-direct {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->preAuthorizeUri(Landroid/net/Uri;)Landroid/net/Uri;

    move-result-object v5

    .line 8165
    .local v5, rawContactsUri:Landroid/net/Uri;
    :goto_0
    :try_start_0
    new-instance v10, Ljava/io/BufferedWriter;

    new-instance v1, Ljava/io/OutputStreamWriter;

    invoke-direct {v1, p2}, Ljava/io/OutputStreamWriter;-><init>(Ljava/io/OutputStream;)V

    invoke-direct {v10, v1}, Ljava/io/BufferedWriter;-><init>(Ljava/io/Writer;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_5

    .line 8166
    .end local v9           #writer:Ljava/io/Writer;
    .local v10, writer:Ljava/io/Writer;
    const/4 v4, 0x0

    move-object v1, p1

    move-object v2, p3

    move-object v3, p4

    :try_start_1
    invoke-virtual/range {v0 .. v5}, Lcom/android/vcard/VCardComposer;->init(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Landroid/net/Uri;)Z

    move-result v1

    if-nez v1, :cond_4

    .line 8167
    const-string v1, "ContactsProvider"

    const-string v2, "Failed to init VCardComposer"

    invoke-static {v1, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1
    .catch Ljava/io/IOException; {:try_start_1 .. :try_end_1} :catch_1

    .line 8177
    invoke-virtual {v0}, Lcom/android/vcard/VCardComposer;->terminate()V

    .line 8178
    if-eqz v10, :cond_1

    .line 8180
    :try_start_2
    invoke-virtual {v10}, Ljava/io/BufferedWriter;->close()V
    :try_end_2
    .catch Ljava/io/IOException; {:try_start_2 .. :try_end_2} :catch_0

    :cond_1
    :goto_1
    move-object v9, v10

    .line 8186
    .end local v10           #writer:Ljava/io/Writer;
    .restart local v9       #writer:Ljava/io/Writer;
    :cond_2
    :goto_2
    return-void

    .line 8162
    .end local v5           #rawContactsUri:Landroid/net/Uri;
    :cond_3
    sget-object v5, Landroid/provider/ContactsContract$RawContactsEntity;->CONTENT_URI:Landroid/net/Uri;

    .restart local v5       #rawContactsUri:Landroid/net/Uri;
    goto :goto_0

    .line 8181
    .end local v9           #writer:Ljava/io/Writer;
    .restart local v10       #writer:Ljava/io/Writer;
    :catch_0
    move-exception v7

    .line 8182
    .local v7, e:Ljava/io/IOException;
    const-string v1, "ContactsProvider"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "IOException during closing output stream: "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_1

    .line 8171
    .end local v7           #e:Ljava/io/IOException;
    :cond_4
    :goto_3
    :try_start_3
    invoke-virtual {v0}, Lcom/android/vcard/VCardComposer;->isAfterLast()Z

    move-result v1

    if-nez v1, :cond_5

    .line 8172
    invoke-virtual {v0}, Lcom/android/vcard/VCardComposer;->createOneEntry()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v10, v1}, Ljava/io/Writer;->write(Ljava/lang/String;)V
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_1
    .catch Ljava/io/IOException; {:try_start_3 .. :try_end_3} :catch_1

    goto :goto_3

    .line 8174
    :catch_1
    move-exception v7

    move-object v9, v10

    .line 8175
    .end local v10           #writer:Ljava/io/Writer;
    .restart local v7       #e:Ljava/io/IOException;
    .restart local v9       #writer:Ljava/io/Writer;
    :goto_4
    :try_start_4
    const-string v1, "ContactsProvider"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "IOException: "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_0

    .line 8177
    invoke-virtual {v0}, Lcom/android/vcard/VCardComposer;->terminate()V

    .line 8178
    if-eqz v9, :cond_2

    .line 8180
    :try_start_5
    invoke-virtual {v9}, Ljava/io/BufferedWriter;->close()V
    :try_end_5
    .catch Ljava/io/IOException; {:try_start_5 .. :try_end_5} :catch_2

    goto :goto_2

    .line 8181
    :catch_2
    move-exception v7

    .line 8182
    const-string v1, "ContactsProvider"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "IOException during closing output stream: "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_2

    .line 8177
    .end local v7           #e:Ljava/io/IOException;
    .end local v9           #writer:Ljava/io/Writer;
    .restart local v10       #writer:Ljava/io/Writer;
    :cond_5
    invoke-virtual {v0}, Lcom/android/vcard/VCardComposer;->terminate()V

    .line 8178
    if-eqz v10, :cond_7

    .line 8180
    :try_start_6
    invoke-virtual {v10}, Ljava/io/BufferedWriter;->close()V
    :try_end_6
    .catch Ljava/io/IOException; {:try_start_6 .. :try_end_6} :catch_3

    move-object v9, v10

    .line 8183
    .end local v10           #writer:Ljava/io/Writer;
    .restart local v9       #writer:Ljava/io/Writer;
    goto :goto_2

    .line 8181
    .end local v9           #writer:Ljava/io/Writer;
    .restart local v10       #writer:Ljava/io/Writer;
    :catch_3
    move-exception v7

    .line 8182
    .restart local v7       #e:Ljava/io/IOException;
    const-string v1, "ContactsProvider"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "IOException during closing output stream: "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-static {v1, v2}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    move-object v9, v10

    .line 8183
    .end local v10           #writer:Ljava/io/Writer;
    .restart local v9       #writer:Ljava/io/Writer;
    goto/16 :goto_2

    .line 8177
    .end local v7           #e:Ljava/io/IOException;
    :catchall_0
    move-exception v1

    :goto_5
    invoke-virtual {v0}, Lcom/android/vcard/VCardComposer;->terminate()V

    .line 8178
    if-eqz v9, :cond_6

    .line 8180
    :try_start_7
    invoke-virtual {v9}, Ljava/io/BufferedWriter;->close()V
    :try_end_7
    .catch Ljava/io/IOException; {:try_start_7 .. :try_end_7} :catch_4

    .line 8183
    :cond_6
    :goto_6
    throw v1

    .line 8181
    :catch_4
    move-exception v7

    .line 8182
    .restart local v7       #e:Ljava/io/IOException;
    const-string v2, "ContactsProvider"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "IOException during closing output stream: "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_6

    .line 8177
    .end local v7           #e:Ljava/io/IOException;
    .end local v9           #writer:Ljava/io/Writer;
    .restart local v10       #writer:Ljava/io/Writer;
    :catchall_1
    move-exception v1

    move-object v9, v10

    .end local v10           #writer:Ljava/io/Writer;
    .restart local v9       #writer:Ljava/io/Writer;
    goto :goto_5

    .line 8174
    :catch_5
    move-exception v7

    goto/16 :goto_4

    .end local v9           #writer:Ljava/io/Writer;
    .restart local v10       #writer:Ljava/io/Writer;
    :cond_7
    move-object v9, v10

    .end local v10           #writer:Ljava/io/Writer;
    .restart local v9       #writer:Ljava/io/Writer;
    goto/16 :goto_2
.end method

.method private preAuthorizeUri(Landroid/net/Uri;)Landroid/net/Uri;
    .locals 8
    .parameter "uri"

    .prologue
    .line 2222
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mRandom:Ljava/security/SecureRandom;

    invoke-virtual {v4}, Ljava/util/Random;->nextLong()J

    move-result-wide v4

    invoke-static {v4, v5}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v3

    .line 2223
    .local v3, token:Ljava/lang/String;
    invoke-virtual {p1}, Landroid/net/Uri;->buildUpon()Landroid/net/Uri$Builder;

    move-result-object v4

    const-string v5, "perm_token"

    invoke-virtual {v4, v5, v3}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;

    move-result-object v4

    invoke-virtual {v4}, Landroid/net/Uri$Builder;->build()Landroid/net/Uri;

    move-result-object v0

    .line 2226
    .local v0, authUri:Landroid/net/Uri;
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v4

    iget-wide v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUriDuration:J

    add-long v1, v4, v6

    .line 2227
    .local v1, expiration:J
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUris:Ljava/util/Map;

    invoke-static {v1, v2}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v5

    invoke-interface {v4, v0, v5}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 2229
    return-object v0
.end method

.method private processStreamItemPhoto(Landroid/content/ContentValues;Z)Z
    .locals 11
    .parameter "values"
    .parameter "forUpdate"

    .prologue
    const/4 v6, 0x0

    const/4 v5, 0x1

    .line 2918
    const-string v4, "photo"

    invoke-virtual {p1, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v4

    if-nez v4, :cond_1

    .line 2941
    .end local p2
    :cond_0
    :goto_0
    return p2

    .line 2921
    .restart local p2
    :cond_1
    const-string v4, "photo"

    invoke-virtual {p1, v4}, Landroid/content/ContentValues;->getAsByteArray(Ljava/lang/String;)[B

    move-result-object v1

    .line 2922
    .local v1, photoBytes:[B
    if-eqz v1, :cond_0

    .line 2928
    :try_start_0
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPhotoStore:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/PhotoStore;

    new-instance v7, Lcom/android/providers/contacts/PhotoProcessor;

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getMaxDisplayPhotoDim()I

    move-result v8

    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->getMaxThumbnailDim()I

    move-result v9

    const/4 v10, 0x1

    invoke-direct {v7, v1, v8, v9, v10}, Lcom/android/providers/contacts/PhotoProcessor;-><init>([BIIZ)V

    const/4 v8, 0x1

    invoke-virtual {v4, v7, v8}, Lcom/android/providers/contacts/PhotoStore;->insert(Lcom/android/providers/contacts/PhotoProcessor;Z)J

    move-result-wide v2

    .line 2930
    .local v2, photoFileId:J
    const-wide/16 v7, 0x0

    cmp-long v4, v2, v7

    if-eqz v4, :cond_2

    .line 2931
    const-string v4, "photo_file_id"

    invoke-static {v2, v3}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v7

    invoke-virtual {p1, v4, v7}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 2932
    const-string v4, "photo"

    invoke-virtual {p1, v4}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    move p2, v5

    .line 2933
    goto :goto_0

    .line 2936
    :cond_2
    const-string v4, "ContactsProvider"

    const-string v5, "Could not process stream item photo for insert"

    invoke-static {v4, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I
    :try_end_0
    .catch Ljava/io/IOException; {:try_start_0 .. :try_end_0} :catch_0

    move p2, v6

    .line 2937
    goto :goto_0

    .line 2939
    .end local v2           #photoFileId:J
    :catch_0
    move-exception v0

    .line 2940
    .local v0, ioe:Ljava/io/IOException;
    const-string v4, "ContactsProvider"

    const-string v5, "Could not process stream item photo for insert"

    invoke-static {v4, v5, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    move p2, v6

    .line 2941
    goto :goto_0
.end method

.method private query(Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;
    .locals 11
    .parameter "db"
    .parameter "qb"
    .parameter "projection"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "sortOrder"
    .parameter "groupBy"
    .parameter "having"
    .parameter "limit"
    .parameter "cancellationSignal"

    .prologue
    .line 6591
    if-eqz p3, :cond_0

    array-length v0, p3

    const/4 v1, 0x1

    if-ne v0, v1, :cond_0

    const-string v0, "_count"

    const/4 v1, 0x0

    aget-object v1, p3, v1

    invoke-virtual {v0, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 6593
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sCountProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {p2, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    :cond_0
    move-object v0, p2

    move-object v1, p1

    move-object v2, p3

    move-object v3, p4

    move-object/from16 v4, p5

    move-object/from16 v5, p7

    move-object/from16 v6, p8

    move-object/from16 v7, p6

    move-object/from16 v8, p9

    move-object/from16 v9, p10

    .line 6595
    invoke-virtual/range {v0 .. v9}, Landroid/database/sqlite/SQLiteQueryBuilder;->query(Landroid/database/sqlite/SQLiteDatabase;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v10

    .line 6597
    .local v10, c:Landroid/database/Cursor;
    if-eqz v10, :cond_1

    .line 6598
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v0

    invoke-virtual {v0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v0

    sget-object v1, Landroid/provider/ContactsContract;->AUTHORITY_URI:Landroid/net/Uri;

    invoke-interface {v10, v0, v1}, Landroid/database/Cursor;->setNotificationUri(Landroid/content/ContentResolver;Landroid/net/Uri;)V

    .line 6600
    :cond_1
    return-object v10
.end method

.method private queryWithContactIdAndLookupKey(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;JLjava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;
    .locals 13
    .parameter "lookupQb"
    .parameter "db"
    .parameter "uri"
    .parameter "projection"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "sortOrder"
    .parameter "groupBy"
    .parameter "limit"
    .parameter "contactIdColumn"
    .parameter "contactId"
    .parameter "lookupKeyColumn"
    .parameter "lookupKey"
    .parameter "cancellationSignal"

    .prologue
    .line 6617
    if-nez p6, :cond_0

    .line 6618
    const/4 v1, 0x2

    new-array v6, v1, [Ljava/lang/String;

    .line 6623
    .local v6, args:[Ljava/lang/String;
    :goto_0
    const/4 v1, 0x0

    invoke-static/range {p11 .. p12}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v2

    aput-object v2, v6, v1

    .line 6624
    const/4 v1, 0x1

    invoke-static/range {p14 .. p14}, Landroid/net/Uri;->encode(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    aput-object v2, v6, v1

    .line 6625
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, p10

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, "=? AND "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    move-object/from16 v0, p13

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, "=?"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 6626
    const/4 v9, 0x0

    move-object v1, p0

    move-object v2, p2

    move-object v3, p1

    move-object/from16 v4, p4

    move-object/from16 v5, p5

    move-object/from16 v7, p7

    move-object/from16 v8, p8

    move-object/from16 v10, p9

    move-object/from16 v11, p15

    invoke-direct/range {v1 .. v11}, Lcom/android/providers/contacts/ContactsProvider2;->query(Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v12

    .line 6628
    .local v12, c:Landroid/database/Cursor;
    invoke-interface {v12}, Landroid/database/Cursor;->getCount()I

    move-result v1

    if-eqz v1, :cond_1

    .line 6633
    .end local v12           #c:Landroid/database/Cursor;
    :goto_1
    return-object v12

    .line 6620
    .end local v6           #args:[Ljava/lang/String;
    :cond_0
    move-object/from16 v0, p6

    array-length v1, v0

    add-int/lit8 v1, v1, 0x2

    new-array v6, v1, [Ljava/lang/String;

    .line 6621
    .restart local v6       #args:[Ljava/lang/String;
    const/4 v1, 0x0

    const/4 v2, 0x2

    move-object/from16 v0, p6

    array-length v3, v0

    move-object/from16 v0, p6

    invoke-static {v0, v1, v6, v2, v3}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    goto :goto_0

    .line 6632
    .restart local v12       #c:Landroid/database/Cursor;
    :cond_1
    invoke-interface {v12}, Landroid/database/Cursor;->close()V

    .line 6633
    const/4 v12, 0x0

    goto :goto_1
.end method

.method private rawContactIsLocal(J)Z
    .locals 11
    .parameter "rawContactId"

    .prologue
    const/4 v9, 0x1

    const/4 v10, 0x0

    const/4 v5, 0x0

    .line 3858
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 3859
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v1, "raw_contacts"

    sget-object v2, Lcom/android/providers/contacts/ContactsDatabaseHelper$Projections;->LITERAL_ONE:[Ljava/lang/String;

    const-string v3, "raw_contacts._id=? AND account_id=(SELECT _id FROM accounts WHERE account_name IS NULL AND account_type IS NULL AND data_set IS NULL)"

    new-array v4, v9, [Ljava/lang/String;

    invoke-static {p1, p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v10

    move-object v6, v5

    move-object v7, v5

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 3864
    .local v8, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface {v8}, Landroid/database/Cursor;->getCount()I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v1

    if-lez v1, :cond_0

    move v1, v9

    .line 3866
    :goto_0
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    return v1

    :cond_0
    move v1, v10

    .line 3864
    goto :goto_0

    .line 3866
    :catchall_0
    move-exception v1

    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v1
.end method

.method static readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z
    .locals 5
    .parameter "uri"
    .parameter "parameter"
    .parameter "defaultValue"

    .prologue
    const/4 v2, 0x1

    const/4 v3, 0x0

    .line 8522
    invoke-virtual {p0}, Landroid/net/Uri;->getEncodedQuery()Ljava/lang/String;

    move-result-object v1

    .line 8523
    .local v1, query:Ljava/lang/String;
    if-nez v1, :cond_1

    .line 8534
    .end local p2
    :cond_0
    :goto_0
    return p2

    .line 8527
    .restart local p2
    :cond_1
    invoke-virtual {v1, p1}, Ljava/lang/String;->indexOf(Ljava/lang/String;)I

    move-result v0

    .line 8528
    .local v0, index:I
    const/4 v4, -0x1

    if-eq v0, v4, :cond_0

    .line 8532
    invoke-virtual {p1}, Ljava/lang/String;->length()I

    move-result v4

    add-int/2addr v0, v4

    .line 8534
    const-string v4, "=0"

    invoke-static {v1, v0, v4, v3}, Lcom/android/providers/contacts/ContactsProvider2;->matchQueryParameter(Ljava/lang/String;ILjava/lang/String;Z)Z

    move-result v4

    if-nez v4, :cond_2

    const-string v4, "=false"

    invoke-static {v1, v0, v4, v2}, Lcom/android/providers/contacts/ContactsProvider2;->matchQueryParameter(Ljava/lang/String;ILjava/lang/String;Z)Z

    move-result v4

    if-nez v4, :cond_2

    :goto_1
    move p2, v2

    goto :goto_0

    :cond_2
    move v2, v3

    goto :goto_1
.end method

.method private registerReceiverOnSimStateAndInfoChanged()V
    .locals 3

    .prologue
    .line 9269
    const-string v1, "ContactsProvider"

    const-string v2, "registerReceiverOnSimStateAndInfoChanged"

    invoke-static {v1, v2}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 9270
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBroadcastReceiver:Landroid/content/BroadcastReceiver;

    if-nez v1, :cond_0

    .line 9271
    new-instance v1, Lcom/android/providers/contacts/ContactsProvider2$SimStateReceiver;

    const/4 v2, 0x0

    invoke-direct {v1, p0, v2}, Lcom/android/providers/contacts/ContactsProvider2$SimStateReceiver;-><init>(Lcom/android/providers/contacts/ContactsProvider2;Lcom/android/providers/contacts/ContactsProvider2$1;)V

    iput-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBroadcastReceiver:Landroid/content/BroadcastReceiver;

    .line 9272
    new-instance v0, Landroid/content/IntentFilter;

    invoke-direct {v0}, Landroid/content/IntentFilter;-><init>()V

    .line 9274
    .local v0, simFilter:Landroid/content/IntentFilter;
    const-string v1, "android.intent.action.SIM_INFO_UPDATE"

    invoke-virtual {v0, v1}, Landroid/content/IntentFilter;->addAction(Ljava/lang/String;)V

    .line 9275
    const-string v1, "android.intent.action.PHB_STATE_CHANGED"

    invoke-virtual {v0, v1}, Landroid/content/IntentFilter;->addAction(Ljava/lang/String;)V

    .line 9278
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v1

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBroadcastReceiver:Landroid/content/BroadcastReceiver;

    invoke-virtual {v1, v2, v0}, Landroid/content/Context;->registerReceiver(Landroid/content/BroadcastReceiver;Landroid/content/IntentFilter;)Landroid/content/Intent;

    .line 9280
    .end local v0           #simFilter:Landroid/content/IntentFilter;
    :cond_0
    return-void
.end method

.method private requestCheckedIds(Landroid/net/Uri;)Landroid/net/Uri;
    .locals 2
    .parameter "uri"

    .prologue
    .line 9407
    const-string v1, "checked_ids_arg"

    invoke-static {p1, v1}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    .line 9408
    .local v0, nonFilterArg:Ljava/lang/String;
    invoke-static {v0}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v1

    if-eqz v1, :cond_0

    .line 9409
    const/4 v1, 0x0

    .line 9412
    :goto_0
    return-object v1

    :cond_0
    invoke-static {v0}, Landroid/net/Uri;->parse(Ljava/lang/String;)Landroid/net/Uri;

    move-result-object v1

    goto :goto_0
.end method

.method private resolveAccount(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/accounts/Account;
    .locals 13
    .parameter "uri"
    .parameter "values"
    .annotation system Ldalvik/annotation/Throws;
        value = {
            Ljava/lang/IllegalArgumentException;
        }
    .end annotation

    .prologue
    const/4 v9, 0x1

    const/4 v10, 0x0

    .line 2601
    const-string v11, "account_name"

    invoke-static {p1, v11}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v1

    .line 2602
    .local v1, accountName:Ljava/lang/String;
    const-string v11, "account_type"

    invoke-static {p1, v11}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    .line 2603
    .local v2, accountType:Ljava/lang/String;
    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    invoke-static {v2}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v12

    xor-int v3, v11, v12

    .line 2605
    .local v3, partialUri:Z
    const-string v11, "account_name"

    invoke-virtual {p2, v11}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    .line 2606
    .local v7, valueAccountName:Ljava/lang/String;
    const-string v11, "account_type"

    invoke-virtual {p2, v11}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v8

    .line 2607
    .local v8, valueAccountType:Ljava/lang/String;
    invoke-static {v7}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    invoke-static {v8}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v12

    xor-int v4, v11, v12

    .line 2610
    .local v4, partialValues:Z
    if-nez v3, :cond_0

    if-eqz v4, :cond_1

    .line 2612
    :cond_0
    new-instance v10, Ljava/lang/IllegalArgumentException;

    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v9}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v11, "Must specify both or neither of ACCOUNT_NAME and ACCOUNT_TYPE"

    invoke-virtual {v9, v11, p1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v9

    invoke-direct {v10, v9}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v10

    .line 2618
    :cond_1
    invoke-static {v1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    if-nez v11, :cond_2

    move v5, v9

    .line 2619
    .local v5, validUri:Z
    :goto_0
    invoke-static {v7}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v11

    if-nez v11, :cond_3

    move v6, v9

    .line 2621
    .local v6, validValues:Z
    :goto_1
    if-eqz v6, :cond_5

    if-eqz v5, :cond_5

    .line 2623
    invoke-static {v1, v7}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v11

    if-eqz v11, :cond_4

    invoke-static {v2, v8}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v11

    if-eqz v11, :cond_4

    move v0, v9

    .line 2625
    .local v0, accountMatch:Z
    :goto_2
    if-nez v0, :cond_6

    .line 2626
    new-instance v10, Ljava/lang/IllegalArgumentException;

    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v9}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v9

    check-cast v9, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v11, "When both specified, ACCOUNT_NAME and ACCOUNT_TYPE must match"

    invoke-virtual {v9, v11, p1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v9

    invoke-direct {v10, v9}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v10

    .end local v0           #accountMatch:Z
    .end local v5           #validUri:Z
    .end local v6           #validValues:Z
    :cond_2
    move v5, v10

    .line 2618
    goto :goto_0

    .restart local v5       #validUri:Z
    :cond_3
    move v6, v10

    .line 2619
    goto :goto_1

    .restart local v6       #validValues:Z
    :cond_4
    move v0, v10

    .line 2623
    goto :goto_2

    .line 2629
    :cond_5
    if-eqz v5, :cond_9

    .line 2631
    const-string v9, "account_name"

    invoke-virtual {p2, v9, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 2632
    const-string v9, "account_type"

    invoke-virtual {p2, v9, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 2641
    :cond_6
    :goto_3
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccount:Landroid/accounts/Account;

    if-eqz v9, :cond_7

    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccount:Landroid/accounts/Account;

    iget-object v9, v9, Landroid/accounts/Account;->name:Ljava/lang/String;

    invoke-virtual {v9, v1}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v9

    if-eqz v9, :cond_7

    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccount:Landroid/accounts/Account;

    iget-object v9, v9, Landroid/accounts/Account;->type:Ljava/lang/String;

    invoke-virtual {v9, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v9

    if-nez v9, :cond_8

    .line 2644
    :cond_7
    new-instance v9, Landroid/accounts/Account;

    invoke-direct {v9, v1, v2}, Landroid/accounts/Account;-><init>(Ljava/lang/String;Ljava/lang/String;)V

    iput-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccount:Landroid/accounts/Account;

    .line 2647
    :cond_8
    iget-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccount:Landroid/accounts/Account;

    :goto_4
    return-object v9

    .line 2633
    :cond_9
    if-eqz v6, :cond_a

    .line 2634
    move-object v1, v7

    .line 2635
    move-object v2, v8

    goto :goto_3

    .line 2637
    :cond_a
    const/4 v9, 0x0

    goto :goto_4
.end method

.method private resolveAccountIdInTransaction(Landroid/net/Uri;Landroid/content/ContentValues;)J
    .locals 2
    .parameter "uri"
    .parameter "values"

    .prologue
    .line 2678
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-direct {p0, p1, v1}, Lcom/android/providers/contacts/ContactsProvider2;->resolveAccountWithDataSet(Landroid/net/Uri;Landroid/content/ContentValues;)Lcom/android/providers/contacts/AccountWithDataSet;

    move-result-object v1

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getOrCreateAccountIdInTransaction(Lcom/android/providers/contacts/AccountWithDataSet;)J

    move-result-wide v0

    return-wide v0
.end method

.method private resolveAccountWithDataSet(Landroid/net/Uri;Landroid/content/ContentValues;)Lcom/android/providers/contacts/AccountWithDataSet;
    .locals 5
    .parameter "uri"
    .parameter "values"

    .prologue
    .line 2657
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->resolveAccount(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/accounts/Account;

    move-result-object v0

    .line 2658
    .local v0, account:Landroid/accounts/Account;
    const/4 v1, 0x0

    .line 2659
    .local v1, accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    if-eqz v0, :cond_0

    .line 2660
    const-string v3, "data_set"

    invoke-static {p1, v3}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    .line 2661
    .local v2, dataSet:Ljava/lang/String;
    if-nez v2, :cond_1

    .line 2662
    const-string v3, "data_set"

    invoke-virtual {p2, v3}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    .line 2666
    :goto_0
    iget-object v3, v0, Landroid/accounts/Account;->name:Ljava/lang/String;

    iget-object v4, v0, Landroid/accounts/Account;->type:Ljava/lang/String;

    invoke-static {v3, v4, v2}, Lcom/android/providers/contacts/AccountWithDataSet;->get(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/AccountWithDataSet;

    move-result-object v1

    .line 2668
    .end local v2           #dataSet:Ljava/lang/String;
    :cond_0
    return-object v1

    .line 2664
    .restart local v2       #dataSet:Ljava/lang/String;
    :cond_1
    const-string v3, "data_set"

    invoke-virtual {p2, v3, v2}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_0
.end method

.method private static final safeDiv(JJ)J
    .locals 3
    .parameter "dividend"
    .parameter "divisor"

    .prologue
    const-wide/16 v0, 0x0

    .line 8925
    cmp-long v2, p2, v0

    if-nez v2, :cond_0

    :goto_0
    return-wide v0

    :cond_0
    div-long v0, p0, p2

    goto :goto_0
.end method

.method private static sanitizeMatch(Ljava/lang/String;)Ljava/lang/String;
    .locals 3
    .parameter "filter"

    .prologue
    .line 7331
    const-string v0, "\'"

    const-string v1, ""

    invoke-virtual {p0, v0, v1}, Ljava/lang/String;->replace(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;

    move-result-object v0

    const-string v1, "*"

    const-string v2, ""

    invoke-virtual {v0, v1, v2}, Ljava/lang/String;->replace(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;

    move-result-object v0

    const-string v1, "-"

    const-string v2, ""

    invoke-virtual {v0, v1, v2}, Ljava/lang/String;->replace(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;

    move-result-object v0

    const-string v1, "\""

    const-string v2, ""

    invoke-virtual {v0, v1, v2}, Ljava/lang/String;->replace(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Ljava/lang/String;

    move-result-object v0

    return-object v0
.end method

.method private setTableAndProjectionMapForStatusUpdates(Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;)V
    .locals 2
    .parameter "qb"
    .parameter "projection"

    .prologue
    .line 7417
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    .line 7418
    .local v0, sb:Ljava/lang/StringBuilder;
    const-string v1, "view_data"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7419
    const-string v1, " data"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7420
    const-string v1, "data._id"

    invoke-direct {p0, v0, p2, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendDataPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 7421
    const-string v1, "data._id"

    invoke-direct {p0, v0, p2, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendDataStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 7423
    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7424
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sStatusUpdatesProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7425
    return-void
.end method

.method private setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V
    .locals 1
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"

    .prologue
    .line 7089
    const/4 v0, 0x0

    invoke-direct {p0, p1, p2, p3, v0}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 7090
    return-void
.end method

.method private setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V
    .locals 5
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"
    .parameter "includeDataUsageStat"

    .prologue
    .line 7099
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    .line 7100
    .local v0, sb:Ljava/lang/StringBuilder;
    if-eqz p4, :cond_0

    .line 7101
    const-string v1, "view_data_usage_stat AS data_usage_stat"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7102
    const-string v1, " INNER JOIN "

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7105
    :cond_0
    const-string v1, "view_contacts"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7108
    if-eqz p4, :cond_1

    .line 7109
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, " ON ("

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const/4 v2, 0x2

    new-array v2, v2, [Ljava/lang/String;

    const/4 v3, 0x0

    const-string v4, "data_usage_stat.times_used > 0"

    aput-object v4, v2, v3

    const/4 v3, 0x1

    const-string v4, "contact_id=view_contacts._id"

    aput-object v4, v2, v3

    invoke-static {v2}, Lcom/android/providers/contacts/util/DbQueryUtils;->concatenateClauses([Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    const-string v2, ")"

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7116
    :cond_1
    const-string v1, "_id"

    invoke-direct {p0, v0, p3, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 7117
    const-string v1, "status_update_id"

    invoke-direct {p0, v0, p3, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 7118
    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7119
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7120
    return-void
.end method

.method private setTablesAndProjectionMapForContactsWithSnippet(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;JZ)V
    .locals 6
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"
    .parameter "filter"
    .parameter "directoryId"
    .parameter "deferSnippeting"

    .prologue
    .line 7129
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    .line 7130
    .local v1, sb:Ljava/lang/StringBuilder;
    const-string v0, "view_contacts"

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7132
    if-eqz p4, :cond_0

    .line 7133
    invoke-virtual {p4}, Ljava/lang/String;->trim()Ljava/lang/String;

    move-result-object p4

    .line 7136
    :cond_0
    invoke-static {p4}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v0

    if-nez v0, :cond_1

    const-wide/16 v2, -0x1

    cmp-long v0, p5, v2

    if-eqz v0, :cond_2

    const-wide/16 v2, 0x0

    cmp-long v0, p5, v2

    if-eqz v0, :cond_2

    .line 7137
    :cond_1
    const-string v0, " JOIN (SELECT NULL AS snippet WHERE 0)"

    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7141
    :goto_0
    const-string v0, "_id"

    invoke-direct {p0, v1, p3, v0}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 7142
    const-string v0, "status_update_id"

    invoke-direct {p0, v1, p3, v0}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 7143
    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7144
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionWithSnippetMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7145
    return-void

    :cond_2
    move-object v0, p0

    move-object v2, p2

    move-object v3, p3

    move-object v4, p4

    move v5, p7

    .line 7139
    invoke-direct/range {v0 .. v5}, Lcom/android/providers/contacts/ContactsProvider2;->appendSearchIndexJoin(Ljava/lang/StringBuilder;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;Z)V

    goto :goto_0
.end method

.method private setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V
    .locals 7
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"
    .parameter "distinct"

    .prologue
    .line 7365
    const/4 v5, 0x0

    const/4 v6, 0x0

    move-object v0, p0

    move-object v1, p1

    move-object v2, p2

    move-object v3, p3

    move v4, p4

    invoke-direct/range {v0 .. v6}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZZLjava/lang/Integer;)V

    .line 7366
    return-void
.end method

.method private setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZLjava/lang/Integer;)V
    .locals 7
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"
    .parameter "distinct"
    .parameter "usageType"

    .prologue
    .line 7379
    const/4 v5, 0x0

    move-object v0, p0

    move-object v1, p1

    move-object v2, p2

    move-object v3, p3

    move v4, p4

    move-object v6, p5

    invoke-direct/range {v0 .. v6}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZZLjava/lang/Integer;)V

    .line 7380
    return-void
.end method

.method private setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZZ)V
    .locals 7
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"
    .parameter "distinct"
    .parameter "addSipLookupColumns"

    .prologue
    .line 7370
    const/4 v6, 0x0

    move-object v0, p0

    move-object v1, p1

    move-object v2, p2

    move-object v3, p3

    move v4, p4

    move v5, p5

    invoke-direct/range {v0 .. v6}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZZLjava/lang/Integer;)V

    .line 7371
    return-void
.end method

.method private setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZZLjava/lang/Integer;)V
    .locals 5
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"
    .parameter "distinct"
    .parameter "addSipLookupColumns"
    .parameter "usageType"

    .prologue
    .line 7384
    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    .line 7385
    .local v1, sb:Ljava/lang/StringBuilder;
    const-string v3, "view_data"

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7386
    const-string v3, " data"

    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7388
    const-string v3, "contact_id"

    invoke-direct {p0, v1, p3, v3}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 7389
    const-string v3, "status_update_id"

    invoke-direct {p0, v1, p3, v3}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 7390
    const-string v3, "data._id"

    invoke-direct {p0, v1, p3, v3}, Lcom/android/providers/contacts/ContactsProvider2;->appendDataPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 7391
    const-string v3, "data._id"

    invoke-direct {p0, v1, p3, v3}, Lcom/android/providers/contacts/ContactsProvider2;->appendDataStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 7393
    if-eqz p6, :cond_0

    .line 7394
    invoke-virtual {p6}, Ljava/lang/Integer;->intValue()I

    move-result v3

    const-string v4, "data._id"

    invoke-direct {p0, v1, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->appendDataUsageStatJoin(Ljava/lang/StringBuilder;ILjava/lang/String;)V

    .line 7397
    :cond_0
    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {p1, v3}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7399
    if-nez p4, :cond_1

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->DISTINCT_DATA_PROHIBITING_COLUMNS:[Ljava/lang/String;

    invoke-static {p3, v3}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;[Ljava/lang/String;)Z

    move-result v3

    if-nez v3, :cond_2

    :cond_1
    const/4 v2, 0x1

    .line 7401
    .local v2, useDistinct:Z
    :goto_0
    invoke-virtual {p1, v2}, Landroid/database/sqlite/SQLiteQueryBuilder;->setDistinct(Z)V

    .line 7404
    if-eqz p5, :cond_4

    .line 7405
    if-eqz v2, :cond_3

    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sDistinctDataSipLookupProjectionMap:Lcom/android/common/content/ProjectionMap;

    .line 7411
    .local v0, projectionMap:Lcom/android/common/content/ProjectionMap;
    :goto_1
    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7412
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountIdFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 7413
    return-void

    .line 7399
    .end local v0           #projectionMap:Lcom/android/common/content/ProjectionMap;
    .end local v2           #useDistinct:Z
    :cond_2
    const/4 v2, 0x0

    goto :goto_0

    .line 7405
    .restart local v2       #useDistinct:Z
    :cond_3
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sDataSipLookupProjectionMap:Lcom/android/common/content/ProjectionMap;

    goto :goto_1

    .line 7408
    :cond_4
    if-eqz v2, :cond_5

    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sDistinctDataProjectionMap:Lcom/android/common/content/ProjectionMap;

    .restart local v0       #projectionMap:Lcom/android/common/content/ProjectionMap;
    :goto_2
    goto :goto_1

    .end local v0           #projectionMap:Lcom/android/common/content/ProjectionMap;
    :cond_5
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sDataProjectionMap:Lcom/android/common/content/ProjectionMap;

    goto :goto_2
.end method

.method private setTablesAndProjectionMapForEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V
    .locals 2
    .parameter "qb"
    .parameter "uri"
    .parameter "projection"

    .prologue
    .line 7448
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    .line 7449
    .local v0, sb:Ljava/lang/StringBuilder;
    const-string v1, "view_entities"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7450
    const-string v1, " data"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7452
    const-string v1, "contact_id"

    invoke-direct {p0, v0, p3, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 7453
    const-string v1, "status_update_id"

    invoke-direct {p0, v0, p3, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 7454
    const-string v1, "data_id"

    invoke-direct {p0, v0, p3, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendDataPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 7455
    const-string v1, "data_id"

    invoke-direct {p0, v0, p3, v1}, Lcom/android/providers/contacts/ContactsProvider2;->appendDataStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 7457
    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7458
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sEntityProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7459
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountIdFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 7460
    return-void
.end method

.method private setTablesAndProjectionMapForRawContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V
    .locals 2
    .parameter "qb"
    .parameter "uri"

    .prologue
    .line 7350
    new-instance v0, Ljava/lang/StringBuilder;

    invoke-direct {v0}, Ljava/lang/StringBuilder;-><init>()V

    .line 7351
    .local v0, sb:Ljava/lang/StringBuilder;
    const-string v1, "view_raw_contacts"

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7352
    invoke-virtual {v0}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7353
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactsProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {p1, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7354
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountIdFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 7355
    return-void
.end method

.method private setTablesAndProjectionMapForRawEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V
    .locals 1
    .parameter "qb"
    .parameter "uri"

    .prologue
    .line 7358
    const-string v0, "view_raw_entities"

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7359
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sRawEntityProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7360
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountIdFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 7361
    return-void
.end method

.method private setTablesAndProjectionMapForStreamItemPhotos(Landroid/database/sqlite/SQLiteQueryBuilder;)V
    .locals 1
    .parameter "qb"

    .prologue
    .line 7433
    const-string v0, "photo_files JOIN stream_item_photos ON (stream_item_photos.photo_file_id=photo_files._id) JOIN stream_items ON (stream_item_photos.stream_item_id=stream_items._id) JOIN raw_contacts ON (stream_items.raw_contact_id=raw_contacts._id)"

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7443
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sStreamItemPhotosProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7444
    return-void
.end method

.method private setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V
    .locals 1
    .parameter "qb"

    .prologue
    .line 7428
    const-string v0, "view_stream_items"

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 7429
    sget-object v0, Lcom/android/providers/contacts/ContactsProvider2;->sStreamItemsProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {p1, v0}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 7430
    return-void
.end method

.method private snippetNeeded([Ljava/lang/String;)Z
    .locals 1
    .parameter "projection"

    .prologue
    .line 8868
    const-string v0, "snippet"

    invoke-static {p1, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;Ljava/lang/String;)Z

    move-result v0

    return v0
.end method

.method private statusUpdateToHtml(Ljava/lang/String;)Ljava/lang/String;
    .locals 1
    .parameter "status"

    .prologue
    .line 3440
    invoke-static {p1}, Landroid/text/TextUtils;->htmlEncode(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    return-object v0
.end method

.method static stringToAccounts(Ljava/lang/String;)Ljava/util/Set;
    .locals 10
    .parameter "accountsString"
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/lang/String;",
            ")",
            "Ljava/util/Set",
            "<",
            "Landroid/accounts/Account;",
            ">;"
        }
    .end annotation

    .prologue
    .line 4832
    invoke-static {}, Lcom/google/android/collect/Sets;->newHashSet()Ljava/util/HashSet;

    move-result-object v6

    .line 4833
    .local v6, ret:Ljava/util/Set;,"Ljava/util/Set<Landroid/accounts/Account;>;"
    invoke-virtual {p0}, Ljava/lang/String;->length()I

    move-result v7

    if-nez v7, :cond_1

    .line 4839
    :cond_0
    return-object v6

    .line 4835
    :cond_1
    :try_start_0
    const-string v7, "\u0001"

    invoke-virtual {p0, v7}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v1

    .local v1, arr$:[Ljava/lang/String;
    array-length v4, v1

    .local v4, len$:I
    const/4 v3, 0x0

    .local v3, i$:I
    :goto_0
    if-ge v3, v4, :cond_0

    aget-object v0, v1, v3

    .line 4836
    .local v0, accountString:Ljava/lang/String;
    const-string v7, "\u0002"

    invoke-virtual {v0, v7}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v5

    .line 4837
    .local v5, nameAndType:[Ljava/lang/String;
    new-instance v7, Landroid/accounts/Account;

    const/4 v8, 0x0

    aget-object v8, v5, v8

    const/4 v9, 0x1

    aget-object v9, v5, v9

    invoke-direct {v7, v8, v9}, Landroid/accounts/Account;-><init>(Ljava/lang/String;Ljava/lang/String;)V

    invoke-interface {v6, v7}, Ljava/util/Set;->add(Ljava/lang/Object;)Z
    :try_end_0
    .catch Ljava/lang/RuntimeException; {:try_start_0 .. :try_end_0} :catch_0

    .line 4835
    add-int/lit8 v3, v3, 0x1

    goto :goto_0

    .line 4840
    .end local v0           #accountString:Ljava/lang/String;
    .end local v1           #arr$:[Ljava/lang/String;
    .end local v3           #i$:I
    .end local v4           #len$:I
    .end local v5           #nameAndType:[Ljava/lang/String;
    :catch_0
    move-exception v2

    .line 4841
    .local v2, ex:Ljava/lang/RuntimeException;
    new-instance v7, Ljava/lang/IllegalArgumentException;

    const-string v8, "Malformed string"

    invoke-direct {v7, v8, v2}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;Ljava/lang/Throwable;)V

    throw v7
.end method

.method private switchToContactMode()V
    .locals 2

    .prologue
    .line 2103
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2104
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactTransactionContext:Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2105
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2106
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPhotoStore:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsPhotoStore:Lcom/android/providers/contacts/PhotoStore;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2107
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mInProfileMode:Ljava/lang/ThreadLocal;

    const/4 v1, 0x0

    invoke-static {v1}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2108
    return-void
.end method

.method private switchToProfileMode()V
    .locals 2

    .prologue
    .line 2088
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2089
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileTransactionContext:Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2090
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2091
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPhotoStore:Ljava/lang/ThreadLocal;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfilePhotoStore:Lcom/android/providers/contacts/PhotoStore;

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2092
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mInProfileMode:Ljava/lang/ThreadLocal;

    const/4 v1, 0x1

    invoke-static {v1}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;

    move-result-object v1

    invoke-virtual {v0, v1}, Ljava/lang/ThreadLocal;->set(Ljava/lang/Object;)V

    .line 2093
    return-void
.end method

.method private updateAccountsInBackground([Landroid/accounts/Account;)Z
    .locals 28
    .parameter "systemAccounts"

    .prologue
    .line 4873
    invoke-virtual/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->haveAccountsChanged([Landroid/accounts/Account;)Z

    move-result v24

    if-nez v24, :cond_0

    .line 4874
    const/16 v24, 0x0

    .line 5116
    :goto_0
    return v24

    .line 4876
    :cond_0
    const-string v24, "1"

    const-string v25, "debug.contacts.ksad"

    invoke-static/range {v25 .. v25}, Landroid/os/SystemProperties;->get(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v25

    invoke-virtual/range {v24 .. v25}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v24

    if-eqz v24, :cond_1

    .line 4877
    const-string v24, "ContactsProvider"

    const-string v25, "Accounts changed, but not removing stale data for debug.contacts.ksad"

    invoke-static/range {v24 .. v25}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    .line 4879
    const/16 v24, 0x1

    goto :goto_0

    .line 4881
    :cond_1
    const-string v24, "ContactsProvider"

    const-string v25, "Accounts changed"

    invoke-static/range {v24 .. v25}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 4883
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 4885
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    move-object/from16 v24, v0

    invoke-virtual/range {v24 .. v24}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v13

    check-cast v13, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    .line 4886
    .local v13, dbHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;
    invoke-virtual {v13}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v12

    .line 4899
    .local v12, db:Landroid/database/sqlite/SQLiteDatabase;
    :try_start_0
    invoke-virtual {v12}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V
    :try_end_0
    .catch Landroid/database/sqlite/SQLiteDiskIOException; {:try_start_0 .. :try_end_0} :catch_0

    .line 4916
    :try_start_1
    invoke-virtual {v13}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getAllAccountsWithDataSets()Ljava/util/Set;

    move-result-object v19

    .line 4920
    .local v19, knownAccountsWithDataSets:Ljava/util/Set;,"Ljava/util/Set<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    invoke-static {}, Lcom/google/android/collect/Lists;->newArrayList()Ljava/util/ArrayList;

    move-result-object v8

    .line 4921
    .local v8, accountsWithDataSetsToDelete:Ljava/util/List;,"Ljava/util/List<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    invoke-interface/range {v19 .. v19}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v16

    .local v16, i$:Ljava/util/Iterator;
    :cond_2
    :goto_1
    invoke-interface/range {v16 .. v16}, Ljava/util/Iterator;->hasNext()Z

    move-result v24

    if-eqz v24, :cond_3

    invoke-interface/range {v16 .. v16}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v18

    check-cast v18, Lcom/android/providers/contacts/AccountWithDataSet;

    .line 4922
    .local v18, knownAccountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    invoke-virtual/range {v18 .. v18}, Lcom/android/providers/contacts/AccountWithDataSet;->isLocalAccount()Z

    move-result v24

    if-nez v24, :cond_2

    move-object/from16 v0, v18

    move-object/from16 v1, p1

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/AccountWithDataSet;->inSystemAccounts([Landroid/accounts/Account;)Z

    move-result v24

    if-nez v24, :cond_2

    move-object/from16 v0, p0

    move-object/from16 v1, v18

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->canDeleteAccount(Lcom/android/providers/contacts/AccountWithDataSet;)Z

    move-result v24

    if-eqz v24, :cond_2

    .line 4927
    move-object/from16 v0, v18

    invoke-interface {v8, v0}, Ljava/util/List;->add(Ljava/lang/Object;)Z
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_1

    .line 5092
    .end local v8           #accountsWithDataSetsToDelete:Ljava/util/List;,"Ljava/util/List<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    .end local v16           #i$:Ljava/util/Iterator;
    .end local v18           #knownAccountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    .end local v19           #knownAccountsWithDataSets:Ljava/util/Set;,"Ljava/util/Set<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    :catchall_0
    move-exception v24

    .line 5093
    :try_start_2
    invoke-virtual {v12}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
    :try_end_2
    .catch Landroid/database/sqlite/SQLiteDiskIOException; {:try_start_2 .. :try_end_2} :catch_3
    .catch Landroid/database/sqlite/SQLiteCantOpenDatabaseException; {:try_start_2 .. :try_end_2} :catch_4

    .line 5103
    throw v24

    .line 4900
    :catch_0
    move-exception v15

    .line 4901
    .local v15, ex:Landroid/database/sqlite/SQLiteDiskIOException;
    const-string v24, "ContactsProvider"

    const-string v25, "[updateAccountsInBackground]catch SQLiteDiskIOException."

    invoke-static/range {v24 .. v25}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    .line 4902
    const/16 v24, 0x0

    goto :goto_0

    .line 4930
    .end local v15           #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    .restart local v8       #accountsWithDataSetsToDelete:Ljava/util/List;,"Ljava/util/List<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    .restart local v16       #i$:Ljava/util/Iterator;
    .restart local v19       #knownAccountsWithDataSets:Ljava/util/Set;,"Ljava/util/Set<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    :cond_3
    :try_start_3
    invoke-interface {v8}, Ljava/util/List;->isEmpty()Z

    move-result v24

    if-nez v24, :cond_a

    .line 4931
    invoke-interface {v8}, Ljava/util/List;->iterator()Ljava/util/Iterator;

    move-result-object v16

    .end local v16           #i$:Ljava/util/Iterator;
    :cond_4
    invoke-interface/range {v16 .. v16}, Ljava/util/Iterator;->hasNext()Z

    move-result v24

    if-eqz v24, :cond_7

    invoke-interface/range {v16 .. v16}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v7

    check-cast v7, Lcom/android/providers/contacts/AccountWithDataSet;

    .line 4932
    .local v7, accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    const-string v24, "ContactsProvider"

    new-instance v25, Ljava/lang/StringBuilder;

    invoke-direct/range {v25 .. v25}, Ljava/lang/StringBuilder;-><init>()V

    const-string v26, "removing data for removed account "

    invoke-virtual/range {v25 .. v26}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v25

    move-object/from16 v0, v25

    invoke-virtual {v0, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v25

    invoke-virtual/range {v25 .. v25}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v25

    invoke-static/range {v24 .. v25}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 4933
    invoke-virtual {v13, v7}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getAccountIdOrNull(Lcom/android/providers/contacts/AccountWithDataSet;)Ljava/lang/Long;

    move-result-object v5

    .line 4936
    .local v5, accountIdOrNull:Ljava/lang/Long;
    if-eqz v5, :cond_4

    .line 4937
    const/16 v24, 0x1

    move/from16 v0, v24

    new-array v6, v0, [Ljava/lang/String;

    const/16 v24, 0x0

    invoke-virtual {v5}, Ljava/lang/Long;->longValue()J

    move-result-wide v25

    invoke-static/range {v25 .. v26}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v25

    aput-object v25, v6, v24

    .line 4942
    .local v6, accountIdParams:[Ljava/lang/String;
    const-string v24, "SELECT raw_contacts._id FROM raw_contacts WHERE account_id = ?"

    move-object/from16 v0, v24

    invoke-virtual {v12, v0, v6}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v11

    .line 4944
    .local v11, cursor:Landroid/database/Cursor;
    new-instance v23, Ljava/util/ArrayList;

    invoke-direct/range {v23 .. v23}, Ljava/util/ArrayList;-><init>()V

    .line 4945
    .local v23, rawIdArray:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Long;>;"
    if-eqz v11, :cond_6

    .line 4946
    :goto_2
    invoke-interface {v11}, Landroid/database/Cursor;->moveToNext()Z

    move-result v24

    if-eqz v24, :cond_5

    .line 4947
    const/16 v24, 0x0

    move/from16 v0, v24

    invoke-interface {v11, v0}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v24

    invoke-static/range {v24 .. v25}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v24

    invoke-virtual/range {v23 .. v24}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_2

    .line 4949
    :cond_5
    invoke-interface {v11}, Landroid/database/Cursor;->close()V

    .line 4952
    :cond_6
    const-string v24, "DELETE FROM groups WHERE account_id = ?"

    move-object/from16 v0, v24

    invoke-virtual {v12, v0, v6}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 4956
    const-string v24, "DELETE FROM presence WHERE presence_raw_contact_id IN (SELECT _id FROM raw_contacts WHERE account_id = ?)"

    move-object/from16 v0, v24

    invoke-virtual {v12, v0, v6}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 4963
    const-string v24, "DELETE FROM stream_item_photos WHERE stream_item_id IN (SELECT _id FROM stream_items WHERE raw_contact_id IN (SELECT _id FROM raw_contacts WHERE account_id=?))"

    move-object/from16 v0, v24

    invoke-virtual {v12, v0, v6}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 4973
    const-string v24, "DELETE FROM stream_items WHERE raw_contact_id IN (SELECT _id FROM raw_contacts WHERE account_id = ?)"

    move-object/from16 v0, v24

    invoke-virtual {v12, v0, v6}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 4980
    const-string v24, "DELETE FROM raw_contacts WHERE account_id = ?"

    move-object/from16 v0, v24

    invoke-virtual {v12, v0, v6}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 4984
    const-string v24, "DELETE FROM accounts WHERE _id=?"

    move-object/from16 v0, v24

    invoke-virtual {v12, v0, v6}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 4991
    invoke-virtual/range {v23 .. v23}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;

    move-result-object v17

    .local v17, i$:Ljava/util/Iterator;
    :goto_3
    invoke-interface/range {v17 .. v17}, Ljava/util/Iterator;->hasNext()Z

    move-result v24

    if-eqz v24, :cond_4

    invoke-interface/range {v17 .. v17}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v24

    check-cast v24, Ljava/lang/Long;

    invoke-virtual/range {v24 .. v24}, Ljava/lang/Long;->longValue()J

    move-result-wide v21

    .line 4992
    .local v21, rawContactId:J
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDialerSearchSupport:Lcom/android/providers/contacts/DialerSearchSupport;

    move-object/from16 v24, v0

    move-object/from16 v0, v24

    move-wide/from16 v1, v21

    invoke-virtual {v0, v12, v1, v2}, Lcom/android/providers/contacts/DialerSearchSupport;->updateDialerSearchDataForDelete(Landroid/database/sqlite/SQLiteDatabase;J)V

    goto :goto_3

    .line 5000
    .end local v5           #accountIdOrNull:Ljava/lang/Long;
    .end local v6           #accountIdParams:[Ljava/lang/String;
    .end local v7           #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    .end local v11           #cursor:Landroid/database/Cursor;
    .end local v17           #i$:Ljava/util/Iterator;
    .end local v21           #rawContactId:J
    .end local v23           #rawIdArray:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Ljava/lang/Long;>;"
    :cond_7
    invoke-static {}, Lcom/google/android/collect/Sets;->newHashSet()Ljava/util/HashSet;

    move-result-object v20

    .line 5001
    .local v20, orphanContactIds:Ljava/util/HashSet;,"Ljava/util/HashSet<Ljava/lang/Long;>;"
    const-string v24, "SELECT _id FROM contacts WHERE (name_raw_contact_id NOT NULL AND name_raw_contact_id NOT IN (SELECT _id FROM raw_contacts)) OR (photo_id NOT NULL AND photo_id NOT IN (SELECT _id FROM data))"

    const/16 v25, 0x0

    move-object/from16 v0, v24

    move-object/from16 v1, v25

    invoke-virtual {v12, v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_0

    move-result-object v11

    .line 5012
    .restart local v11       #cursor:Landroid/database/Cursor;
    :goto_4
    :try_start_4
    invoke-interface {v11}, Landroid/database/Cursor;->moveToNext()Z

    move-result v24

    if-eqz v24, :cond_8

    .line 5013
    const/16 v24, 0x0

    move/from16 v0, v24

    invoke-interface {v11, v0}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v24

    invoke-static/range {v24 .. v25}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v24

    move-object/from16 v0, v20

    move-object/from16 v1, v24

    invoke-virtual {v0, v1}, Ljava/util/HashSet;->add(Ljava/lang/Object;)Z
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_1

    goto :goto_4

    .line 5016
    :catchall_1
    move-exception v24

    :try_start_5
    invoke-interface {v11}, Landroid/database/Cursor;->close()V

    throw v24

    :cond_8
    invoke-interface {v11}, Landroid/database/Cursor;->close()V

    .line 5019
    invoke-virtual/range {v20 .. v20}, Ljava/util/HashSet;->iterator()Ljava/util/Iterator;

    move-result-object v16

    .restart local v16       #i$:Ljava/util/Iterator;
    :goto_5
    invoke-interface/range {v16 .. v16}, Ljava/util/Iterator;->hasNext()Z

    move-result v24

    if-eqz v24, :cond_9

    invoke-interface/range {v16 .. v16}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Ljava/lang/Long;

    .line 5020
    .local v10, contactId:Ljava/lang/Long;
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    move-object/from16 v24, v0

    invoke-virtual/range {v24 .. v24}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v24

    check-cast v24, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    move-object/from16 v25, v0

    invoke-virtual/range {v25 .. v25}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v25

    check-cast v25, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v10}, Ljava/lang/Long;->longValue()J

    move-result-wide v26

    invoke-virtual/range {v24 .. v27}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->updateAggregateData(Lcom/android/providers/contacts/TransactionContext;J)V

    goto :goto_5

    .line 5022
    .end local v10           #contactId:Ljava/lang/Long;
    :cond_9
    invoke-virtual {v13}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->updateAllVisible()V

    .line 5027
    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->inProfileMode()Z

    move-result v24

    if-nez v24, :cond_a

    .line 5034
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateSearchIndexInTransaction()V

    .line 5039
    .end local v11           #cursor:Landroid/database/Cursor;
    .end local v20           #orphanContactIds:Ljava/util/HashSet;,"Ljava/util/HashSet<Ljava/lang/Long;>;"
    :cond_a
    const-string v24, "settings"

    const-string v25, "account_name"

    const-string v26, "account_type"

    move-object/from16 v0, p0

    move-object/from16 v1, v24

    move-object/from16 v2, v25

    move-object/from16 v3, v26

    move-object/from16 v4, p1

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->removeStaleAccountRows(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;[Landroid/accounts/Account;)V

    .line 5041
    const-string v24, "directories"

    const-string v25, "accountName"

    const-string v26, "accountType"

    move-object/from16 v0, p0

    move-object/from16 v1, v24

    move-object/from16 v2, v25

    move-object/from16 v3, v26

    move-object/from16 v4, p1

    invoke-virtual {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->removeStaleAccountRows(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;[Landroid/accounts/Account;)V

    .line 5045
    const-string v24, "SELECT account_name,account_type FROM accounts"

    const/16 v25, 0x0

    move-object/from16 v0, v24

    move-object/from16 v1, v25

    invoke-virtual {v12, v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;
    :try_end_5
    .catchall {:try_start_5 .. :try_end_5} :catchall_0

    move-result-object v9

    .line 5048
    .local v9, c:Landroid/database/Cursor;
    :try_start_6
    const-string v25, "ContactsProvider"

    new-instance v24, Ljava/lang/StringBuilder;

    invoke-direct/range {v24 .. v24}, Ljava/lang/StringBuilder;-><init>()V

    const-string v26, "onAccountsUpdated -c.count:"

    move-object/from16 v0, v24

    move-object/from16 v1, v26

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v26

    if-nez v9, :cond_c

    const/16 v24, 0x0

    :goto_6
    move-object/from16 v0, v26

    move/from16 v1, v24

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v24

    invoke-virtual/range {v24 .. v24}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v24

    move-object/from16 v0, v25

    move-object/from16 v1, v24

    invoke-static {v0, v1}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 5050
    if-eqz v9, :cond_d

    invoke-interface {v9}, Landroid/database/Cursor;->getCount()I

    move-result v24

    if-nez v24, :cond_d

    .line 5056
    const-string v24, "INSERT INTO accounts(account_name,account_type) VALUES(NULL, NULL)"

    move-object/from16 v0, v24

    invoke-virtual {v12, v0}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_2

    .line 5070
    :cond_b
    :goto_7
    :try_start_7
    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    .line 5076
    invoke-virtual {v13}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v24

    move-object/from16 v0, v24

    move-object/from16 v1, p1

    invoke-virtual {v0, v12, v1}, Lcom/android/common/content/SyncStateContentProviderHelper;->onAccountsChanged(Landroid/database/sqlite/SQLiteDatabase;[Landroid/accounts/Account;)V

    .line 5078
    invoke-virtual/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->saveAccounts([Landroid/accounts/Account;)V

    .line 5080
    invoke-virtual {v12}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
    :try_end_7
    .catchall {:try_start_7 .. :try_end_7} :catchall_0

    .line 5093
    :try_start_8
    invoke-virtual {v12}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
    :try_end_8
    .catch Landroid/database/sqlite/SQLiteDiskIOException; {:try_start_8 .. :try_end_8} :catch_1
    .catch Landroid/database/sqlite/SQLiteCantOpenDatabaseException; {:try_start_8 .. :try_end_8} :catch_2

    .line 5112
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAccountWritability:Ljava/util/HashMap;

    move-object/from16 v24, v0

    invoke-virtual/range {v24 .. v24}, Ljava/util/HashMap;->clear()V

    .line 5114
    invoke-direct/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->updateContactsAccountCount([Landroid/accounts/Account;)V

    .line 5115
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateProviderStatus()V

    .line 5116
    const/16 v24, 0x1

    goto/16 :goto_0

    .line 5048
    :cond_c
    :try_start_9
    invoke-interface {v9}, Landroid/database/Cursor;->getCount()I

    move-result v24

    goto :goto_6

    .line 5057
    :cond_d
    if-eqz v9, :cond_b

    invoke-interface {v9}, Landroid/database/Cursor;->getCount()I

    move-result v24

    const/16 v25, 0x1

    move/from16 v0, v24

    move/from16 v1, v25

    if-le v0, v1, :cond_b

    .line 5058
    const/4 v14, 0x0

    .line 5059
    .local v14, emptyAccountCount:I
    :cond_e
    :goto_8
    invoke-interface {v9}, Landroid/database/Cursor;->moveToNext()Z

    move-result v24

    if-eqz v24, :cond_f

    .line 5060
    const/16 v24, 0x0

    move/from16 v0, v24

    invoke-interface {v9, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v24

    invoke-static/range {v24 .. v24}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v24

    if-eqz v24, :cond_e

    .line 5061
    add-int/lit8 v14, v14, 0x1

    goto :goto_8

    .line 5064
    :cond_f
    const/16 v24, 0x1

    move/from16 v0, v24

    if-le v14, v0, :cond_b

    .line 5065
    const-string v24, "DELETE FROM accounts WHERE account_name IS NULL or account_name =\'\' "

    move-object/from16 v0, v24

    invoke-virtual {v12, v0}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V

    .line 5066
    const-string v24, "INSERT INTO accounts(account_name,account_type) VALUES(NULL, NULL)"

    move-object/from16 v0, v24

    invoke-virtual {v12, v0}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
    :try_end_9
    .catchall {:try_start_9 .. :try_end_9} :catchall_2

    goto :goto_7

    .line 5070
    .end local v14           #emptyAccountCount:I
    :catchall_2
    move-exception v24

    :try_start_a
    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    throw v24
    :try_end_a
    .catchall {:try_start_a .. :try_end_a} :catchall_0

    .line 5094
    :catch_1
    move-exception v15

    .line 5095
    .restart local v15       #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    const-string v24, "ContactsProvider"

    const-string v25, "[updateAccountsInBackground]catch SQLiteDiskIOException."

    invoke-static/range {v24 .. v25}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    .line 5096
    const/16 v24, 0x0

    goto/16 :goto_0

    .line 5101
    .end local v15           #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    :catch_2
    move-exception v15

    .line 5102
    .local v15, ex:Landroid/database/sqlite/SQLiteCantOpenDatabaseException;
    const-string v24, "ContactsProvider"

    const-string v25, "[updateAccountsInBackground]catch SQLiteCantOpenDatabaseException of endTransaction(), return false"

    invoke-static/range {v24 .. v25}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    .line 5103
    const/16 v24, 0x0

    goto/16 :goto_0

    .line 5094
    .end local v8           #accountsWithDataSetsToDelete:Ljava/util/List;,"Ljava/util/List<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    .end local v9           #c:Landroid/database/Cursor;
    .end local v15           #ex:Landroid/database/sqlite/SQLiteCantOpenDatabaseException;
    .end local v16           #i$:Ljava/util/Iterator;
    .end local v19           #knownAccountsWithDataSets:Ljava/util/Set;,"Ljava/util/Set<Lcom/android/providers/contacts/AccountWithDataSet;>;"
    :catch_3
    move-exception v15

    .line 5095
    .local v15, ex:Landroid/database/sqlite/SQLiteDiskIOException;
    const-string v24, "ContactsProvider"

    const-string v25, "[updateAccountsInBackground]catch SQLiteDiskIOException."

    invoke-static/range {v24 .. v25}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    .line 5096
    const/16 v24, 0x0

    goto/16 :goto_0

    .line 5101
    .end local v15           #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    :catch_4
    move-exception v15

    .line 5102
    .local v15, ex:Landroid/database/sqlite/SQLiteCantOpenDatabaseException;
    const-string v24, "ContactsProvider"

    const-string v25, "[updateAccountsInBackground]catch SQLiteCantOpenDatabaseException of endTransaction(), return false"

    invoke-static/range {v24 .. v25}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    .line 5103
    const/16 v24, 0x0

    goto/16 :goto_0
.end method

.method private updateAggregationAlgorithmVersion()V
    .locals 3

    .prologue
    .line 8674
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v1, "aggregation_v2"

    const/4 v2, 0x3

    invoke-static {v2}, Ljava/lang/String;->valueOf(I)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->setProperty(Ljava/lang/String;Ljava/lang/String;)V

    .line 8676
    return-void
.end method

.method private updateAggregationException(Landroid/database/sqlite/SQLiteDatabase;Landroid/content/ContentValues;)I
    .locals 13
    .parameter "db"
    .parameter "values"

    .prologue
    .line 4760
    const-string v10, "type"

    invoke-virtual {p2, v10}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/Integer;->intValue()I

    move-result v0

    .line 4761
    .local v0, exceptionType:I
    const-string v10, "raw_contact_id1"

    invoke-virtual {p2, v10}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/Integer;->intValue()I

    move-result v10

    int-to-long v6, v10

    .line 4762
    .local v6, rcId1:J
    const-string v10, "raw_contact_id2"

    invoke-virtual {p2, v10}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v10

    invoke-virtual {v10}, Ljava/lang/Integer;->intValue()I

    move-result v10

    int-to-long v8, v10

    .line 4766
    .local v8, rcId2:J
    cmp-long v10, v6, v8

    if-gez v10, :cond_0

    .line 4767
    move-wide v2, v6

    .line 4768
    .local v2, rawContactId1:J
    move-wide v4, v8

    .line 4774
    .local v4, rawContactId2:J
    :goto_0
    if-nez v0, :cond_1

    .line 4775
    iget-object v10, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs2:[Ljava/lang/String;

    const/4 v11, 0x0

    invoke-static {v2, v3}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v12

    aput-object v12, v10, v11

    .line 4776
    iget-object v10, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs2:[Ljava/lang/String;

    const/4 v11, 0x1

    invoke-static {v4, v5}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v12

    aput-object v12, v10, v11

    .line 4777
    const-string v10, "agg_exceptions"

    const-string v11, "raw_contact_id1=? AND raw_contact_id2=?"

    iget-object v12, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs2:[Ljava/lang/String;

    invoke-virtual {p1, v10, v11, v12}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    .line 4789
    :goto_1
    iget-object v10, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v10}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    invoke-virtual {v10}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->invalidateAggregationExceptionCache()V

    .line 4790
    iget-object v10, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v10}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    const/4 v11, 0x0

    const/4 v12, 0x1

    invoke-virtual {v10, v2, v3, v11, v12}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->markForAggregation(JIZ)V

    .line 4792
    iget-object v10, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v10}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    const/4 v11, 0x0

    const/4 v12, 0x1

    invoke-virtual {v10, v4, v5, v11, v12}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->markForAggregation(JIZ)V

    .line 4795
    iget-object v10, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v10}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    iget-object v11, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v11}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v11

    check-cast v11, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v10, v11, p1, v2, v3}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->aggregateContact(Lcom/android/providers/contacts/TransactionContext;Landroid/database/sqlite/SQLiteDatabase;J)V

    .line 4796
    iget-object v10, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v10}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    iget-object v11, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v11}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v11

    check-cast v11, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v10, v11, p1, v4, v5}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->aggregateContact(Lcom/android/providers/contacts/TransactionContext;Landroid/database/sqlite/SQLiteDatabase;J)V

    .line 4800
    const/4 v10, 0x1

    return v10

    .line 4770
    .end local v2           #rawContactId1:J
    .end local v4           #rawContactId2:J
    :cond_0
    move-wide v4, v6

    .line 4771
    .restart local v4       #rawContactId2:J
    move-wide v2, v8

    .restart local v2       #rawContactId1:J
    goto :goto_0

    .line 4781
    :cond_1
    new-instance v1, Landroid/content/ContentValues;

    const/4 v10, 0x3

    invoke-direct {v1, v10}, Landroid/content/ContentValues;-><init>(I)V

    .line 4782
    .local v1, exceptionValues:Landroid/content/ContentValues;
    const-string v10, "type"

    invoke-static {v0}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v11

    invoke-virtual {v1, v10, v11}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 4783
    const-string v10, "raw_contact_id1"

    invoke-static {v2, v3}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v11

    invoke-virtual {v1, v10, v11}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 4784
    const-string v10, "raw_contact_id2"

    invoke-static {v4, v5}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v11

    invoke-virtual {v1, v10, v11}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 4785
    const-string v10, "agg_exceptions"

    const-string v11, "_id"

    invoke-virtual {p1, v10, v11, v1}, Landroid/database/sqlite/SQLiteDatabase;->replace(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    goto :goto_1
.end method

.method private updateContactOptions(Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I
    .locals 10
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "callerIsSyncAdapter"

    .prologue
    const/4 v7, 0x0

    const/4 v5, 0x0

    .line 4641
    const/4 v8, 0x0

    .line 4642
    .local v8, count:I
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 4644
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v1, "view_contacts"

    const/4 v2, 0x1

    new-array v2, v2, [Ljava/lang/String;

    const-string v6, "_id"

    aput-object v6, v2, v7

    move-object v3, p2

    move-object v4, p3

    move-object v6, v5

    move-object v7, v5

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v9

    .line 4647
    .local v9, cursor:Landroid/database/Cursor;
    :goto_0
    :try_start_0
    invoke-interface {v9}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 4648
    const/4 v1, 0x0

    invoke-interface {v9, v1}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v3

    .local v3, contactId:J
    move-object v1, p0

    move-object v2, v0

    move-object v5, p1

    move v6, p4

    .line 4650
    invoke-direct/range {v1 .. v6}, Lcom/android/providers/contacts/ContactsProvider2;->updateContactOptions(Landroid/database/sqlite/SQLiteDatabase;JLandroid/content/ContentValues;Z)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 4651
    add-int/lit8 v8, v8, 0x1

    .line 4652
    goto :goto_0

    .line 4654
    .end local v3           #contactId:J
    :cond_0
    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    .line 4657
    return v8

    .line 4654
    :catchall_0
    move-exception v1

    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    throw v1
.end method

.method private updateContactOptions(Landroid/database/sqlite/SQLiteDatabase;JLandroid/content/ContentValues;Z)I
    .locals 15
    .parameter "db"
    .parameter "contactId"
    .parameter "values"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 4667
    const-string v2, "filter"

    move-object/from16 v0, p4

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v2

    if-eqz v2, :cond_0

    .line 4668
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v2}, Landroid/content/ContentValues;->clear()V

    .line 4669
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "filter"

    const-string v4, "filter"

    move-object/from16 v0, p4

    invoke-static {v2, v3, v0, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4671
    const-string v2, "contacts"

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "_id="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-wide/from16 v0, p2

    invoke-virtual {v4, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    const/4 v5, 0x0

    move-object/from16 v0, p1

    invoke-virtual {v0, v2, v3, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v10

    .line 4673
    .local v10, count:I
    const-string v2, "ContactsProvider"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "[updateContactOptions]update contact filter column "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v10}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 4674
    invoke-virtual/range {p4 .. p4}, Landroid/content/ContentValues;->size()I

    move-result v2

    const/4 v3, 0x1

    if-ne v2, v3, :cond_0

    .line 4756
    .end local v10           #count:I
    :goto_0
    return v10

    .line 4680
    :cond_0
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v2}, Landroid/content/ContentValues;->clear()V

    .line 4681
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "custom_ringtone"

    const-string v4, "custom_ringtone"

    move-object/from16 v0, p4

    invoke-static {v2, v3, v0, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4683
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "send_to_voicemail"

    const-string v4, "send_to_voicemail"

    move-object/from16 v0, p4

    invoke-static {v2, v3, v0, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4685
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "last_time_contacted"

    const-string v4, "last_time_contacted"

    move-object/from16 v0, p4

    invoke-static {v2, v3, v0, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4687
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "times_contacted"

    const-string v4, "times_contacted"

    move-object/from16 v0, p4

    invoke-static {v2, v3, v0, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4689
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "starred"

    const-string v4, "starred"

    move-object/from16 v0, p4

    invoke-static {v2, v3, v0, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4692
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "send_to_voicemail_vt"

    const-string v4, "send_to_voicemail_vt"

    move-object/from16 v0, p4

    invoke-static {v2, v3, v0, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4694
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "send_to_voicemail_sip"

    const-string v4, "send_to_voicemail_sip"

    move-object/from16 v0, p4

    invoke-static {v2, v3, v0, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4699
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v2}, Landroid/content/ContentValues;->size()I

    move-result v2

    if-nez v2, :cond_1

    .line 4700
    const/4 v10, 0x0

    goto :goto_0

    .line 4703
    :cond_1
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "starred"

    invoke-virtual {v2, v3}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v2

    if-eqz v2, :cond_2

    .line 4705
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "dirty"

    const/4 v4, 0x1

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v2, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 4708
    :cond_2
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v3, 0x0

    invoke-static/range {p2 .. p3}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    aput-object v4, v2, v3

    .line 4709
    const-string v2, "raw_contacts"

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v4, "contact_id=? AND raw_contact_is_read_only=0"

    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    move-object/from16 v0, p1

    invoke-virtual {v0, v2, v3, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    .line 4712
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "starred"

    invoke-virtual {v2, v3}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v2

    if-eqz v2, :cond_5

    if-nez p5, :cond_5

    .line 4713
    const-string v3, "view_raw_contacts"

    const/4 v2, 0x1

    new-array v4, v2, [Ljava/lang/String;

    const/4 v2, 0x0

    const-string v5, "_id"

    aput-object v5, v4, v2

    const-string v5, "contact_id=?"

    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    move-object/from16 v2, p1

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v11

    .line 4717
    .local v11, cursor:Landroid/database/Cursor;
    :goto_1
    :try_start_0
    invoke-interface {v11}, Landroid/database/Cursor;->moveToNext()Z

    move-result v2

    if-eqz v2, :cond_4

    .line 4718
    const/4 v2, 0x0

    invoke-interface {v11, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v12

    .line 4719
    .local v12, rawContactId:J
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "starred"

    invoke-virtual {v2, v3}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/Long;->longValue()J

    move-result-wide v2

    const-wide/16 v4, 0x0

    cmp-long v2, v2, v4

    if-eqz v2, :cond_3

    const/4 v2, 0x1

    :goto_2
    invoke-direct {p0, v12, v13, v2}, Lcom/android/providers/contacts/ContactsProvider2;->updateFavoritesMembership(JZ)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_1

    .line 4723
    .end local v12           #rawContactId:J
    :catchall_0
    move-exception v2

    invoke-interface {v11}, Landroid/database/Cursor;->close()V

    throw v2

    .line 4719
    .restart local v12       #rawContactId:J
    :cond_3
    const/4 v2, 0x0

    goto :goto_2

    .line 4723
    .end local v12           #rawContactId:J
    :cond_4
    invoke-interface {v11}, Landroid/database/Cursor;->close()V

    .line 4729
    .end local v11           #cursor:Landroid/database/Cursor;
    :cond_5
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v2}, Landroid/content/ContentValues;->clear()V

    .line 4730
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "custom_ringtone"

    const-string v4, "custom_ringtone"

    move-object/from16 v0, p4

    invoke-static {v2, v3, v0, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyStringValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4732
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "send_to_voicemail"

    const-string v4, "send_to_voicemail"

    move-object/from16 v0, p4

    invoke-static {v2, v3, v0, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4734
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "last_time_contacted"

    const-string v4, "last_time_contacted"

    move-object/from16 v0, p4

    invoke-static {v2, v3, v0, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4736
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "times_contacted"

    const-string v4, "times_contacted"

    move-object/from16 v0, p4

    invoke-static {v2, v3, v0, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4738
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "starred"

    const-string v4, "starred"

    move-object/from16 v0, p4

    invoke-static {v2, v3, v0, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4742
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "send_to_voicemail_vt"

    const-string v4, "send_to_voicemail_vt"

    move-object/from16 v0, p4

    invoke-static {v2, v3, v0, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4744
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "send_to_voicemail_sip"

    const-string v4, "send_to_voicemail_sip"

    move-object/from16 v0, p4

    invoke-static {v2, v3, v0, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->copyLongValue(Landroid/content/ContentValues;Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;)V

    .line 4748
    const-string v2, "contacts"

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v4, "_id=?"

    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    move-object/from16 v0, p1

    invoke-virtual {v0, v2, v3, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v14

    .line 4751
    .local v14, rslt:I
    const-string v2, "last_time_contacted"

    move-object/from16 v0, p4

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v2

    if-eqz v2, :cond_6

    const-string v2, "times_contacted"

    move-object/from16 v0, p4

    invoke-virtual {v0, v2}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v2

    if-nez v2, :cond_6

    .line 4753
    const-string v2, "UPDATE contacts SET times_contacted= ifnull(times_contacted,0)+1 WHERE _id=?"

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    move-object/from16 v0, p1

    invoke-virtual {v0, v2, v3}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    .line 4754
    const-string v2, "UPDATE raw_contacts SET times_contacted= ifnull(times_contacted,0)+1  WHERE contact_id=?"

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    move-object/from16 v0, p1

    invoke-virtual {v0, v2, v3}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V

    :cond_6
    move v10, v14

    .line 4756
    goto/16 :goto_0
.end method

.method private updateContactsAccountCount([Landroid/accounts/Account;)V
    .locals 6
    .parameter "accounts"

    .prologue
    .line 5120
    const/4 v2, 0x0

    .line 5121
    .local v2, count:I
    move-object v1, p1

    .local v1, arr$:[Landroid/accounts/Account;
    array-length v4, v1

    .local v4, len$:I
    const/4 v3, 0x0

    .local v3, i$:I
    :goto_0
    if-ge v3, v4, :cond_1

    aget-object v0, v1, v3

    .line 5122
    .local v0, account:Landroid/accounts/Account;
    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->isContactsAccount(Landroid/accounts/Account;)Z

    move-result v5

    if-eqz v5, :cond_0

    .line 5123
    add-int/lit8 v2, v2, 0x1

    .line 5121
    :cond_0
    add-int/lit8 v3, v3, 0x1

    goto :goto_0

    .line 5126
    .end local v0           #account:Landroid/accounts/Account;
    :cond_1
    iput v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsAccountCount:I

    .line 5127
    return-void
.end method

.method private updateData(Landroid/content/ContentValues;Landroid/database/Cursor;Z)I
    .locals 9
    .parameter "values"
    .parameter "c"
    .parameter "callerIsSyncAdapter"

    .prologue
    const/4 v8, 0x0

    .line 4622
    invoke-virtual {p1}, Landroid/content/ContentValues;->size()I

    move-result v2

    if-nez v2, :cond_0

    .line 4636
    :goto_0
    return v8

    .line 4626
    :cond_0
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v1

    .line 4628
    .local v1, db:Landroid/database/sqlite/SQLiteDatabase;
    const/4 v2, 0x2

    invoke-interface {p2, v2}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v6

    .line 4629
    .local v6, mimeType:Ljava/lang/String;
    invoke-virtual {p0, v6}, Lcom/android/providers/contacts/ContactsProvider2;->getDataRowHandler(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;

    move-result-object v0

    .line 4630
    .local v0, rowHandler:Lcom/android/providers/contacts/DataRowHandler;
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/TransactionContext;

    move-object v3, p1

    move-object v4, p2

    move v5, p3

    invoke-virtual/range {v0 .. v5}, Lcom/android/providers/contacts/DataRowHandler;->update(Landroid/database/sqlite/SQLiteDatabase;Lcom/android/providers/contacts/TransactionContext;Landroid/content/ContentValues;Landroid/database/Cursor;Z)Z

    move-result v7

    .line 4633
    .local v7, updated:Z
    const-string v2, "vnd.android.cursor.item/photo"

    invoke-virtual {v2, v6}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_1

    .line 4634
    const/16 v2, 0xa

    invoke-virtual {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 4636
    :cond_1
    if-eqz v7, :cond_2

    const/4 v2, 0x1

    :goto_1
    move v8, v2

    goto :goto_0

    :cond_2
    move v2, v8

    goto :goto_1
.end method

.method private updateData(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I
    .locals 13
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 4586
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v1}, Landroid/content/ContentValues;->clear()V

    .line 4587
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v1, p2}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 4588
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "_id"

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4589
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "raw_contact_id"

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4590
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "mimetype"

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4592
    const-string v1, "res_package"

    invoke-virtual {p2, v1}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v12

    .line 4593
    .local v12, packageName:Ljava/lang/String;
    if-eqz v12, :cond_0

    .line 4594
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v2, "res_package"

    invoke-virtual {v1, v2}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4595
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v3, "package_id"

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1, v12}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getPackageId(Ljava/lang/String;)J

    move-result-wide v4

    invoke-static {v4, v5}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v1

    invoke-virtual {v2, v3, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 4598
    :cond_0
    if-nez p5, :cond_1

    .line 4599
    const-string v1, "is_read_only=0"

    move-object/from16 v0, p3

    invoke-static {v0, v1}, Landroid/database/DatabaseUtils;->concatenateWhere(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p3

    .line 4603
    :cond_1
    const/4 v11, 0x0

    .line 4607
    .local v11, count:I
    sget-object v3, Lcom/android/providers/contacts/DataRowHandler$DataUpdateQuery;->COLUMNS:[Ljava/lang/String;

    const/4 v6, 0x0

    const-wide/16 v7, -0x1

    const/4 v9, 0x0

    move-object v1, p0

    move-object v2, p1

    move-object/from16 v4, p3

    move-object/from16 v5, p4

    invoke-virtual/range {v1 .. v9}, Lcom/android/providers/contacts/ContactsProvider2;->queryLocal(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;JLandroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v10

    .line 4611
    .local v10, c:Landroid/database/Cursor;
    :goto_0
    :try_start_0
    invoke-interface {v10}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_2

    .line 4612
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    move/from16 v0, p5

    invoke-direct {p0, v1, v10, v0}, Lcom/android/providers/contacts/ContactsProvider2;->updateData(Landroid/content/ContentValues;Landroid/database/Cursor;Z)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v1

    add-int/2addr v11, v1

    goto :goto_0

    .line 4615
    :cond_2
    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    .line 4618
    return v11

    .line 4615
    :catchall_0
    move-exception v1

    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    throw v1
.end method

.method private updateFavoritesMembership(JZ)V
    .locals 3
    .parameter "rawContactId"
    .parameter "isStarred"

    .prologue
    .line 2766
    const-string v1, "raw_contacts._id=? AND groups.account_id=raw_contacts.account_id AND favorites != 0"

    invoke-direct {p0, v1, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->findGroupByRawContactId(Ljava/lang/String;J)Ljava/lang/Long;

    move-result-object v0

    .line 2768
    .local v0, groupId:Ljava/lang/Long;
    if-eqz v0, :cond_0

    .line 2769
    if-eqz p3, :cond_1

    .line 2770
    invoke-virtual {v0}, Ljava/lang/Long;->longValue()J

    move-result-wide v1

    invoke-direct {p0, p1, p2, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertDataGroupMembership(JJ)V

    .line 2775
    :cond_0
    :goto_0
    return-void

    .line 2772
    :cond_1
    invoke-virtual {v0}, Ljava/lang/Long;->longValue()J

    move-result-wide v1

    invoke-direct {p0, p1, p2, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteDataGroupMembership(JJ)V

    goto :goto_0
.end method

.method private updateGroups(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I
    .locals 32
    .parameter "uri"
    .parameter "originalValues"
    .parameter "selectionWithId"
    .parameter "selectionArgs"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 4331
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mGroupIdCache:Ljava/util/HashMap;

    invoke-virtual {v3}, Ljava/util/HashMap;->clear()V

    .line 4333
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v2

    .line 4334
    .local v2, db:Landroid/database/sqlite/SQLiteDatabase;
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v19

    check-cast v19, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    .line 4336
    .local v19, dbHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;
    new-instance v31, Landroid/content/ContentValues;

    invoke-direct/range {v31 .. v31}, Landroid/content/ContentValues;-><init>()V

    .line 4337
    .local v31, updatedValues:Landroid/content/ContentValues;
    move-object/from16 v0, v31

    move-object/from16 v1, p2

    invoke-virtual {v0, v1}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 4339
    if-nez p5, :cond_0

    const-string v3, "dirty"

    move-object/from16 v0, v31

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v3

    if-nez v3, :cond_0

    .line 4340
    const-string v3, "dirty"

    const/4 v4, 0x1

    invoke-static {v4}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v4

    move-object/from16 v0, v31

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 4342
    :cond_0
    const-string v3, "group_visible"

    move-object/from16 v0, v31

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v3

    if-eqz v3, :cond_1

    .line 4343
    const/4 v3, 0x1

    move-object/from16 v0, p0

    iput-boolean v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    .line 4347
    :cond_1
    const-string v3, "account_name"

    move-object/from16 v0, v31

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v24

    .line 4348
    .local v24, isAccountNameChanging:Z
    const-string v3, "account_type"

    move-object/from16 v0, v31

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v25

    .line 4349
    .local v25, isAccountTypeChanging:Z
    const-string v3, "data_set"

    move-object/from16 v0, v31

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v26

    .line 4350
    .local v26, isDataSetChanging:Z
    if-nez v24, :cond_2

    if-nez v25, :cond_2

    if-eqz v26, :cond_5

    :cond_2
    const/16 v23, 0x1

    .line 4352
    .local v23, isAccountChanging:Z
    :goto_0
    const-string v3, "account_name"

    move-object/from16 v0, v31

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v28

    .line 4353
    .local v28, updatedAccountName:Ljava/lang/String;
    const-string v3, "account_type"

    move-object/from16 v0, v31

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v29

    .line 4354
    .local v29, updatedAccountType:Ljava/lang/String;
    const-string v3, "data_set"

    move-object/from16 v0, v31

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v30

    .line 4356
    .local v30, updatedDataSet:Ljava/lang/String;
    const-string v3, "account_name"

    move-object/from16 v0, v31

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4357
    const-string v3, "account_type"

    move-object/from16 v0, v31

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4358
    const-string v3, "data_set"

    move-object/from16 v0, v31

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4361
    invoke-static {}, Lcom/google/android/collect/Sets;->newHashSet()Ljava/util/HashSet;

    move-result-object v15

    .line 4364
    .local v15, affectedAccounts:Ljava/util/Set;,"Ljava/util/Set<Landroid/accounts/Account;>;"
    const-string v3, "view_groups"

    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2$GroupAccountQuery;->COLUMNS:[Ljava/lang/String;

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    move-object/from16 v5, p3

    move-object/from16 v6, p4

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v16

    .line 4366
    .local v16, c:Landroid/database/Cursor;
    const/16 v27, 0x0

    .line 4368
    .local v27, returnCount:I
    const/4 v3, -0x1

    :try_start_0
    move-object/from16 v0, v16

    invoke-interface {v0, v3}, Landroid/database/Cursor;->moveToPosition(I)Z

    .line 4369
    :goto_1
    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->moveToNext()Z

    move-result v3

    if-eqz v3, :cond_9

    .line 4370
    const/4 v3, 0x0

    move-object/from16 v0, v16

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v20

    .line 4372
    .local v20, groupId:J
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static/range {v20 .. v21}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v3, v4

    .line 4374
    if-eqz v24, :cond_6

    move-object/from16 v13, v28

    .line 4376
    .local v13, accountName:Ljava/lang/String;
    :goto_2
    if-eqz v25, :cond_7

    move-object/from16 v14, v29

    .line 4378
    .local v14, accountType:Ljava/lang/String;
    :goto_3
    if-eqz v26, :cond_8

    move-object/from16 v18, v30

    .line 4381
    .local v18, dataSet:Ljava/lang/String;
    :goto_4
    if-eqz v23, :cond_3

    .line 4382
    move-object/from16 v0, v18

    invoke-static {v13, v14, v0}, Lcom/android/providers/contacts/AccountWithDataSet;->get(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/AccountWithDataSet;

    move-result-object v3

    move-object/from16 v0, v19

    invoke-virtual {v0, v3}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getOrCreateAccountIdInTransaction(Lcom/android/providers/contacts/AccountWithDataSet;)J

    move-result-wide v11

    .line 4384
    .local v11, accountId:J
    const-string v3, "account_id"

    invoke-static {v11, v12}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    move-object/from16 v0, v31

    invoke-virtual {v0, v3, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 4388
    .end local v11           #accountId:J
    :cond_3
    const-string v3, "groups"

    const-string v4, "groups._id=?"

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    move-object/from16 v0, v31

    invoke-virtual {v2, v3, v0, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v17

    .line 4391
    .local v17, count:I
    if-lez v17, :cond_4

    invoke-static {v13}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_4

    invoke-static {v14}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_4

    .line 4394
    new-instance v3, Landroid/accounts/Account;

    invoke-direct {v3, v13, v14}, Landroid/accounts/Account;-><init>(Ljava/lang/String;Ljava/lang/String;)V

    invoke-interface {v15, v3}, Ljava/util/Set;->add(Ljava/lang/Object;)Z

    .line 4397
    :cond_4
    add-int v27, v27, v17

    .line 4398
    goto :goto_1

    .line 4350
    .end local v13           #accountName:Ljava/lang/String;
    .end local v14           #accountType:Ljava/lang/String;
    .end local v15           #affectedAccounts:Ljava/util/Set;,"Ljava/util/Set<Landroid/accounts/Account;>;"
    .end local v16           #c:Landroid/database/Cursor;
    .end local v17           #count:I
    .end local v18           #dataSet:Ljava/lang/String;
    .end local v20           #groupId:J
    .end local v23           #isAccountChanging:Z
    .end local v27           #returnCount:I
    .end local v28           #updatedAccountName:Ljava/lang/String;
    .end local v29           #updatedAccountType:Ljava/lang/String;
    .end local v30           #updatedDataSet:Ljava/lang/String;
    :cond_5
    const/16 v23, 0x0

    goto/16 :goto_0

    .line 4374
    .restart local v15       #affectedAccounts:Ljava/util/Set;,"Ljava/util/Set<Landroid/accounts/Account;>;"
    .restart local v16       #c:Landroid/database/Cursor;
    .restart local v20       #groupId:J
    .restart local v23       #isAccountChanging:Z
    .restart local v27       #returnCount:I
    .restart local v28       #updatedAccountName:Ljava/lang/String;
    .restart local v29       #updatedAccountType:Ljava/lang/String;
    .restart local v30       #updatedDataSet:Ljava/lang/String;
    :cond_6
    const/4 v3, 0x2

    move-object/from16 v0, v16

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v13

    goto :goto_2

    .line 4376
    .restart local v13       #accountName:Ljava/lang/String;
    :cond_7
    const/4 v3, 0x1

    move-object/from16 v0, v16

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v14

    goto :goto_3

    .line 4378
    .restart local v14       #accountType:Ljava/lang/String;
    :cond_8
    const/4 v3, 0x3

    move-object/from16 v0, v16

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-object v18

    goto :goto_4

    .line 4400
    .end local v13           #accountName:Ljava/lang/String;
    .end local v14           #accountType:Ljava/lang/String;
    .end local v20           #groupId:J
    :cond_9
    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->close()V

    .line 4407
    const-string v3, "should_sync"

    move-object/from16 v0, v31

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v3

    if-eqz v3, :cond_a

    const-string v3, "should_sync"

    move-object/from16 v0, v31

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/Integer;->intValue()I

    move-result v3

    if-eqz v3, :cond_a

    .line 4409
    invoke-interface {v15}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v22

    .local v22, i$:Ljava/util/Iterator;
    :goto_5
    invoke-interface/range {v22 .. v22}, Ljava/util/Iterator;->hasNext()Z

    move-result v3

    if-eqz v3, :cond_a

    invoke-interface/range {v22 .. v22}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v10

    check-cast v10, Landroid/accounts/Account;

    .line 4410
    .local v10, account:Landroid/accounts/Account;
    const-string v3, "com.android.contacts"

    new-instance v4, Landroid/os/Bundle;

    invoke-direct {v4}, Landroid/os/Bundle;-><init>()V

    invoke-static {v10, v3, v4}, Landroid/content/ContentResolver;->requestSync(Landroid/accounts/Account;Ljava/lang/String;Landroid/os/Bundle;)V

    goto :goto_5

    .line 4400
    .end local v10           #account:Landroid/accounts/Account;
    .end local v22           #i$:Ljava/util/Iterator;
    :catchall_0
    move-exception v3

    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->close()V

    throw v3

    .line 4413
    :cond_a
    return v27
.end method

.method private updateProviderStatus()V
    .locals 9

    .prologue
    const/4 v8, 0x0

    const/4 v7, 0x4

    const/4 v6, 0x0

    .line 1840
    iget v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    if-eqz v4, :cond_0

    iget v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    if-eq v4, v7, :cond_0

    .line 1862
    :goto_0
    return-void

    .line 1847
    :cond_0
    iget v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsAccountCount:I

    if-nez v4, :cond_2

    .line 1848
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteOpenHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v4

    const-string v5, "contacts"

    invoke-static {v4, v5, v8}, Landroid/database/DatabaseUtils;->queryNumEntries(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;Ljava/lang/String;)J

    move-result-wide v0

    .line 1850
    .local v0, contactsNum:J
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteOpenHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v4

    const-string v5, "contacts"

    invoke-static {v4, v5, v8}, Landroid/database/DatabaseUtils;->queryNumEntries(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;Ljava/lang/String;)J

    move-result-wide v2

    .line 1854
    .local v2, profileNum:J
    const-wide/16 v4, 0x0

    cmp-long v4, v0, v4

    if-nez v4, :cond_1

    const-wide/16 v4, 0x1

    cmp-long v4, v2, v4

    if-gtz v4, :cond_1

    .line 1855
    invoke-virtual {p0, v7}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    goto :goto_0

    .line 1857
    :cond_1
    invoke-virtual {p0, v6}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    goto :goto_0

    .line 1860
    .end local v0           #contactsNum:J
    .end local v2           #profileNum:J
    :cond_2
    invoke-virtual {p0, v6}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    goto :goto_0
.end method

.method private updateRawContact(Landroid/database/sqlite/SQLiteDatabase;JLandroid/content/ContentValues;Z)I
    .locals 31
    .parameter "db"
    .parameter "rawContactId"
    .parameter "values"
    .parameter "callerIsSyncAdapter"

    .prologue
    .line 4459
    const-string v29, "raw_contacts._id = ?"

    .line 4460
    .local v29, selection:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v5, 0x0

    invoke-static/range {p2 .. p3}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v5

    .line 4462
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v17

    check-cast v17, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    .line 4464
    .local v17, dbHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;
    const-string v4, "deleted"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_d

    const-string v4, "deleted"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I

    move-result v4

    if-nez v4, :cond_d

    const/16 v28, 0x1

    .line 4467
    .local v28, requestUndoDelete:Z
    :goto_0
    const-string v4, "account_name"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v19

    .line 4468
    .local v19, isAccountNameChanging:Z
    const-string v4, "account_type"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v20

    .line 4469
    .local v20, isAccountTypeChanging:Z
    const-string v4, "data_set"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v21

    .line 4470
    .local v21, isDataSetChanging:Z
    if-nez v19, :cond_0

    if-nez v20, :cond_0

    if-eqz v21, :cond_e

    :cond_0
    const/16 v18, 0x1

    .line 4473
    .local v18, isAccountChanging:Z
    :goto_1
    const/16 v27, 0x0

    .line 4474
    .local v27, previousDeleted:I
    const-wide/16 v12, 0x0

    .line 4475
    .local v12, accountId:J
    const/16 v24, 0x0

    .line 4476
    .local v24, oldAccountType:Ljava/lang/String;
    const/16 v23, 0x0

    .line 4477
    .local v23, oldAccountName:Ljava/lang/String;
    const/16 v25, 0x0

    .line 4479
    .local v25, oldDataSet:Ljava/lang/String;
    if-nez v28, :cond_1

    if-eqz v18, :cond_3

    .line 4480
    :cond_1
    const-string v5, "raw_contacts JOIN accounts ON (accounts._id=raw_contacts.account_id)"

    sget-object v6, Lcom/android/providers/contacts/ContactsProvider2$RawContactsQuery;->COLUMNS:[Ljava/lang/String;

    const-string v7, "raw_contacts._id = ?"

    move-object/from16 v0, p0

    iget-object v8, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    move-object/from16 v4, p1

    invoke-virtual/range {v4 .. v11}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v16

    .line 4483
    .local v16, cursor:Landroid/database/Cursor;
    :try_start_0
    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v4

    if-eqz v4, :cond_2

    .line 4484
    const/4 v4, 0x0

    move-object/from16 v0, v16

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getInt(I)I

    move-result v27

    .line 4485
    const/4 v4, 0x1

    move-object/from16 v0, v16

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v12

    .line 4486
    const/4 v4, 0x2

    move-object/from16 v0, v16

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v24

    .line 4487
    const/4 v4, 0x3

    move-object/from16 v0, v16

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v23

    .line 4488
    const/4 v4, 0x4

    move-object/from16 v0, v16

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-object v25

    .line 4491
    :cond_2
    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->close()V

    .line 4493
    if-eqz v18, :cond_3

    .line 4498
    move-object/from16 v26, p4

    .line 4499
    .local v26, originalValues:Landroid/content/ContentValues;
    new-instance p4, Landroid/content/ContentValues;

    .end local p4
    invoke-direct/range {p4 .. p4}, Landroid/content/ContentValues;-><init>()V

    .line 4500
    .restart local p4
    invoke-virtual/range {p4 .. p4}, Landroid/content/ContentValues;->clear()V

    .line 4501
    move-object/from16 v0, p4

    move-object/from16 v1, v26

    invoke-virtual {v0, v1}, Landroid/content/ContentValues;->putAll(Landroid/content/ContentValues;)V

    .line 4503
    if-eqz v19, :cond_f

    const-string v4, "account_name"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    move-object v6, v4

    :goto_2
    if-eqz v20, :cond_10

    const-string v4, "account_type"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    move-object v5, v4

    :goto_3
    if-eqz v21, :cond_11

    const-string v4, "data_set"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    :goto_4
    invoke-static {v6, v5, v4}, Lcom/android/providers/contacts/AccountWithDataSet;->get(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/AccountWithDataSet;

    move-result-object v22

    .line 4511
    .local v22, newAccountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    move-object/from16 v0, v17

    move-object/from16 v1, v22

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getOrCreateAccountIdInTransaction(Lcom/android/providers/contacts/AccountWithDataSet;)J

    move-result-wide v12

    .line 4513
    const-string v4, "account_id"

    invoke-static {v12, v13}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v5

    move-object/from16 v0, p4

    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 4515
    const-string v4, "account_name"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4516
    const-string v4, "account_type"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4517
    const-string v4, "data_set"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4520
    .end local v16           #cursor:Landroid/database/Cursor;
    .end local v22           #newAccountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    .end local v26           #originalValues:Landroid/content/ContentValues;
    :cond_3
    if-eqz v28, :cond_4

    .line 4521
    const-string v4, "aggregation_mode"

    const/4 v5, 0x0

    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v5

    move-object/from16 v0, p4

    invoke-virtual {v0, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 4525
    :cond_4
    const-string v4, "raw_contacts"

    const-string v5, "raw_contacts._id = ?"

    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    move-object/from16 v0, p1

    move-object/from16 v1, p4

    invoke-virtual {v0, v4, v1, v5, v6}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v15

    .line 4526
    .local v15, count:I
    if-eqz v15, :cond_c

    .line 4527
    const-string v4, "aggregation_mode"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_5

    .line 4528
    const-string v4, "aggregation_mode"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I

    move-result v14

    .line 4532
    .local v14, aggregationMode:I
    if-eqz v14, :cond_5

    .line 4533
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    const/4 v5, 0x0

    move-wide/from16 v0, p2

    invoke-virtual {v4, v0, v1, v14, v5}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->markForAggregation(JIZ)V

    .line 4536
    .end local v14           #aggregationMode:I
    :cond_5
    const-string v4, "starred"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_13

    .line 4537
    if-nez p5, :cond_6

    .line 4538
    const-string v4, "starred"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/Long;->longValue()J

    move-result-wide v4

    const-wide/16 v6, 0x0

    cmp-long v4, v4, v6

    if-eqz v4, :cond_12

    const/4 v4, 0x1

    :goto_5
    move-object/from16 v0, p0

    move-wide/from16 v1, p2

    invoke-direct {v0, v1, v2, v4}, Lcom/android/providers/contacts/ContactsProvider2;->updateFavoritesMembership(JZ)V

    .line 4541
    :cond_6
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    move-wide/from16 v0, p2

    invoke-virtual {v4, v0, v1}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->updateStarred(J)V

    .line 4557
    :cond_7
    :goto_6
    if-nez p5, :cond_8

    if-eqz v18, :cond_8

    .line 4558
    move-object/from16 v0, p0

    move-wide/from16 v1, p2

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->addAutoAddMembership(J)V

    .line 4561
    :cond_8
    const-string v4, "sourceid"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_9

    .line 4562
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    move-object/from16 v0, p1

    move-wide/from16 v1, p2

    invoke-virtual {v4, v0, v1, v2}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->updateLookupKeyForRawContact(Landroid/database/sqlite/SQLiteDatabase;J)V

    .line 4564
    :cond_9
    const-string v4, "name_verified"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v4

    if-eqz v4, :cond_b

    .line 4568
    const-string v4, "name_verified"

    move-object/from16 v0, p4

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/Integer;->intValue()I

    move-result v4

    if-eqz v4, :cond_a

    .line 4569
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-wide/from16 v0, p2

    invoke-virtual {v4, v0, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->resetNameVerifiedForOtherRawContacts(J)V

    .line 4571
    :cond_a
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    move-object/from16 v0, p1

    move-wide/from16 v1, p2

    invoke-virtual {v4, v0, v1, v2}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->updateDisplayNameForRawContact(Landroid/database/sqlite/SQLiteDatabase;J)V

    .line 4573
    :cond_b
    if-eqz v28, :cond_c

    const/4 v4, 0x1

    move/from16 v0, v27

    if-ne v0, v4, :cond_c

    .line 4578
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/TransactionContext;

    move-wide/from16 v0, p2

    invoke-virtual {v4, v0, v1, v12, v13}, Lcom/android/providers/contacts/TransactionContext;->rawContactInserted(JJ)V

    .line 4581
    :cond_c
    return v15

    .line 4464
    .end local v12           #accountId:J
    .end local v15           #count:I
    .end local v18           #isAccountChanging:Z
    .end local v19           #isAccountNameChanging:Z
    .end local v20           #isAccountTypeChanging:Z
    .end local v21           #isDataSetChanging:Z
    .end local v23           #oldAccountName:Ljava/lang/String;
    .end local v24           #oldAccountType:Ljava/lang/String;
    .end local v25           #oldDataSet:Ljava/lang/String;
    .end local v27           #previousDeleted:I
    .end local v28           #requestUndoDelete:Z
    :cond_d
    const/16 v28, 0x0

    goto/16 :goto_0

    .line 4470
    .restart local v19       #isAccountNameChanging:Z
    .restart local v20       #isAccountTypeChanging:Z
    .restart local v21       #isDataSetChanging:Z
    .restart local v28       #requestUndoDelete:Z
    :cond_e
    const/16 v18, 0x0

    goto/16 :goto_1

    .line 4491
    .restart local v12       #accountId:J
    .restart local v16       #cursor:Landroid/database/Cursor;
    .restart local v18       #isAccountChanging:Z
    .restart local v23       #oldAccountName:Ljava/lang/String;
    .restart local v24       #oldAccountType:Ljava/lang/String;
    .restart local v25       #oldDataSet:Ljava/lang/String;
    .restart local v27       #previousDeleted:I
    :catchall_0
    move-exception v4

    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->close()V

    throw v4

    .restart local v26       #originalValues:Landroid/content/ContentValues;
    :cond_f
    move-object/from16 v6, v23

    .line 4503
    goto/16 :goto_2

    :cond_10
    move-object/from16 v5, v24

    goto/16 :goto_3

    :cond_11
    move-object/from16 v4, v25

    goto/16 :goto_4

    .line 4538
    .end local v16           #cursor:Landroid/database/Cursor;
    .end local v26           #originalValues:Landroid/content/ContentValues;
    .restart local v15       #count:I
    :cond_12
    const/4 v4, 0x0

    goto/16 :goto_5

    .line 4547
    :cond_13
    if-nez p5, :cond_7

    if-eqz v18, :cond_7

    .line 4548
    const-wide/16 v4, 0x0

    const-string v6, "SELECT starred FROM raw_contacts WHERE _id=?"

    const/4 v7, 0x1

    new-array v7, v7, [Ljava/lang/String;

    const/4 v8, 0x0

    invoke-static/range {p2 .. p3}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v9

    aput-object v9, v7, v8

    move-object/from16 v0, p1

    invoke-static {v0, v6, v7}, Landroid/database/DatabaseUtils;->longForQuery(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;)J

    move-result-wide v6

    cmp-long v4, v4, v6

    if-eqz v4, :cond_14

    const/16 v30, 0x1

    .line 4551
    .local v30, starred:Z
    :goto_7
    move-object/from16 v0, p0

    move-wide/from16 v1, p2

    move/from16 v3, v30

    invoke-direct {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->updateFavoritesMembership(JZ)V

    goto/16 :goto_6

    .line 4548
    .end local v30           #starred:Z
    :cond_14
    const/16 v30, 0x0

    goto :goto_7
.end method

.method private updateRawContacts(Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I
    .locals 10
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "callerIsSyncAdapter"

    .prologue
    const/4 v5, 0x0

    .line 4429
    const-string v1, "contact_id"

    invoke-virtual {p1, v1}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v1

    if-eqz v1, :cond_0

    .line 4430
    new-instance v1, Ljava/lang/IllegalArgumentException;

    const-string v2, "contact_id should not be included in content values. Contact IDs are assigned automatically"

    invoke-direct {v1, v2}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v1

    .line 4434
    :cond_0
    if-nez p4, :cond_1

    .line 4435
    const-string v1, "raw_contact_is_read_only=0"

    invoke-static {p2, v1}, Landroid/database/DatabaseUtils;->concatenateWhere(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p2

    .line 4439
    :cond_1
    const/4 v8, 0x0

    .line 4440
    .local v8, count:I
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 4441
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v1, "view_raw_contacts"

    sget-object v2, Lcom/android/providers/contacts/ContactsDatabaseHelper$Projections;->ID:[Ljava/lang/String;

    move-object v3, p2

    move-object v4, p3

    move-object v6, v5

    move-object v7, v5

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v9

    .line 4445
    .local v9, cursor:Landroid/database/Cursor;
    :goto_0
    :try_start_0
    invoke-interface {v9}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_2

    .line 4446
    const/4 v1, 0x0

    invoke-interface {v9, v1}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v3

    .local v3, rawContactId:J
    move-object v1, p0

    move-object v2, v0

    move-object v5, p1

    move v6, p4

    .line 4447
    invoke-direct/range {v1 .. v6}, Lcom/android/providers/contacts/ContactsProvider2;->updateRawContact(Landroid/database/sqlite/SQLiteDatabase;JLandroid/content/ContentValues;Z)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 4448
    add-int/lit8 v8, v8, 0x1

    .line 4449
    goto :goto_0

    .line 4451
    .end local v3           #rawContactId:J
    :cond_2
    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    .line 4454
    return v8

    .line 4451
    :catchall_0
    move-exception v1

    invoke-interface {v9}, Landroid/database/Cursor;->close()V

    throw v1
.end method

.method private updateSearchIndexInTransaction()V
    .locals 3

    .prologue
    .line 2369
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v2}, Lcom/android/providers/contacts/TransactionContext;->getStaleSearchIndexContactIds()Ljava/util/Set;

    move-result-object v0

    .line 2370
    .local v0, staleContacts:Ljava/util/Set;,"Ljava/util/Set<Ljava/lang/Long;>;"
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v2}, Lcom/android/providers/contacts/TransactionContext;->getStaleSearchIndexRawContactIds()Ljava/util/Set;

    move-result-object v1

    .line 2371
    .local v1, staleRawContacts:Ljava/util/Set;,"Ljava/util/Set<Ljava/lang/Long;>;"
    invoke-interface {v0}, Ljava/util/Set;->isEmpty()Z

    move-result v2

    if-eqz v2, :cond_0

    invoke-interface {v1}, Ljava/util/Set;->isEmpty()Z

    move-result v2

    if-nez v2, :cond_1

    .line 2372
    :cond_0
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSearchIndexManager:Lcom/android/providers/contacts/SearchIndexManager;

    invoke-virtual {v2, v0, v1}, Lcom/android/providers/contacts/SearchIndexManager;->updateIndexForRawContacts(Ljava/util/Set;Ljava/util/Set;)V

    .line 2373
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v2}, Lcom/android/providers/contacts/TransactionContext;->clearSearchIndexUpdates()V

    .line 2375
    :cond_1
    return-void
.end method

.method private updateSettings(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 4
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 4418
    const-string v2, "ContactsProvider"

    const-string v3, "updateSettings(),  ****"

    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 4419
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v1

    .line 4420
    .local v1, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v2, "settings"

    invoke-virtual {v1, v2, p2, p3, p4}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v0

    .line 4421
    .local v0, count:I
    const-string v2, "ungrouped_visible"

    invoke-virtual {p2, v2}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v2

    if-eqz v2, :cond_0

    .line 4422
    const/4 v2, 0x1

    iput-boolean v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    .line 4424
    :cond_0
    return v0
.end method

.method private updateStatusUpdate(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 5
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 4220
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 4223
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const/4 v2, 0x0

    .line 4224
    .local v2, updateCount:I
    invoke-direct {p0, p2}, Lcom/android/providers/contacts/ContactsProvider2;->getSettableColumnsForStatusUpdatesTable(Landroid/content/ContentValues;)Landroid/content/ContentValues;

    move-result-object v1

    .line 4225
    .local v1, settableValues:Landroid/content/ContentValues;
    invoke-virtual {v1}, Landroid/content/ContentValues;->size()I

    move-result v3

    if-lez v3, :cond_0

    .line 4226
    const-string v3, "status_updates"

    invoke-direct {p0, p3}, Lcom/android/providers/contacts/ContactsProvider2;->getWhereClauseForStatusUpdatesTable(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v3, v1, v4, p4}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v2

    .line 4233
    :cond_0
    invoke-direct {p0, p2}, Lcom/android/providers/contacts/ContactsProvider2;->getSettableColumnsForPresenceTable(Landroid/content/ContentValues;)Landroid/content/ContentValues;

    move-result-object v1

    .line 4234
    invoke-virtual {v1}, Landroid/content/ContentValues;->size()I

    move-result v3

    if-lez v3, :cond_1

    .line 4235
    const-string v3, "presence"

    invoke-virtual {v0, v3, v1, p3, p4}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v2

    .line 4240
    :cond_1
    return v2
.end method

.method private updateStreamItemPhotos(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 2
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 4261
    const-string v1, "stream_item_id"

    invoke-virtual {p2, v1}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4265
    const-string v1, "account_name"

    invoke-virtual {p2, v1}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4266
    const-string v1, "account_type"

    invoke-virtual {p2, v1}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4268
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 4271
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const/4 v1, 0x1

    invoke-direct {p0, p2, v1}, Lcom/android/providers/contacts/ContactsProvider2;->processStreamItemPhoto(Landroid/content/ContentValues;Z)Z

    move-result v1

    if-eqz v1, :cond_0

    .line 4273
    const-string v1, "stream_item_photos"

    invoke-virtual {v0, v1, p2, p3, p4}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v1

    .line 4276
    :goto_0
    return v1

    :cond_0
    const/4 v1, 0x0

    goto :goto_0
.end method

.method private updateStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 2
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 4246
    const-string v1, "raw_contact_id"

    invoke-virtual {p2, v1}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4249
    const-string v1, "account_name"

    invoke-virtual {p2, v1}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4250
    const-string v1, "account_type"

    invoke-virtual {p2, v1}, Landroid/content/ContentValues;->remove(Ljava/lang/String;)V

    .line 4252
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 4255
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v1, "stream_items"

    invoke-virtual {v0, v1, p2, p3, p4}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v1

    return v1
.end method

.method private waitForAccess(Ljava/util/concurrent/CountDownLatch;)V
    .locals 2
    .parameter "latch"

    .prologue
    .line 2024
    if-nez p1, :cond_0

    .line 2031
    :goto_0
    return-void

    .line 2032
    :catch_0
    move-exception v0

    .line 2033
    .local v0, e:Ljava/lang/InterruptedException;
    invoke-static {}, Ljava/lang/Thread;->currentThread()Ljava/lang/Thread;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/Thread;->interrupt()V

    .line 2030
    .end local v0           #e:Ljava/lang/InterruptedException;
    :cond_0
    :try_start_0
    invoke-virtual {p1}, Ljava/util/concurrent/CountDownLatch;->await()V
    :try_end_0
    .catch Ljava/lang/InterruptedException; {:try_start_0 .. :try_end_0} :catch_0

    goto :goto_0
.end method


# virtual methods
.method public appendContactFilterAsNestedQuery(Ljava/lang/StringBuilder;Ljava/lang/String;)V
    .locals 1
    .parameter "sb"
    .parameter "filterParam"

    .prologue
    .line 8351
    const-string v0, "(SELECT DISTINCT contact_id FROM raw_contacts JOIN name_lookup ON(raw_contacts._id=raw_contact_id) WHERE normalized_name GLOB \'"

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8358
    invoke-static {p2}, Lcom/android/providers/contacts/NameNormalizer;->normalize(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8359
    const-string v0, "*\' AND name_type IN(2,4,3))"

    invoke-virtual {p1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 8361
    return-void
.end method

.method public appendSearchIndexJoin(Ljava/lang/StringBuilder;Ljava/lang/String;ZLjava/lang/String;Ljava/lang/String;Ljava/lang/String;IZ)V
    .locals 19
    .parameter "sb"
    .parameter "filter"
    .parameter "snippetNeeded"
    .parameter "startMatch"
    .parameter "endMatch"
    .parameter "ellipsis"
    .parameter "maxTokens"
    .parameter "deferSnippeting"

    .prologue
    .line 7179
    const/4 v11, 0x0

    .line 7180
    .local v11, isEmailAddress:Z
    const/4 v10, 0x0

    .line 7181
    .local v10, emailAddress:Ljava/lang/String;
    const/4 v12, 0x0

    .line 7182
    .local v12, isPhoneNumber:Z
    const/16 v16, 0x0

    .line 7183
    .local v16, phoneNumber:Ljava/lang/String;
    const/4 v14, 0x0

    .line 7186
    .local v14, numberE164:Ljava/lang/String;
    const/16 v2, 0x40

    move-object/from16 v0, p2

    invoke-virtual {v0, v2}, Ljava/lang/String;->indexOf(I)I

    move-result v2

    const/4 v3, -0x1

    if-eq v2, v3, :cond_5

    .line 7187
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object/from16 v0, p2

    invoke-virtual {v2, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->extractAddressFromEmailAddress(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v10

    .line 7188
    invoke-static {v10}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_4

    const/4 v11, 0x1

    .line 7198
    :cond_0
    :goto_0
    const-string v8, "snippet_contact_id"

    .line 7199
    .local v8, SNIPPET_CONTACT_ID:Ljava/lang/String;
    const-string v2, " JOIN (SELECT contact_id AS snippet_contact_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7200
    if-eqz p3, :cond_3

    .line 7201
    const-string v2, ", "

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7202
    if-eqz v11, :cond_7

    .line 7203
    const-string v2, "ifnull("

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7204
    if-nez p8, :cond_1

    .line 7206
    move-object/from16 v0, p1

    move-object/from16 v1, p4

    invoke-static {v0, v1}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 7207
    const-string v2, "||"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7209
    :cond_1
    const-string v2, "(SELECT MIN(data1)"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7210
    const-string v2, " FROM data JOIN raw_contacts ON (data.raw_contact_id = raw_contacts._id)"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7211
    const-string v2, " WHERE  search_index.contact_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7212
    const-string v2, "=contact_id AND data1 LIKE "

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7213
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, p2

    invoke-virtual {v2, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "%"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    move-object/from16 v0, p1

    invoke-static {v0, v2}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 7214
    const-string v2, ")"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7215
    if-nez p8, :cond_2

    .line 7216
    const-string v2, "||"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7217
    move-object/from16 v0, p1

    move-object/from16 v1, p5

    invoke-static {v0, v1}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 7219
    :cond_2
    const-string v2, ","

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7221
    if-eqz p8, :cond_6

    .line 7222
    const-string v2, "content"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7226
    :goto_1
    const-string v2, ")"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7286
    :goto_2
    const-string v2, " AS snippet"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7289
    :cond_3
    const-string v2, " FROM search_index"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7290
    const-string v2, " WHERE "

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7291
    const-string v2, "search_index MATCH \'"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7292
    if-eqz v11, :cond_10

    .line 7298
    if-nez v10, :cond_f

    const-string v18, ""

    .line 7300
    .local v18, sanitizedEmailAddress:Ljava/lang/String;
    :goto_3
    const-string v2, "\""

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7301
    move-object/from16 v0, p1

    move-object/from16 v1, v18

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7302
    const-string v2, "*\""

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7326
    .end local v18           #sanitizedEmailAddress:Ljava/lang/String;
    :goto_4
    const-string v2, "\' AND snippet_contact_id IN default_directory)"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7327
    const-string v2, " ON (_id=snippet_contact_id)"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7328
    return-void

    .line 7188
    .end local v8           #SNIPPET_CONTACT_ID:Ljava/lang/String;
    :cond_4
    const/4 v11, 0x0

    goto/16 :goto_0

    .line 7190
    :cond_5
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->isPhoneNumber(Ljava/lang/String;)Z

    move-result v12

    .line 7191
    if-eqz v12, :cond_0

    .line 7192
    invoke-static/range {p2 .. p2}, Landroid/telephony/PhoneNumberUtils;->normalizeNumber(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v16

    .line 7193
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getCountryIso()Ljava/lang/String;

    move-result-object v2

    move-object/from16 v0, v16

    invoke-static {v0, v2}, Landroid/telephony/PhoneNumberUtils;->formatNumberToE164(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v14

    goto/16 :goto_0

    .restart local v8       #SNIPPET_CONTACT_ID:Ljava/lang/String;
    :cond_6
    move-object/from16 v2, p0

    move-object/from16 v3, p1

    move-object/from16 v4, p4

    move-object/from16 v5, p5

    move-object/from16 v6, p6

    move/from16 v7, p7

    .line 7224
    invoke-direct/range {v2 .. v7}, Lcom/android/providers/contacts/ContactsProvider2;->appendSnippetFunction(Ljava/lang/StringBuilder;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)V

    goto/16 :goto_1

    .line 7227
    :cond_7
    if-eqz v12, :cond_c

    .line 7228
    const-string v2, "ifnull("

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7229
    if-nez p8, :cond_8

    .line 7231
    move-object/from16 v0, p1

    move-object/from16 v1, p4

    invoke-static {v0, v1}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 7232
    const-string v2, "||"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7234
    :cond_8
    const-string v2, "(SELECT MIN(data1)"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7235
    const-string v2, " FROM data JOIN raw_contacts ON (data.raw_contact_id = raw_contacts._id) JOIN phone_lookup"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7237
    const-string v2, " ON data._id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7238
    const-string v2, "=phone_lookup.data_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7239
    const-string v2, " WHERE  search_index.contact_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7240
    const-string v2, "=contact_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7241
    const-string v2, " AND normalized_number LIKE \'"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7242
    move-object/from16 v0, p1

    move-object/from16 v1, v16

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7243
    const-string v2, "%\'"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7244
    invoke-static {v14}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_9

    .line 7245
    const-string v2, " OR normalized_number LIKE \'"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7246
    move-object/from16 v0, p1

    invoke-virtual {v0, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7247
    const-string v2, "%\'"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7249
    :cond_9
    const-string v2, ")"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7250
    if-nez p8, :cond_a

    .line 7251
    const-string v2, "||"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7252
    move-object/from16 v0, p1

    move-object/from16 v1, p5

    invoke-static {v0, v1}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 7254
    :cond_a
    const-string v2, ","

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7256
    if-eqz p8, :cond_b

    .line 7257
    const-string v2, "content"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7261
    :goto_5
    const-string v2, ")"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto/16 :goto_2

    :cond_b
    move-object/from16 v2, p0

    move-object/from16 v3, p1

    move-object/from16 v4, p4

    move-object/from16 v5, p5

    move-object/from16 v6, p6

    move/from16 v7, p7

    .line 7259
    invoke-direct/range {v2 .. v7}, Lcom/android/providers/contacts/ContactsProvider2;->appendSnippetFunction(Ljava/lang/StringBuilder;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)V

    goto :goto_5

    .line 7263
    :cond_c
    invoke-static/range {p2 .. p2}, Lcom/android/providers/contacts/NameNormalizer;->normalize(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v13

    .line 7264
    .local v13, normalizedFilter:Ljava/lang/String;
    invoke-static {v13}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_e

    .line 7265
    if-eqz p8, :cond_d

    .line 7266
    const-string v2, "content"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto/16 :goto_2

    .line 7268
    :cond_d
    const-string v2, "(CASE WHEN EXISTS (SELECT 1 FROM "

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7269
    const-string v2, "raw_contacts AS rc INNER JOIN "

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7270
    const-string v2, "name_lookup AS nl ON (rc._id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7271
    const-string v2, "=nl.raw_contact_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7272
    const-string v2, ") WHERE nl.normalized_name"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7273
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, " GLOB \'"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v13}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "*\' AND "

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7274
    const-string v2, "nl.name_type="

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7275
    const-string v2, "2 AND "

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7276
    const-string v2, "search_index.contact_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7277
    const-string v2, "=rc.contact_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7278
    const-string v2, ") THEN NULL ELSE "

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-object/from16 v2, p0

    move-object/from16 v3, p1

    move-object/from16 v4, p4

    move-object/from16 v5, p5

    move-object/from16 v6, p6

    move/from16 v7, p7

    .line 7279
    invoke-direct/range {v2 .. v7}, Lcom/android/providers/contacts/ContactsProvider2;->appendSnippetFunction(Ljava/lang/StringBuilder;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)V

    .line 7280
    const-string v2, " END)"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto/16 :goto_2

    .line 7283
    :cond_e
    const-string v2, "NULL"

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto/16 :goto_2

    .line 7298
    .end local v13           #normalizedFilter:Ljava/lang/String;
    :cond_f
    invoke-static {v10}, Lcom/android/providers/contacts/ContactsProvider2;->sanitizeMatch(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v18

    goto/16 :goto_3

    .line 7303
    :cond_10
    if-eqz v12, :cond_12

    .line 7305
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, " OR tokens:"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    move-object/from16 v0, v16

    invoke-virtual {v2, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "*"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v17

    .line 7308
    .local v17, phoneNumberCriteria:Ljava/lang/String;
    if-eqz v14, :cond_11

    move-object/from16 v0, v16

    invoke-static {v14, v0}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v2

    if-nez v2, :cond_11

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, " OR tokens:"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    const-string v3, "*"

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v15

    .line 7314
    .local v15, numberE164Criteria:Ljava/lang/String;
    :goto_6
    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v17

    invoke-virtual {v2, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    .line 7318
    .local v9, commonCriteria:Ljava/lang/String;
    invoke-static {v9}, Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;->getDigitsQueryBuilder(Ljava/lang/String;)Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;

    move-result-object v2

    move-object/from16 v0, p2

    invoke-static {v0, v2}, Lcom/android/providers/contacts/SearchIndexManager;->getFtsMatchQuery(Ljava/lang/String;Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;)Ljava/lang/String;

    move-result-object v2

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto/16 :goto_4

    .line 7308
    .end local v9           #commonCriteria:Ljava/lang/String;
    .end local v15           #numberE164Criteria:Ljava/lang/String;
    :cond_11
    const-string v15, ""

    goto :goto_6

    .line 7322
    .end local v17           #phoneNumberCriteria:Ljava/lang/String;
    :cond_12
    sget-object v2, Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;->SCOPED_NAME_NORMALIZING:Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;

    move-object/from16 v0, p2

    invoke-static {v0, v2}, Lcom/android/providers/contacts/SearchIndexManager;->getFtsMatchQuery(Ljava/lang/String;Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;)Ljava/lang/String;

    move-result-object v2

    move-object/from16 v0, p1

    invoke-virtual {v0, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto/16 :goto_4
.end method

.method public applyBatch(Ljava/util/ArrayList;)[Landroid/content/ContentProviderResult;
    .locals 1
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/ArrayList",
            "<",
            "Landroid/content/ContentProviderOperation;",
            ">;)[",
            "Landroid/content/ContentProviderResult;"
        }
    .end annotation

    .annotation system Ldalvik/annotation/Throws;
        value = {
            Landroid/content/OperationApplicationException;
        }
    .end annotation

    .prologue
    .line 2283
    .local p1, operations:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Landroid/content/ContentProviderOperation;>;"
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-direct {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 2284
    invoke-super {p0, p1}, Lcom/android/providers/contacts/AbstractContactsProvider;->applyBatch(Ljava/util/ArrayList;)[Landroid/content/ContentProviderResult;

    move-result-object v0

    return-object v0
.end method

.method public bulkInsert(Landroid/net/Uri;[Landroid/content/ContentValues;)I
    .locals 1
    .parameter "uri"
    .parameter "values"

    .prologue
    .line 2289
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-direct {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 2290
    invoke-super {p0, p1, p2}, Lcom/android/providers/contacts/AbstractContactsProvider;->bulkInsert(Landroid/net/Uri;[Landroid/content/ContentValues;)I

    move-result v0

    return v0
.end method

.method public call(Ljava/lang/String;Ljava/lang/String;Landroid/os/Bundle;)Landroid/os/Bundle;
    .locals 4
    .parameter "method"
    .parameter "arg"
    .parameter "extras"

    .prologue
    .line 2194
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-direct {p0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 2195
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 2196
    const-string v3, "authorize"

    invoke-virtual {p1, v3}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_1

    .line 2197
    const-string v3, "uri_to_authorize"

    invoke-virtual {p3, v3}, Landroid/os/Bundle;->getParcelable(Ljava/lang/String;)Landroid/os/Parcelable;

    move-result-object v2

    check-cast v2, Landroid/net/Uri;

    .line 2201
    .local v2, uri:Landroid/net/Uri;
    invoke-direct {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->enforceSocialStreamReadPermission(Landroid/net/Uri;)V

    .line 2202
    invoke-direct {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDb(Landroid/net/Uri;)Z

    move-result v3

    if-eqz v3, :cond_0

    .line 2203
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    invoke-virtual {v3, v2}, Lcom/android/providers/contacts/ProfileProvider;->enforceReadPermission(Landroid/net/Uri;)V

    .line 2207
    :cond_0
    invoke-direct {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->preAuthorizeUri(Landroid/net/Uri;)Landroid/net/Uri;

    move-result-object v0

    .line 2208
    .local v0, authUri:Landroid/net/Uri;
    new-instance v1, Landroid/os/Bundle;

    invoke-direct {v1}, Landroid/os/Bundle;-><init>()V

    .line 2209
    .local v1, response:Landroid/os/Bundle;
    const-string v3, "authorized_uri"

    invoke-virtual {v1, v3, v0}, Landroid/os/Bundle;->putParcelable(Ljava/lang/String;Landroid/os/Parcelable;)V

    .line 2212
    .end local v0           #authUri:Landroid/net/Uri;
    .end local v1           #response:Landroid/os/Bundle;
    .end local v2           #uri:Landroid/net/Uri;
    :goto_0
    return-object v1

    :cond_1
    const/4 v1, 0x0

    goto :goto_0
.end method

.method protected cleanupPhotoStore()V
    .locals 30
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .prologue
    .line 1866
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v2

    .line 1871
    .local v2, db:Landroid/database/sqlite/SQLiteDatabase;
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v4, "vnd.android.cursor.item/photo"

    invoke-virtual {v3, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v22

    .line 1872
    .local v22, photoMimeTypeId:J
    const-string v3, "view_data"

    const/4 v4, 0x2

    new-array v4, v4, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v7, "_id"

    aput-object v7, v4, v6

    const/4 v6, 0x1

    const-string v7, "data14"

    aput-object v7, v4, v6

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "mimetype_id="

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-wide/from16 v0, v22

    invoke-virtual {v6, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, " AND "

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, "data14"

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v7, " IS NOT NULL"

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v10

    .line 1875
    .local v10, c:Landroid/database/Cursor;
    invoke-static {}, Lcom/google/android/collect/Sets;->newHashSet()Ljava/util/HashSet;

    move-result-object v29

    .line 1876
    .local v29, usedPhotoFileIds:Ljava/util/Set;,"Ljava/util/Set<Ljava/lang/Long;>;"
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v20

    .line 1878
    .local v20, photoFileIdToDataId:Ljava/util/Map;,"Ljava/util/Map<Ljava/lang/Long;Ljava/lang/Long;>;"
    :goto_0
    :try_start_0
    invoke-interface {v10}, Landroid/database/Cursor;->moveToNext()Z

    move-result v3

    if-eqz v3, :cond_0

    .line 1879
    const/4 v3, 0x0

    invoke-interface {v10, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v11

    .line 1880
    .local v11, dataId:J
    const/4 v3, 0x1

    invoke-interface {v10, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v18

    .line 1881
    .local v18, photoFileId:J
    invoke-static/range {v18 .. v19}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    move-object/from16 v0, v29

    invoke-interface {v0, v3}, Ljava/util/Set;->add(Ljava/lang/Object;)Z

    .line 1882
    invoke-static/range {v18 .. v19}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-static {v11, v12}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    move-object/from16 v0, v20

    invoke-interface {v0, v3, v4}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    .line 1885
    .end local v11           #dataId:J
    .end local v18           #photoFileId:J
    :catchall_0
    move-exception v3

    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    throw v3

    :cond_0
    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    .line 1889
    const-string v3, "stream_item_photos JOIN stream_items ON stream_item_id=stream_items._id"

    const/4 v4, 0x3

    new-array v4, v4, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v7, "stream_item_photos._id"

    aput-object v7, v4, v6

    const/4 v6, 0x1

    const-string v7, "stream_item_photos.stream_item_id"

    aput-object v7, v4, v6

    const/4 v6, 0x2

    const-string v7, "photo_file_id"

    aput-object v7, v4, v6

    const/4 v5, 0x0

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    const/4 v9, 0x0

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v10

    .line 1897
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v21

    .line 1898
    .local v21, photoFileIdToStreamItemPhotoId:Ljava/util/Map;,"Ljava/util/Map<Ljava/lang/Long;Ljava/lang/Long;>;"
    invoke-static {}, Lcom/google/android/collect/Maps;->newHashMap()Ljava/util/HashMap;

    move-result-object v28

    .line 1900
    .local v28, streamItemPhotoIdToStreamItemId:Ljava/util/Map;,"Ljava/util/Map<Ljava/lang/Long;Ljava/lang/Long;>;"
    :goto_1
    :try_start_1
    invoke-interface {v10}, Landroid/database/Cursor;->moveToNext()Z

    move-result v3

    if-eqz v3, :cond_1

    .line 1901
    const/4 v3, 0x0

    invoke-interface {v10, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v26

    .line 1902
    .local v26, streamItemPhotoId:J
    const/4 v3, 0x1

    invoke-interface {v10, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v24

    .line 1903
    .local v24, streamItemId:J
    const/4 v3, 0x2

    invoke-interface {v10, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v18

    .line 1904
    .restart local v18       #photoFileId:J
    invoke-static/range {v18 .. v19}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    move-object/from16 v0, v29

    invoke-interface {v0, v3}, Ljava/util/Set;->add(Ljava/lang/Object;)Z

    .line 1905
    invoke-static/range {v18 .. v19}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-static/range {v26 .. v27}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    move-object/from16 v0, v21

    invoke-interface {v0, v3, v4}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 1906
    invoke-static/range {v26 .. v27}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    invoke-static/range {v24 .. v25}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v4

    move-object/from16 v0, v28

    invoke-interface {v0, v3, v4}, Ljava/util/Map;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1

    goto :goto_1

    .line 1909
    .end local v18           #photoFileId:J
    .end local v24           #streamItemId:J
    .end local v26           #streamItemPhotoId:J
    :catchall_1
    move-exception v3

    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    throw v3

    :cond_1
    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    .line 1913
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mPhotoStore:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/PhotoStore;

    move-object/from16 v0, v29

    invoke-virtual {v3, v0}, Lcom/android/providers/contacts/PhotoStore;->cleanup(Ljava/util/Set;)Ljava/util/Set;

    move-result-object v17

    .line 1917
    .local v17, missingPhotoIds:Ljava/util/Set;,"Ljava/util/Set<Ljava/lang/Long;>;"
    invoke-interface/range {v17 .. v17}, Ljava/util/Set;->isEmpty()Z

    move-result v3

    if-nez v3, :cond_4

    .line 1921
    :try_start_2
    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->inProfileMode()Z

    move-result v3

    if-eqz v3, :cond_5

    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    :goto_2
    invoke-virtual {v2, v3}, Landroid/database/sqlite/SQLiteDatabase;->beginTransactionWithListener(Landroid/database/sqlite/SQLiteTransactionListener;)V

    .line 1922
    invoke-interface/range {v17 .. v17}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v14

    .local v14, i$:Ljava/util/Iterator;
    :cond_2
    :goto_3
    invoke-interface {v14}, Ljava/util/Iterator;->hasNext()Z

    move-result v3

    if-eqz v3, :cond_6

    invoke-interface {v14}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Ljava/lang/Long;

    invoke-virtual {v3}, Ljava/lang/Long;->longValue()J

    move-result-wide v15

    .line 1923
    .local v15, missingPhotoId:J
    invoke-static/range {v15 .. v16}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    move-object/from16 v0, v20

    invoke-interface {v0, v3}, Ljava/util/Map;->containsKey(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_3

    .line 1924
    invoke-static/range {v15 .. v16}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    move-object/from16 v0, v20

    invoke-interface {v0, v3}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Ljava/lang/Long;

    invoke-virtual {v3}, Ljava/lang/Long;->longValue()J

    move-result-wide v11

    .line 1925
    .restart local v11       #dataId:J
    new-instance v5, Landroid/content/ContentValues;

    invoke-direct {v5}, Landroid/content/ContentValues;-><init>()V

    .line 1926
    .local v5, updateValues:Landroid/content/ContentValues;
    const-string v3, "data14"

    invoke-virtual {v5, v3}, Landroid/content/ContentValues;->putNull(Ljava/lang/String;)V

    .line 1927
    sget-object v3, Landroid/provider/ContactsContract$Data;->CONTENT_URI:Landroid/net/Uri;

    invoke-static {v3, v11, v12}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v4

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    move-object/from16 v3, p0

    invoke-direct/range {v3 .. v8}, Lcom/android/providers/contacts/ContactsProvider2;->updateData(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    .line 1930
    .end local v5           #updateValues:Landroid/content/ContentValues;
    .end local v11           #dataId:J
    :cond_3
    invoke-static/range {v15 .. v16}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    move-object/from16 v0, v21

    invoke-interface {v0, v3}, Ljava/util/Map;->containsKey(Ljava/lang/Object;)Z

    move-result v3

    if-eqz v3, :cond_2

    .line 1933
    invoke-static/range {v15 .. v16}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    move-object/from16 v0, v21

    invoke-interface {v0, v3}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Ljava/lang/Long;

    invoke-virtual {v3}, Ljava/lang/Long;->longValue()J

    move-result-wide v26

    .line 1934
    .restart local v26       #streamItemPhotoId:J
    const-string v3, "stream_item_photos"

    const-string v4, "_id=?"

    const/4 v6, 0x1

    new-array v6, v6, [Ljava/lang/String;

    const/4 v7, 0x0

    invoke-static/range {v26 .. v27}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v8

    aput-object v8, v6, v7

    invoke-virtual {v2, v3, v4, v6}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_2
    .catch Ljava/lang/Exception; {:try_start_2 .. :try_end_2} :catch_0

    goto :goto_3

    .line 1939
    .end local v14           #i$:Ljava/util/Iterator;
    .end local v15           #missingPhotoId:J
    .end local v26           #streamItemPhotoId:J
    :catch_0
    move-exception v13

    .line 1941
    .local v13, e:Ljava/lang/Exception;
    :try_start_3
    const-string v3, "ContactsProvider"

    const-string v4, "Failed to clean up outdated photo references"

    invoke-static {v3, v4, v13}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_2

    .line 1943
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    .line 1946
    .end local v13           #e:Ljava/lang/Exception;
    :cond_4
    :goto_4
    return-void

    :cond_5
    move-object/from16 v3, p0

    .line 1921
    goto/16 :goto_2

    .line 1938
    .restart local v14       #i$:Ljava/util/Iterator;
    :cond_6
    :try_start_4
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_2
    .catch Ljava/lang/Exception; {:try_start_4 .. :try_end_4} :catch_0

    .line 1943
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    goto :goto_4

    .end local v14           #i$:Ljava/util/Iterator;
    :catchall_2
    move-exception v3

    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    throw v3
.end method

.method protected createBackgroundStuff()V
    .locals 3

    .prologue
    .line 9395
    new-instance v0, Landroid/os/HandlerThread;

    const-string v1, "ContactsProviderWorker"

    const/16 v2, 0xa

    invoke-direct {v0, v1, v2}, Landroid/os/HandlerThread;-><init>(Ljava/lang/String;I)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundThread:Landroid/os/HandlerThread;

    .line 9397
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundThread:Landroid/os/HandlerThread;

    invoke-virtual {v0}, Ljava/lang/Thread;->start()V

    .line 9398
    new-instance v0, Lcom/android/providers/contacts/ContactsProvider2$2;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundThread:Landroid/os/HandlerThread;

    invoke-virtual {v1}, Landroid/os/HandlerThread;->getLooper()Landroid/os/Looper;

    move-result-object v1

    invoke-direct {v0, p0, v1}, Lcom/android/providers/contacts/ContactsProvider2$2;-><init>(Lcom/android/providers/contacts/ContactsProvider2;Landroid/os/Looper;)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundHandler:Landroid/os/Handler;

    .line 9404
    return-void
.end method

.method createPhotoPriorityResolver(Landroid/content/Context;)Lcom/android/providers/contacts/PhotoPriorityResolver;
    .locals 1
    .parameter "context"
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .prologue
    .line 1645
    new-instance v0, Lcom/android/providers/contacts/PhotoPriorityResolver;

    invoke-direct {v0, p1}, Lcom/android/providers/contacts/PhotoPriorityResolver;-><init>(Landroid/content/Context;)V

    return-object v0
.end method

.method public delete(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 5
    .parameter "uri"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 2152
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-direct {p0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 2155
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->enforceSocialStreamWritePermission(Landroid/net/Uri;)V

    .line 2173
    const/4 v0, 0x0

    .line 2175
    .local v0, count:I
    :try_start_0
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDb(Landroid/net/Uri;)Z

    move-result v3

    if-eqz v3, :cond_0

    .line 2176
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 2177
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    invoke-virtual {v3, p1, p2, p3}, Lcom/android/providers/contacts/AbstractContactsProvider;->delete(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v0

    :goto_0
    move v1, v0

    .line 2186
    .end local v0           #count:I
    .local v1, count:I
    :goto_1
    return v1

    .line 2179
    .end local v1           #count:I
    .restart local v0       #count:I
    :cond_0
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 2180
    invoke-super {p0, p1, p2, p3}, Lcom/android/providers/contacts/AbstractContactsProvider;->delete(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I
    :try_end_0
    .catch Landroid/database/sqlite/SQLiteDiskIOException; {:try_start_0 .. :try_end_0} :catch_0

    move-result v0

    goto :goto_0

    .line 2182
    :catch_0
    move-exception v2

    .line 2183
    .local v2, ex:Landroid/database/sqlite/SQLiteDiskIOException;
    const-string v3, "ContactsProvider"

    const-string v4, "[delete]catch SQLiteDiskIOException!"

    invoke-static {v3, v4}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    move v1, v0

    .line 2184
    .end local v0           #count:I
    .restart local v1       #count:I
    goto :goto_1
.end method

.method public deleteData(J[Ljava/lang/String;)I
    .locals 12
    .parameter "dataId"
    .parameter "allowedMimeTypes"

    .prologue
    .line 3069
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v0}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v7

    .line 3073
    .local v7, db:Landroid/database/sqlite/SQLiteDatabase;
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v1, 0x0

    invoke-static {p1, p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v2

    aput-object v2, v0, v1

    .line 3074
    sget-object v1, Landroid/provider/ContactsContract$Data;->CONTENT_URI:Landroid/net/Uri;

    sget-object v2, Lcom/android/providers/contacts/DataRowHandler$DataDeleteQuery;->COLUMNS:[Ljava/lang/String;

    const-string v3, "_id=?"

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v5, 0x0

    move-object v0, p0

    invoke-virtual/range {v0 .. v5}, Lcom/android/providers/contacts/ContactsProvider2;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v6

    .line 3078
    .local v6, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface {v6}, Landroid/database/Cursor;->moveToFirst()Z
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v0

    if-nez v0, :cond_0

    .line 3079
    const/4 v0, 0x0

    .line 3098
    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    :goto_0
    return v0

    .line 3082
    :cond_0
    const/4 v0, 0x1

    :try_start_1
    invoke-interface {v6, v0}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v9

    .line 3083
    .local v9, mimeType:Ljava/lang/String;
    const/4 v11, 0x0

    .line 3084
    .local v11, valid:Z
    const/4 v8, 0x0

    .local v8, i:I
    :goto_1
    array-length v0, p3

    if-ge v8, v0, :cond_1

    .line 3085
    aget-object v0, p3, v8

    invoke-static {v9, v0}, Landroid/text/TextUtils;->equals(Ljava/lang/CharSequence;Ljava/lang/CharSequence;)Z

    move-result v0

    if-eqz v0, :cond_2

    .line 3086
    const/4 v11, 0x1

    .line 3091
    :cond_1
    if-nez v11, :cond_3

    .line 3092
    new-instance v0, Ljava/lang/IllegalArgumentException;

    new-instance v1, Ljava/lang/StringBuilder;

    invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V

    const-string v2, "Data type mismatch: expected "

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-static {p3}, Lcom/google/android/collect/Lists;->newArrayList([Ljava/lang/Object;)Ljava/util/ArrayList;

    move-result-object v2

    invoke-virtual {v1, v2}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v1

    invoke-virtual {v1}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v1

    invoke-direct {v0, v1}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v0
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 3098
    .end local v8           #i:I
    .end local v9           #mimeType:Ljava/lang/String;
    .end local v11           #valid:Z
    :catchall_0
    move-exception v0

    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    throw v0

    .line 3084
    .restart local v8       #i:I
    .restart local v9       #mimeType:Ljava/lang/String;
    .restart local v11       #valid:Z
    :cond_2
    add-int/lit8 v8, v8, 0x1

    goto :goto_1

    .line 3095
    :cond_3
    :try_start_2
    invoke-virtual {p0, v9}, Lcom/android/providers/contacts/ContactsProvider2;->getDataRowHandler(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;

    move-result-object v10

    .line 3096
    .local v10, rowHandler:Lcom/android/providers/contacts/DataRowHandler;
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v10, v7, v0, v6}, Lcom/android/providers/contacts/DataRowHandler;->delete(Landroid/database/sqlite/SQLiteDatabase;Lcom/android/providers/contacts/TransactionContext;Landroid/database/Cursor;)I
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    move-result v0

    .line 3098
    invoke-interface {v6}, Landroid/database/Cursor;->close()V

    goto :goto_0
.end method

.method public deleteGroup(Landroid/net/Uri;JZ)I
    .locals 8
    .parameter "uri"
    .parameter "groupId"
    .parameter "callerIsSyncAdapter"

    .prologue
    const/4 v6, 0x0

    const/4 v7, 0x1

    .line 3768
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 3769
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mGroupIdCache:Ljava/util/HashMap;

    invoke-virtual {v3}, Ljava/util/HashMap;->clear()V

    .line 3770
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v4, "vnd.android.cursor.item/group_membership"

    invoke-virtual {v3, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v1

    .line 3772
    .local v1, groupMembershipMimetypeId:J
    const-string v3, "data"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "mimetype_id="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v1, v2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " AND "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "data1"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, p2, p3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v0, v3, v4, v6}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    .line 3777
    if-eqz p4, :cond_0

    .line 3778
    :try_start_0
    const-string v3, "groups"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "_id="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, p2, p3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    const/4 v5, 0x0

    invoke-virtual {v0, v3, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v3

    .line 3787
    iput-boolean v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    :goto_0
    return v3

    .line 3780
    :cond_0
    :try_start_1
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v3}, Landroid/content/ContentValues;->clear()V

    .line 3781
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v4, "deleted"

    const/4 v5, 0x1

    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v5

    invoke-virtual {v3, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 3782
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v4, "dirty"

    const/4 v5, 0x1

    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v5

    invoke-virtual {v3, v4, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 3783
    const-string v3, "groups"

    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "_id="

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, p2, p3}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    const/4 v6, 0x0

    invoke-virtual {v0, v3, v4, v5, v6}, Landroid/database/sqlite/SQLiteDatabase;->update(Ljava/lang/String;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    move-result v3

    .line 3787
    iput-boolean v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    goto :goto_0

    :catchall_0
    move-exception v3

    iput-boolean v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    throw v3
.end method

.method protected deleteInTransaction(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 48
    .parameter "uri"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 3464
    sget-boolean v5, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v5, :cond_0

    .line 3465
    const-string v5, "ContactsProvider"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "deleteInTransaction: uri="

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-object/from16 v0, p1

    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v8, "  selection=["

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-object/from16 v0, p2

    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v8, "]  args="

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-static/range {p3 .. p3}, Ljava/util/Arrays;->toString([Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v5, v6}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 3469
    :cond_0
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v4

    .line 3471
    .local v4, db:Landroid/database/sqlite/SQLiteDatabase;
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->flushTransactionalChanges()V

    .line 3472
    const-string v5, "caller_is_syncadapter"

    const/4 v6, 0x0

    move-object/from16 v0, p1

    invoke-static {v0, v5, v6}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v21

    .line 3474
    .local v21, callerIsSyncAdapter:Z
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    move-object/from16 v0, p1

    invoke-virtual {v5, v0}, Landroid/content/UriMatcher;->match(Landroid/net/Uri;)I

    move-result v38

    .line 3475
    .local v38, match:I
    sparse-switch v38, :sswitch_data_0

    .line 3761
    const/4 v5, 0x1

    move-object/from16 v0, p0

    iput-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 3762
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mLegacyApiSupport:Lcom/android/providers/contacts/LegacyApiSupport;

    move-object/from16 v0, p1

    move-object/from16 v1, p2

    move-object/from16 v2, p3

    invoke-virtual {v5, v0, v1, v2}, Lcom/android/providers/contacts/LegacyApiSupport;->delete(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v33

    :goto_0
    return v33

    .line 3478
    :sswitch_0
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v5

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    invoke-virtual {v5, v4, v0, v1}, Lcom/android/common/content/SyncStateContentProviderHelper;->delete(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v33

    goto :goto_0

    .line 3482
    :sswitch_1
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "_id="

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v8

    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, " "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    if-nez p2, :cond_1

    const-string v5, ""

    :goto_1
    invoke-virtual {v6, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v43

    .line 3485
    .local v43, selectionWithId:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v5

    move-object/from16 v0, v43

    move-object/from16 v1, p3

    invoke-virtual {v5, v4, v0, v1}, Lcom/android/common/content/SyncStateContentProviderHelper;->delete(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v33

    goto :goto_0

    .line 3482
    .end local v43           #selectionWithId:Ljava/lang/String;
    :cond_1
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, " AND ("

    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, p2

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v8, ")"

    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    goto :goto_1

    .line 3490
    :sswitch_2
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "_id="

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v8

    invoke-virtual {v5, v8, v9}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, " "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    if-nez p2, :cond_2

    const-string v5, ""

    :goto_2
    invoke-virtual {v6, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v43

    .line 3493
    .restart local v43       #selectionWithId:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v5

    move-object/from16 v0, v43

    move-object/from16 v1, p3

    invoke-virtual {v5, v4, v0, v1}, Lcom/android/common/content/SyncStateContentProviderHelper;->delete(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v33

    goto/16 :goto_0

    .line 3490
    .end local v43           #selectionWithId:Ljava/lang/String;
    :cond_2
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, " AND ("

    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, p2

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v8, ")"

    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    goto :goto_2

    .line 3498
    :sswitch_3
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 3504
    const-string v5, "ContactsProvider"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "deleteInTransaction for CONTACTS uri is "

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v8, " selection is "

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move-object/from16 v0, p2

    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v5, v6}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 3506
    const-string v5, "true"

    const-string v6, "batch"

    move-object/from16 v0, p1

    invoke-virtual {v0, v6}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v5, v6}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-eqz v5, :cond_4

    .line 3507
    const-string v5, "ContactsProvider"

    const-string v6, "Delete in one batch begin"

    invoke-static {v5, v6}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 3508
    new-instance v47, Ljava/lang/StringBuilder;

    invoke-direct/range {v47 .. v47}, Ljava/lang/StringBuilder;-><init>()V

    .line 3509
    .local v47, whereBuilder:Ljava/lang/StringBuilder;
    move-object/from16 v0, p3

    array-length v5, v0

    new-array v0, v5, [Ljava/lang/String;

    move-object/from16 v41, v0

    .line 3510
    .local v41, questionMarks:[Ljava/lang/String;
    const-string v5, "?"

    move-object/from16 v0, v41

    invoke-static {v0, v5}, Ljava/util/Arrays;->fill([Ljava/lang/Object;Ljava/lang/Object;)V

    .line 3511
    const-string v5, "contact_id IN ("

    move-object/from16 v0, v47

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, ","

    move-object/from16 v0, v41

    invoke-static {v6, v0}, Landroid/text/TextUtils;->join(Ljava/lang/CharSequence;[Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, ")"

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 3515
    const/16 v36, 0x0

    .line 3516
    .local v36, localAccountDeletes:I
    sget-object v5, Landroid/provider/ContactsContract$RawContacts;->CONTENT_URI:Landroid/net/Uri;

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual/range {v47 .. v47}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v8, " AND ("

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v8, "account_type"

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v8, " IS \'"

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v8, "Local Phone Account"

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v8, "\' OR "

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v8, "account_type"

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v8, " IS NULL)"

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    move-object/from16 v0, p0

    move-object/from16 v1, p3

    invoke-virtual {v0, v5, v6, v1}, Lcom/android/providers/contacts/ContactsProvider2;->deleteRawContactInOneBatch(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v36

    .line 3520
    const-string v5, "ContactsProvider"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "deleteRawContactInOneBatch count is "

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move/from16 v0, v36

    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v5, v6}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 3523
    const/16 v46, 0x0

    .line 3524
    .local v46, syncAccountDeletes:I
    const-string v5, "view_raw_contacts"

    const/4 v6, 0x2

    new-array v6, v6, [Ljava/lang/String;

    const/4 v8, 0x0

    const-string v9, "_id"

    aput-object v9, v6, v8

    const/4 v8, 0x1

    const-string v9, "contact_id"

    aput-object v9, v6, v8

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    invoke-virtual/range {v47 .. v47}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v9, " AND ("

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v9, "account_type"

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v9, " IS NOT \'"

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v9, "Local Phone Account"

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v9, "\' OR "

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v9, "account_type"

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v9, " IS NOT NULL)"

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    move-object/from16 v8, p3

    invoke-virtual/range {v4 .. v11}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v30

    .line 3532
    .local v30, c:Landroid/database/Cursor;
    :goto_3
    :try_start_0
    invoke-interface/range {v30 .. v30}, Landroid/database/Cursor;->moveToNext()Z

    move-result v5

    if-eqz v5, :cond_3

    .line 3533
    const/4 v5, 0x1

    move-object/from16 v0, v30

    invoke-interface {v0, v5}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v14

    .line 3534
    .local v14, contactId:J
    const/4 v5, 0x1

    move-object/from16 v0, p0

    invoke-direct {v0, v14, v15, v5}, Lcom/android/providers/contacts/ContactsProvider2;->deleteContact(JZ)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result v5

    add-int v46, v46, v5

    .line 3535
    goto :goto_3

    .line 3537
    .end local v14           #contactId:J
    :cond_3
    invoke-interface/range {v30 .. v30}, Landroid/database/Cursor;->close()V

    .line 3539
    const-string v5, "ContactsProvider"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "deleteContactInSyncAccount count is "

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move/from16 v0, v46

    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v5, v6}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 3540
    const-string v5, "ContactsProvider"

    const-string v6, "Delete in one batch end"

    invoke-static {v5, v6}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 3541
    add-int v33, v36, v46

    goto/16 :goto_0

    .line 3537
    :catchall_0
    move-exception v5

    invoke-interface/range {v30 .. v30}, Landroid/database/Cursor;->close()V

    throw v5

    .line 3544
    .end local v30           #c:Landroid/database/Cursor;
    .end local v36           #localAccountDeletes:I
    .end local v41           #questionMarks:[Ljava/lang/String;
    .end local v46           #syncAccountDeletes:I
    .end local v47           #whereBuilder:Ljava/lang/StringBuilder;
    :cond_4
    const/16 v33, 0x0

    goto/16 :goto_0

    .line 3548
    :sswitch_4
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 3549
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v14

    .line 3550
    .restart local v14       #contactId:J
    move-object/from16 v0, p0

    move/from16 v1, v21

    invoke-direct {v0, v14, v15, v1}, Lcom/android/providers/contacts/ContactsProvider2;->deleteContact(JZ)I

    move-result v33

    goto/16 :goto_0

    .line 3554
    .end local v14           #contactId:J
    :sswitch_5
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 3555
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v40

    .line 3556
    .local v40, pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-interface/range {v40 .. v40}, Ljava/util/List;->size()I

    move-result v42

    .line 3557
    .local v42, segmentCount:I
    const/4 v5, 0x3

    move/from16 v0, v42

    if-ge v0, v5, :cond_5

    .line 3558
    new-instance v6, Ljava/lang/IllegalArgumentException;

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v8, "Missing a lookup key"

    move-object/from16 v0, p1

    invoke-virtual {v5, v8, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v5

    invoke-direct {v6, v5}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v6

    .line 3561
    :cond_5
    const/4 v5, 0x2

    move-object/from16 v0, v40

    invoke-interface {v0, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v37

    check-cast v37, Ljava/lang/String;

    .line 3562
    .local v37, lookupKey:Ljava/lang/String;
    move-object/from16 v0, p0

    move-object/from16 v1, v37

    invoke-virtual {v0, v4, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v14

    .line 3563
    .restart local v14       #contactId:J
    move-object/from16 v0, p0

    move/from16 v1, v21

    invoke-direct {v0, v14, v15, v1}, Lcom/android/providers/contacts/ContactsProvider2;->deleteContact(JZ)I

    move-result v33

    goto/16 :goto_0

    .line 3567
    .end local v14           #contactId:J
    .end local v37           #lookupKey:Ljava/lang/String;
    .end local v40           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v42           #segmentCount:I
    :sswitch_6
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 3569
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v40

    .line 3570
    .restart local v40       #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    const/4 v5, 0x2

    move-object/from16 v0, v40

    invoke-interface {v0, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v37

    check-cast v37, Ljava/lang/String;

    .line 3571
    .restart local v37       #lookupKey:Ljava/lang/String;
    new-instance v7, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v7}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 3572
    .local v7, lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct {v0, v7, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 3573
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v31

    .line 3575
    .local v31, contactId:J
    if-nez p3, :cond_6

    .line 3576
    const/4 v5, 0x2

    new-array v10, v5, [Ljava/lang/String;

    .line 3581
    .local v10, args:[Ljava/lang/String;
    :goto_4
    const/4 v5, 0x0

    invoke-static/range {v31 .. v32}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v10, v5

    .line 3582
    const/4 v5, 0x1

    invoke-static/range {v37 .. v37}, Landroid/net/Uri;->encode(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v10, v5

    .line 3583
    const-string v5, "_id=? AND lookup=?"

    invoke-virtual {v7, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 3584
    const/4 v8, 0x0

    const/4 v11, 0x0

    const/4 v12, 0x0

    const/4 v13, 0x0

    const/4 v14, 0x0

    const/4 v15, 0x0

    move-object/from16 v5, p0

    move-object v6, v4

    move-object/from16 v9, p2

    invoke-direct/range {v5 .. v15}, Lcom/android/providers/contacts/ContactsProvider2;->query(Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v30

    .line 3587
    .restart local v30       #c:Landroid/database/Cursor;
    :try_start_1
    invoke-interface/range {v30 .. v30}, Landroid/database/Cursor;->getCount()I

    move-result v5

    const/4 v6, 0x1

    if-ne v5, v6, :cond_7

    .line 3589
    move-object/from16 v0, p0

    move-wide/from16 v1, v31

    move/from16 v3, v21

    invoke-direct {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->deleteContact(JZ)I
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1

    move-result v33

    .line 3596
    invoke-interface/range {v30 .. v30}, Landroid/database/Cursor;->close()V

    goto/16 :goto_0

    .line 3578
    .end local v10           #args:[Ljava/lang/String;
    .end local v30           #c:Landroid/database/Cursor;
    :cond_6
    move-object/from16 v0, p3

    array-length v5, v0

    add-int/lit8 v5, v5, 0x2

    new-array v10, v5, [Ljava/lang/String;

    .line 3579
    .restart local v10       #args:[Ljava/lang/String;
    const/4 v5, 0x0

    const/4 v6, 0x2

    move-object/from16 v0, p3

    array-length v8, v0

    move-object/from16 v0, p3

    invoke-static {v0, v5, v10, v6, v8}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    goto :goto_4

    .line 3593
    .restart local v30       #c:Landroid/database/Cursor;
    :cond_7
    const/16 v33, 0x0

    .line 3596
    invoke-interface/range {v30 .. v30}, Landroid/database/Cursor;->close()V

    goto/16 :goto_0

    :catchall_1
    move-exception v5

    invoke-interface/range {v30 .. v30}, Landroid/database/Cursor;->close()V

    throw v5

    .line 3601
    .end local v7           #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v10           #args:[Ljava/lang/String;
    .end local v30           #c:Landroid/database/Cursor;
    .end local v31           #contactId:J
    .end local v37           #lookupKey:Ljava/lang/String;
    .end local v40           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    :sswitch_7
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->deleteDataUsage()I

    move-result v33

    goto/16 :goto_0

    .line 3608
    :sswitch_8
    const-string v5, "true"

    const-string v6, "sim"

    move-object/from16 v0, p1

    invoke-virtual {v0, v6}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v5, v6}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-eqz v5, :cond_8

    .line 3609
    const-string v5, "ContactsProvider"

    const-string v6, "Before delete "

    invoke-static {v5, v6}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 3610
    const/16 v33, 0x0

    .line 3612
    .local v33, count:I
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDialerSearchSupport:Lcom/android/providers/contacts/DialerSearchSupport;

    move-object/from16 v0, p2

    move-object/from16 v1, p3

    invoke-virtual {v5, v4, v0, v1}, Lcom/android/providers/contacts/DialerSearchSupport;->updateDialerSearchDataForMultiDelete(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v33

    .line 3617
    const-string v5, "ContactsProvider"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "count is "

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move/from16 v0, v33

    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v5, v6}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    goto/16 :goto_0

    .line 3622
    .end local v33           #count:I
    :cond_8
    :sswitch_9
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 3627
    const-string v5, "ContactsProvider"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "deleteInTransaction for raw_contacts uri is "

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    const-string v8, " callerIsSyncAdapter is "

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move/from16 v0, v21

    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v5, v6}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 3629
    if-eqz v21, :cond_9

    const-string v5, "true"

    const-string v6, "batch"

    move-object/from16 v0, p1

    invoke-virtual {v0, v6}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v5, v6}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-eqz v5, :cond_9

    .line 3630
    const-string v5, "ContactsProvider"

    const-string v6, "Delete in one batch begin"

    invoke-static {v5, v6}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 3631
    const/16 v33, 0x0

    .line 3632
    .restart local v33       #count:I
    invoke-virtual/range {p0 .. p3}, Lcom/android/providers/contacts/ContactsProvider2;->deleteRawContactInOneBatch(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v33

    .line 3633
    const-string v5, "ContactsProvider"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "deleteRawContactInOneBatch count is "

    invoke-virtual {v6, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    move/from16 v0, v33

    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v5, v6}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 3634
    const-string v5, "ContactsProvider"

    const-string v6, "Delete in one batch end"

    invoke-static {v5, v6}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    goto/16 :goto_0

    .line 3638
    .end local v33           #count:I
    :cond_9
    const/16 v39, 0x0

    .line 3639
    .local v39, numDeletes:I
    const-string v12, "view_raw_contacts"

    const/4 v5, 0x2

    new-array v13, v5, [Ljava/lang/String;

    const/4 v5, 0x0

    const-string v6, "_id"

    aput-object v6, v13, v5

    const/4 v5, 0x1

    const-string v6, "contact_id"

    aput-object v6, v13, v5

    invoke-direct/range {p0 .. p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountIdToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v14

    const/16 v16, 0x0

    const/16 v17, 0x0

    const/16 v18, 0x0

    move-object v11, v4

    move-object/from16 v15, p3

    invoke-virtual/range {v11 .. v18}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v30

    .line 3644
    .restart local v30       #c:Landroid/database/Cursor;
    :goto_5
    :try_start_2
    invoke-interface/range {v30 .. v30}, Landroid/database/Cursor;->moveToNext()Z

    move-result v5

    if-eqz v5, :cond_a

    .line 3645
    const/4 v5, 0x0

    move-object/from16 v0, v30

    invoke-interface {v0, v5}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v12

    .line 3646
    .local v12, rawContactId:J
    const/4 v5, 0x1

    move-object/from16 v0, v30

    invoke-interface {v0, v5}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v14

    .restart local v14       #contactId:J
    move-object/from16 v11, p0

    move/from16 v16, v21

    .line 3647
    invoke-virtual/range {v11 .. v16}, Lcom/android/providers/contacts/ContactsProvider2;->deleteRawContact(JJZ)I
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_2

    move-result v5

    add-int v39, v39, v5

    .line 3649
    goto :goto_5

    .line 3651
    .end local v12           #rawContactId:J
    .end local v14           #contactId:J
    :cond_a
    invoke-interface/range {v30 .. v30}, Landroid/database/Cursor;->close()V

    move/from16 v33, v39

    .line 3653
    goto/16 :goto_0

    .line 3651
    :catchall_2
    move-exception v5

    invoke-interface/range {v30 .. v30}, Landroid/database/Cursor;->close()V

    throw v5

    .line 3658
    .end local v30           #c:Landroid/database/Cursor;
    .end local v39           #numDeletes:I
    :sswitch_a
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 3659
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v12

    .line 3660
    .restart local v12       #rawContactId:J
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5, v12, v13}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getContactId(J)J

    move-result-wide v19

    move-object/from16 v16, p0

    move-wide/from16 v17, v12

    invoke-virtual/range {v16 .. v21}, Lcom/android/providers/contacts/ContactsProvider2;->deleteRawContact(JJZ)I

    move-result v33

    goto/16 :goto_0

    .line 3666
    .end local v12           #rawContactId:J
    :sswitch_b
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 3667
    move-object/from16 v0, p0

    iget-boolean v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v21, :cond_b

    const/4 v5, 0x1

    :goto_6
    or-int/2addr v5, v6

    move-object/from16 v0, p0

    iput-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 3668
    invoke-direct/range {p0 .. p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p3

    move/from16 v2, v21

    invoke-direct {v0, v5, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteData(Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v33

    goto/16 :goto_0

    .line 3667
    :cond_b
    const/4 v5, 0x0

    goto :goto_6

    .line 3678
    :sswitch_c
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 3679
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v34

    .line 3680
    .local v34, dataId:J
    move-object/from16 v0, p0

    iget-boolean v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v21, :cond_c

    const/4 v5, 0x1

    :goto_7
    or-int/2addr v5, v6

    move-object/from16 v0, p0

    iput-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 3681
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v6, 0x0

    invoke-static/range {v34 .. v35}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v8

    aput-object v8, v5, v6

    .line 3682
    const-string v5, "_id=?"

    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    move-object/from16 v0, p0

    move/from16 v1, v21

    invoke-direct {v0, v5, v6, v1}, Lcom/android/providers/contacts/ContactsProvider2;->deleteData(Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v33

    goto/16 :goto_0

    .line 3680
    :cond_c
    const/4 v5, 0x0

    goto :goto_7

    .line 3686
    .end local v34           #dataId:J
    :sswitch_d
    move-object/from16 v0, p0

    iget-boolean v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v21, :cond_d

    const/4 v5, 0x1

    :goto_8
    or-int/2addr v5, v6

    move-object/from16 v0, p0

    iput-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 3687
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v5

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move/from16 v2, v21

    invoke-virtual {v0, v1, v5, v6, v2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteGroup(Landroid/net/Uri;JZ)I

    move-result v33

    goto/16 :goto_0

    .line 3686
    :cond_d
    const/4 v5, 0x0

    goto :goto_8

    .line 3691
    :sswitch_e
    const/16 v39, 0x0

    .line 3692
    .restart local v39       #numDeletes:I
    const-string v23, "view_groups"

    sget-object v24, Lcom/android/providers/contacts/ContactsDatabaseHelper$Projections;->ID:[Ljava/lang/String;

    invoke-direct/range {p0 .. p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountIdToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v25

    const/16 v27, 0x0

    const/16 v28, 0x0

    const/16 v29, 0x0

    move-object/from16 v22, v4

    move-object/from16 v26, p3

    invoke-virtual/range {v22 .. v29}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v30

    .line 3696
    .restart local v30       #c:Landroid/database/Cursor;
    :goto_9
    :try_start_3
    invoke-interface/range {v30 .. v30}, Landroid/database/Cursor;->moveToNext()Z

    move-result v5

    if-eqz v5, :cond_e

    .line 3697
    const/4 v5, 0x0

    move-object/from16 v0, v30

    invoke-interface {v0, v5}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v5

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move/from16 v2, v21

    invoke-virtual {v0, v1, v5, v6, v2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteGroup(Landroid/net/Uri;JZ)I
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_3

    move-result v5

    add-int v39, v39, v5

    goto :goto_9

    .line 3700
    :cond_e
    invoke-interface/range {v30 .. v30}, Landroid/database/Cursor;->close()V

    .line 3702
    if-lez v39, :cond_f

    .line 3703
    move-object/from16 v0, p0

    iget-boolean v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v21, :cond_10

    const/4 v5, 0x1

    :goto_a
    or-int/2addr v5, v6

    move-object/from16 v0, p0

    iput-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    :cond_f
    move/from16 v33, v39

    .line 3705
    goto/16 :goto_0

    .line 3700
    :catchall_3
    move-exception v5

    invoke-interface/range {v30 .. v30}, Landroid/database/Cursor;->close()V

    throw v5

    .line 3703
    :cond_10
    const/4 v5, 0x0

    goto :goto_a

    .line 3709
    .end local v30           #c:Landroid/database/Cursor;
    .end local v39           #numDeletes:I
    :sswitch_f
    move-object/from16 v0, p0

    iget-boolean v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v21, :cond_11

    const/4 v5, 0x1

    :goto_b
    or-int/2addr v5, v6

    move-object/from16 v0, p0

    iput-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 3710
    invoke-direct/range {p0 .. p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-direct {v0, v1, v5, v2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteSettings(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v33

    goto/16 :goto_0

    .line 3709
    :cond_11
    const/4 v5, 0x0

    goto :goto_b

    .line 3715
    :sswitch_10
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    move-object/from16 v2, p3

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStatusUpdates(Ljava/lang/String;[Ljava/lang/String;)I

    move-result v33

    goto/16 :goto_0

    .line 3719
    :sswitch_11
    move-object/from16 v0, p0

    iget-boolean v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v21, :cond_12

    const/4 v5, 0x1

    :goto_c
    or-int/2addr v5, v6

    move-object/from16 v0, p0

    iput-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 3720
    new-instance v5, Landroid/content/ContentValues;

    invoke-direct {v5}, Landroid/content/ContentValues;-><init>()V

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    move-object/from16 v3, p3

    invoke-direct {v0, v1, v5, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v33

    goto/16 :goto_0

    .line 3719
    :cond_12
    const/4 v5, 0x0

    goto :goto_c

    .line 3724
    :sswitch_12
    move-object/from16 v0, p0

    iget-boolean v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v21, :cond_13

    const/4 v5, 0x1

    :goto_d
    or-int/2addr v5, v6

    move-object/from16 v0, p0

    iput-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 3725
    new-instance v5, Landroid/content/ContentValues;

    invoke-direct {v5}, Landroid/content/ContentValues;-><init>()V

    const-string v6, "_id=?"

    const/4 v8, 0x1

    new-array v8, v8, [Ljava/lang/String;

    const/4 v9, 0x0

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v11

    aput-object v11, v8, v9

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct {v0, v1, v5, v6, v8}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v33

    goto/16 :goto_0

    .line 3724
    :cond_13
    const/4 v5, 0x0

    goto :goto_d

    .line 3731
    :sswitch_13
    move-object/from16 v0, p0

    iget-boolean v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v21, :cond_14

    const/4 v5, 0x1

    :goto_e
    or-int/2addr v5, v6

    move-object/from16 v0, p0

    iput-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 3732
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v6, 0x1

    invoke-interface {v5, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v12

    check-cast v12, Ljava/lang/String;

    .line 3733
    .local v12, rawContactId:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v44

    .line 3734
    .local v44, streamItemId:Ljava/lang/String;
    new-instance v5, Landroid/content/ContentValues;

    invoke-direct {v5}, Landroid/content/ContentValues;-><init>()V

    const-string v6, "raw_contact_id=? AND _id=?"

    const/4 v8, 0x2

    new-array v8, v8, [Ljava/lang/String;

    const/4 v9, 0x0

    aput-object v12, v8, v9

    const/4 v9, 0x1

    aput-object v44, v8, v9

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct {v0, v1, v5, v6, v8}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v33

    goto/16 :goto_0

    .line 3731
    .end local v12           #rawContactId:Ljava/lang/String;
    .end local v44           #streamItemId:Ljava/lang/String;
    :cond_14
    const/4 v5, 0x0

    goto :goto_e

    .line 3741
    :sswitch_14
    move-object/from16 v0, p0

    iget-boolean v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v21, :cond_15

    const/4 v5, 0x1

    :goto_f
    or-int/2addr v5, v6

    move-object/from16 v0, p0

    iput-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 3742
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v6, 0x1

    invoke-interface {v5, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v44

    check-cast v44, Ljava/lang/String;

    .line 3743
    .restart local v44       #streamItemId:Ljava/lang/String;
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "stream_item_id="

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, v44

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, " "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    if-nez p2, :cond_16

    const-string v5, ""

    :goto_10
    invoke-virtual {v6, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v43

    .line 3746
    .restart local v43       #selectionWithId:Ljava/lang/String;
    new-instance v5, Landroid/content/ContentValues;

    invoke-direct {v5}, Landroid/content/ContentValues;-><init>()V

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, v43

    move-object/from16 v3, p3

    invoke-direct {v0, v1, v5, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItemPhotos(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v33

    goto/16 :goto_0

    .line 3741
    .end local v43           #selectionWithId:Ljava/lang/String;
    .end local v44           #streamItemId:Ljava/lang/String;
    :cond_15
    const/4 v5, 0x0

    goto :goto_f

    .line 3743
    .restart local v44       #streamItemId:Ljava/lang/String;
    :cond_16
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, " AND ("

    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, p2

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v8, ")"

    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    goto :goto_10

    .line 3751
    .end local v44           #streamItemId:Ljava/lang/String;
    :sswitch_15
    move-object/from16 v0, p0

    iget-boolean v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v21, :cond_17

    const/4 v5, 0x1

    :goto_11
    or-int/2addr v5, v6

    move-object/from16 v0, p0

    iput-boolean v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 3752
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v6, 0x1

    invoke-interface {v5, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v44

    check-cast v44, Ljava/lang/String;

    .line 3753
    .restart local v44       #streamItemId:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v6, 0x3

    invoke-interface {v5, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v45

    check-cast v45, Ljava/lang/String;

    .line 3754
    .local v45, streamItemPhotoId:Ljava/lang/String;
    new-instance v5, Landroid/content/ContentValues;

    invoke-direct {v5}, Landroid/content/ContentValues;-><init>()V

    const-string v6, "stream_item_photos._id=? AND stream_item_id=?"

    const/4 v8, 0x2

    new-array v8, v8, [Ljava/lang/String;

    const/4 v9, 0x0

    aput-object v45, v8, v9

    const/4 v9, 0x1

    aput-object v44, v8, v9

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct {v0, v1, v5, v6, v8}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItemPhotos(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v33

    goto/16 :goto_0

    .line 3751
    .end local v44           #streamItemId:Ljava/lang/String;
    .end local v45           #streamItemPhotoId:Ljava/lang/String;
    :cond_17
    const/4 v5, 0x0

    goto :goto_11

    .line 3475
    :sswitch_data_0
    .sparse-switch
        0x3e8 -> :sswitch_3
        0x3e9 -> :sswitch_4
        0x3ea -> :sswitch_5
        0x3eb -> :sswitch_6
        0x402 -> :sswitch_7
        0x7d2 -> :sswitch_8
        0x7d3 -> :sswitch_a
        0x7d8 -> :sswitch_13
        0xbb8 -> :sswitch_b
        0xbb9 -> :sswitch_c
        0xbbb -> :sswitch_c
        0xbbe -> :sswitch_c
        0xbc2 -> :sswitch_c
        0xbc4 -> :sswitch_c
        0x1b58 -> :sswitch_10
        0x2328 -> :sswitch_f
        0x2710 -> :sswitch_e
        0x2711 -> :sswitch_d
        0x2af8 -> :sswitch_0
        0x2af9 -> :sswitch_1
        0x2afa -> :sswitch_0
        0x2afb -> :sswitch_2
        0x4a3a -> :sswitch_b
        0x4a3b -> :sswitch_c
        0x4a3d -> :sswitch_9
        0x4a3e -> :sswitch_a
        0x4a41 -> :sswitch_10
        0x5208 -> :sswitch_11
        0x520a -> :sswitch_12
        0x520b -> :sswitch_14
        0x520c -> :sswitch_15
    .end sparse-switch
.end method

.method protected deleteLocalSimAccounts(Ljava/util/Collection;)V
    .locals 8
    .parameter
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/Collection",
            "<",
            "Ljava/lang/String;",
            ">;)V"
        }
    .end annotation

    .prologue
    .line 9126
    .local p1, accountNames:Ljava/util/Collection;,"Ljava/util/Collection<Ljava/lang/String;>;"
    invoke-interface {p1}, Ljava/util/Collection;->iterator()Ljava/util/Iterator;

    move-result-object v4

    .local v4, i$:Ljava/util/Iterator;
    :goto_0
    invoke-interface {v4}, Ljava/util/Iterator;->hasNext()Z

    move-result v5

    if-eqz v5, :cond_1

    invoke-interface {v4}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Ljava/lang/String;

    .line 9127
    .local v0, accountName:Ljava/lang/String;
    const-string v5, "ContactsProvider"

    new-instance v6, Ljava/lang/StringBuilder;

    invoke-direct {v6}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "deleteLocalSimAccounts()+ accountName="

    invoke-virtual {v6, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v6

    invoke-virtual {v6}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-static {v5, v6}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 9129
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 9130
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v2

    .line 9138
    .local v2, db:Landroid/database/sqlite/SQLiteDatabase;
    :try_start_0
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V
    :try_end_0
    .catch Landroid/database/sqlite/SQLiteDiskIOException; {:try_start_0 .. :try_end_0} :catch_1

    .line 9149
    :try_start_1
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "SELECT account_name,account_type FROM settings WHERE account_name = \'"

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, "\'"

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    const/4 v6, 0x0

    invoke-virtual {v2, v5, v6}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1

    move-result-object v1

    .line 9153
    .local v1, c:Landroid/database/Cursor;
    :try_start_2
    const-string v6, "ContactsProvider"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "Handle Accounts -c.count:"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    if-nez v1, :cond_2

    const/4 v5, 0x0

    :goto_1
    invoke-virtual {v7, v5}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v6, v5}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 9155
    if-eqz v1, :cond_0

    invoke-interface {v1}, Landroid/database/Cursor;->getCount()I

    move-result v5

    if-eqz v5, :cond_0

    .line 9156
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "DELETE FROM settings WHERE account_name = \'"

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v6, "\'"

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v2, v5}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;)V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    .line 9160
    :cond_0
    :try_start_3
    invoke-interface {v1}, Landroid/database/Cursor;->close()V

    .line 9162
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_1

    .line 9165
    :try_start_4
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
    :try_end_4
    .catch Landroid/database/sqlite/SQLiteDiskIOException; {:try_start_4 .. :try_end_4} :catch_0
    .catch Landroid/database/sqlite/SQLiteCantOpenDatabaseException; {:try_start_4 .. :try_end_4} :catch_2

    goto/16 :goto_0

    .line 9166
    :catch_0
    move-exception v3

    .line 9167
    .local v3, ex:Landroid/database/sqlite/SQLiteDiskIOException;
    const-string v5, "ContactsProvider"

    const-string v6, "[deleteLocalSimAccounts]catch SQLiteDiskIOException when endTransaction."

    invoke-static {v5, v6}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    .line 9183
    .end local v0           #accountName:Ljava/lang/String;
    .end local v1           #c:Landroid/database/Cursor;
    .end local v2           #db:Landroid/database/sqlite/SQLiteDatabase;
    .end local v3           #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    :cond_1
    :goto_2
    return-void

    .line 9139
    .restart local v0       #accountName:Ljava/lang/String;
    .restart local v2       #db:Landroid/database/sqlite/SQLiteDatabase;
    :catch_1
    move-exception v3

    .line 9140
    .restart local v3       #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    const-string v5, "ContactsProvider"

    const-string v6, "[deleteLocalSimAccounts]catch SQLiteDiskIOException."

    invoke-static {v5, v6}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_2

    .line 9153
    .end local v3           #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    .restart local v1       #c:Landroid/database/Cursor;
    :cond_2
    :try_start_5
    invoke-interface {v1}, Landroid/database/Cursor;->getCount()I
    :try_end_5
    .catchall {:try_start_5 .. :try_end_5} :catchall_0

    move-result v5

    goto :goto_1

    .line 9160
    :catchall_0
    move-exception v5

    :try_start_6
    invoke-interface {v1}, Landroid/database/Cursor;->close()V

    throw v5
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_1

    .line 9164
    .end local v1           #c:Landroid/database/Cursor;
    :catchall_1
    move-exception v5

    .line 9165
    :try_start_7
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
    :try_end_7
    .catch Landroid/database/sqlite/SQLiteDiskIOException; {:try_start_7 .. :try_end_7} :catch_3
    .catch Landroid/database/sqlite/SQLiteCantOpenDatabaseException; {:try_start_7 .. :try_end_7} :catch_4

    .line 9175
    throw v5

    .line 9173
    .restart local v1       #c:Landroid/database/Cursor;
    :catch_2
    move-exception v3

    .line 9174
    .local v3, ex:Landroid/database/sqlite/SQLiteCantOpenDatabaseException;
    const-string v5, "ContactsProvider"

    const-string v6, "[deleteLocalSimAccounts]catch SQLiteCantOpenDatabaseException for endTransaction()"

    invoke-static {v5, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_2

    .line 9166
    .end local v1           #c:Landroid/database/Cursor;
    .end local v3           #ex:Landroid/database/sqlite/SQLiteCantOpenDatabaseException;
    :catch_3
    move-exception v3

    .line 9167
    .local v3, ex:Landroid/database/sqlite/SQLiteDiskIOException;
    const-string v5, "ContactsProvider"

    const-string v6, "[deleteLocalSimAccounts]catch SQLiteDiskIOException when endTransaction."

    invoke-static {v5, v6}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_2

    .line 9173
    .end local v3           #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    :catch_4
    move-exception v3

    .line 9174
    .local v3, ex:Landroid/database/sqlite/SQLiteCantOpenDatabaseException;
    const-string v5, "ContactsProvider"

    const-string v6, "[deleteLocalSimAccounts]catch SQLiteCantOpenDatabaseException for endTransaction()"

    invoke-static {v5, v6}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_2
.end method

.method public deleteRawContact(JJZ)I
    .locals 10
    .parameter "rawContactId"
    .parameter "contactId"
    .parameter "callerIsSyncAdapter"

    .prologue
    const/4 v4, 0x1

    const/4 v7, 0x0

    const/4 v5, 0x0

    .line 3820
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    invoke-virtual {v1}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->invalidateAggregationExceptionCache()V

    .line 3821
    iput-boolean v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatusUpdateNeeded:Z

    .line 3823
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 3826
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v1, "stream_items"

    new-array v2, v4, [Ljava/lang/String;

    const-string v3, "_id"

    aput-object v3, v2, v7

    const-string v3, "raw_contact_id=?"

    new-array v4, v4, [Ljava/lang/String;

    invoke-static {p1, p2}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v7

    move-object v6, v5

    move-object v7, v5

    invoke-virtual/range {v0 .. v7}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v8

    .line 3831
    .local v8, c:Landroid/database/Cursor;
    :goto_0
    :try_start_0
    invoke-interface {v8}, Landroid/database/Cursor;->moveToNext()Z

    move-result v1

    if-eqz v1, :cond_0

    .line 3832
    const/4 v1, 0x0

    invoke-interface {v8, v1}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v1

    invoke-direct {p0, v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItem(Landroid/database/sqlite/SQLiteDatabase;J)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    .line 3835
    :catchall_0
    move-exception v1

    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    throw v1

    :cond_0
    invoke-interface {v8}, Landroid/database/Cursor;->close()V

    .line 3838
    if-nez p5, :cond_1

    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->rawContactIsLocal(J)Z

    move-result v1

    if-eqz v1, :cond_2

    .line 3839
    :cond_1
    const-string v1, "presence"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "presence_raw_contact_id="

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, p1, p2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v1, v2, v5}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    .line 3841
    const-string v1, "raw_contacts"

    new-instance v2, Ljava/lang/StringBuilder;

    invoke-direct {v2}, Ljava/lang/StringBuilder;-><init>()V

    const-string v3, "_id="

    invoke-virtual {v2, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2, p1, p2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v2

    invoke-virtual {v2}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v1, v2, v5}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v9

    .line 3843
    .local v9, count:I
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v1, v2, p3, p4}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->updateAggregateData(Lcom/android/providers/contacts/TransactionContext;J)V

    .line 3845
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDialerSearchSupport:Lcom/android/providers/contacts/DialerSearchSupport;

    invoke-virtual {v1, v0, p1, p2}, Lcom/android/providers/contacts/DialerSearchSupport;->updateDialerSearchDataForDelete(Landroid/database/sqlite/SQLiteDatabase;J)V

    .line 3850
    .end local v9           #count:I
    :goto_1
    return v9

    .line 3849
    :cond_2
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1, p1, p2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->removeContactIfSingleton(J)V

    .line 3850
    invoke-direct {p0, v0, p1, p2, p5}, Lcom/android/providers/contacts/ContactsProvider2;->markRawContactAsDeleted(Landroid/database/sqlite/SQLiteDatabase;JZ)I

    move-result v9

    goto :goto_1
.end method

.method public deleteRawContactInOneBatch(Landroid/net/Uri;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 19
    .parameter "uri"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 9320
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    invoke-virtual {v2}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->invalidateAggregationExceptionCache()V

    .line 9321
    const/4 v2, 0x1

    move-object/from16 v0, p0

    iput-boolean v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatusUpdateNeeded:Z

    .line 9324
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v1

    .line 9327
    .local v1, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v2, "stream_items"

    const/4 v3, 0x1

    new-array v3, v3, [Ljava/lang/String;

    const/4 v4, 0x0

    const-string v5, "_id"

    aput-object v5, v3, v4

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "raw_contact_id IN (SELECT _id FROM view_raw_contacts WHERE ("

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p2

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "))"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    move-object/from16 v5, p3

    invoke-virtual/range {v1 .. v8}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v18

    .line 9333
    .local v18, streamItemsCursor:Landroid/database/Cursor;
    :goto_0
    :try_start_0
    invoke-interface/range {v18 .. v18}, Landroid/database/Cursor;->moveToNext()Z

    move-result v2

    if-eqz v2, :cond_0

    .line 9334
    const/4 v2, 0x0

    move-object/from16 v0, v18

    invoke-interface {v0, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v2

    move-object/from16 v0, p0

    invoke-direct {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->deleteStreamItem(Landroid/database/sqlite/SQLiteDatabase;J)I
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    .line 9337
    :catchall_0
    move-exception v2

    invoke-interface/range {v18 .. v18}, Landroid/database/Cursor;->close()V

    throw v2

    :cond_0
    invoke-interface/range {v18 .. v18}, Landroid/database/Cursor;->close()V

    .line 9340
    const-string v2, "presence"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "presence_raw_contact_id IN (SELECT _id FROM view_raw_contacts WHERE ("

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-object/from16 v0, p2

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "))"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    move-object/from16 v0, p3

    invoke-virtual {v1, v2, v3, v0}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    .line 9344
    new-instance v17, Ljava/util/ArrayList;

    invoke-direct/range {v17 .. v17}, Ljava/util/ArrayList;-><init>()V

    .line 9346
    .local v17, rawContactsList:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactsProvider2$RawContactEntry;>;"
    const-string v2, "view_raw_contacts"

    const/4 v3, 0x2

    new-array v3, v3, [Ljava/lang/String;

    const/4 v4, 0x0

    const-string v5, "_id"

    aput-object v5, v3, v4

    const/4 v4, 0x1

    const-string v5, "contact_id"

    aput-object v5, v3, v4

    invoke-direct/range {p0 .. p2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    move-object/from16 v5, p3

    invoke-virtual/range {v1 .. v8}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v16

    .line 9350
    .local v16, rawContactsCursor:Landroid/database/Cursor;
    :goto_1
    :try_start_1
    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->moveToNext()Z

    move-result v2

    if-eqz v2, :cond_1

    .line 9351
    const/4 v2, 0x0

    move-object/from16 v0, v16

    invoke-interface {v0, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v14

    .line 9352
    .local v14, rawContactId:J
    const/4 v2, 0x1

    move-object/from16 v0, v16

    invoke-interface {v0, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v9

    .line 9353
    .local v9, contactId:J
    new-instance v2, Lcom/android/providers/contacts/ContactsProvider2$RawContactEntry;

    invoke-direct {v2, v14, v15, v9, v10}, Lcom/android/providers/contacts/ContactsProvider2$RawContactEntry;-><init>(JJ)V

    move-object/from16 v0, v17

    invoke-virtual {v0, v2}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1

    goto :goto_1

    .line 9356
    .end local v9           #contactId:J
    .end local v14           #rawContactId:J
    :catchall_1
    move-exception v2

    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->close()V

    throw v2

    :cond_1
    invoke-interface/range {v16 .. v16}, Landroid/database/Cursor;->close()V

    .line 9359
    const-string v2, "raw_contacts"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "_id IN (SELECT _id FROM view_raw_contacts WHERE ("

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    move-object/from16 v0, p2

    invoke-virtual {v3, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "))"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    move-object/from16 v0, p3

    invoke-virtual {v1, v2, v3, v0}, Landroid/database/sqlite/SQLiteDatabase;->delete(Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v11

    .line 9365
    .local v11, count:I
    if-eqz v17, :cond_2

    invoke-virtual/range {v17 .. v17}, Ljava/util/ArrayList;->size()I

    move-result v2

    if-lez v2, :cond_2

    .line 9366
    invoke-virtual/range {v17 .. v17}, Ljava/util/ArrayList;->iterator()Ljava/util/Iterator;

    move-result-object v12

    .local v12, i$:Ljava/util/Iterator;
    :goto_2
    invoke-interface {v12}, Ljava/util/Iterator;->hasNext()Z

    move-result v2

    if-eqz v2, :cond_2

    invoke-interface {v12}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v13

    check-cast v13, Lcom/android/providers/contacts/ContactsProvider2$RawContactEntry;

    .line 9367
    .local v13, rawContact:Lcom/android/providers/contacts/ContactsProvider2$RawContactEntry;
    const-string v2, "ContactsProvider"

    const-string v3, "updateAggregateData begin"

    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 9368
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/TransactionContext;

    iget-wide v4, v13, Lcom/android/providers/contacts/ContactsProvider2$RawContactEntry;->contactId:J

    invoke-virtual {v2, v3, v4, v5}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->updateAggregateData(Lcom/android/providers/contacts/TransactionContext;J)V

    .line 9370
    const-string v2, "ContactsProvider"

    const-string v3, "updateAggregateData end"

    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 9371
    const-string v2, "ContactsProvider"

    const-string v3, "updateDialerSearchDataForDelete begin"

    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 9373
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDialerSearchSupport:Lcom/android/providers/contacts/DialerSearchSupport;

    iget-wide v3, v13, Lcom/android/providers/contacts/ContactsProvider2$RawContactEntry;->rawContactId:J

    invoke-virtual {v2, v1, v3, v4}, Lcom/android/providers/contacts/DialerSearchSupport;->updateDialerSearchDataForDelete(Landroid/database/sqlite/SQLiteDatabase;J)V

    .line 9376
    const-string v2, "ContactsProvider"

    const-string v3, "updateDialerSearchDataForDelete end"

    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_2

    .line 9380
    .end local v12           #i$:Ljava/util/Iterator;
    .end local v13           #rawContact:Lcom/android/providers/contacts/ContactsProvider2$RawContactEntry;
    :cond_2
    return v11
.end method

.method public dump(Ljava/io/FileDescriptor;Ljava/io/PrintWriter;[Ljava/lang/String;)V
    .locals 7
    .parameter "fd"
    .parameter "pw"
    .parameter "args"

    .prologue
    .line 8914
    const-string v0, "FastScrollingIndex stats:\n"

    invoke-virtual {p2, v0}, Ljava/io/PrintWriter;->print(Ljava/lang/String;)V

    .line 8915
    const-string v0, "request=%d  miss=%d (%d%%)  avg time=%dms\n"

    const/4 v1, 0x4

    new-array v1, v1, [Ljava/lang/Object;

    const/4 v2, 0x0

    iget v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mFastScrollingIndexCacheRequestCount:I

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    aput-object v3, v1, v2

    const/4 v2, 0x1

    iget v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mFastScrollingIndexCacheMissCount:I

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v3

    aput-object v3, v1, v2

    const/4 v2, 0x2

    iget v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mFastScrollingIndexCacheMissCount:I

    mul-int/lit8 v3, v3, 0x64

    int-to-long v3, v3

    iget v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mFastScrollingIndexCacheRequestCount:I

    int-to-long v5, v5

    invoke-static {v3, v4, v5, v6}, Lcom/android/providers/contacts/ContactsProvider2;->safeDiv(JJ)J

    move-result-wide v3

    invoke-static {v3, v4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    aput-object v3, v1, v2

    const/4 v2, 0x3

    iget-wide v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTotalTimeFastScrollingIndexGenerate:J

    iget v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mFastScrollingIndexCacheMissCount:I

    int-to-long v5, v5

    invoke-static {v3, v4, v5, v6}, Lcom/android/providers/contacts/ContactsProvider2;->safeDiv(JJ)J

    move-result-wide v3

    invoke-static {v3, v4}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v3

    aput-object v3, v1, v2

    invoke-virtual {p2, v0, v1}, Ljava/io/PrintWriter;->printf(Ljava/lang/String;[Ljava/lang/Object;)Ljava/io/PrintWriter;

    .line 8922
    return-void
.end method

.method public getContactDirectoryManagerForTest()Lcom/android/providers/contacts/ContactDirectoryManager;
    .locals 1
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .prologue
    .line 1989
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactDirectoryManager:Lcom/android/providers/contacts/ContactDirectoryManager;

    return-object v0
.end method

.method public getDataRowHandler(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;
    .locals 4
    .parameter "mimeType"

    .prologue
    .line 2450
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->inProfileMode()Z

    move-result v1

    if-eqz v1, :cond_1

    .line 2451
    invoke-virtual {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->getDataRowHandlerForProfile(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;

    move-result-object v0

    .line 2459
    :cond_0
    :goto_0
    return-object v0

    .line 2453
    :cond_1
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDataRowHandlers:Ljava/util/HashMap;

    invoke-virtual {v1, p1}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/DataRowHandler;

    .line 2454
    .local v0, handler:Lcom/android/providers/contacts/DataRowHandler;
    if-nez v0, :cond_0

    .line 2455
    new-instance v0, Lcom/android/providers/contacts/DataRowHandlerForCustomMimetype;

    .end local v0           #handler:Lcom/android/providers/contacts/DataRowHandler;
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v1

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

    invoke-direct {v0, v1, v2, v3, p1}, Lcom/android/providers/contacts/DataRowHandlerForCustomMimetype;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;Ljava/lang/String;)V

    .line 2457
    .restart local v0       #handler:Lcom/android/providers/contacts/DataRowHandler;
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDataRowHandlers:Ljava/util/HashMap;

    invoke-virtual {v1, p1, v0}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    goto :goto_0
.end method

.method public getDataRowHandlerForProfile(Ljava/lang/String;)Lcom/android/providers/contacts/DataRowHandler;
    .locals 4
    .parameter "mimeType"

    .prologue
    .line 2463
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileDataRowHandlers:Ljava/util/HashMap;

    invoke-virtual {v1, p1}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/DataRowHandler;

    .line 2464
    .local v0, handler:Lcom/android/providers/contacts/DataRowHandler;
    if-nez v0, :cond_0

    .line 2465
    new-instance v0, Lcom/android/providers/contacts/DataRowHandlerForCustomMimetype;

    .end local v0           #handler:Lcom/android/providers/contacts/DataRowHandler;
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v1

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

    invoke-direct {v0, v1, v2, v3, p1}, Lcom/android/providers/contacts/DataRowHandlerForCustomMimetype;-><init>(Landroid/content/Context;Lcom/android/providers/contacts/ContactsDatabaseHelper;Lcom/android/providers/contacts/aggregation/ContactAggregator;Ljava/lang/String;)V

    .line 2467
    .restart local v0       #handler:Lcom/android/providers/contacts/DataRowHandler;
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileDataRowHandlers:Ljava/util/HashMap;

    invoke-virtual {v1, p1, v0}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 2469
    :cond_0
    return-object v0
.end method

.method protected bridge synthetic getDatabaseHelper(Landroid/content/Context;)Landroid/database/sqlite/SQLiteOpenHelper;
    .locals 1
    .parameter "x0"

    .prologue
    .line 200
    invoke-virtual {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->getDatabaseHelper(Landroid/content/Context;)Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-result-object v0

    return-object v0
.end method

.method protected getDatabaseHelper(Landroid/content/Context;)Lcom/android/providers/contacts/ContactsDatabaseHelper;
    .locals 1
    .parameter "context"

    .prologue
    .line 1950
    invoke-static {p1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getInstance(Landroid/content/Context;)Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-result-object v0

    return-object v0
.end method

.method protected getDefaultAccount()Landroid/accounts/Account;
    .locals 5

    .prologue
    .line 8470
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v3

    invoke-static {v3}, Landroid/accounts/AccountManager;->get(Landroid/content/Context;)Landroid/accounts/AccountManager;

    move-result-object v0

    .line 8472
    .local v0, accountManager:Landroid/accounts/AccountManager;
    :try_start_0
    const-string v3, "com.google"

    invoke-virtual {v0, v3}, Landroid/accounts/AccountManager;->getAccountsByType(Ljava/lang/String;)[Landroid/accounts/Account;

    move-result-object v1

    .line 8473
    .local v1, accounts:[Landroid/accounts/Account;
    if-eqz v1, :cond_0

    array-length v3, v1

    if-lez v3, :cond_0

    .line 8474
    const/4 v3, 0x0

    aget-object v3, v1, v3
    :try_end_0
    .catch Ljava/lang/Throwable; {:try_start_0 .. :try_end_0} :catch_0

    .line 8479
    .end local v1           #accounts:[Landroid/accounts/Account;
    :goto_0
    return-object v3

    .line 8476
    :catch_0
    move-exception v2

    .line 8477
    .local v2, e:Ljava/lang/Throwable;
    const-string v3, "ContactsProvider"

    const-string v4, "Cannot determine the default account for contacts compatibility"

    invoke-static {v3, v4, v2}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 8479
    .end local v2           #e:Ljava/lang/Throwable;
    :cond_0
    const/4 v3, 0x0

    goto :goto_0
.end method

.method public getDefaultProjection(Landroid/net/Uri;)[Ljava/lang/String;
    .locals 2
    .parameter "uri"

    .prologue
    .line 8278
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v1, p1}, Landroid/content/UriMatcher;->match(Landroid/net/Uri;)I

    move-result v0

    .line 8279
    .local v0, match:I
    sparse-switch v0, :sswitch_data_0

    .line 8328
    const/4 v1, 0x0

    :goto_0
    return-object v1

    .line 8286
    :sswitch_0
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sContactsProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 8290
    :sswitch_1
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sEntityProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 8295
    :sswitch_2
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sContactsVCardProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 8301
    :sswitch_3
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sRawContactsProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 8311
    :sswitch_4
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sDataProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 8314
    :sswitch_5
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sPhoneLookupProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 8318
    :sswitch_6
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sAggregationExceptionsProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 8321
    :sswitch_7
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sSettingsProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 8325
    :sswitch_8
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sDirectoryProjectionMap:Lcom/android/common/content/ProjectionMap;

    invoke-virtual {v1}, Lcom/android/common/content/ProjectionMap;->getColumnNames()[Ljava/lang/String;

    move-result-object v1

    goto :goto_0

    .line 8279
    :sswitch_data_0
    .sparse-switch
        0x3e8 -> :sswitch_0
        0x3e9 -> :sswitch_0
        0x3ea -> :sswitch_0
        0x3eb -> :sswitch_0
        0x3f7 -> :sswitch_2
        0x3f8 -> :sswitch_2
        0x3fb -> :sswitch_1
        0x7d2 -> :sswitch_3
        0x7d3 -> :sswitch_3
        0xbb9 -> :sswitch_4
        0xbba -> :sswitch_4
        0xbbb -> :sswitch_4
        0xbbd -> :sswitch_4
        0xbbe -> :sswitch_4
        0xbc1 -> :sswitch_4
        0xbc2 -> :sswitch_4
        0xfa0 -> :sswitch_5
        0x1770 -> :sswitch_6
        0x1771 -> :sswitch_6
        0x1f40 -> :sswitch_0
        0x2328 -> :sswitch_7
        0x4269 -> :sswitch_8
        0x426a -> :sswitch_8
        0x4a38 -> :sswitch_0
        0x4a39 -> :sswitch_1
        0x4a3a -> :sswitch_4
        0x4a3c -> :sswitch_2
        0x4a3d -> :sswitch_3
        0x4a3e -> :sswitch_3
    .end sparse-switch
.end method

.method public getDialSearchSupportInstance()Lcom/android/providers/contacts/DialerSearchSupport;
    .locals 1

    .prologue
    .line 9458
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDialerSearchSupport:Lcom/android/providers/contacts/DialerSearchSupport;

    return-object v0
.end method

.method protected getLocale()Ljava/util/Locale;
    .locals 1
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .prologue
    .line 1994
    invoke-static {}, Ljava/util/Locale;->getDefault()Ljava/util/Locale;

    move-result-object v0

    return-object v0
.end method

.method public getMaxDisplayPhotoDim()I
    .locals 1

    .prologue
    .line 1984
    invoke-static {}, Lcom/android/providers/contacts/PhotoProcessor;->getMaxDisplayPhotoSize()I

    move-result v0

    return v0
.end method

.method public getMaxThumbnailDim()I
    .locals 1

    .prologue
    .line 1976
    invoke-static {}, Lcom/android/providers/contacts/PhotoProcessor;->getMaxThumbnailSize()I

    move-result v0

    return v0
.end method

.method getPhotoStore()Lcom/android/providers/contacts/PhotoStore;
    .locals 1
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .prologue
    .line 1964
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsPhotoStore:Lcom/android/providers/contacts/PhotoStore;

    return-object v0
.end method

.method getProfilePhotoStore()Lcom/android/providers/contacts/PhotoStore;
    .locals 1
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .prologue
    .line 1969
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfilePhotoStore:Lcom/android/providers/contacts/PhotoStore;

    return-object v0
.end method

.method public getThreadActiveDatabaseHelperForTest()Lcom/android/providers/contacts/ContactsDatabaseHelper;
    .locals 1
    .annotation build Lcom/android/providers/contacts/util/NeededForTesting;
    .end annotation

    .prologue
    .line 8909
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    return-object v0
.end method

.method protected getTransactionHolder()Ljava/lang/ThreadLocal;
    .locals 1
    .annotation system Ldalvik/annotation/Signature;
        value = {
            "()",
            "Ljava/lang/ThreadLocal",
            "<",
            "Lcom/android/providers/contacts/ContactsTransaction;",
            ">;"
        }
    .end annotation

    .prologue
    .line 1955
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionHolder:Ljava/lang/ThreadLocal;

    return-object v0
.end method

.method public getType(Landroid/net/Uri;)Ljava/lang/String;
    .locals 6
    .parameter "uri"

    .prologue
    .line 8190
    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v3, p1}, Landroid/content/UriMatcher;->match(Landroid/net/Uri;)I

    move-result v2

    .line 8191
    .local v2, match:I
    sparse-switch v2, :sswitch_data_0

    .line 8272
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-direct {p0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 8273
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLegacyApiSupport:Lcom/android/providers/contacts/LegacyApiSupport;

    invoke-virtual {v3, p1}, Lcom/android/providers/contacts/LegacyApiSupport;->getType(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v3

    :goto_0
    return-object v3

    .line 8193
    :sswitch_0
    const-string v3, "vnd.android.cursor.dir/contact"

    goto :goto_0

    .line 8198
    :sswitch_1
    const-string v3, "vnd.android.cursor.item/contact"

    goto :goto_0

    .line 8202
    :sswitch_2
    const-string v3, "text/x-vcard"

    goto :goto_0

    .line 8211
    :sswitch_3
    const-string v3, "image/jpeg"

    goto :goto_0

    .line 8214
    :sswitch_4
    const-string v3, "vnd.android.cursor.dir/raw_contact"

    goto :goto_0

    .line 8217
    :sswitch_5
    const-string v3, "vnd.android.cursor.item/raw_contact"

    goto :goto_0

    .line 8220
    :sswitch_6
    const-string v3, "vnd.android.cursor.dir/data"

    goto :goto_0

    .line 8223
    :sswitch_7
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-direct {p0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 8225
    invoke-static {p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v0

    .line 8226
    .local v0, id:J
    invoke-static {v0, v1}, Landroid/provider/ContactsContract;->isProfileId(J)Z

    move-result v3

    if-eqz v3, :cond_0

    .line 8227
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v3, v0, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getDataMimeType(J)Ljava/lang/String;

    move-result-object v3

    goto :goto_0

    .line 8229
    :cond_0
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3, v0, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getDataMimeType(J)Ljava/lang/String;

    move-result-object v3

    goto :goto_0

    .line 8232
    .end local v0           #id:J
    :sswitch_8
    const-string v3, "vnd.android.cursor.dir/phone_v2"

    goto :goto_0

    .line 8234
    :sswitch_9
    const-string v3, "vnd.android.cursor.item/phone_v2"

    goto :goto_0

    .line 8236
    :sswitch_a
    const-string v3, "vnd.android.cursor.dir/phone_lookup"

    goto :goto_0

    .line 8238
    :sswitch_b
    const-string v3, "vnd.android.cursor.dir/email_v2"

    goto :goto_0

    .line 8240
    :sswitch_c
    const-string v3, "vnd.android.cursor.item/email_v2"

    goto :goto_0

    .line 8242
    :sswitch_d
    const-string v3, "vnd.android.cursor.dir/postal-address_v2"

    goto :goto_0

    .line 8244
    :sswitch_e
    const-string v3, "vnd.android.cursor.item/postal-address_v2"

    goto :goto_0

    .line 8246
    :sswitch_f
    const-string v3, "vnd.android.cursor.dir/aggregation_exception"

    goto :goto_0

    .line 8248
    :sswitch_10
    const-string v3, "vnd.android.cursor.item/aggregation_exception"

    goto :goto_0

    .line 8250
    :sswitch_11
    const-string v3, "vnd.android.cursor.dir/setting"

    goto :goto_0

    .line 8252
    :sswitch_12
    const-string v3, "vnd.android.cursor.dir/contact"

    goto :goto_0

    .line 8254
    :sswitch_13
    const-string v3, "vnd.android.cursor.dir/vnd.android.search.suggest"

    goto :goto_0

    .line 8256
    :sswitch_14
    const-string v3, "vnd.android.cursor.item/vnd.android.search.suggest"

    goto :goto_0

    .line 8258
    :sswitch_15
    const-string v3, "vnd.android.cursor.dir/contact_directories"

    goto :goto_0

    .line 8260
    :sswitch_16
    const-string v3, "vnd.android.cursor.item/contact_directory"

    goto :goto_0

    .line 8262
    :sswitch_17
    const-string v3, "vnd.android.cursor.dir/stream_item"

    goto :goto_0

    .line 8264
    :sswitch_18
    const-string v3, "vnd.android.cursor.item/stream_item"

    goto :goto_0

    .line 8266
    :sswitch_19
    const-string v3, "vnd.android.cursor.dir/stream_item_photo"

    goto :goto_0

    .line 8268
    :sswitch_1a
    const-string v3, "vnd.android.cursor.item/stream_item_photo"

    goto :goto_0

    .line 8270
    :sswitch_1b
    new-instance v3, Ljava/lang/UnsupportedOperationException;

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Not supported for write-only URI "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-direct {v3, v4}, Ljava/lang/UnsupportedOperationException;-><init>(Ljava/lang/String;)V

    throw v3

    .line 8191
    nop

    :sswitch_data_0
    .sparse-switch
        0x3e8 -> :sswitch_0
        0x3e9 -> :sswitch_1
        0x3ea -> :sswitch_1
        0x3eb -> :sswitch_1
        0x3f1 -> :sswitch_3
        0x3f2 -> :sswitch_3
        0x3f3 -> :sswitch_3
        0x3f4 -> :sswitch_3
        0x3f5 -> :sswitch_3
        0x3f6 -> :sswitch_3
        0x3f7 -> :sswitch_2
        0x3f8 -> :sswitch_2
        0x7d2 -> :sswitch_4
        0x7d3 -> :sswitch_5
        0x7d6 -> :sswitch_3
        0xbb8 -> :sswitch_6
        0xbb9 -> :sswitch_7
        0xbba -> :sswitch_8
        0xbbb -> :sswitch_9
        0xbbd -> :sswitch_b
        0xbbe -> :sswitch_c
        0xbc1 -> :sswitch_d
        0xbc2 -> :sswitch_e
        0xfa0 -> :sswitch_a
        0x1770 -> :sswitch_f
        0x1771 -> :sswitch_10
        0x1f40 -> :sswitch_12
        0x2328 -> :sswitch_11
        0x2ee1 -> :sswitch_13
        0x2ee2 -> :sswitch_14
        0x4269 -> :sswitch_15
        0x426a -> :sswitch_16
        0x4a38 -> :sswitch_1
        0x4a3a -> :sswitch_6
        0x4a3c -> :sswitch_2
        0x4a3d -> :sswitch_4
        0x4a3e -> :sswitch_5
        0x5208 -> :sswitch_17
        0x5209 -> :sswitch_1b
        0x520a -> :sswitch_18
        0x520b -> :sswitch_19
        0x520c -> :sswitch_1a
        0x55f0 -> :sswitch_3
    .end sparse-switch
.end method

.method protected handleLocalAccountChanged()V
    .locals 2

    .prologue
    .line 9008
    new-instance v0, Landroid/os/HandlerThread;

    const-string v1, "LocalAccountChangeListener"

    invoke-direct {v0, v1}, Landroid/os/HandlerThread;-><init>(Ljava/lang/String;)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mListenerThread:Landroid/os/HandlerThread;

    .line 9009
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mListenerThread:Landroid/os/HandlerThread;

    invoke-virtual {v0}, Ljava/lang/Thread;->start()V

    .line 9010
    new-instance v0, Lcom/android/providers/contacts/ContactsProvider2$1;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mListenerThread:Landroid/os/HandlerThread;

    invoke-virtual {v1}, Landroid/os/HandlerThread;->getLooper()Landroid/os/Looper;

    move-result-object v1

    invoke-direct {v0, p0, v1}, Lcom/android/providers/contacts/ContactsProvider2$1;-><init>(Lcom/android/providers/contacts/ContactsProvider2;Landroid/os/Looper;)V

    iput-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mListenerHandler:Landroid/os/Handler;

    .line 9021
    return-void
.end method

.method haveAccountsChanged([Landroid/accounts/Account;)Z
    .locals 7
    .parameter "currentSystemAccounts"
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .prologue
    const/4 v4, 0x1

    .line 4851
    iget-object v5, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    .line 4854
    .local v1, dbHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;
    :try_start_0
    const-string v5, "known_accounts"

    const-string v6, ""

    invoke-virtual {v1, v5, v6}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getProperty(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    invoke-static {v5}, Lcom/android/providers/contacts/ContactsProvider2;->stringToAccounts(Ljava/lang/String;)Ljava/util/Set;
    :try_end_0
    .catch Ljava/lang/IllegalArgumentException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v3

    .line 4861
    .local v3, knownAccountSet:Ljava/util/Set;,"Ljava/util/Set<Landroid/accounts/Account;>;"
    invoke-static {p1}, Lcom/google/android/collect/Sets;->newHashSet([Ljava/lang/Object;)Ljava/util/HashSet;

    move-result-object v0

    .line 4862
    .local v0, currentAccounts:Ljava/util/Set;,"Ljava/util/Set<Landroid/accounts/Account;>;"
    invoke-virtual {v3, v0}, Ljava/lang/Object;->equals(Ljava/lang/Object;)Z

    move-result v5

    if-nez v5, :cond_0

    .end local v0           #currentAccounts:Ljava/util/Set;,"Ljava/util/Set<Landroid/accounts/Account;>;"
    .end local v3           #knownAccountSet:Ljava/util/Set;,"Ljava/util/Set<Landroid/accounts/Account;>;"
    :goto_0
    return v4

    .line 4856
    :catch_0
    move-exception v2

    .line 4859
    .local v2, e:Ljava/lang/IllegalArgumentException;
    goto :goto_0

    .line 4862
    .end local v2           #e:Ljava/lang/IllegalArgumentException;
    .restart local v0       #currentAccounts:Ljava/util/Set;,"Ljava/util/Set<Landroid/accounts/Account;>;"
    .restart local v3       #knownAccountSet:Ljava/util/Set;,"Ljava/util/Set<Landroid/accounts/Account;>;"
    :cond_0
    const/4 v4, 0x0

    goto :goto_0
.end method

.method final inProfileMode()Z
    .locals 2
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .prologue
    .line 1999
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mInProfileMode:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Ljava/lang/Boolean;

    .line 2000
    .local v0, profileMode:Ljava/lang/Boolean;
    if-eqz v0, :cond_0

    invoke-virtual {v0}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v1

    if-eqz v1, :cond_0

    const/4 v1, 0x1

    :goto_0
    return v1

    :cond_0
    const/4 v1, 0x0

    goto :goto_0
.end method

.method public insert(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;
    .locals 1
    .parameter "uri"
    .parameter "values"

    .prologue
    .line 2112
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-direct {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 2115
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->enforceSocialStreamWritePermission(Landroid/net/Uri;)V

    .line 2117
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDbWithInsertedValues(Landroid/net/Uri;Landroid/content/ContentValues;)Z

    move-result v0

    if-eqz v0, :cond_0

    .line 2118
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 2119
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    invoke-virtual {v0, p1, p2}, Lcom/android/providers/contacts/AbstractContactsProvider;->insert(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;

    move-result-object v0

    .line 2122
    :goto_0
    return-object v0

    .line 2121
    :cond_0
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 2122
    invoke-super {p0, p1, p2}, Lcom/android/providers/contacts/AbstractContactsProvider;->insert(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;

    move-result-object v0

    goto :goto_0
.end method

.method protected insertInTransaction(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;
    .locals 11
    .parameter "uri"
    .parameter "values"

    .prologue
    const/4 v8, 0x0

    const/4 v7, 0x1

    .line 2474
    sget-boolean v6, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v6, :cond_0

    .line 2475
    const-string v6, "ContactsProvider"

    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, "insertInTransaction: uri="

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, "  values=["

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, "]"

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    invoke-static {v6, v9}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 2478
    :cond_0
    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v6}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v6}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v1

    .line 2480
    .local v1, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v6, "caller_is_syncadapter"

    invoke-static {p1, v6, v8}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v0

    .line 2483
    .local v0, callerIsSyncAdapter:Z
    sget-object v6, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v6, p1}, Landroid/content/UriMatcher;->match(Landroid/net/Uri;)I

    move-result v4

    .line 2484
    .local v4, match:I
    const-wide/16 v2, 0x0

    .line 2486
    .local v2, id:J
    sparse-switch v4, :sswitch_data_0

    .line 2574
    iput-boolean v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 2575
    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLegacyApiSupport:Lcom/android/providers/contacts/LegacyApiSupport;

    invoke-virtual {v6, p1, p2}, Lcom/android/providers/contacts/LegacyApiSupport;->insert(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;

    move-result-object v6

    .line 2582
    :goto_0
    return-object v6

    .line 2489
    :sswitch_0
    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v6}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v6}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v6

    invoke-virtual {v6, v1, p2}, Lcom/android/common/content/SyncStateContentProviderHelper;->insert(Landroid/database/sqlite/SQLiteDatabase;Landroid/content/ContentValues;)J

    move-result-wide v2

    .line 2578
    :goto_1
    const-wide/16 v6, 0x0

    cmp-long v6, v2, v6

    if-gez v6, :cond_b

    .line 2579
    const/4 v6, 0x0

    goto :goto_0

    .line 2493
    :sswitch_1
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 2494
    invoke-direct {p0, p2}, Lcom/android/providers/contacts/ContactsProvider2;->insertContact(Landroid/content/ContentValues;)J

    goto :goto_1

    .line 2499
    :sswitch_2
    new-instance v6, Ljava/lang/UnsupportedOperationException;

    const-string v7, "The profile contact is created automatically"

    invoke-direct {v6, v7}, Ljava/lang/UnsupportedOperationException;-><init>(Ljava/lang/String;)V

    throw v6

    .line 2505
    :sswitch_3
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 2506
    invoke-direct {p0, p1, p2, v0}, Lcom/android/providers/contacts/ContactsProvider2;->insertRawContact(Landroid/net/Uri;Landroid/content/ContentValues;Z)J

    move-result-wide v2

    .line 2507
    iget-boolean v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_1

    move v6, v7

    :goto_2
    or-int/2addr v6, v9

    iput-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto :goto_1

    :cond_1
    move v6, v8

    goto :goto_2

    .line 2513
    :sswitch_4
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 2514
    const/16 v6, 0x7d4

    if-ne v4, v6, :cond_2

    move v5, v7

    .line 2515
    .local v5, segment:I
    :goto_3
    const-string v9, "raw_contact_id"

    invoke-virtual {p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v6

    invoke-interface {v6, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Ljava/lang/String;

    invoke-virtual {p2, v9, v6}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 2516
    invoke-direct {p0, p2, v0}, Lcom/android/providers/contacts/ContactsProvider2;->insertData(Landroid/content/ContentValues;Z)J

    move-result-wide v2

    .line 2517
    iget-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_3

    :goto_4
    or-int/2addr v6, v7

    iput-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto :goto_1

    .line 2514
    .end local v5           #segment:I
    :cond_2
    const/4 v5, 0x2

    goto :goto_3

    .restart local v5       #segment:I
    :cond_3
    move v7, v8

    .line 2517
    goto :goto_4

    .line 2522
    .end local v5           #segment:I
    :sswitch_5
    const-string v9, "raw_contact_id"

    invoke-virtual {p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v6

    invoke-interface {v6, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Ljava/lang/String;

    invoke-virtual {p2, v9, v6}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 2523
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->insertStreamItem(Landroid/net/Uri;Landroid/content/ContentValues;)J

    move-result-wide v2

    .line 2524
    iget-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_4

    :goto_5
    or-int/2addr v6, v7

    iput-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto :goto_1

    :cond_4
    move v7, v8

    goto :goto_5

    .line 2530
    :sswitch_6
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 2531
    invoke-direct {p0, p2, v0}, Lcom/android/providers/contacts/ContactsProvider2;->insertData(Landroid/content/ContentValues;Z)J

    move-result-wide v2

    .line 2532
    iget-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_5

    :goto_6
    or-int/2addr v6, v7

    iput-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto :goto_1

    :cond_5
    move v7, v8

    goto :goto_6

    .line 2537
    :sswitch_7
    invoke-direct {p0, p1, p2, v0}, Lcom/android/providers/contacts/ContactsProvider2;->insertGroup(Landroid/net/Uri;Landroid/content/ContentValues;Z)J

    move-result-wide v2

    .line 2538
    iget-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_6

    :goto_7
    or-int/2addr v6, v7

    iput-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_1

    :cond_6
    move v7, v8

    goto :goto_7

    .line 2543
    :sswitch_8
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSettings(Landroid/net/Uri;Landroid/content/ContentValues;)J

    move-result-wide v2

    .line 2544
    iget-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_7

    :goto_8
    or-int/2addr v6, v7

    iput-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_1

    :cond_7
    move v7, v8

    goto :goto_8

    .line 2550
    :sswitch_9
    invoke-virtual {p0, p2}, Lcom/android/providers/contacts/ContactsProvider2;->insertStatusUpdate(Landroid/content/ContentValues;)J

    move-result-wide v2

    .line 2551
    goto/16 :goto_1

    .line 2555
    :sswitch_a
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->insertStreamItem(Landroid/net/Uri;Landroid/content/ContentValues;)J

    move-result-wide v2

    .line 2556
    iget-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_8

    :goto_9
    or-int/2addr v6, v7

    iput-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_1

    :cond_8
    move v7, v8

    goto :goto_9

    .line 2561
    :sswitch_b
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->insertStreamItemPhoto(Landroid/net/Uri;Landroid/content/ContentValues;)J

    move-result-wide v2

    .line 2562
    iget-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_9

    :goto_a
    or-int/2addr v6, v7

    iput-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_1

    :cond_9
    move v7, v8

    goto :goto_a

    .line 2567
    :sswitch_c
    const-string v9, "stream_item_id"

    invoke-virtual {p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v6

    invoke-interface {v6, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Ljava/lang/String;

    invoke-virtual {p2, v9, v6}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 2568
    invoke-direct {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->insertStreamItemPhoto(Landroid/net/Uri;Landroid/content/ContentValues;)J

    move-result-wide v2

    .line 2569
    iget-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v0, :cond_a

    :goto_b
    or-int/2addr v6, v7

    iput-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_1

    :cond_a
    move v7, v8

    goto :goto_b

    .line 2582
    :cond_b
    invoke-static {p1, v2, v3}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v6

    goto/16 :goto_0

    .line 2486
    :sswitch_data_0
    .sparse-switch
        0x3e8 -> :sswitch_1
        0x7d2 -> :sswitch_3
        0x7d4 -> :sswitch_4
        0x7d7 -> :sswitch_5
        0xbb8 -> :sswitch_6
        0x1b58 -> :sswitch_9
        0x2328 -> :sswitch_8
        0x2710 -> :sswitch_7
        0x2af8 -> :sswitch_0
        0x2afa -> :sswitch_0
        0x4a38 -> :sswitch_2
        0x4a3a -> :sswitch_6
        0x4a3d -> :sswitch_3
        0x4a3f -> :sswitch_4
        0x4a41 -> :sswitch_9
        0x5208 -> :sswitch_a
        0x5209 -> :sswitch_b
        0x520b -> :sswitch_c
    .end sparse-switch
.end method

.method public insertStatusUpdate(Landroid/content/ContentValues;)J
    .locals 42
    .parameter "values"

    .prologue
    .line 3219
    const-string v3, "im_handle"

    move-object/from16 v0, p1

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v29

    .line 3220
    .local v29, handle:Ljava/lang/String;
    const-string v3, "protocol"

    move-object/from16 v0, p1

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v36

    .line 3221
    .local v36, protocol:Ljava/lang/Integer;
    const/16 v26, 0x0

    .line 3223
    .local v26, customProtocol:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v2

    .line 3225
    .local v2, db:Landroid/database/sqlite/SQLiteDatabase;
    if-eqz v36, :cond_0

    invoke-virtual/range {v36 .. v36}, Ljava/lang/Integer;->intValue()I

    move-result v3

    const/4 v5, -0x1

    if-ne v3, v5, :cond_0

    .line 3226
    const-string v3, "custom_protocol"

    move-object/from16 v0, p1

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v26

    .line 3227
    invoke-static/range {v26 .. v26}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-eqz v3, :cond_0

    .line 3228
    new-instance v3, Ljava/lang/IllegalArgumentException;

    const-string v5, "CUSTOM_PROTOCOL is required when PROTOCOL=PROTOCOL_CUSTOM"

    invoke-direct {v3, v5}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v3

    .line 3233
    :cond_0
    const-wide/16 v37, -0x1

    .line 3234
    .local v37, rawContactId:J
    const-wide/16 v23, -0x1

    .line 3235
    .local v23, contactId:J
    const-string v3, "presence_data_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v27

    .line 3236
    .local v27, dataId:Ljava/lang/Long;
    const/16 v21, 0x0

    .line 3237
    .local v21, accountType:Ljava/lang/String;
    const/16 v20, 0x0

    .line 3238
    .local v20, accountName:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const/4 v5, 0x0

    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->setLength(I)V

    .line 3239
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    invoke-virtual {v3}, Ljava/util/ArrayList;->clear()V

    .line 3240
    if-eqz v27, :cond_b

    .line 3243
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v5, "data._id=?"

    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 3244
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    invoke-static/range {v27 .. v27}, Ljava/lang/String;->valueOf(Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v3, v5}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3298
    :cond_1
    :goto_0
    const/16 v25, 0x0

    .line 3300
    .local v25, cursor:Landroid/database/Cursor;
    :try_start_0
    const-string v3, "data JOIN raw_contacts ON (data.raw_contact_id = raw_contacts._id) JOIN accounts ON (accounts._id=raw_contacts.account_id)JOIN contacts ON (raw_contacts.contact_id = contacts._id)"

    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2$DataContactsQuery;->PROJECTION:[Ljava/lang/String;

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    sget-object v11, Lcom/android/providers/contacts/ContactsProvider2;->EMPTY_STRING_ARRAY:[Ljava/lang/String;

    invoke-virtual {v6, v11}, Ljava/util/ArrayList;->toArray([Ljava/lang/Object;)[Ljava/lang/Object;

    move-result-object v6

    check-cast v6, [Ljava/lang/String;

    const/4 v7, 0x0

    const/4 v8, 0x0

    const-string v9, "EXISTS (SELECT _id FROM visible_contacts WHERE contacts._id=visible_contacts._id) DESC, raw_contact_id"

    invoke-virtual/range {v2 .. v9}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v25

    .line 3303
    invoke-interface/range {v25 .. v25}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v3

    if-eqz v3, :cond_12

    .line 3304
    const/4 v3, 0x4

    move-object/from16 v0, v25

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v5

    invoke-static {v5, v6}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-object v4

    .line 3305
    .end local v27           #dataId:Ljava/lang/Long;
    .local v4, dataId:Ljava/lang/Long;
    const/4 v3, 0x0

    :try_start_1
    move-object/from16 v0, v25

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v37

    .line 3306
    const/4 v3, 0x1

    move-object/from16 v0, v25

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v21

    .line 3307
    const/4 v3, 0x2

    move-object/from16 v0, v25

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v20

    .line 3308
    const/4 v3, 0x5

    move-object/from16 v0, v25

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getLong(I)J
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_2

    move-result-wide v23

    .line 3314
    if-eqz v25, :cond_2

    .line 3315
    invoke-interface/range {v25 .. v25}, Landroid/database/Cursor;->close()V

    .line 3319
    :cond_2
    const-string v3, "mode"

    move-object/from16 v0, p1

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v3

    if-eqz v3, :cond_5

    .line 3320
    if-nez v26, :cond_3

    .line 3323
    const-string v26, ""

    .line 3326
    :cond_3
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v3}, Landroid/content/ContentValues;->clear()V

    .line 3327
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "presence_data_id"

    invoke-virtual {v3, v5, v4}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 3328
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "presence_raw_contact_id"

    invoke-static/range {v37 .. v38}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v6

    invoke-virtual {v3, v5, v6}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 3329
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "presence_contact_id"

    invoke-static/range {v23 .. v24}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v6

    invoke-virtual {v3, v5, v6}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 3330
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "protocol"

    move-object/from16 v0, v36

    invoke-virtual {v3, v5, v0}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Integer;)V

    .line 3331
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "custom_protocol"

    move-object/from16 v0, v26

    invoke-virtual {v3, v5, v0}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3332
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "im_handle"

    move-object/from16 v0, v29

    invoke-virtual {v3, v5, v0}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3333
    const-string v3, "im_account"

    move-object/from16 v0, p1

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v3

    if-eqz v3, :cond_4

    .line 3334
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "im_account"

    const-string v6, "im_account"

    move-object/from16 v0, p1

    invoke-virtual {v0, v6}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v3, v5, v6}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3336
    :cond_4
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "mode"

    const-string v6, "mode"

    move-object/from16 v0, p1

    invoke-virtual {v0, v6}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v3, v5, v6}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3338
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    const-string v5, "chat_capability"

    const-string v6, "chat_capability"

    move-object/from16 v0, p1

    invoke-virtual {v0, v6}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v3, v5, v6}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3342
    const-string v3, "presence"

    const/4 v5, 0x0

    move-object/from16 v0, p0

    iget-object v6, v0, Lcom/android/providers/contacts/ContactsProvider2;->mValues:Landroid/content/ContentValues;

    invoke-virtual {v2, v3, v5, v6}, Landroid/database/sqlite/SQLiteDatabase;->replace(Ljava/lang/String;Ljava/lang/String;Landroid/content/ContentValues;)J

    .line 3346
    :cond_5
    const-string v3, "status"

    move-object/from16 v0, p1

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v3

    if-eqz v3, :cond_9

    .line 3347
    const-string v3, "status"

    move-object/from16 v0, p1

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v7

    .line 3348
    .local v7, status:Ljava/lang/String;
    const-string v3, "status_res_package"

    move-object/from16 v0, p1

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v8

    .line 3349
    .local v8, resPackage:Ljava/lang/String;
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v3

    invoke-virtual {v3}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;

    move-result-object v39

    .line 3350
    .local v39, resources:Landroid/content/res/Resources;
    invoke-static {v8}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_6

    .line 3351
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v3

    invoke-virtual {v3}, Landroid/content/Context;->getPackageManager()Landroid/content/pm/PackageManager;

    move-result-object v35

    .line 3353
    .local v35, pm:Landroid/content/pm/PackageManager;
    :try_start_2
    move-object/from16 v0, v35

    invoke-virtual {v0, v8}, Landroid/content/pm/PackageManager;->getResourcesForApplication(Ljava/lang/String;)Landroid/content/res/Resources;
    :try_end_2
    .catch Landroid/content/pm/PackageManager$NameNotFoundException; {:try_start_2 .. :try_end_2} :catch_0

    move-result-object v39

    .line 3359
    .end local v35           #pm:Landroid/content/pm/PackageManager;
    :cond_6
    :goto_1
    const-string v3, "status_label"

    move-object/from16 v0, p1

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v10

    .line 3361
    .local v10, labelResourceId:Ljava/lang/Integer;
    if-eqz v10, :cond_7

    invoke-virtual {v10}, Ljava/lang/Integer;->intValue()I

    move-result v3

    if-nez v3, :cond_8

    :cond_7
    if-eqz v36, :cond_8

    .line 3362
    invoke-virtual/range {v36 .. v36}, Ljava/lang/Integer;->intValue()I

    move-result v3

    invoke-static {v3}, Landroid/provider/ContactsContract$CommonDataKinds$Im;->getProtocolLabelResource(I)I

    move-result v3

    invoke-static {v3}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v10

    .line 3364
    :cond_8
    const-string v3, "string"

    move-object/from16 v0, p0

    move-object/from16 v1, v39

    invoke-direct {v0, v1, v3, v10}, Lcom/android/providers/contacts/ContactsProvider2;->getResourceName(Landroid/content/res/Resources;Ljava/lang/String;Ljava/lang/Integer;)Ljava/lang/String;

    move-result-object v31

    .line 3366
    .local v31, labelResource:Ljava/lang/String;
    const-string v3, "status_icon"

    move-object/from16 v0, p1

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsInteger(Ljava/lang/String;)Ljava/lang/Integer;

    move-result-object v9

    .line 3369
    .local v9, iconResourceId:Ljava/lang/Integer;
    const-string v3, "drawable"

    move-object/from16 v0, p0

    move-object/from16 v1, v39

    invoke-direct {v0, v1, v3, v9}, Lcom/android/providers/contacts/ContactsProvider2;->getResourceName(Landroid/content/res/Resources;Ljava/lang/String;Ljava/lang/Integer;)Ljava/lang/String;

    move-result-object v30

    .line 3371
    .local v30, iconResource:Ljava/lang/String;
    invoke-static {v7}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-eqz v3, :cond_15

    .line 3372
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Ljava/lang/Long;->longValue()J

    move-result-wide v5

    invoke-virtual {v3, v5, v6}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->deleteStatusUpdate(J)V

    .line 3431
    .end local v7           #status:Ljava/lang/String;
    .end local v8           #resPackage:Ljava/lang/String;
    .end local v9           #iconResourceId:Ljava/lang/Integer;
    .end local v10           #labelResourceId:Ljava/lang/Integer;
    .end local v30           #iconResource:Ljava/lang/String;
    .end local v31           #labelResource:Ljava/lang/String;
    .end local v39           #resources:Landroid/content/res/Resources;
    :cond_9
    :goto_2
    const-wide/16 v5, -0x1

    cmp-long v3, v23, v5

    if-eqz v3, :cond_a

    .line 3432
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    move-wide/from16 v0, v23

    invoke-virtual {v3, v0, v1}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->updateLastStatusUpdateId(J)V

    .line 3435
    :cond_a
    invoke-virtual {v4}, Ljava/lang/Long;->longValue()J

    move-result-wide v5

    :goto_3
    return-wide v5

    .line 3248
    .end local v4           #dataId:Ljava/lang/Long;
    .end local v25           #cursor:Landroid/database/Cursor;
    .restart local v27       #dataId:Ljava/lang/Long;
    :cond_b
    invoke-static/range {v29 .. v29}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_c

    if-nez v36, :cond_d

    .line 3249
    :cond_c
    new-instance v3, Ljava/lang/IllegalArgumentException;

    const-string v5, "PROTOCOL and IM_HANDLE are required"

    invoke-direct {v3, v5}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v3

    .line 3253
    :cond_d
    const/4 v3, 0x5

    invoke-virtual/range {v36 .. v36}, Ljava/lang/Integer;->intValue()I

    move-result v5

    if-ne v3, v5, :cond_10

    const/16 v32, 0x1

    .line 3255
    .local v32, matchEmail:Z
    :goto_4
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForIm()J

    move-result-wide v5

    invoke-static {v5, v6}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v34

    .line 3256
    .local v34, mimeTypeIdIm:Ljava/lang/String;
    if-eqz v32, :cond_11

    .line 3257
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForEmail()J

    move-result-wide v5

    invoke-static {v5, v6}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v33

    .line 3265
    .local v33, mimeTypeIdEmail:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v5, "mimetype_id IN (?,?) AND data1=? AND ((mimetype_id=? AND data5=?"

    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 3268
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v33

    invoke-virtual {v3, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3269
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v34

    invoke-virtual {v3, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3270
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v29

    invoke-virtual {v3, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3271
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v34

    invoke-virtual {v3, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3272
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    invoke-static/range {v36 .. v36}, Ljava/lang/String;->valueOf(Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v3, v5}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3273
    if-eqz v26, :cond_e

    .line 3274
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v5, " AND data6=?"

    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 3275
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v26

    invoke-virtual {v3, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3277
    :cond_e
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v5, ") OR (mimetype_id=?))"

    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 3278
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v33

    invoke-virtual {v3, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3292
    .end local v33           #mimeTypeIdEmail:Ljava/lang/String;
    :cond_f
    :goto_5
    const-string v3, "presence_data_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->containsKey(Ljava/lang/String;)Z

    move-result v3

    if-eqz v3, :cond_1

    .line 3293
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v5, " AND data._id=?"

    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 3294
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    const-string v5, "presence_data_id"

    move-object/from16 v0, p1

    invoke-virtual {v0, v5}, Landroid/content/ContentValues;->getAsString(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v3, v5}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto/16 :goto_0

    .line 3253
    .end local v32           #matchEmail:Z
    .end local v34           #mimeTypeIdIm:Ljava/lang/String;
    :cond_10
    const/16 v32, 0x0

    goto/16 :goto_4

    .line 3280
    .restart local v32       #matchEmail:Z
    .restart local v34       #mimeTypeIdIm:Ljava/lang/String;
    :cond_11
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v5, "mimetype_id=? AND data5=? AND data1=?"

    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 3283
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v34

    invoke-virtual {v3, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3284
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    invoke-static/range {v36 .. v36}, Ljava/lang/String;->valueOf(Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v3, v5}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3285
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v29

    invoke-virtual {v3, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    .line 3286
    if-eqz v26, :cond_f

    .line 3287
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSb:Ljava/lang/StringBuilder;

    const-string v5, " AND data6=?"

    invoke-virtual {v3, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 3288
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs:Ljava/util/ArrayList;

    move-object/from16 v0, v26

    invoke-virtual {v3, v0}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_5

    .line 3311
    .end local v32           #matchEmail:Z
    .end local v34           #mimeTypeIdIm:Ljava/lang/String;
    .restart local v25       #cursor:Landroid/database/Cursor;
    :cond_12
    const-wide/16 v5, -0x1

    .line 3314
    if-eqz v25, :cond_13

    .line 3315
    invoke-interface/range {v25 .. v25}, Landroid/database/Cursor;->close()V

    :cond_13
    move-object/from16 v4, v27

    .end local v27           #dataId:Ljava/lang/Long;
    .restart local v4       #dataId:Ljava/lang/Long;
    goto/16 :goto_3

    .line 3314
    .end local v4           #dataId:Ljava/lang/Long;
    .restart local v27       #dataId:Ljava/lang/Long;
    :catchall_0
    move-exception v3

    move-object/from16 v4, v27

    .end local v27           #dataId:Ljava/lang/Long;
    .restart local v4       #dataId:Ljava/lang/Long;
    :goto_6
    if-eqz v25, :cond_14

    .line 3315
    invoke-interface/range {v25 .. v25}, Landroid/database/Cursor;->close()V

    :cond_14
    throw v3

    .line 3354
    .restart local v7       #status:Ljava/lang/String;
    .restart local v8       #resPackage:Ljava/lang/String;
    .restart local v35       #pm:Landroid/content/pm/PackageManager;
    .restart local v39       #resources:Landroid/content/res/Resources;
    :catch_0
    move-exception v28

    .line 3355
    .local v28, e:Landroid/content/pm/PackageManager$NameNotFoundException;
    const-string v3, "ContactsProvider"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "Contact status update resource package not found: "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v3, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto/16 :goto_1

    .line 3374
    .end local v28           #e:Landroid/content/pm/PackageManager$NameNotFoundException;
    .end local v35           #pm:Landroid/content/pm/PackageManager;
    .restart local v9       #iconResourceId:Ljava/lang/Integer;
    .restart local v10       #labelResourceId:Ljava/lang/Integer;
    .restart local v30       #iconResource:Ljava/lang/String;
    .restart local v31       #labelResource:Ljava/lang/String;
    :cond_15
    const-string v3, "status_ts"

    move-object/from16 v0, p1

    invoke-virtual {v0, v3}, Landroid/content/ContentValues;->getAsLong(Ljava/lang/String;)Ljava/lang/Long;

    move-result-object v41

    .line 3375
    .local v41, timestamp:Ljava/lang/Long;
    if-eqz v41, :cond_17

    .line 3376
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual/range {v41 .. v41}, Ljava/lang/Long;->longValue()J

    move-result-wide v5

    invoke-virtual/range {v3 .. v10}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->replaceStatusUpdate(Ljava/lang/Long;JLjava/lang/String;Ljava/lang/String;Ljava/lang/Integer;Ljava/lang/Integer;)V

    .line 3387
    :goto_7
    const-wide/16 v5, -0x1

    cmp-long v3, v37, v5

    if-eqz v3, :cond_9

    invoke-static {v7}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v3

    if-nez v3, :cond_9

    .line 3388
    new-instance v40, Landroid/content/ContentValues;

    invoke-direct/range {v40 .. v40}, Landroid/content/ContentValues;-><init>()V

    .line 3389
    .local v40, streamItemValues:Landroid/content/ContentValues;
    const-string v3, "raw_contact_id"

    invoke-static/range {v37 .. v38}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v5

    move-object/from16 v0, v40

    invoke-virtual {v0, v3, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 3391
    const-string v3, "text"

    move-object/from16 v0, p0

    invoke-direct {v0, v7}, Lcom/android/providers/contacts/ContactsProvider2;->statusUpdateToHtml(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v40

    invoke-virtual {v0, v3, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3392
    const-string v3, "comments"

    const-string v5, ""

    move-object/from16 v0, v40

    invoke-virtual {v0, v3, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3393
    const-string v3, "res_package"

    move-object/from16 v0, v40

    invoke-virtual {v0, v3, v8}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3394
    const-string v3, "icon"

    move-object/from16 v0, v40

    move-object/from16 v1, v30

    invoke-virtual {v0, v3, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3395
    const-string v3, "label"

    move-object/from16 v0, v40

    move-object/from16 v1, v31

    invoke-virtual {v0, v3, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3396
    const-string v3, "timestamp"

    if-nez v41, :cond_18

    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v5

    :goto_8
    invoke-static {v5, v6}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v5

    move-object/from16 v0, v40

    invoke-virtual {v0, v3, v5}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/Long;)V

    .line 3405
    if-eqz v20, :cond_16

    if-eqz v21, :cond_16

    .line 3406
    const-string v3, "account_name"

    move-object/from16 v0, v40

    move-object/from16 v1, v20

    invoke-virtual {v0, v3, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3407
    const-string v3, "account_type"

    move-object/from16 v0, v40

    move-object/from16 v1, v21

    invoke-virtual {v0, v3, v1}, Landroid/content/ContentValues;->put(Ljava/lang/String;Ljava/lang/String;)V

    .line 3411
    :cond_16
    sget-object v12, Landroid/provider/ContactsContract$StreamItems;->CONTENT_URI:Landroid/net/Uri;

    .line 3412
    .local v12, streamUri:Landroid/net/Uri;
    const/4 v3, 0x1

    new-array v13, v3, [Ljava/lang/String;

    const/4 v3, 0x0

    const-string v5, "_id"

    aput-object v5, v13, v3

    const-string v14, "raw_contact_id=?"

    const/4 v3, 0x1

    new-array v15, v3, [Ljava/lang/String;

    const/4 v3, 0x0

    invoke-static/range {v37 .. v38}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    aput-object v5, v15, v3

    const/16 v16, 0x0

    const-wide/16 v17, -0x1

    const/16 v19, 0x0

    move-object/from16 v11, p0

    invoke-virtual/range {v11 .. v19}, Lcom/android/providers/contacts/ContactsProvider2;->queryLocal(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;JLandroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v22

    .line 3417
    .local v22, c:Landroid/database/Cursor;
    :try_start_3
    invoke-interface/range {v22 .. v22}, Landroid/database/Cursor;->getCount()I

    move-result v3

    if-lez v3, :cond_19

    .line 3418
    invoke-interface/range {v22 .. v22}, Landroid/database/Cursor;->moveToFirst()Z

    .line 3419
    const/4 v3, 0x0

    move-object/from16 v0, v22

    invoke-interface {v0, v3}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v5

    invoke-static {v12, v5, v6}, Landroid/content/ContentUris;->withAppendedId(Landroid/net/Uri;J)Landroid/net/Uri;

    move-result-object v3

    const/4 v5, 0x0

    const/4 v6, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v40

    invoke-virtual {v0, v3, v1, v5, v6}, Lcom/android/providers/contacts/ContactsProvider2;->updateInTransaction(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_1

    .line 3425
    :goto_9
    invoke-interface/range {v22 .. v22}, Landroid/database/Cursor;->close()V

    goto/16 :goto_2

    .line 3379
    .end local v12           #streamUri:Landroid/net/Uri;
    .end local v22           #c:Landroid/database/Cursor;
    .end local v40           #streamItemValues:Landroid/content/ContentValues;
    :cond_17
    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object v6, v4

    invoke-virtual/range {v5 .. v10}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->insertStatusUpdate(Ljava/lang/Long;Ljava/lang/String;Ljava/lang/String;Ljava/lang/Integer;Ljava/lang/Integer;)V

    goto/16 :goto_7

    .line 3396
    .restart local v40       #streamItemValues:Landroid/content/ContentValues;
    :cond_18
    invoke-virtual/range {v41 .. v41}, Ljava/lang/Long;->longValue()J

    move-result-wide v5

    goto :goto_8

    .line 3422
    .restart local v12       #streamUri:Landroid/net/Uri;
    .restart local v22       #c:Landroid/database/Cursor;
    :cond_19
    :try_start_4
    move-object/from16 v0, p0

    move-object/from16 v1, v40

    invoke-virtual {v0, v12, v1}, Lcom/android/providers/contacts/ContactsProvider2;->insertInTransaction(Landroid/net/Uri;Landroid/content/ContentValues;)Landroid/net/Uri;
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_1

    goto :goto_9

    .line 3425
    :catchall_1
    move-exception v3

    invoke-interface/range {v22 .. v22}, Landroid/database/Cursor;->close()V

    throw v3

    .line 3314
    .end local v7           #status:Ljava/lang/String;
    .end local v8           #resPackage:Ljava/lang/String;
    .end local v9           #iconResourceId:Ljava/lang/Integer;
    .end local v10           #labelResourceId:Ljava/lang/Integer;
    .end local v12           #streamUri:Landroid/net/Uri;
    .end local v22           #c:Landroid/database/Cursor;
    .end local v30           #iconResource:Ljava/lang/String;
    .end local v31           #labelResource:Ljava/lang/String;
    .end local v39           #resources:Landroid/content/res/Resources;
    .end local v40           #streamItemValues:Landroid/content/ContentValues;
    .end local v41           #timestamp:Ljava/lang/Long;
    :catchall_2
    move-exception v3

    goto/16 :goto_6
.end method

.method protected isAggregationUpgradeNeeded()Z
    .locals 5

    .prologue
    const/4 v1, 0x0

    .line 8599
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

    invoke-virtual {v2}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->isEnabled()Z

    move-result v2

    if-nez v2, :cond_1

    .line 8605
    :cond_0
    :goto_0
    return v1

    .line 8603
    :cond_1
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v3, "aggregation_v2"

    const-string v4, "1"

    invoke-virtual {v2, v3, v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getProperty(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    invoke-static {v2}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v0

    .line 8605
    .local v0, version:I
    const/4 v2, 0x3

    if-ge v0, v2, :cond_0

    const/4 v1, 0x1

    goto :goto_0
.end method

.method protected isContactsAccount(Landroid/accounts/Account;)Z
    .locals 6
    .parameter "account"

    .prologue
    const/4 v2, 0x0

    .line 5130
    invoke-static {}, Landroid/content/ContentResolver;->getContentService()Landroid/content/IContentService;

    move-result-object v0

    .line 5132
    .local v0, cs:Landroid/content/IContentService;
    :try_start_0
    const-string v3, "com.android.contacts"

    invoke-interface {v0, p1, v3}, Landroid/content/IContentService;->getIsSyncable(Landroid/accounts/Account;Ljava/lang/String;)I
    :try_end_0
    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_0

    move-result v3

    if-lez v3, :cond_0

    const/4 v2, 0x1

    .line 5135
    :cond_0
    :goto_0
    return v2

    .line 5133
    :catch_0
    move-exception v1

    .line 5134
    .local v1, e:Landroid/os/RemoteException;
    const-string v3, "ContactsProvider"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Cannot obtain sync flag for account: "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4, v1}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    goto :goto_0
.end method

.method isPhone()Z
    .locals 2
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .prologue
    .line 8680
    iget-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mIsPhoneInitialized:Z

    if-nez v0, :cond_0

    .line 8681
    new-instance v0, Landroid/telephony/TelephonyManager;

    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v1

    invoke-direct {v0, v1}, Landroid/telephony/TelephonyManager;-><init>(Landroid/content/Context;)V

    invoke-virtual {v0}, Landroid/telephony/TelephonyManager;->isVoiceCapable()Z

    move-result v0

    iput-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mIsPhone:Z

    .line 8682
    const/4 v0, 0x1

    iput-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mIsPhoneInitialized:Z

    .line 8684
    :cond_0
    iget-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mIsPhone:Z

    return v0
.end method

.method public isPhoneNumber(Ljava/lang/String;)Z
    .locals 2
    .parameter "query"

    .prologue
    const/4 v0, 0x0

    .line 8364
    invoke-static {p1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v1

    if-eqz v1, :cond_1

    .line 8368
    :cond_0
    :goto_0
    return v0

    :cond_1
    invoke-static {p1}, Lcom/android/providers/contacts/ContactsProvider2;->countPhoneNumberDigits(Ljava/lang/String;)I

    move-result v1

    if-lez v1, :cond_0

    const/4 v0, 0x1

    goto :goto_0
.end method

.method public isValidPreAuthorizedUri(Landroid/net/Uri;)Z
    .locals 8
    .parameter "uri"

    .prologue
    .line 2240
    const-string v6, "perm_token"

    invoke-virtual {p1, v6}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v6

    if-eqz v6, :cond_3

    .line 2242
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v3

    .line 2243
    .local v3, now:J
    invoke-static {}, Lcom/google/android/collect/Sets;->newHashSet()Ljava/util/HashSet;

    move-result-object v1

    .line 2244
    .local v1, expiredUris:Ljava/util/Set;,"Ljava/util/Set<Landroid/net/Uri;>;"
    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUris:Ljava/util/Map;

    invoke-interface {v6}, Ljava/util/Map;->keySet()Ljava/util/Set;

    move-result-object v6

    invoke-interface {v6}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v2

    .local v2, i$:Ljava/util/Iterator;
    :cond_0
    :goto_0
    invoke-interface {v2}, Ljava/util/Iterator;->hasNext()Z

    move-result v6

    if-eqz v6, :cond_1

    invoke-interface {v2}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Landroid/net/Uri;

    .line 2245
    .local v5, preAuthUri:Landroid/net/Uri;
    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUris:Ljava/util/Map;

    invoke-interface {v6, v5}, Ljava/util/Map;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Ljava/lang/Long;

    invoke-virtual {v6}, Ljava/lang/Long;->longValue()J

    move-result-wide v6

    cmp-long v6, v6, v3

    if-gez v6, :cond_0

    .line 2246
    invoke-interface {v1, v5}, Ljava/util/Set;->add(Ljava/lang/Object;)Z

    goto :goto_0

    .line 2249
    .end local v5           #preAuthUri:Landroid/net/Uri;
    :cond_1
    invoke-interface {v1}, Ljava/util/Set;->iterator()Ljava/util/Iterator;

    move-result-object v2

    :goto_1
    invoke-interface {v2}, Ljava/util/Iterator;->hasNext()Z

    move-result v6

    if-eqz v6, :cond_2

    invoke-interface {v2}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Landroid/net/Uri;

    .line 2250
    .local v0, expiredUri:Landroid/net/Uri;
    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUris:Ljava/util/Map;

    invoke-interface {v6, v0}, Ljava/util/Map;->remove(Ljava/lang/Object;)Ljava/lang/Object;

    goto :goto_1

    .line 2254
    .end local v0           #expiredUri:Landroid/net/Uri;
    :cond_2
    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mPreAuthorizedUris:Ljava/util/Map;

    invoke-interface {v6, p1}, Ljava/util/Map;->containsKey(Ljava/lang/Object;)Z

    move-result v6

    if-eqz v6, :cond_3

    .line 2256
    const/4 v6, 0x1

    .line 2259
    .end local v1           #expiredUris:Ljava/util/Set;,"Ljava/util/Set<Landroid/net/Uri;>;"
    .end local v2           #i$:Ljava/util/Iterator;
    .end local v3           #now:J
    :goto_2
    return v6

    :cond_3
    const/4 v6, 0x0

    goto :goto_2
.end method

.method isVoiceCapable()Z
    .locals 2

    .prologue
    .line 8693
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v0

    invoke-virtual {v0}, Landroid/content/Context;->getResources()Landroid/content/res/Resources;

    move-result-object v0

    const v1, 0x1110030

    invoke-virtual {v0, v1}, Landroid/content/res/Resources;->getBoolean(I)Z

    move-result v0

    return v0
.end method

.method public isWritableAccountWithDataSet(Ljava/lang/String;)Z
    .locals 9
    .parameter "accountTypeAndDataSet"

    .prologue
    .line 8486
    if-nez p1, :cond_0

    .line 8487
    const/4 v7, 0x1

    .line 8514
    :goto_0
    return v7

    .line 8490
    :cond_0
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccountWritability:Ljava/util/HashMap;

    invoke-virtual {v7, p1}, Ljava/util/HashMap;->get(Ljava/lang/Object;)Ljava/lang/Object;

    move-result-object v6

    check-cast v6, Ljava/lang/Boolean;

    .line 8491
    .local v6, writable:Ljava/lang/Boolean;
    if-eqz v6, :cond_1

    .line 8492
    invoke-virtual {v6}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v7

    goto :goto_0

    .line 8495
    :cond_1
    invoke-static {}, Landroid/content/ContentResolver;->getContentService()Landroid/content/IContentService;

    move-result-object v1

    .line 8498
    .local v1, contentService:Landroid/content/IContentService;
    :try_start_0
    invoke-interface {v1}, Landroid/content/IContentService;->getSyncAdapterTypes()[Landroid/content/SyncAdapterType;

    move-result-object v0

    .local v0, arr$:[Landroid/content/SyncAdapterType;
    array-length v4, v0

    .local v4, len$:I
    const/4 v3, 0x0

    .local v3, i$:I
    :goto_1
    if-ge v3, v4, :cond_2

    aget-object v5, v0, v3

    .line 8499
    .local v5, sync:Landroid/content/SyncAdapterType;
    const-string v7, "com.android.contacts"

    iget-object v8, v5, Landroid/content/SyncAdapterType;->authority:Ljava/lang/String;

    invoke-virtual {v7, v8}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v7

    if-eqz v7, :cond_4

    iget-object v7, v5, Landroid/content/SyncAdapterType;->accountType:Ljava/lang/String;

    invoke-virtual {p1, v7}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v7

    if-eqz v7, :cond_4

    .line 8501
    invoke-virtual {v5}, Landroid/content/SyncAdapterType;->supportsUploading()Z

    move-result v7

    invoke-static {v7}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;
    :try_end_0
    .catch Landroid/os/RemoteException; {:try_start_0 .. :try_end_0} :catch_0

    move-result-object v6

    .line 8509
    .end local v0           #arr$:[Landroid/content/SyncAdapterType;
    .end local v3           #i$:I
    .end local v4           #len$:I
    .end local v5           #sync:Landroid/content/SyncAdapterType;
    :cond_2
    :goto_2
    if-nez v6, :cond_3

    .line 8510
    const/4 v7, 0x0

    invoke-static {v7}, Ljava/lang/Boolean;->valueOf(Z)Ljava/lang/Boolean;

    move-result-object v6

    .line 8513
    :cond_3
    iget-object v7, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccountWritability:Ljava/util/HashMap;

    invoke-virtual {v7, p1, v6}, Ljava/util/HashMap;->put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object;

    .line 8514
    invoke-virtual {v6}, Ljava/lang/Boolean;->booleanValue()Z

    move-result v7

    goto :goto_0

    .line 8498
    .restart local v0       #arr$:[Landroid/content/SyncAdapterType;
    .restart local v3       #i$:I
    .restart local v4       #len$:I
    .restart local v5       #sync:Landroid/content/SyncAdapterType;
    :cond_4
    add-int/lit8 v3, v3, 0x1

    goto :goto_1

    .line 8505
    .end local v0           #arr$:[Landroid/content/SyncAdapterType;
    .end local v3           #i$:I
    .end local v4           #len$:I
    .end local v5           #sync:Landroid/content/SyncAdapterType;
    :catch_0
    move-exception v2

    .line 8506
    .local v2, e:Landroid/os/RemoteException;
    const-string v7, "ContactsProvider"

    const-string v8, "Could not acquire sync adapter types"

    invoke-static {v7, v8}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_2
.end method

.method protected loadAccountsInBackground()V
    .locals 10

    .prologue
    .line 9025
    const-string v7, "ContactsProvider"

    const-string v8, "loadAccountsInBackground()+ "

    invoke-static {v7, v8}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 9027
    invoke-static {}, Lcom/mediatek/providers/contacts/SlotUtils;->getAllSlotIds()[Ljava/lang/Integer;

    move-result-object v0

    .local v0, arr$:[Ljava/lang/Integer;
    array-length v2, v0

    .local v2, len$:I
    const/4 v1, 0x0

    .local v1, i$:I
    :goto_0
    if-ge v1, v2, :cond_1

    aget-object v7, v0, v1

    invoke-virtual {v7}, Ljava/lang/Integer;->intValue()I

    move-result v6

    .line 9028
    .local v6, slotId:I
    invoke-static {v6}, Lcom/mediatek/providers/contacts/SimCardUtils;->isSimInserted(I)Z

    move-result v7

    if-eqz v7, :cond_0

    .line 9029
    invoke-static {v6}, Lcom/mediatek/providers/contacts/SimCardUtils;->getSimTypeBySlot(I)I

    move-result v5

    .line 9030
    .local v5, simType:I
    invoke-static {v5}, Lcom/mediatek/providers/contacts/SimCardUtils;->getSimAccountType(I)Ljava/lang/String;

    move-result-object v4

    .line 9031
    .local v4, simAccountType:Ljava/lang/String;
    invoke-static {v5, v6}, Lcom/mediatek/providers/contacts/SlotUtils;->getSimAccountNameForSlot(II)Ljava/lang/String;

    move-result-object v3

    .line 9032
    .local v3, simAccountName:Ljava/lang/String;
    const-string v7, "ContactsProvider"

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    const-string v9, "loadAccountsInBackground slotId:"

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8, v6}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v9, " simAccountType:"

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v9, " simAccountName:"

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-static {v7, v8}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 9034
    invoke-virtual {p0, v3, v4, v6}, Lcom/android/providers/contacts/ContactsProvider2;->loadLocalSimAccounts(Ljava/lang/String;Ljava/lang/String;I)V

    .line 9027
    .end local v3           #simAccountName:Ljava/lang/String;
    .end local v4           #simAccountType:Ljava/lang/String;
    .end local v5           #simType:I
    :goto_1
    add-int/lit8 v1, v1, 0x1

    goto :goto_0

    .line 9036
    :cond_0
    invoke-static {v6}, Lcom/mediatek/providers/contacts/SlotUtils;->getPossibleSimAccountNamesForSlot(I)Ljava/util/Collection;

    move-result-object v7

    invoke-virtual {p0, v7}, Lcom/android/providers/contacts/ContactsProvider2;->deleteLocalSimAccounts(Ljava/util/Collection;)V

    goto :goto_1

    .line 9040
    .end local v6           #slotId:I
    :cond_1
    return-void
.end method

.method protected loadLocalPhoneAccounts()V
    .locals 8

    .prologue
    const/4 v5, 0x0

    .line 9186
    const-string v4, "ContactsProvider"

    const-string v6, "loadLocalPhoneAccounts()+ "

    invoke-static {v4, v6}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 9188
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 9189
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v2

    .line 9191
    .local v2, db:Landroid/database/sqlite/SQLiteDatabase;
    const-string v4, "ro.build.characteristics"

    invoke-static {v4}, Landroid/os/SystemProperties;->get(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v0

    .line 9204
    .local v0, ProductCharacteristic:Ljava/lang/String;
    :try_start_0
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V
    :try_end_0
    .catch Landroid/database/sqlite/SQLiteDiskIOException; {:try_start_0 .. :try_end_0} :catch_0

    .line 9216
    :try_start_1
    const-string v4, "SELECT account_name,account_type FROM settings WHERE account_name = \'Phone\'"

    const/4 v6, 0x0

    invoke-virtual {v2, v4, v6}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1

    move-result-object v1

    .line 9219
    .local v1, cursor:Landroid/database/Cursor;
    :try_start_2
    const-string v6, "ContactsProvider"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "loadLocal Phone Accounts -cursor.count:"

    invoke-virtual {v4, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    if-nez v1, :cond_1

    move v4, v5

    :goto_0
    invoke-virtual {v7, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v6, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 9220
    if-eqz v1, :cond_0

    invoke-interface {v1}, Landroid/database/Cursor;->getCount()I

    move-result v4

    if-nez v4, :cond_0

    .line 9224
    if-eqz v0, :cond_2

    const-string v4, "tablet"

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-eqz v4, :cond_2

    .line 9225
    const-string v4, "INSERT INTO settings (account_name, account_type, data_set, ungrouped_visible, should_sync) VALUES (?, ?, ?, ?, ?)"

    const/4 v5, 0x5

    new-array v5, v5, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v7, "Tablet"

    aput-object v7, v5, v6

    const/4 v6, 0x1

    const-string v7, "Local Phone Account"

    aput-object v7, v5, v6

    const/4 v6, 0x2

    const/4 v7, 0x0

    aput-object v7, v5, v6

    const/4 v6, 0x3

    const-string v7, "1"

    aput-object v7, v5, v6

    const/4 v6, 0x4

    const-string v7, "1"

    aput-object v7, v5, v6

    invoke-virtual {v2, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    .line 9244
    :cond_0
    :goto_1
    :try_start_3
    invoke-interface {v1}, Landroid/database/Cursor;->close()V

    .line 9247
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_1

    .line 9250
    :try_start_4
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
    :try_end_4
    .catch Landroid/database/sqlite/SQLiteDiskIOException; {:try_start_4 .. :try_end_4} :catch_1
    .catch Landroid/database/sqlite/SQLiteCantOpenDatabaseException; {:try_start_4 .. :try_end_4} :catch_2

    .line 9266
    .end local v1           #cursor:Landroid/database/Cursor;
    :goto_2
    return-void

    .line 9205
    :catch_0
    move-exception v3

    .line 9206
    .local v3, ex:Landroid/database/sqlite/SQLiteDiskIOException;
    const-string v4, "ContactsProvider"

    const-string v5, "[loadLocalPhoneAccounts]catch SQLiteDiskIOException."

    invoke-static {v4, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_2

    .line 9219
    .end local v3           #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    .restart local v1       #cursor:Landroid/database/Cursor;
    :cond_1
    :try_start_5
    invoke-interface {v1}, Landroid/database/Cursor;->getCount()I

    move-result v4

    goto :goto_0

    .line 9233
    :cond_2
    const-string v4, "INSERT INTO settings (account_name, account_type, data_set, ungrouped_visible, should_sync) VALUES (?, ?, ?, ?, ?)"

    const/4 v5, 0x5

    new-array v5, v5, [Ljava/lang/String;

    const/4 v6, 0x0

    const-string v7, "Phone"

    aput-object v7, v5, v6

    const/4 v6, 0x1

    const-string v7, "Local Phone Account"

    aput-object v7, v5, v6

    const/4 v6, 0x2

    const/4 v7, 0x0

    aput-object v7, v5, v6

    const/4 v6, 0x3

    const-string v7, "1"

    aput-object v7, v5, v6

    const/4 v6, 0x4

    const-string v7, "1"

    aput-object v7, v5, v6

    invoke-virtual {v2, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V
    :try_end_5
    .catchall {:try_start_5 .. :try_end_5} :catchall_0

    goto :goto_1

    .line 9244
    :catchall_0
    move-exception v4

    :try_start_6
    invoke-interface {v1}, Landroid/database/Cursor;->close()V

    throw v4
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_1

    .line 9249
    .end local v1           #cursor:Landroid/database/Cursor;
    :catchall_1
    move-exception v4

    .line 9250
    :try_start_7
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
    :try_end_7
    .catch Landroid/database/sqlite/SQLiteDiskIOException; {:try_start_7 .. :try_end_7} :catch_3
    .catch Landroid/database/sqlite/SQLiteCantOpenDatabaseException; {:try_start_7 .. :try_end_7} :catch_4

    .line 9260
    throw v4

    .line 9251
    .restart local v1       #cursor:Landroid/database/Cursor;
    :catch_1
    move-exception v3

    .line 9252
    .restart local v3       #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    const-string v4, "ContactsProvider"

    const-string v5, "[loadLocalPhoneAccounts]catch SQLiteDiskIOException."

    invoke-static {v4, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_2

    .line 9258
    .end local v3           #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    :catch_2
    move-exception v3

    .line 9259
    .local v3, ex:Landroid/database/sqlite/SQLiteCantOpenDatabaseException;
    const-string v4, "ContactsProvider"

    const-string v5, "[loadLocalPhoneAccounts]catch SQLiteCantOpenDatabaseException. for endTransaction()"

    invoke-static {v4, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_2

    .line 9251
    .end local v1           #cursor:Landroid/database/Cursor;
    .end local v3           #ex:Landroid/database/sqlite/SQLiteCantOpenDatabaseException;
    :catch_3
    move-exception v3

    .line 9252
    .local v3, ex:Landroid/database/sqlite/SQLiteDiskIOException;
    const-string v4, "ContactsProvider"

    const-string v5, "[loadLocalPhoneAccounts]catch SQLiteDiskIOException."

    invoke-static {v4, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_2

    .line 9258
    .end local v3           #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    :catch_4
    move-exception v3

    .line 9259
    .local v3, ex:Landroid/database/sqlite/SQLiteCantOpenDatabaseException;
    const-string v4, "ContactsProvider"

    const-string v5, "[loadLocalPhoneAccounts]catch SQLiteCantOpenDatabaseException. for endTransaction()"

    invoke-static {v4, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_2
.end method

.method protected loadLocalSimAccounts(Ljava/lang/String;Ljava/lang/String;I)V
    .locals 8
    .parameter "accountName"
    .parameter "accountType"
    .parameter "slotId"

    .prologue
    const/4 v5, 0x0

    .line 9043
    const-string v4, "ContactsProvider"

    const-string v6, "loadLocalSimAccounts()+ "

    invoke-static {v4, v6}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 9044
    invoke-static {p1}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-nez v4, :cond_0

    invoke-static {p2}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v4

    if-eqz v4, :cond_1

    .line 9045
    :cond_0
    const-string v4, "ContactsProvider"

    const-string v5, "Account Name or type is null"

    invoke-static {v4, v5}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 9118
    :goto_0
    return-void

    .line 9049
    :cond_1
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 9050
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v2

    .line 9058
    .local v2, db:Landroid/database/sqlite/SQLiteDatabase;
    :try_start_0
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V
    :try_end_0
    .catch Landroid/database/sqlite/SQLiteDiskIOException; {:try_start_0 .. :try_end_0} :catch_1

    .line 9071
    :try_start_1
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "SELECT account_name,account_type FROM settings WHERE account_name = \'"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v6, "\'"

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    const/4 v6, 0x0

    invoke-virtual {v2, v4, v6}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_1

    move-result-object v1

    .line 9075
    .local v1, cursor:Landroid/database/Cursor;
    :try_start_2
    const-string v6, "ContactsProvider"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "loadLocalSimAccounts -cursor.count:"

    invoke-virtual {v4, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    if-nez v1, :cond_4

    move v4, v5

    :goto_1
    invoke-virtual {v7, v4}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v6, v4}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 9076
    if-eqz v1, :cond_2

    invoke-interface {v1}, Landroid/database/Cursor;->getCount()I

    move-result v4

    if-nez v4, :cond_2

    .line 9079
    const-string v4, "INSERT INTO settings (account_name, account_type, data_set, ungrouped_visible, should_sync) VALUES (?, ?, ?, ?, ?)"

    const/4 v5, 0x5

    new-array v5, v5, [Ljava/lang/String;

    const/4 v6, 0x0

    aput-object p1, v5, v6

    const/4 v6, 0x1

    aput-object p2, v5, v6

    const/4 v6, 0x2

    const/4 v7, 0x0

    aput-object v7, v5, v6

    const/4 v6, 0x3

    const-string v7, "1"

    aput-object v7, v5, v6

    const/4 v6, 0x4

    const-string v7, "1"

    aput-object v7, v5, v6

    invoke-virtual {v2, v4, v5}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    .line 9087
    :cond_2
    :try_start_3
    invoke-interface {v1}, Landroid/database/Cursor;->close()V

    .line 9091
    invoke-static {p3}, Lcom/mediatek/providers/contacts/SlotUtils;->getPossibleSimAccountNamesForSlot(I)Ljava/util/Collection;

    move-result-object v0

    .line 9092
    .local v0, allAccountNames:Ljava/util/Collection;,"Ljava/util/Collection<Ljava/lang/String;>;"
    invoke-interface {v0, p1}, Ljava/util/Collection;->remove(Ljava/lang/Object;)Z

    move-result v4

    if-eqz v4, :cond_3

    .line 9093
    const-string v4, "ContactsProvider"

    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "delete all possible sim account, except for "

    invoke-virtual {v5, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    invoke-static {v4, v5}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 9094
    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->deleteLocalSimAccounts(Ljava/util/Collection;)V

    .line 9098
    :cond_3
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_1

    .line 9101
    :try_start_4
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
    :try_end_4
    .catch Landroid/database/sqlite/SQLiteDiskIOException; {:try_start_4 .. :try_end_4} :catch_0
    .catch Landroid/database/sqlite/SQLiteCantOpenDatabaseException; {:try_start_4 .. :try_end_4} :catch_2

    goto/16 :goto_0

    .line 9102
    :catch_0
    move-exception v3

    .line 9103
    .local v3, ex:Landroid/database/sqlite/SQLiteDiskIOException;
    const-string v4, "ContactsProvider"

    const-string v5, "[loadLocalSimAccounts]catch SQLiteDiskIOException."

    invoke-static {v4, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto/16 :goto_0

    .line 9059
    .end local v0           #allAccountNames:Ljava/util/Collection;,"Ljava/util/Collection<Ljava/lang/String;>;"
    .end local v1           #cursor:Landroid/database/Cursor;
    .end local v3           #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    :catch_1
    move-exception v3

    .line 9060
    .restart local v3       #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    const-string v4, "ContactsProvider"

    const-string v5, "[loadLocalSimAccounts]catch SQLiteDiskIOException."

    invoke-static {v4, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto/16 :goto_0

    .line 9075
    .end local v3           #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    .restart local v1       #cursor:Landroid/database/Cursor;
    :cond_4
    :try_start_5
    invoke-interface {v1}, Landroid/database/Cursor;->getCount()I
    :try_end_5
    .catchall {:try_start_5 .. :try_end_5} :catchall_0

    move-result v4

    goto :goto_1

    .line 9087
    :catchall_0
    move-exception v4

    :try_start_6
    invoke-interface {v1}, Landroid/database/Cursor;->close()V

    throw v4
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_1

    .line 9100
    .end local v1           #cursor:Landroid/database/Cursor;
    :catchall_1
    move-exception v4

    .line 9101
    :try_start_7
    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
    :try_end_7
    .catch Landroid/database/sqlite/SQLiteDiskIOException; {:try_start_7 .. :try_end_7} :catch_3
    .catch Landroid/database/sqlite/SQLiteCantOpenDatabaseException; {:try_start_7 .. :try_end_7} :catch_4

    .line 9111
    throw v4

    .line 9109
    .restart local v0       #allAccountNames:Ljava/util/Collection;,"Ljava/util/Collection<Ljava/lang/String;>;"
    .restart local v1       #cursor:Landroid/database/Cursor;
    :catch_2
    move-exception v3

    .line 9110
    .local v3, ex:Landroid/database/sqlite/SQLiteCantOpenDatabaseException;
    const-string v4, "ContactsProvider"

    const-string v5, "[loadLocalSimAccounts]catch SQLiteCantOpenDatabaseException for endTransaction()"

    invoke-static {v4, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto/16 :goto_0

    .line 9102
    .end local v0           #allAccountNames:Ljava/util/Collection;,"Ljava/util/Collection<Ljava/lang/String;>;"
    .end local v1           #cursor:Landroid/database/Cursor;
    .end local v3           #ex:Landroid/database/sqlite/SQLiteCantOpenDatabaseException;
    :catch_3
    move-exception v3

    .line 9103
    .local v3, ex:Landroid/database/sqlite/SQLiteDiskIOException;
    const-string v4, "ContactsProvider"

    const-string v5, "[loadLocalSimAccounts]catch SQLiteDiskIOException."

    invoke-static {v4, v5}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    goto/16 :goto_0

    .line 9109
    .end local v3           #ex:Landroid/database/sqlite/SQLiteDiskIOException;
    :catch_4
    move-exception v3

    .line 9110
    .local v3, ex:Landroid/database/sqlite/SQLiteCantOpenDatabaseException;
    const-string v4, "ContactsProvider"

    const-string v5, "[loadLocalSimAccounts]catch SQLiteCantOpenDatabaseException for endTransaction()"

    invoke-static {v4, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    goto/16 :goto_0
.end method

.method public lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J
    .locals 10
    .parameter "db"
    .parameter "lookupKey"

    .prologue
    const-wide/16 v8, -0x1

    .line 6820
    new-instance v5, Lcom/android/providers/contacts/ContactLookupKey;

    invoke-direct {v5}, Lcom/android/providers/contacts/ContactLookupKey;-><init>()V

    .line 6821
    .local v5, key:Lcom/android/providers/contacts/ContactLookupKey;
    invoke-virtual {v5, p2}, Lcom/android/providers/contacts/ContactLookupKey;->parse(Ljava/lang/String;)Ljava/util/ArrayList;

    move-result-object v6

    .line 6823
    .local v6, segments:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/ContactLookupKey$LookupKeySegment;>;"
    const-wide/16 v0, -0x1

    .line 6824
    .local v0, contactId:J
    const/4 v7, 0x3

    invoke-direct {p0, v6, v7}, Lcom/android/providers/contacts/ContactsProvider2;->lookupKeyContainsType(Ljava/util/ArrayList;I)Z

    move-result v7

    if-eqz v7, :cond_0

    .line 6826
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupSingleContactId(Landroid/database/sqlite/SQLiteDatabase;)J

    move-result-wide v0

    .line 6829
    :cond_0
    const/4 v7, 0x0

    invoke-direct {p0, v6, v7}, Lcom/android/providers/contacts/ContactsProvider2;->lookupKeyContainsType(Ljava/util/ArrayList;I)Z

    move-result v7

    if-eqz v7, :cond_1

    .line 6830
    invoke-direct {p0, p1, v6}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdBySourceIds(Landroid/database/sqlite/SQLiteDatabase;Ljava/util/ArrayList;)J

    move-result-wide v0

    .line 6831
    cmp-long v7, v0, v8

    if-eqz v7, :cond_1

    move-wide v2, v0

    .line 6850
    .end local v0           #contactId:J
    .local v2, contactId:J
    :goto_0
    return-wide v2

    .line 6836
    .end local v2           #contactId:J
    .restart local v0       #contactId:J
    :cond_1
    const/4 v7, 0x2

    invoke-direct {p0, v6, v7}, Lcom/android/providers/contacts/ContactsProvider2;->lookupKeyContainsType(Ljava/util/ArrayList;I)Z

    move-result v4

    .line 6838
    .local v4, hasRawContactIds:Z
    if-eqz v4, :cond_2

    .line 6839
    invoke-direct {p0, p1, v6}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByRawContactIds(Landroid/database/sqlite/SQLiteDatabase;Ljava/util/ArrayList;)J

    move-result-wide v0

    .line 6840
    cmp-long v7, v0, v8

    if-eqz v7, :cond_2

    move-wide v2, v0

    .line 6841
    .end local v0           #contactId:J
    .restart local v2       #contactId:J
    goto :goto_0

    .line 6845
    .end local v2           #contactId:J
    .restart local v0       #contactId:J
    :cond_2
    if-nez v4, :cond_3

    const/4 v7, 0x1

    invoke-direct {p0, v6, v7}, Lcom/android/providers/contacts/ContactsProvider2;->lookupKeyContainsType(Ljava/util/ArrayList;I)Z

    move-result v7

    if-eqz v7, :cond_4

    .line 6847
    :cond_3
    invoke-direct {p0, p1, v6}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByDisplayNames(Landroid/database/sqlite/SQLiteDatabase;Ljava/util/ArrayList;)J

    move-result-wide v0

    :cond_4
    move-wide v2, v0

    .line 6850
    .end local v0           #contactId:J
    .restart local v2       #contactId:J
    goto :goto_0
.end method

.method public newProfileProvider()Lcom/android/providers/contacts/ProfileProvider;
    .locals 1

    .prologue
    .line 1959
    new-instance v0, Lcom/android/providers/contacts/ProfileProvider;

    invoke-direct {v0, p0}, Lcom/android/providers/contacts/ProfileProvider;-><init>(Lcom/android/providers/contacts/ContactsProvider2;)V

    return-object v0
.end method

.method protected notifyChange()V
    .locals 1

    .prologue
    .line 2433
    iget-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->notifyChange(Z)V

    .line 2434
    const/4 v0, 0x0

    iput-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 2435
    return-void
.end method

.method protected notifyChange(Z)V
    .locals 3
    .parameter "syncToNetwork"

    .prologue
    .line 2438
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v0

    invoke-virtual {v0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v0

    sget-object v1, Landroid/provider/ContactsContract;->AUTHORITY_URI:Landroid/net/Uri;

    const/4 v2, 0x0

    invoke-virtual {v0, v1, v2, p1}, Landroid/content/ContentResolver;->notifyChange(Landroid/net/Uri;Landroid/database/ContentObserver;Z)V

    .line 2440
    return-void
.end method

.method public onAccountsUpdated([Landroid/accounts/Account;)V
    .locals 1
    .parameter "accounts"

    .prologue
    .line 4805
    const/4 v0, 0x3

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    .line 4806
    return-void
.end method

.method public onBegin()V
    .locals 1

    .prologue
    .line 2295
    const/4 v0, 0x0

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->onBeginTransactionInternal(Z)V

    .line 2296
    return-void
.end method

.method protected onBeginTransactionInternal(Z)V
    .locals 1
    .parameter "forProfile"

    .prologue
    .line 2303
    if-eqz p1, :cond_0

    .line 2304
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 2305
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

    invoke-virtual {v0}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->clearPendingAggregations()V

    .line 2306
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileTransactionContext:Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v0}, Lcom/android/providers/contacts/TransactionContext;->clearExceptSearchIndexUpdates()V

    .line 2312
    :goto_0
    return-void

    .line 2308
    :cond_0
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 2309
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

    invoke-virtual {v0}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->clearPendingAggregations()V

    .line 2310
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactTransactionContext:Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v0}, Lcom/android/providers/contacts/TransactionContext;->clearExceptSearchIndexUpdates()V

    goto :goto_0
.end method

.method public onCommit()V
    .locals 1

    .prologue
    .line 2316
    const/4 v0, 0x0

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->onCommitTransactionInternal(Z)V

    .line 2317
    return-void
.end method

.method protected onCommitTransactionInternal(Z)V
    .locals 4
    .parameter "forProfile"

    .prologue
    const/4 v3, 0x0

    .line 2324
    if-eqz p1, :cond_2

    .line 2325
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 2330
    :goto_0
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->flushTransactionalChanges()V

    .line 2331
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 2332
    .local v0, db:Landroid/database/sqlite/SQLiteDatabase;
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v1, v2, v0}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->aggregateInTransaction(Lcom/android/providers/contacts/TransactionContext;Landroid/database/sqlite/SQLiteDatabase;)V

    .line 2333
    iget-boolean v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    if-eqz v1, :cond_0

    .line 2334
    iput-boolean v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mVisibleTouched:Z

    .line 2335
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v1

    check-cast v1, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->updateAllVisible()V

    .line 2338
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 2341
    :cond_0
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateSearchIndexInTransaction()V

    .line 2343
    iget-boolean v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatusUpdateNeeded:Z

    if-eqz v1, :cond_1

    .line 2344
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateProviderStatus()V

    .line 2345
    iput-boolean v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatusUpdateNeeded:Z

    .line 2347
    :cond_1
    return-void

    .line 2327
    .end local v0           #db:Landroid/database/sqlite/SQLiteDatabase;
    :cond_2
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    goto :goto_0
.end method

.method public onCreate()Z
    .locals 4

    .prologue
    const/4 v3, 0x3

    .line 1462
    const-string v1, "ContactsPerf"

    invoke-static {v1, v3}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v1

    if-eqz v1, :cond_0

    .line 1463
    const-string v1, "ContactsPerf"

    const-string v2, "ContactsProvider2.onCreate start"

    invoke-static {v1, v2}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 1465
    :cond_0
    invoke-super {p0}, Lcom/android/providers/contacts/AbstractContactsProvider;->onCreate()Z

    .line 1468
    const-string v1, "sub-permission.QUERY_CONTACTS"

    invoke-virtual {p0, v1}, Landroid/content/ContentProvider;->setQueryPermission(Ljava/lang/String;)V

    .line 1471
    :try_start_0
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->initialize()Z
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0
    .catch Ljava/lang/RuntimeException; {:try_start_0 .. :try_end_0} :catch_0

    move-result v1

    .line 1482
    const-string v2, "ContactsPerf"

    invoke-static {v2, v3}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v2

    if-eqz v2, :cond_1

    .line 1483
    const-string v2, "ContactsPerf"

    const-string v3, "ContactsProvider2.onCreate finish"

    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    :cond_1
    :goto_0
    return v1

    .line 1472
    :catch_0
    move-exception v0

    .line 1473
    .local v0, e:Ljava/lang/RuntimeException;
    :try_start_1
    const-string v1, "ContactsProvider"

    const-string v2, "Cannot start provider"

    invoke-static {v1, v2, v0}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I

    .line 1477
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->shouldThrowExceptionForInitializationError()Z

    move-result v1

    if-eqz v1, :cond_3

    .line 1478
    throw v0
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 1482
    .end local v0           #e:Ljava/lang/RuntimeException;
    :catchall_0
    move-exception v1

    const-string v2, "ContactsPerf"

    invoke-static {v2, v3}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v2

    if-eqz v2, :cond_2

    .line 1483
    const-string v2, "ContactsPerf"

    const-string v3, "ContactsProvider2.onCreate finish"

    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    :cond_2
    throw v1

    .line 1480
    .restart local v0       #e:Ljava/lang/RuntimeException;
    :cond_3
    const/4 v1, 0x0

    .line 1482
    const-string v2, "ContactsPerf"

    invoke-static {v2, v3}, Landroid/util/Log;->isLoggable(Ljava/lang/String;I)Z

    move-result v2

    if-eqz v2, :cond_1

    .line 1483
    const-string v2, "ContactsPerf"

    const-string v3, "ContactsProvider2.onCreate finish"

    invoke-static {v2, v3}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    goto :goto_0
.end method

.method public onLocaleChanged()V
    .locals 2

    .prologue
    .line 1768
    iget v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    if-eqz v0, :cond_0

    iget v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    const/4 v1, 0x4

    if-eq v0, v1, :cond_0

    .line 1774
    :goto_0
    return-void

    .line 1773
    :cond_0
    const/16 v0, 0x9

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(I)V

    goto :goto_0
.end method

.method public onPackageChanged(Ljava/lang/String;)V
    .locals 1
    .parameter "packageName"

    .prologue
    .line 5140
    const/16 v0, 0x8

    invoke-virtual {p0, v0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->scheduleBackgroundTask(ILjava/lang/Object;)V

    .line 5141
    return-void
.end method

.method public onRollback()V
    .locals 1

    .prologue
    .line 2351
    const/4 v0, 0x0

    invoke-virtual {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->onRollbackTransactionInternal(Z)V

    .line 2352
    return-void
.end method

.method protected onRollbackTransactionInternal(Z)V
    .locals 1
    .parameter "forProfile"

    .prologue
    .line 2359
    if-eqz p1, :cond_0

    .line 2360
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 2365
    :goto_0
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v0}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->invalidateAllCache()V

    .line 2366
    return-void

    .line 2362
    :cond_0
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    goto :goto_0
.end method

.method public openAssetFile(Landroid/net/Uri;Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
    .locals 6
    .parameter "uri"
    .parameter "mode"
    .annotation system Ldalvik/annotation/Throws;
        value = {
            Ljava/io/FileNotFoundException;
        }
    .end annotation

    .prologue
    .line 7694
    const/4 v1, 0x0

    .line 7696
    .local v1, success:Z
    :try_start_0
    const-string v2, "r"

    invoke-virtual {p2, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_1

    .line 7697
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-direct {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 7702
    :goto_0
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDb(Landroid/net/Uri;)Z

    move-result v2

    if-eqz v2, :cond_3

    .line 7703
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 7704
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    invoke-virtual {v2, p1, p2}, Lcom/android/providers/contacts/ProfileProvider;->openAssetFile(Landroid/net/Uri;Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-object v0

    .line 7709
    .local v0, ret:Landroid/content/res/AssetFileDescriptor;
    :goto_1
    const/4 v1, 0x1

    .line 7712
    sget-boolean v2, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v2, :cond_0

    .line 7713
    const-string v2, "ContactsProvider"

    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "openAssetFile uri="

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, " mode="

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, " success="

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, v1}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-static {v2, v3}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    :cond_0
    return-object v0

    .line 7699
    .end local v0           #ret:Landroid/content/res/AssetFileDescriptor;
    :cond_1
    :try_start_1
    iget-object v2, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-direct {p0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_0

    .line 7712
    :catchall_0
    move-exception v2

    sget-boolean v3, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v3, :cond_2

    .line 7713
    const-string v3, "ContactsProvider"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "openAssetFile uri="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " mode="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, " success="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4, v1}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v3, v4}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    :cond_2
    throw v2

    .line 7706
    :cond_3
    :try_start_2
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 7707
    invoke-virtual {p0, p1, p2}, Lcom/android/providers/contacts/ContactsProvider2;->openAssetFileLocal(Landroid/net/Uri;Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_0

    move-result-object v0

    .restart local v0       #ret:Landroid/content/res/AssetFileDescriptor;
    goto :goto_1
.end method

.method public openAssetFileLocal(Landroid/net/Uri;Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
    .locals 51
    .parameter "uri"
    .parameter "mode"
    .annotation system Ldalvik/annotation/Throws;
        value = {
            Ljava/io/FileNotFoundException;
        }
    .end annotation

    .prologue
    .line 7721
    const-string v4, "w"

    move-object/from16 v0, p2

    invoke-virtual {v0, v4}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z

    move-result v50

    .line 7723
    .local v50, writing:Z
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move/from16 v0, v50

    invoke-virtual {v4, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getDatabase(Z)Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v5

    .line 7725
    .local v5, db:Landroid/database/sqlite/SQLiteDatabase;
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    move-object/from16 v0, p1

    invoke-virtual {v4, v0}, Landroid/content/UriMatcher;->match(Landroid/net/Uri;)I

    move-result v38

    .line 7726
    .local v38, match:I
    sparse-switch v38, :sswitch_data_0

    .line 7959
    new-instance v6, Ljava/io/FileNotFoundException;

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v9, "File does not exist"

    move-object/from16 v0, p1

    invoke-virtual {v4, v9, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v4

    invoke-direct {v6, v4}, Ljava/io/FileNotFoundException;-><init>(Ljava/lang/String;)V

    throw v6

    .line 7728
    :sswitch_0
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x1

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v17

    .line 7729
    .local v17, contactId:J
    const-string v8, "_id=photo_id AND contact_id=?"

    const/4 v4, 0x1

    new-array v9, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static/range {v17 .. v18}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v9, v4

    move-object/from16 v4, p0

    move-object/from16 v6, p1

    move-object/from16 v7, p2

    invoke-direct/range {v4 .. v9}, Lcom/android/providers/contacts/ContactsProvider2;->openPhotoAssetFile(Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    .line 7955
    .end local v17           #contactId:J
    :goto_0
    return-object v4

    .line 7736
    :sswitch_1
    const-string v4, "r"

    move-object/from16 v0, p2

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_0

    .line 7737
    new-instance v4, Ljava/lang/IllegalArgumentException;

    const-string v6, "Display photos retrieved by contact ID can only be read."

    invoke-direct {v4, v6}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v4

    .line 7740
    :cond_0
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x1

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v17

    .line 7741
    .restart local v17       #contactId:J
    const-string v6, "contacts"

    const/4 v4, 0x1

    new-array v7, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    const-string v9, "photo_file_id"

    aput-object v9, v7, v4

    const-string v8, "_id=?"

    const/4 v4, 0x1

    new-array v9, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static/range {v17 .. v18}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v11

    aput-object v11, v9, v4

    const/4 v10, 0x0

    const/4 v11, 0x0

    const/4 v12, 0x0

    invoke-virtual/range {v5 .. v12}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v29

    .line 7746
    .local v29, c:Landroid/database/Cursor;
    :try_start_0
    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v4

    if-eqz v4, :cond_1

    .line 7747
    const/4 v4, 0x0

    move-object/from16 v0, v29

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v40

    .line 7748
    .local v40, photoFileId:J
    move-object/from16 v0, p0

    move-wide/from16 v1, v40

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->openDisplayPhotoForRead(J)Landroid/content/res/AssetFileDescriptor;
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    move-result-object v4

    .line 7754
    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->close()V

    goto :goto_0

    .line 7751
    .end local v40           #photoFileId:J
    :cond_1
    :try_start_1
    new-instance v4, Ljava/io/FileNotFoundException;

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-direct {v4, v6}, Ljava/io/FileNotFoundException;-><init>(Ljava/lang/String;)V

    throw v4
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 7754
    :catchall_0
    move-exception v4

    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->close()V

    throw v4

    .line 7759
    .end local v17           #contactId:J
    .end local v29           #c:Landroid/database/Cursor;
    :sswitch_2
    const-string v4, "r"

    move-object/from16 v0, p2

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_2

    .line 7760
    new-instance v4, Ljava/lang/IllegalArgumentException;

    const-string v6, "Display photos retrieved by contact ID can only be read."

    invoke-direct {v4, v6}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v4

    .line 7763
    :cond_2
    const-string v6, "contacts"

    const/4 v4, 0x1

    new-array v7, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    const-string v9, "photo_file_id"

    aput-object v9, v7, v4

    const/4 v8, 0x0

    const/4 v9, 0x0

    const/4 v10, 0x0

    const/4 v11, 0x0

    const/4 v12, 0x0

    invoke-virtual/range {v5 .. v12}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v29

    .line 7766
    .restart local v29       #c:Landroid/database/Cursor;
    :try_start_2
    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v4

    if-eqz v4, :cond_3

    .line 7767
    const/4 v4, 0x0

    move-object/from16 v0, v29

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v40

    .line 7768
    .restart local v40       #photoFileId:J
    move-object/from16 v0, p0

    move-wide/from16 v1, v40

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->openDisplayPhotoForRead(J)Landroid/content/res/AssetFileDescriptor;
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_1

    move-result-object v4

    .line 7774
    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->close()V

    goto/16 :goto_0

    .line 7771
    .end local v40           #photoFileId:J
    :cond_3
    :try_start_3
    new-instance v4, Ljava/io/FileNotFoundException;

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-direct {v4, v6}, Ljava/io/FileNotFoundException;-><init>(Ljava/lang/String;)V

    throw v4
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_1

    .line 7774
    :catchall_1
    move-exception v4

    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->close()V

    throw v4

    .line 7782
    .end local v29           #c:Landroid/database/Cursor;
    :sswitch_3
    const-string v4, "r"

    move-object/from16 v0, p2

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_4

    .line 7783
    new-instance v4, Ljava/lang/IllegalArgumentException;

    const-string v6, "Photos retrieved by contact lookup key can only be read."

    invoke-direct {v4, v6}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v4

    .line 7786
    :cond_4
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v39

    .line 7787
    .local v39, pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-interface/range {v39 .. v39}, Ljava/util/List;->size()I

    move-result v47

    .line 7788
    .local v47, segmentCount:I
    const/4 v4, 0x4

    move/from16 v0, v47

    if-ge v0, v4, :cond_5

    .line 7789
    new-instance v6, Ljava/lang/IllegalArgumentException;

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v9, "Missing a lookup key"

    move-object/from16 v0, p1

    invoke-virtual {v4, v9, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v4

    invoke-direct {v6, v4}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v6

    .line 7793
    :cond_5
    const/16 v4, 0x3f6

    move/from16 v0, v38

    if-eq v0, v4, :cond_6

    const/16 v4, 0x3f5

    move/from16 v0, v38

    if-ne v0, v4, :cond_7

    :cond_6
    const/16 v30, 0x1

    .line 7795
    .local v30, forDisplayPhoto:Z
    :goto_1
    const/4 v4, 0x2

    move-object/from16 v0, v39

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v20

    check-cast v20, Ljava/lang/String;

    .line 7796
    .local v20, lookupKey:Ljava/lang/String;
    const/4 v4, 0x2

    new-array v10, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    const-string v6, "photo_id"

    aput-object v6, v10, v4

    const/4 v4, 0x1

    const-string v6, "photo_file_id"

    aput-object v6, v10, v4

    .line 7797
    .local v10, projection:[Ljava/lang/String;
    const/4 v4, 0x5

    move/from16 v0, v47

    if-ne v0, v4, :cond_9

    .line 7798
    const/4 v4, 0x3

    move-object/from16 v0, v39

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v17

    .line 7799
    .restart local v17       #contactId:J
    new-instance v7, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v7}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 7800
    .local v7, lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct {v0, v7, v1, v10}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 7801
    const/4 v11, 0x0

    const/4 v12, 0x0

    const/4 v13, 0x0

    const/4 v14, 0x0

    const/4 v15, 0x0

    const-string v16, "_id"

    const-string v19, "lookup"

    const/16 v21, 0x0

    move-object/from16 v6, p0

    move-object v8, v5

    move-object/from16 v9, p1

    invoke-direct/range {v6 .. v21}, Lcom/android/providers/contacts/ContactsProvider2;->queryWithContactIdAndLookupKey(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;JLjava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v29

    .line 7804
    .restart local v29       #c:Landroid/database/Cursor;
    if-eqz v29, :cond_9

    .line 7806
    :try_start_4
    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->moveToFirst()Z

    .line 7807
    if-eqz v30, :cond_8

    .line 7808
    const-string v4, "photo_file_id"

    move-object/from16 v0, v29

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I

    move-result v4

    move-object/from16 v0, v29

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v40

    .line 7810
    .restart local v40       #photoFileId:J
    move-object/from16 v0, p0

    move-wide/from16 v1, v40

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->openDisplayPhotoForRead(J)Landroid/content/res/AssetFileDescriptor;
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_2

    move-result-object v4

    .line 7817
    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->close()V

    goto/16 :goto_0

    .line 7793
    .end local v7           #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v10           #projection:[Ljava/lang/String;
    .end local v17           #contactId:J
    .end local v20           #lookupKey:Ljava/lang/String;
    .end local v29           #c:Landroid/database/Cursor;
    .end local v30           #forDisplayPhoto:Z
    .end local v40           #photoFileId:J
    :cond_7
    const/16 v30, 0x0

    goto :goto_1

    .line 7812
    .restart local v7       #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .restart local v10       #projection:[Ljava/lang/String;
    .restart local v17       #contactId:J
    .restart local v20       #lookupKey:Ljava/lang/String;
    .restart local v29       #c:Landroid/database/Cursor;
    .restart local v30       #forDisplayPhoto:Z
    :cond_8
    :try_start_5
    const-string v4, "photo_id"

    move-object/from16 v0, v29

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I

    move-result v4

    move-object/from16 v0, v29

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v42

    .line 7813
    .local v42, photoId:J
    const-string v15, "_id=?"

    const/4 v4, 0x1

    new-array v0, v4, [Ljava/lang/String;

    move-object/from16 v16, v0

    const/4 v4, 0x0

    invoke-static/range {v42 .. v43}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v16, v4

    move-object/from16 v11, p0

    move-object v12, v5

    move-object/from16 v13, p1

    move-object/from16 v14, p2

    invoke-direct/range {v11 .. v16}, Lcom/android/providers/contacts/ContactsProvider2;->openPhotoAssetFile(Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
    :try_end_5
    .catchall {:try_start_5 .. :try_end_5} :catchall_2

    move-result-object v4

    .line 7817
    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->close()V

    goto/16 :goto_0

    .end local v42           #photoId:J
    :catchall_2
    move-exception v4

    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->close()V

    throw v4

    .line 7822
    .end local v7           #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v17           #contactId:J
    .end local v29           #c:Landroid/database/Cursor;
    :cond_9
    new-instance v8, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v8}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 7823
    .local v8, qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct {v0, v8, v1, v10}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 7824
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-virtual {v0, v5, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v17

    .line 7825
    .restart local v17       #contactId:J
    const-string v11, "_id=?"

    const/4 v4, 0x1

    new-array v12, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static/range {v17 .. v18}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v12, v4

    const/4 v13, 0x0

    const/4 v14, 0x0

    const/4 v15, 0x0

    move-object v9, v5

    invoke-virtual/range {v8 .. v15}, Landroid/database/sqlite/SQLiteQueryBuilder;->query(Landroid/database/sqlite/SQLiteDatabase;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v29

    .line 7828
    .restart local v29       #c:Landroid/database/Cursor;
    :try_start_6
    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->moveToFirst()Z

    .line 7829
    if-eqz v30, :cond_a

    .line 7830
    const-string v4, "photo_file_id"

    move-object/from16 v0, v29

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I

    move-result v4

    move-object/from16 v0, v29

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v40

    .line 7831
    .restart local v40       #photoFileId:J
    move-object/from16 v0, p0

    move-wide/from16 v1, v40

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->openDisplayPhotoForRead(J)Landroid/content/res/AssetFileDescriptor;
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_3

    move-result-object v4

    .line 7838
    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->close()V

    goto/16 :goto_0

    .line 7833
    .end local v40           #photoFileId:J
    :cond_a
    :try_start_7
    const-string v4, "photo_id"

    move-object/from16 v0, v29

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getColumnIndex(Ljava/lang/String;)I

    move-result v4

    move-object/from16 v0, v29

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v42

    .line 7834
    .restart local v42       #photoId:J
    const-string v15, "_id=?"

    const/4 v4, 0x1

    new-array v0, v4, [Ljava/lang/String;

    move-object/from16 v16, v0

    const/4 v4, 0x0

    invoke-static/range {v42 .. v43}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v16, v4

    move-object/from16 v11, p0

    move-object v12, v5

    move-object/from16 v13, p1

    move-object/from16 v14, p2

    invoke-direct/range {v11 .. v16}, Lcom/android/providers/contacts/ContactsProvider2;->openPhotoAssetFile(Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;
    :try_end_7
    .catchall {:try_start_7 .. :try_end_7} :catchall_3

    move-result-object v4

    .line 7838
    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->close()V

    goto/16 :goto_0

    .end local v42           #photoId:J
    :catchall_3
    move-exception v4

    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->close()V

    throw v4

    .line 7843
    .end local v8           #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v10           #projection:[Ljava/lang/String;
    .end local v17           #contactId:J
    .end local v20           #lookupKey:Ljava/lang/String;
    .end local v29           #c:Landroid/database/Cursor;
    .end local v30           #forDisplayPhoto:Z
    .end local v39           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v47           #segmentCount:I
    :sswitch_4
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x1

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v22

    .line 7844
    .local v22, rawContactId:J
    const-string v4, "r"

    move-object/from16 v0, p2

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_c

    const/16 v49, 0x1

    .line 7847
    .local v49, writeable:Z
    :goto_2
    new-instance v8, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v8}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 7848
    .restart local v8       #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    const/4 v4, 0x2

    new-array v10, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    const-string v6, "_id"

    aput-object v6, v10, v4

    const/4 v4, 0x1

    const-string v6, "data14"

    aput-object v6, v10, v4

    .line 7849
    .restart local v10       #projection:[Ljava/lang/String;
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct {v0, v8, v1, v10, v4}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 7850
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v6, "vnd.android.cursor.item/photo"

    invoke-virtual {v4, v6}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v44

    .line 7851
    .local v44, photoMimetypeId:J
    const-string v11, "raw_contact_id=? AND mimetype_id=?"

    const/4 v4, 0x2

    new-array v12, v4, [Ljava/lang/String;

    const/4 v4, 0x0

    invoke-static/range {v22 .. v23}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v12, v4

    const/4 v4, 0x1

    invoke-static/range {v44 .. v45}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v12, v4

    const/4 v13, 0x0

    const/4 v14, 0x0

    const-string v15, "is_primary DESC"

    move-object v9, v5

    invoke-virtual/range {v8 .. v15}, Landroid/database/sqlite/SQLiteQueryBuilder;->query(Landroid/database/sqlite/SQLiteDatabase;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v29

    .line 7855
    .restart local v29       #c:Landroid/database/Cursor;
    const-wide/16 v24, 0x0

    .line 7856
    .local v24, dataId:J
    const-wide/16 v40, 0x0

    .line 7858
    .restart local v40       #photoFileId:J
    :try_start_8
    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->getCount()I

    move-result v4

    const/4 v6, 0x1

    if-lt v4, v6, :cond_b

    .line 7859
    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->moveToFirst()Z

    .line 7860
    const/4 v4, 0x0

    move-object/from16 v0, v29

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v24

    .line 7861
    const/4 v4, 0x1

    move-object/from16 v0, v29

    invoke-interface {v0, v4}, Landroid/database/Cursor;->getLong(I)J
    :try_end_8
    .catchall {:try_start_8 .. :try_end_8} :catchall_4

    move-result-wide v40

    .line 7864
    :cond_b
    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->close()V

    .line 7870
    if-eqz v49, :cond_d

    move-object/from16 v21, p0

    move-object/from16 v26, p1

    move-object/from16 v27, p2

    .line 7871
    invoke-direct/range {v21 .. v27}, Lcom/android/providers/contacts/ContactsProvider2;->openDisplayPhotoForWrite(JJLandroid/net/Uri;Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    goto/16 :goto_0

    .line 7844
    .end local v8           #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v10           #projection:[Ljava/lang/String;
    .end local v24           #dataId:J
    .end local v29           #c:Landroid/database/Cursor;
    .end local v40           #photoFileId:J
    .end local v44           #photoMimetypeId:J
    .end local v49           #writeable:Z
    :cond_c
    const/16 v49, 0x0

    goto :goto_2

    .line 7864
    .restart local v8       #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .restart local v10       #projection:[Ljava/lang/String;
    .restart local v24       #dataId:J
    .restart local v29       #c:Landroid/database/Cursor;
    .restart local v40       #photoFileId:J
    .restart local v44       #photoMimetypeId:J
    .restart local v49       #writeable:Z
    :catchall_4
    move-exception v4

    invoke-interface/range {v29 .. v29}, Landroid/database/Cursor;->close()V

    throw v4

    .line 7873
    :cond_d
    move-object/from16 v0, p0

    move-wide/from16 v1, v40

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->openDisplayPhotoForRead(J)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    goto/16 :goto_0

    .line 7878
    .end local v8           #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v10           #projection:[Ljava/lang/String;
    .end local v22           #rawContactId:J
    .end local v24           #dataId:J
    .end local v29           #c:Landroid/database/Cursor;
    .end local v40           #photoFileId:J
    .end local v44           #photoMimetypeId:J
    .end local v49           #writeable:Z
    :sswitch_5
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v40

    .line 7879
    .restart local v40       #photoFileId:J
    const-string v4, "r"

    move-object/from16 v0, p2

    invoke-virtual {v0, v4}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_e

    .line 7880
    new-instance v4, Ljava/lang/IllegalArgumentException;

    const-string v6, "Display photos retrieved by key can only be read."

    invoke-direct {v4, v6}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v4

    .line 7883
    :cond_e
    move-object/from16 v0, p0

    move-wide/from16 v1, v40

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->openDisplayPhotoForRead(J)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    goto/16 :goto_0

    .line 7887
    .end local v40           #photoFileId:J
    :sswitch_6
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x1

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Ljava/lang/String;

    invoke-static {v4}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v24

    .line 7888
    .restart local v24       #dataId:J
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v6, "vnd.android.cursor.item/photo"

    invoke-virtual {v4, v6}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v44

    .line 7889
    .restart local v44       #photoMimetypeId:J
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "_id=? AND mimetype_id="

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-wide/from16 v0, v44

    invoke-virtual {v4, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v15

    const/4 v4, 0x1

    new-array v0, v4, [Ljava/lang/String;

    move-object/from16 v16, v0

    const/4 v4, 0x0

    invoke-static/range {v24 .. v25}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v6

    aput-object v6, v16, v4

    move-object/from16 v11, p0

    move-object v12, v5

    move-object/from16 v13, p1

    move-object/from16 v14, p2

    invoke-direct/range {v11 .. v16}, Lcom/android/providers/contacts/ContactsProvider2;->openPhotoAssetFile(Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    goto/16 :goto_0

    .line 7898
    .end local v24           #dataId:J
    .end local v44           #photoMimetypeId:J
    :sswitch_7
    new-instance v35, Ljava/io/ByteArrayOutputStream;

    invoke-direct/range {v35 .. v35}, Ljava/io/ByteArrayOutputStream;-><init>()V

    .line 7899
    .local v35, localStream:Ljava/io/ByteArrayOutputStream;
    const/4 v4, 0x0

    const/4 v6, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, v35

    invoke-direct {v0, v1, v2, v4, v6}, Lcom/android/providers/contacts/ContactsProvider2;->outputRawContactsAsVCard(Landroid/net/Uri;Ljava/io/OutputStream;Ljava/lang/String;[Ljava/lang/String;)V

    .line 7900
    move-object/from16 v0, p0

    move-object/from16 v1, v35

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->buildAssetFileDescriptor(Ljava/io/ByteArrayOutputStream;)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    goto/16 :goto_0

    .line 7907
    .end local v35           #localStream:Ljava/io/ByteArrayOutputStream;
    :sswitch_8
    new-instance v35, Ljava/io/ByteArrayOutputStream;

    invoke-direct/range {v35 .. v35}, Ljava/io/ByteArrayOutputStream;-><init>()V

    .line 7908
    .restart local v35       #localStream:Ljava/io/ByteArrayOutputStream;
    const/4 v4, 0x0

    const/4 v6, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, v35

    invoke-direct {v0, v1, v2, v4, v6}, Lcom/android/providers/contacts/ContactsProvider2;->outputRawContactsAsVCard(Landroid/net/Uri;Ljava/io/OutputStream;Ljava/lang/String;[Ljava/lang/String;)V

    .line 7909
    move-object/from16 v0, p0

    move-object/from16 v1, v35

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->buildAssetFileDescriptor(Ljava/io/ByteArrayOutputStream;)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    goto/16 :goto_0

    .line 7913
    .end local v35           #localStream:Ljava/io/ByteArrayOutputStream;
    :sswitch_9
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v6, 0x2

    invoke-interface {v4, v6}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v36

    check-cast v36, Ljava/lang/String;

    .line 7914
    .local v36, lookupKeys:Ljava/lang/String;
    const-string v4, ":"

    move-object/from16 v0, v36

    invoke-virtual {v0, v4}, Ljava/lang/String;->split(Ljava/lang/String;)[Ljava/lang/String;

    move-result-object v37

    .line 7915
    .local v37, loopupKeyList:[Ljava/lang/String;
    new-instance v32, Ljava/lang/StringBuilder;

    invoke-direct/range {v32 .. v32}, Ljava/lang/StringBuilder;-><init>()V

    .line 7916
    .local v32, inBuilder:Ljava/lang/StringBuilder;
    sget-object v46, Landroid/provider/ContactsContract$Contacts;->CONTENT_URI:Landroid/net/Uri;

    .line 7920
    .local v46, queryUri:Landroid/net/Uri;
    const-string v4, "nophoto"

    const/4 v6, 0x0

    move-object/from16 v0, p1

    invoke-virtual {v0, v4, v6}, Landroid/net/Uri;->getBooleanQueryParameter(Ljava/lang/String;Z)Z

    move-result v4

    if-eqz v4, :cond_f

    .line 7922
    sget-object v4, Landroid/provider/ContactsContract$Contacts;->CONTENT_URI:Landroid/net/Uri;

    invoke-virtual {v4}, Landroid/net/Uri;->buildUpon()Landroid/net/Uri$Builder;

    move-result-object v4

    const-string v6, "nophoto"

    const-string v9, "true"

    invoke-virtual {v4, v6, v9}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;

    move-result-object v4

    invoke-virtual {v4}, Landroid/net/Uri$Builder;->build()Landroid/net/Uri;

    move-result-object v46

    .line 7932
    :cond_f
    const/16 v33, 0x0

    .line 7936
    .local v33, index:I
    move-object/from16 v28, v37

    .local v28, arr$:[Ljava/lang/String;
    move-object/from16 v0, v28

    array-length v0, v0

    move/from16 v34, v0

    .local v34, len$:I
    const/16 v31, 0x0

    .local v31, i$:I
    :goto_3
    move/from16 v0, v31

    move/from16 v1, v34

    if-ge v0, v1, :cond_11

    aget-object v20, v28, v31

    .line 7937
    .restart local v20       #lookupKey:Ljava/lang/String;
    if-nez v33, :cond_10

    .line 7938
    const-string v4, "("

    move-object/from16 v0, v32

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 7943
    :goto_4
    move-object/from16 v0, p0

    move-object/from16 v1, v20

    invoke-virtual {v0, v5, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v17

    .line 7944
    .restart local v17       #contactId:J
    move-object/from16 v0, v32

    move-wide/from16 v1, v17

    invoke-virtual {v0, v1, v2}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    .line 7945
    add-int/lit8 v33, v33, 0x1

    .line 7936
    add-int/lit8 v31, v31, 0x1

    goto :goto_3

    .line 7940
    .end local v17           #contactId:J
    :cond_10
    const-string v4, ","

    move-object/from16 v0, v32

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    goto :goto_4

    .line 7947
    .end local v20           #lookupKey:Ljava/lang/String;
    :cond_11
    const/16 v4, 0x29

    move-object/from16 v0, v32

    invoke-virtual {v0, v4}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;

    .line 7948
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v6, "_id IN "

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual/range {v32 .. v32}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-virtual {v4, v6}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v48

    .line 7953
    .local v48, selection:Ljava/lang/String;
    new-instance v35, Ljava/io/ByteArrayOutputStream;

    invoke-direct/range {v35 .. v35}, Ljava/io/ByteArrayOutputStream;-><init>()V

    .line 7954
    .restart local v35       #localStream:Ljava/io/ByteArrayOutputStream;
    const/4 v4, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v46

    move-object/from16 v2, v35

    move-object/from16 v3, v48

    invoke-direct {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->outputRawContactsAsVCard(Landroid/net/Uri;Ljava/io/OutputStream;Ljava/lang/String;[Ljava/lang/String;)V

    .line 7955
    move-object/from16 v0, p0

    move-object/from16 v1, v35

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->buildAssetFileDescriptor(Ljava/io/ByteArrayOutputStream;)Landroid/content/res/AssetFileDescriptor;

    move-result-object v4

    goto/16 :goto_0

    .line 7726
    :sswitch_data_0
    .sparse-switch
        0x3f1 -> :sswitch_0
        0x3f2 -> :sswitch_3
        0x3f3 -> :sswitch_3
        0x3f4 -> :sswitch_1
        0x3f5 -> :sswitch_3
        0x3f6 -> :sswitch_3
        0x3f7 -> :sswitch_8
        0x3f8 -> :sswitch_9
        0x7d6 -> :sswitch_4
        0xbb9 -> :sswitch_6
        0x4a3c -> :sswitch_7
        0x4a44 -> :sswitch_2
        0x55f0 -> :sswitch_5
    .end sparse-switch
.end method

.method protected performBackgroundTask(ILjava/lang/Object;)V
    .locals 11
    .parameter "task"
    .parameter "arg"

    .prologue
    const/4 v10, 0x0

    const/4 v9, 0x0

    .line 1657
    const-string v6, "ContactsProvider"

    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "performBackgroundTask()+ **** task="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-static {v6, v7}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 1659
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 1660
    packed-switch p1, :pswitch_data_0

    .line 1764
    .end local p2
    :cond_0
    :goto_0
    :pswitch_0
    const-string v6, "ContactsProvider"

    new-instance v7, Ljava/lang/StringBuilder;

    invoke-direct {v7}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "performBackgroundTask()- **** task="

    invoke-virtual {v7, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7, p1}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v7

    invoke-virtual {v7}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v7

    invoke-static {v6, v7}, Landroid/util/Log;->d(Ljava/lang/String;Ljava/lang/String;)I

    .line 1765
    return-void

    .line 1662
    .restart local p2
    :pswitch_1
    invoke-static {}, Landroid/os/Process;->myTid()I

    move-result v6

    invoke-static {v6}, Landroid/os/Process;->getThreadPriority(I)I

    move-result v5

    .line 1663
    .local v5, prio:I
    invoke-static {v10}, Landroid/os/Process;->setThreadPriority(I)V

    .line 1664
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->initForDefaultLocale()V

    .line 1665
    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-virtual {v6}, Ljava/util/concurrent/CountDownLatch;->countDown()V

    .line 1666
    iput-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

    .line 1669
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->loadLocalPhoneAccounts()V

    .line 1670
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->registerReceiverOnSimStateAndInfoChanged()V

    .line 1673
    invoke-static {v5}, Landroid/os/Process;->setThreadPriority(I)V

    goto :goto_0

    .line 1678
    .end local v5           #prio:I
    :pswitch_2
    iget-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mOkToOpenAccess:Z

    if-eqz v6, :cond_0

    .line 1679
    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-virtual {v6}, Ljava/util/concurrent/CountDownLatch;->countDown()V

    .line 1680
    iput-object v9, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    goto :goto_0

    .line 1686
    :pswitch_3
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v2

    .line 1687
    .local v2, context:Landroid/content/Context;
    iget-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccountUpdateListenerRegistered:Z

    if-nez v6, :cond_1

    .line 1688
    invoke-static {v2}, Landroid/accounts/AccountManager;->get(Landroid/content/Context;)Landroid/accounts/AccountManager;

    move-result-object v6

    invoke-virtual {v6, p0, v9, v10}, Landroid/accounts/AccountManager;->addOnAccountsUpdatedListener(Landroid/accounts/OnAccountsUpdateListener;Landroid/os/Handler;Z)V

    .line 1689
    const/4 v6, 0x1

    iput-boolean v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mAccountUpdateListenerRegistered:Z

    .line 1693
    :cond_1
    invoke-static {v2}, Landroid/accounts/AccountManager;->get(Landroid/content/Context;)Landroid/accounts/AccountManager;

    move-result-object v6

    invoke-virtual {v6}, Landroid/accounts/AccountManager;->getAccounts()[Landroid/accounts/Account;

    move-result-object v0

    .line 1694
    .local v0, accounts:[Landroid/accounts/Account;
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 1695
    invoke-direct {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->updateAccountsInBackground([Landroid/accounts/Account;)Z

    move-result v1

    .line 1696
    .local v1, accountsChanged:Z
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 1697
    invoke-direct {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->updateAccountsInBackground([Landroid/accounts/Account;)Z

    move-result v6

    or-int/2addr v1, v6

    .line 1699
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 1701
    invoke-direct {p0, v0}, Lcom/android/providers/contacts/ContactsProvider2;->updateContactsAccountCount([Landroid/accounts/Account;)V

    .line 1702
    invoke-virtual {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->updateDirectoriesInBackground(Z)V

    goto :goto_0

    .line 1707
    .end local v0           #accounts:[Landroid/accounts/Account;
    .end local v1           #accountsChanged:Z
    .end local v2           #context:Landroid/content/Context;
    :pswitch_4
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateLocaleInBackground()V

    goto :goto_0

    .line 1712
    :pswitch_5
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->changeLocaleInBackground()V

    goto :goto_0

    .line 1717
    :pswitch_6
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->isAggregationUpgradeNeeded()Z

    move-result v6

    if-eqz v6, :cond_0

    .line 1718
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->upgradeAggregationAlgorithmInBackground()V

    .line 1719
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    goto/16 :goto_0

    .line 1725
    :pswitch_7
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateSearchIndexInBackground()V

    goto/16 :goto_0

    .line 1730
    :pswitch_8
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateProviderStatus()V

    goto/16 :goto_0

    .line 1735
    :pswitch_9
    if-eqz p2, :cond_0

    .line 1736
    iget-object v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactDirectoryManager:Lcom/android/providers/contacts/ContactDirectoryManager;

    check-cast p2, Ljava/lang/String;

    .end local p2
    invoke-virtual {v6, p2}, Lcom/android/providers/contacts/ContactDirectoryManager;->onPackageChanged(Ljava/lang/String;)V

    goto/16 :goto_0

    .line 1743
    .restart local p2
    :pswitch_a
    invoke-static {}, Ljava/lang/System;->currentTimeMillis()J

    move-result-wide v3

    .line 1744
    .local v3, now:J
    iget-wide v6, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLastPhotoCleanup:J

    sub-long v6, v3, v6

    const-wide/32 v8, 0x5265c00

    cmp-long v6, v6, v8

    if-lez v6, :cond_2

    .line 1745
    iput-wide v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mLastPhotoCleanup:J

    .line 1748
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 1749
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->cleanupPhotoStore()V

    .line 1750
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 1751
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->cleanupPhotoStore()V

    .line 1753
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    goto/16 :goto_0

    .line 1759
    .end local v3           #now:J
    :cond_2
    :pswitch_b
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 1760
    invoke-virtual {p0}, Lcom/android/providers/contacts/ContactsProvider2;->loadAccountsInBackground()V

    goto/16 :goto_0

    .line 1660
    :pswitch_data_0
    .packed-switch 0x0
        :pswitch_1
        :pswitch_2
        :pswitch_0
        :pswitch_3
        :pswitch_4
        :pswitch_6
        :pswitch_7
        :pswitch_8
        :pswitch_9
        :pswitch_5
        :pswitch_a
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_0
        :pswitch_b
    .end packed-switch
.end method

.method public query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;
    .locals 7
    .parameter "uri"
    .parameter "projection"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "sortOrder"

    .prologue
    .line 5175
    const/4 v6, 0x0

    move-object v0, p0

    move-object v1, p1

    move-object v2, p2

    move-object v3, p3

    move-object v4, p4

    move-object v5, p5

    invoke-virtual/range {v0 .. v6}, Lcom/android/providers/contacts/ContactsProvider2;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v0

    return-object v0
.end method

.method public query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;
    .locals 17
    .parameter "uri"
    .parameter "projection"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "sortOrder"
    .parameter "cancellationSignal"

    .prologue
    .line 5181
    sget-boolean v2, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v2, :cond_0

    .line 5182
    const-string v2, "ContactsProvider"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "query: uri="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p1

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "  projection="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-static/range {p2 .. p2}, Ljava/util/Arrays;->toString([Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "  selection=["

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p3

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "]  args="

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-static/range {p4 .. p4}, Ljava/util/Arrays;->toString([Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "  order=["

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p5

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v5, "]"

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v2, v4}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 5187
    :cond_0
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mReadAccessLatch:Ljava/util/concurrent/CountDownLatch;

    move-object/from16 v0, p0

    invoke-direct {v0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 5190
    invoke-direct/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->enforceSocialStreamReadPermission(Landroid/net/Uri;)V

    .line 5193
    invoke-direct/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDb(Landroid/net/Uri;)Z

    move-result v2

    if-eqz v2, :cond_1

    .line 5194
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 5195
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    move-object/from16 v3, p1

    move-object/from16 v4, p2

    move-object/from16 v5, p3

    move-object/from16 v6, p4

    move-object/from16 v7, p5

    move-object/from16 v8, p6

    invoke-virtual/range {v2 .. v8}, Lcom/android/providers/contacts/ProfileProvider;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v16

    .line 5258
    :goto_0
    return-object v16

    .line 5200
    :cond_1
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 5201
    const-string v2, "directory"

    move-object/from16 v0, p1

    invoke-static {v0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v13

    .line 5202
    .local v13, directory:Ljava/lang/String;
    if-nez v13, :cond_2

    .line 5203
    const-wide/16 v8, -0x1

    move-object/from16 v2, p0

    move-object/from16 v3, p1

    move-object/from16 v4, p2

    move-object/from16 v5, p3

    move-object/from16 v6, p4

    move-object/from16 v7, p5

    move-object/from16 v10, p6

    invoke-virtual/range {v2 .. v10}, Lcom/android/providers/contacts/ContactsProvider2;->queryLocal(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;JLandroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v2

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->addSnippetExtrasToCursor(Landroid/net/Uri;Landroid/database/Cursor;)Landroid/database/Cursor;

    move-result-object v16

    goto :goto_0

    .line 5206
    :cond_2
    const-string v2, "0"

    invoke-virtual {v13, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_3

    .line 5207
    const-wide/16 v8, 0x0

    move-object/from16 v2, p0

    move-object/from16 v3, p1

    move-object/from16 v4, p2

    move-object/from16 v5, p3

    move-object/from16 v6, p4

    move-object/from16 v7, p5

    move-object/from16 v10, p6

    invoke-virtual/range {v2 .. v10}, Lcom/android/providers/contacts/ContactsProvider2;->queryLocal(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;JLandroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v2

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->addSnippetExtrasToCursor(Landroid/net/Uri;Landroid/database/Cursor;)Landroid/database/Cursor;

    move-result-object v16

    goto :goto_0

    .line 5210
    :cond_3
    const-string v2, "1"

    invoke-virtual {v13, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v2

    if-eqz v2, :cond_4

    .line 5211
    const-wide/16 v8, 0x1

    move-object/from16 v2, p0

    move-object/from16 v3, p1

    move-object/from16 v4, p2

    move-object/from16 v5, p3

    move-object/from16 v6, p4

    move-object/from16 v7, p5

    move-object/from16 v10, p6

    invoke-virtual/range {v2 .. v10}, Lcom/android/providers/contacts/ContactsProvider2;->queryLocal(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;JLandroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v2

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->addSnippetExtrasToCursor(Landroid/net/Uri;Landroid/database/Cursor;)Landroid/database/Cursor;

    move-result-object v16

    goto :goto_0

    .line 5216
    :cond_4
    move-object/from16 v0, p0

    invoke-direct {v0, v13}, Lcom/android/providers/contacts/ContactsProvider2;->getDirectoryAuthority(Ljava/lang/String;)Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;

    move-result-object v14

    .line 5217
    .local v14, directoryInfo:Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;
    if-nez v14, :cond_5

    .line 5218
    const-string v2, "ContactsProvider"

    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v5, "Invalid directory ID: "

    invoke-virtual {v4, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p1

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-static {v2, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;)I

    .line 5219
    const/16 v16, 0x0

    goto/16 :goto_0

    .line 5222
    :cond_5
    new-instance v11, Landroid/net/Uri$Builder;

    invoke-direct {v11}, Landroid/net/Uri$Builder;-><init>()V

    .line 5223
    .local v11, builder:Landroid/net/Uri$Builder;
    const-string v2, "content"

    invoke-virtual {v11, v2}, Landroid/net/Uri$Builder;->scheme(Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 5224
    iget-object v2, v14, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->authority:Ljava/lang/String;

    invoke-virtual {v11, v2}, Landroid/net/Uri$Builder;->authority(Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 5225
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getEncodedPath()Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v11, v2}, Landroid/net/Uri$Builder;->encodedPath(Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 5226
    iget-object v2, v14, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->accountName:Ljava/lang/String;

    if-eqz v2, :cond_6

    .line 5227
    const-string v2, "account_name"

    iget-object v4, v14, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->accountName:Ljava/lang/String;

    invoke-virtual {v11, v2, v4}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 5229
    :cond_6
    iget-object v2, v14, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->accountType:Ljava/lang/String;

    if-eqz v2, :cond_7

    .line 5230
    const-string v2, "account_type"

    iget-object v4, v14, Lcom/android/providers/contacts/ContactsProvider2$DirectoryInfo;->accountType:Ljava/lang/String;

    invoke-virtual {v11, v2, v4}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 5233
    :cond_7
    invoke-direct/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->getLimit(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v15

    .line 5234
    .local v15, limit:Ljava/lang/String;
    if-eqz v15, :cond_8

    .line 5235
    const-string v2, "limit"

    invoke-virtual {v11, v2, v15}, Landroid/net/Uri$Builder;->appendQueryParameter(Ljava/lang/String;Ljava/lang/String;)Landroid/net/Uri$Builder;

    .line 5238
    :cond_8
    invoke-virtual {v11}, Landroid/net/Uri$Builder;->build()Landroid/net/Uri;

    move-result-object v3

    .line 5240
    .local v3, directoryUri:Landroid/net/Uri;
    if-nez p2, :cond_9

    .line 5241
    invoke-virtual/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->getDefaultProjection(Landroid/net/Uri;)[Ljava/lang/String;

    move-result-object p2

    .line 5244
    :cond_9
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v2

    invoke-virtual {v2}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v2

    move-object/from16 v4, p2

    move-object/from16 v5, p3

    move-object/from16 v6, p4

    move-object/from16 v7, p5

    invoke-virtual/range {v2 .. v7}, Landroid/content/ContentResolver;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v12

    .line 5247
    .local v12, cursor:Landroid/database/Cursor;
    if-nez v12, :cond_a

    .line 5248
    const/16 v16, 0x0

    goto/16 :goto_0

    .line 5254
    :cond_a
    :try_start_0
    new-instance v16, Lcom/android/providers/contacts/MemoryCursor;

    const/4 v2, 0x0

    invoke-interface {v12}, Landroid/database/Cursor;->getColumnNames()[Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, v16

    invoke-direct {v0, v2, v4}, Lcom/android/providers/contacts/MemoryCursor;-><init>(Ljava/lang/String;[Ljava/lang/String;)V

    .line 5255
    .local v16, memCursor:Lcom/android/providers/contacts/MemoryCursor;
    move-object/from16 v0, v16

    invoke-virtual {v0, v12}, Lcom/android/providers/contacts/MemoryCursor;->fillFromCursor(Landroid/database/Cursor;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 5258
    invoke-interface {v12}, Landroid/database/Cursor;->close()V

    goto/16 :goto_0

    .end local v16           #memCursor:Lcom/android/providers/contacts/MemoryCursor;
    :catchall_0
    move-exception v2

    invoke-interface {v12}, Landroid/database/Cursor;->close()V

    throw v2
.end method

.method protected queryLocal(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;JLandroid/os/CancellationSignal;)Landroid/database/Cursor;
    .locals 136
    .parameter "uri"
    .parameter "projection"
    .parameter "selection"
    .parameter "selectionArgs"
    .parameter "sortOrder"
    .parameter "directoryId"
    .parameter "cancellationSignal"

    .prologue
    .line 5352
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Landroid/database/sqlite/SQLiteOpenHelper;->getReadableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v6

    .line 5354
    .local v6, db:Landroid/database/sqlite/SQLiteDatabase;
    new-instance v23, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct/range {v23 .. v23}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 5355
    .local v23, qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    const/4 v15, 0x0

    .line 5356
    .local v15, groupBy:Ljava/lang/String;
    const/16 v48, 0x0

    .line 5357
    .local v48, having:Ljava/lang/String;
    invoke-direct/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->getLimit(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v16

    .line 5358
    .local v16, limit:Ljava/lang/String;
    const/16 v29, 0x0

    .line 5361
    .local v29, snippetDeferred:Z
    const/16 v57, 0x0

    .line 5362
    .local v57, addressBookIndexerCountExpression:Ljava/lang/String;
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    move-object/from16 v0, p1

    invoke-virtual {v5, v0}, Landroid/content/UriMatcher;->match(Landroid/net/Uri;)I

    move-result v98

    .line 5364
    .local v98, match:I
    sparse-switch v98, :sswitch_data_0

    .line 6558
    move-object/from16 v0, p0

    iget-object v0, v0, Lcom/android/providers/contacts/ContactsProvider2;->mLegacyApiSupport:Lcom/android/providers/contacts/LegacyApiSupport;

    move-object/from16 v40, v0

    move-object/from16 v41, p1

    move-object/from16 v42, p2

    move-object/from16 v43, p3

    move-object/from16 v44, p4

    move-object/from16 v45, p5

    move-object/from16 v46, v16

    invoke-virtual/range {v40 .. v46}, Lcom/android/providers/contacts/LegacyApiSupport;->query(Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v73

    .line 6584
    :cond_0
    :goto_0
    return-object v73

    .line 5367
    :sswitch_0
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v5

    move-object/from16 v7, p2

    move-object/from16 v8, p3

    move-object/from16 v9, p4

    move-object/from16 v10, p5

    invoke-virtual/range {v5 .. v10}, Lcom/android/common/content/SyncStateContentProviderHelper;->query(Landroid/database/sqlite/SQLiteDatabase;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v73

    goto :goto_0

    .line 5371
    :sswitch_1
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 5372
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-wide/from16 v2, p6

    move-object/from16 v4, p1

    invoke-direct {v0, v1, v2, v3, v4}, Lcom/android/providers/contacts/ContactsProvider2;->appendLocalDirectoryAndAccountSelectionIfNeeded(Landroid/database/sqlite/SQLiteQueryBuilder;JLandroid/net/Uri;)V

    .line 6562
    :cond_1
    :goto_1
    const/4 v5, 0x1

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setStrict(Z)V

    move-object/from16 v40, p0

    move-object/from16 v41, v6

    move-object/from16 v42, v23

    move-object/from16 v43, p2

    move-object/from16 v44, p3

    move-object/from16 v45, p4

    move-object/from16 v46, p5

    move-object/from16 v47, v15

    move-object/from16 v49, v16

    move-object/from16 v50, p8

    .line 6564
    invoke-direct/range {v40 .. v50}, Lcom/android/providers/contacts/ContactsProvider2;->query(Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v50

    .line 6568
    .local v50, cursor:Landroid/database/Cursor;
    const-string v5, "address_book_index_extras"

    const/4 v7, 0x0

    move-object/from16 v0, p1

    invoke-static {v0, v5, v7}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v5

    if-eqz v5, :cond_2

    move-object/from16 v49, p0

    move-object/from16 v51, p1

    move-object/from16 v52, v6

    move-object/from16 v53, v23

    move-object/from16 v54, p3

    move-object/from16 v55, p4

    move-object/from16 v56, p5

    move-object/from16 v58, p8

    .line 6569
    invoke-direct/range {v49 .. v58}, Lcom/android/providers/contacts/ContactsProvider2;->bundleFastScrollingIndexExtras(Landroid/database/Cursor;Landroid/net/Uri;Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)V

    .line 6574
    :cond_2
    invoke-direct/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->requestCheckedIds(Landroid/net/Uri;)Landroid/net/Uri;

    move-result-object v60

    .line 6575
    .local v60, checkedUri:Landroid/net/Uri;
    if-eqz v60, :cond_3

    move-object/from16 v58, p0

    move-object/from16 v59, v50

    move-object/from16 v61, v6

    move-object/from16 v62, v23

    move-object/from16 v63, p3

    move-object/from16 v64, p4

    move-object/from16 v65, p5

    move-object/from16 v66, v15

    move-object/from16 v67, v48

    move-object/from16 v68, v16

    move-object/from16 v69, p8

    .line 6576
    invoke-direct/range {v58 .. v69}, Lcom/android/providers/contacts/ContactsProvider2;->bundleNonFilterIdsExtras(Landroid/database/Cursor;Landroid/net/Uri;Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)V

    .line 6580
    :cond_3
    if-eqz v29, :cond_4

    .line 6581
    move-object/from16 v0, p0

    move-object/from16 v1, v50

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->addDeferredSnippetingExtra(Landroid/database/Cursor;)Landroid/database/Cursor;

    move-result-object v50

    :cond_4
    move-object/from16 v73, v50

    .line 6584
    goto/16 :goto_0

    .line 5377
    .end local v50           #cursor:Landroid/database/Cursor;
    .end local v60           #checkedUri:Landroid/net/Uri;
    :sswitch_2
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v18

    .line 5378
    .local v18, contactId:J
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 5379
    invoke-static/range {v18 .. v19}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5380
    const-string v5, "_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 5386
    .end local v18           #contactId:J
    :sswitch_3
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v107

    .line 5387
    .local v107, pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-interface/range {v107 .. v107}, Ljava/util/List;->size()I

    move-result v121

    .line 5388
    .local v121, segmentCount:I
    const/4 v5, 0x3

    move/from16 v0, v121

    if-ge v0, v5, :cond_5

    .line 5389
    new-instance v7, Ljava/lang/IllegalArgumentException;

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v9, "Missing a lookup key"

    move-object/from16 v0, p1

    invoke-virtual {v5, v9, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v5

    invoke-direct {v7, v5}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v7

    .line 5393
    :cond_5
    const/4 v5, 0x2

    move-object/from16 v0, v107

    invoke-interface {v0, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Ljava/lang/String;

    .line 5394
    .local v21, lookupKey:Ljava/lang/String;
    const/4 v5, 0x4

    move/from16 v0, v121

    if-ne v0, v5, :cond_6

    .line 5395
    const/4 v5, 0x3

    move-object/from16 v0, v107

    invoke-interface {v0, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v18

    .line 5396
    .restart local v18       #contactId:J
    new-instance v8, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v8}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 5397
    .local v8, lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    invoke-direct {v0, v8, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 5399
    const-string v17, "_id"

    const-string v20, "lookup"

    move-object/from16 v7, p0

    move-object v9, v6

    move-object/from16 v10, p1

    move-object/from16 v11, p2

    move-object/from16 v12, p3

    move-object/from16 v13, p4

    move-object/from16 v14, p5

    move-object/from16 v22, p8

    invoke-direct/range {v7 .. v22}, Lcom/android/providers/contacts/ContactsProvider2;->queryWithContactIdAndLookupKey(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;JLjava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v73

    .line 5403
    .local v73, c:Landroid/database/Cursor;
    if-nez v73, :cond_0

    .line 5408
    .end local v8           #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v18           #contactId:J
    .end local v73           #c:Landroid/database/Cursor;
    :cond_6
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 5409
    move-object/from16 v0, p0

    move-object/from16 v1, v21

    invoke-virtual {v0, v6, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v9

    invoke-static {v9, v10}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5411
    const-string v5, "_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 5419
    .end local v21           #lookupKey:Ljava/lang/String;
    .end local v107           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v121           #segmentCount:I
    :sswitch_4
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v107

    .line 5420
    .restart local v107       #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-interface/range {v107 .. v107}, Ljava/util/List;->size()I

    move-result v121

    .line 5421
    .restart local v121       #segmentCount:I
    const/4 v5, 0x4

    move/from16 v0, v121

    if-ge v0, v5, :cond_7

    .line 5422
    new-instance v7, Ljava/lang/IllegalArgumentException;

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v9, "Missing a lookup key"

    move-object/from16 v0, p1

    invoke-virtual {v5, v9, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v5

    invoke-direct {v7, v5}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v7

    .line 5425
    :cond_7
    const/4 v5, 0x2

    move-object/from16 v0, v107

    invoke-interface {v0, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Ljava/lang/String;

    .line 5426
    .restart local v21       #lookupKey:Ljava/lang/String;
    const/4 v5, 0x5

    move/from16 v0, v121

    if-ne v0, v5, :cond_a

    .line 5427
    const/4 v5, 0x3

    move-object/from16 v0, v107

    invoke-interface {v0, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v18

    .line 5428
    .restart local v18       #contactId:J
    new-instance v8, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v8}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 5429
    .restart local v8       #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    invoke-direct {v0, v8, v1, v2, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 5430
    const/16 v5, 0x3f2

    move/from16 v0, v98

    if-eq v0, v5, :cond_8

    const/16 v5, 0x3f3

    move/from16 v0, v98

    if-ne v0, v5, :cond_9

    .line 5431
    :cond_8
    const-string v5, " AND _id=photo_id"

    invoke-virtual {v8, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 5433
    :cond_9
    const-string v5, " AND "

    invoke-virtual {v8, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 5434
    const-string v17, "contact_id"

    const-string v20, "lookup"

    move-object/from16 v7, p0

    move-object v9, v6

    move-object/from16 v10, p1

    move-object/from16 v11, p2

    move-object/from16 v12, p3

    move-object/from16 v13, p4

    move-object/from16 v14, p5

    move-object/from16 v22, p8

    invoke-direct/range {v7 .. v22}, Lcom/android/providers/contacts/ContactsProvider2;->queryWithContactIdAndLookupKey(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;JLjava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v73

    .line 5438
    .restart local v73       #c:Landroid/database/Cursor;
    if-nez v73, :cond_0

    .line 5445
    .end local v8           #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v18           #contactId:J
    .end local v73           #c:Landroid/database/Cursor;
    :cond_a
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 5446
    move-object/from16 v0, p0

    move-object/from16 v1, v21

    invoke-virtual {v0, v6, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v18

    .line 5447
    .restart local v18       #contactId:J
    invoke-static/range {v18 .. v19}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5449
    const/16 v5, 0x3f2

    move/from16 v0, v98

    if-eq v0, v5, :cond_b

    const/16 v5, 0x3f3

    move/from16 v0, v98

    if-ne v0, v5, :cond_c

    .line 5450
    :cond_b
    const-string v5, " AND _id=photo_id"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 5452
    :cond_c
    const-string v5, " AND contact_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 5457
    .end local v18           #contactId:J
    .end local v21           #lookupKey:Ljava/lang/String;
    .end local v107           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v121           #segmentCount:I
    :sswitch_5
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v7, 0x1

    invoke-interface {v5, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v18

    .line 5458
    .restart local v18       #contactId:J
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 5459
    invoke-static/range {v18 .. v19}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5460
    const-string v5, "contact_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 5466
    .end local v18           #contactId:J
    :sswitch_6
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v107

    .line 5467
    .restart local v107       #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-interface/range {v107 .. v107}, Ljava/util/List;->size()I

    move-result v121

    .line 5468
    .restart local v121       #segmentCount:I
    const/4 v5, 0x4

    move/from16 v0, v121

    if-ge v0, v5, :cond_d

    .line 5469
    new-instance v7, Ljava/lang/IllegalArgumentException;

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v9, "Missing a lookup key"

    move-object/from16 v0, p1

    invoke-virtual {v5, v9, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v5

    invoke-direct {v7, v5}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v7

    .line 5472
    :cond_d
    const/4 v5, 0x2

    move-object/from16 v0, v107

    invoke-interface {v0, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Ljava/lang/String;

    .line 5473
    .restart local v21       #lookupKey:Ljava/lang/String;
    const/4 v5, 0x5

    move/from16 v0, v121

    if-ne v0, v5, :cond_e

    .line 5474
    const/4 v5, 0x3

    move-object/from16 v0, v107

    invoke-interface {v0, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v18

    .line 5475
    .restart local v18       #contactId:J
    new-instance v8, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v8}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 5476
    .restart local v8       #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    move-object/from16 v0, p0

    invoke-direct {v0, v8}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 5477
    const-string v17, "contact_id"

    const-string v20, "contact_lookup"

    move-object/from16 v7, p0

    move-object v9, v6

    move-object/from16 v10, p1

    move-object/from16 v11, p2

    move-object/from16 v12, p3

    move-object/from16 v13, p4

    move-object/from16 v14, p5

    move-object/from16 v22, p8

    invoke-direct/range {v7 .. v22}, Lcom/android/providers/contacts/ContactsProvider2;->queryWithContactIdAndLookupKey(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;JLjava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v73

    .line 5482
    .restart local v73       #c:Landroid/database/Cursor;
    if-nez v73, :cond_0

    .line 5487
    .end local v8           #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v18           #contactId:J
    .end local v73           #c:Landroid/database/Cursor;
    :cond_e
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 5488
    move-object/from16 v0, p0

    move-object/from16 v1, v21

    invoke-virtual {v0, v6, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v18

    .line 5489
    .restart local v18       #contactId:J
    invoke-static/range {v18 .. v19}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5490
    const-string v5, "contact_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 5495
    .end local v18           #contactId:J
    .end local v21           #lookupKey:Ljava/lang/String;
    .end local v107           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v121           #segmentCount:I
    :sswitch_7
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v7, 0x2

    invoke-interface {v5, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Landroid/net/Uri;->encode(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v21

    .line 5496
    .restart local v21       #lookupKey:Ljava/lang/String;
    move-object/from16 v0, p0

    move-object/from16 v1, v21

    invoke-virtual {v0, v6, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v18

    .line 5497
    .restart local v18       #contactId:J
    const-string v5, "view_contacts"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 5498
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sContactsVCardProjectionMap:Lcom/android/common/content/ProjectionMap;

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 5499
    invoke-static/range {v18 .. v19}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5501
    const-string v5, "_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 5506
    .end local v18           #contactId:J
    .end local v21           #lookupKey:Ljava/lang/String;
    :sswitch_8
    new-instance v75, Ljava/text/SimpleDateFormat;

    const-string v5, "yyyyMMdd_HHmmss"

    move-object/from16 v0, v75

    invoke-direct {v0, v5}, Ljava/text/SimpleDateFormat;-><init>(Ljava/lang/String;)V

    .line 5507
    .local v75, dateFormat:Ljava/text/SimpleDateFormat;
    new-instance v5, Ljava/util/Date;

    invoke-direct {v5}, Ljava/util/Date;-><init>()V

    move-object/from16 v0, v75

    invoke-virtual {v0, v5}, Ljava/text/DateFormat;->format(Ljava/util/Date;)Ljava/lang/String;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/String;->toString()Ljava/lang/String;

    move-result-object v74

    .line 5508
    .local v74, currentDateString:Ljava/lang/String;
    const-string v5, "SELECT \'vcards_\' || ? || \'.vcf\' AS _display_name, NULL AS _size"

    const/4 v7, 0x1

    new-array v7, v7, [Ljava/lang/String;

    const/4 v9, 0x0

    aput-object v74, v7, v9

    invoke-virtual {v6, v5, v7}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v73

    goto/16 :goto_0

    .line 5516
    .end local v74           #currentDateString:Ljava/lang/String;
    .end local v75           #dateFormat:Ljava/text/SimpleDateFormat;
    :sswitch_9
    const-string v26, ""

    .line 5517
    .local v26, filterParam:Ljava/lang/String;
    invoke-direct/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->deferredSnippetingRequested(Landroid/net/Uri;)Z

    move-result v76

    .line 5518
    .local v76, deferredSnipRequested:Z
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    invoke-interface {v5}, Ljava/util/List;->size()I

    move-result v5

    const/4 v7, 0x2

    if-le v5, v7, :cond_f

    .line 5519
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v26

    .line 5524
    :cond_f
    move-object/from16 v0, p0

    move-object/from16 v1, v26

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->isSingleWordQuery(Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_10

    if-eqz v76, :cond_10

    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->snippetNeeded([Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_10

    const/16 v29, 0x1

    :goto_2
    move-object/from16 v22, p0

    move-object/from16 v24, p1

    move-object/from16 v25, p2

    move-wide/from16 v27, p6

    .line 5526
    invoke-direct/range {v22 .. v29}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContactsWithSnippet(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;JZ)V

    goto/16 :goto_1

    .line 5524
    :cond_10
    const/16 v29, 0x0

    goto :goto_2

    .line 5540
    .end local v26           #filterParam:Ljava/lang/String;
    .end local v76           #deferredSnipRequested:Z
    :sswitch_a
    const-string v5, "strequent_phone_only"

    const/4 v7, 0x0

    move-object/from16 v0, p1

    invoke-static {v0, v5, v7}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v110

    .line 5542
    .local v110, phoneOnly:Z
    const/16 v5, 0x3ef

    move/from16 v0, v98

    if-ne v0, v5, :cond_11

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    invoke-interface {v5}, Ljava/util/List;->size()I

    move-result v5

    const/4 v7, 0x3

    if-le v5, v7, :cond_11

    .line 5543
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v26

    .line 5544
    .restart local v26       #filterParam:Ljava/lang/String;
    new-instance v117, Ljava/lang/StringBuilder;

    invoke-direct/range {v117 .. v117}, Ljava/lang/StringBuilder;-><init>()V

    .line 5545
    .local v117, sb:Ljava/lang/StringBuilder;
    const-string v5, "_id IN "

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5546
    move-object/from16 v0, p0

    move-object/from16 v1, v117

    move-object/from16 v2, v26

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactFilterAsNestedQuery(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 5547
    const/4 v5, 0x2

    new-array v5, v5, [Ljava/lang/String;

    const/4 v7, 0x0

    aput-object p3, v5, v7

    const/4 v7, 0x1

    invoke-virtual/range {v117 .. v117}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    aput-object v9, v5, v7

    invoke-static {v5}, Lcom/android/providers/contacts/util/DbQueryUtils;->concatenateClauses([Ljava/lang/String;)Ljava/lang/String;

    move-result-object p3

    .line 5550
    .end local v26           #filterParam:Ljava/lang/String;
    .end local v117           #sb:Ljava/lang/StringBuilder;
    :cond_11
    const/16 v31, 0x0

    .line 5551
    .local v31, subProjection:[Ljava/lang/String;
    if-eqz p2, :cond_12

    .line 5552
    move-object/from16 v0, p2

    array-length v5, v0

    add-int/lit8 v5, v5, 0x2

    new-array v0, v5, [Ljava/lang/String;

    move-object/from16 v31, v0

    .line 5553
    const/4 v5, 0x0

    const/4 v7, 0x0

    move-object/from16 v0, p2

    array-length v9, v0

    move-object/from16 v0, p2

    move-object/from16 v1, v31

    invoke-static {v0, v5, v1, v7, v9}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    .line 5554
    move-object/from16 v0, p2

    array-length v5, v0

    add-int/lit8 v5, v5, 0x0

    const-string v7, "times_used"

    aput-object v7, v31, v5

    .line 5555
    move-object/from16 v0, p2

    array-length v5, v0

    add-int/lit8 v5, v5, 0x1

    const-string v7, "last_time_used"

    aput-object v7, v31, v5

    .line 5559
    :cond_12
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 5560
    if-eqz v110, :cond_17

    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentPhoneOnlyStarredProjectionMap:Lcom/android/common/content/ProjectionMap;

    :goto_3
    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 5563
    if-eqz v110, :cond_13

    .line 5564
    const/4 v5, 0x2

    new-array v5, v5, [Ljava/lang/String;

    const/4 v7, 0x0

    aput-object p3, v5, v7

    const/4 v7, 0x1

    const-string v9, "has_phone_number=1"

    aput-object v9, v5, v7

    invoke-static {v5}, Lcom/android/providers/contacts/util/DbQueryUtils;->concatenateClauses([Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 5567
    :cond_13
    const/4 v5, 0x1

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setStrict(Z)V

    .line 5569
    invoke-static/range {p5 .. p5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-eqz v5, :cond_14

    .line 5570
    const-string p5, "display_name COLLATE LOCALIZED ASC"

    .line 5572
    :cond_14
    const-string v32, "starred=1"

    const-string v33, "_id"

    const/16 v34, 0x0

    const/16 v36, 0x0

    move-object/from16 v30, v23

    move-object/from16 v35, p5

    invoke-virtual/range {v30 .. v36}, Landroid/database/sqlite/SQLiteQueryBuilder;->buildQuery([Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v126

    .line 5577
    .local v126, starredInnerQuery:Ljava/lang/String;
    new-instance v23, Landroid/database/sqlite/SQLiteQueryBuilder;

    .end local v23           #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    invoke-direct/range {v23 .. v23}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 5578
    .restart local v23       #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    const/4 v5, 0x1

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setStrict(Z)V

    .line 5583
    if-eqz v110, :cond_18

    .line 5584
    new-instance v131, Ljava/lang/StringBuilder;

    invoke-direct/range {v131 .. v131}, Ljava/lang/StringBuilder;-><init>()V

    .line 5595
    .local v131, tableBuilder:Ljava/lang/StringBuilder;
    const-string v5, "data_usage_stat INNER JOIN view_data data ON (data_usage_stat.data_id=data._id AND data_usage_stat.usage_type=0)"

    move-object/from16 v0, v131

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5601
    const-string v5, "contact_id"

    move-object/from16 v0, p0

    move-object/from16 v1, v131

    move-object/from16 v2, p2

    invoke-direct {v0, v1, v2, v5}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactPresenceJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 5602
    const-string v5, "status_update_id"

    move-object/from16 v0, p0

    move-object/from16 v1, v131

    move-object/from16 v2, p2

    invoke-direct {v0, v1, v2, v5}, Lcom/android/providers/contacts/ContactsProvider2;->appendContactStatusUpdateJoin(Ljava/lang/StringBuilder;[Ljava/lang/String;Ljava/lang/String;)V

    .line 5605
    invoke-virtual/range {v131 .. v131}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 5606
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentPhoneOnlyFrequentProjectionMap:Lcom/android/common/content/ProjectionMap;

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 5607
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v7, "vnd.android.cursor.item/phone_v2"

    invoke-virtual {v5, v7}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v108

    .line 5609
    .local v108, phoneMimeTypeId:J
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v7, "vnd.android.cursor.item/sip_address"

    invoke-virtual {v5, v7}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v123

    .line 5611
    .local v123, sipMimeTypeId:J
    const/4 v5, 0x3

    new-array v5, v5, [Ljava/lang/String;

    const/4 v7, 0x0

    aput-object p3, v5, v7

    const/4 v7, 0x1

    const-string v9, "(starred=0 OR starred IS NULL"

    aput-object v9, v5, v7

    const/4 v7, 0x2

    new-instance v9, Ljava/lang/StringBuilder;

    invoke-direct {v9}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, "mimetype_id IN ("

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    move-wide/from16 v0, v108

    invoke-virtual {v9, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, ", "

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    move-wide/from16 v0, v123

    invoke-virtual {v9, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, ")) AND ("

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, "contact_id"

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, " IN "

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, "default_directory"

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    const-string v10, ")"

    invoke-virtual {v9, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v9

    invoke-virtual {v9}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v9

    aput-object v9, v5, v7

    invoke-static {v5}, Lcom/android/providers/contacts/util/DbQueryUtils;->concatenateClauses([Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 5617
    const/16 v32, 0x0

    const/16 v33, 0x0

    const/16 v34, 0x0

    const-string v35, "(CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC"

    const-string v36, "25"

    move-object/from16 v30, v23

    invoke-virtual/range {v30 .. v36}, Landroid/database/sqlite/SQLiteQueryBuilder;->buildQuery([Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v85

    .line 5635
    .end local v108           #phoneMimeTypeId:J
    .end local v123           #sipMimeTypeId:J
    .end local v131           #tableBuilder:Ljava/lang/StringBuilder;
    .local v85, frequentInnerQuery:Ljava/lang/String;
    :goto_4
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "SELECT * FROM ("

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, v85

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, ")"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v86

    .line 5636
    .local v86, frequentQuery:Ljava/lang/String;
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "SELECT * FROM ("

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, v126

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, ")"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v127

    .line 5639
    .local v127, starredQuery:Ljava/lang/String;
    const/4 v5, 0x2

    new-array v5, v5, [Ljava/lang/String;

    const/4 v7, 0x0

    aput-object v127, v5, v7

    const/4 v7, 0x1

    aput-object v86, v5, v7

    const/4 v7, 0x0

    const/4 v9, 0x0

    move-object/from16 v0, v23

    invoke-virtual {v0, v5, v7, v9}, Landroid/database/sqlite/SQLiteQueryBuilder;->buildUnionQuery([Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v135

    .line 5650
    .local v135, unionQuery:Ljava/lang/String;
    const/16 v78, 0x0

    .line 5651
    .local v78, doubledSelectionArgs:[Ljava/lang/String;
    if-eqz p4, :cond_15

    .line 5652
    move-object/from16 v0, p4

    array-length v0, v0

    move/from16 v96, v0

    .line 5653
    .local v96, length:I
    mul-int/lit8 v5, v96, 0x2

    new-array v0, v5, [Ljava/lang/String;

    move-object/from16 v78, v0

    .line 5654
    const/4 v5, 0x0

    const/4 v7, 0x0

    move-object/from16 v0, p4

    move-object/from16 v1, v78

    move/from16 v2, v96

    invoke-static {v0, v5, v1, v7, v2}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    .line 5655
    const/4 v5, 0x0

    move-object/from16 v0, p4

    move-object/from16 v1, v78

    move/from16 v2, v96

    move/from16 v3, v96

    invoke-static {v0, v5, v1, v2, v3}, Ljava/lang/System;->arraycopy(Ljava/lang/Object;ILjava/lang/Object;II)V

    .line 5658
    .end local v96           #length:I
    :cond_15
    move-object/from16 v0, v135

    move-object/from16 v1, v78

    invoke-virtual {v6, v0, v1}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v50

    .line 5659
    .restart local v50       #cursor:Landroid/database/Cursor;
    if-eqz v50, :cond_16

    .line 5660
    invoke-virtual/range {p0 .. p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v5

    invoke-virtual {v5}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v5

    sget-object v7, Landroid/provider/ContactsContract;->AUTHORITY_URI:Landroid/net/Uri;

    move-object/from16 v0, v50

    invoke-interface {v0, v5, v7}, Landroid/database/Cursor;->setNotificationUri(Landroid/content/ContentResolver;Landroid/net/Uri;)V

    :cond_16
    move-object/from16 v73, v50

    .line 5663
    goto/16 :goto_0

    .line 5560
    .end local v50           #cursor:Landroid/database/Cursor;
    .end local v78           #doubledSelectionArgs:[Ljava/lang/String;
    .end local v85           #frequentInnerQuery:Ljava/lang/String;
    .end local v86           #frequentQuery:Ljava/lang/String;
    .end local v126           #starredInnerQuery:Ljava/lang/String;
    .end local v127           #starredQuery:Ljava/lang/String;
    .end local v135           #unionQuery:Ljava/lang/String;
    :cond_17
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentStarredProjectionMap:Lcom/android/common/content/ProjectionMap;

    goto/16 :goto_3

    .line 5620
    .restart local v126       #starredInnerQuery:Ljava/lang/String;
    :cond_18
    const/4 v5, 0x1

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 5621
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentFrequentProjectionMap:Lcom/android/common/content/ProjectionMap;

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 5622
    const/4 v5, 0x2

    new-array v5, v5, [Ljava/lang/String;

    const/4 v7, 0x0

    aput-object p3, v5, v7

    const/4 v7, 0x1

    const-string v9, "(starred =0 OR starred IS NULL)"

    aput-object v9, v5, v7

    invoke-static {v5}, Lcom/android/providers/contacts/util/DbQueryUtils;->concatenateClauses([Ljava/lang/String;)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 5627
    const-string v70, "contact_id IN default_directory"

    .line 5629
    .local v70, HAVING:Ljava/lang/String;
    const/16 v32, 0x0

    const-string v33, "_id"

    const-string v34, "contact_id IN default_directory"

    const-string v35, "(CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC"

    const-string v36, "25"

    move-object/from16 v30, v23

    invoke-virtual/range {v30 .. v36}, Landroid/database/sqlite/SQLiteQueryBuilder;->buildQuery([Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v85

    .restart local v85       #frequentInnerQuery:Ljava/lang/String;
    goto/16 :goto_4

    .line 5667
    .end local v31           #subProjection:[Ljava/lang/String;
    .end local v70           #HAVING:Ljava/lang/String;
    .end local v85           #frequentInnerQuery:Ljava/lang/String;
    .end local v110           #phoneOnly:Z
    .end local v126           #starredInnerQuery:Ljava/lang/String;
    :sswitch_b
    const/4 v5, 0x1

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 5668
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sStrequentFrequentProjectionMap:Lcom/android/common/content/ProjectionMap;

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 5669
    const-string v15, "_id"

    .line 5670
    const-string v48, "_id IN default_directory"

    .line 5671
    invoke-static/range {p5 .. p5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_19

    .line 5672
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "times_used DESC,display_name COLLATE LOCALIZED ASC, "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, p5

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p5

    goto/16 :goto_1

    .line 5674
    :cond_19
    const-string p5, "times_used DESC,display_name COLLATE LOCALIZED ASC"

    .line 5676
    goto/16 :goto_1

    .line 5680
    :sswitch_c
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 5681
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    invoke-interface {v5}, Ljava/util/List;->size()I

    move-result v5

    const/4 v7, 0x2

    if-le v5, v7, :cond_1

    .line 5682
    const-string v5, "_id IN (SELECT contact_id FROM raw_contacts WHERE raw_contacts._id IN (SELECT data.raw_contact_id FROM data JOIN mimetypes ON (data.mimetype_id = mimetypes._id) WHERE mimetype_id=? AND data1=(SELECT groups._id FROM groups WHERE _id=? AND deleted=0) ) )"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 5683
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v7, "vnd.android.cursor.item/group_membership"

    invoke-virtual {v5, v7}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v9

    invoke-static {v9, v10}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v89

    .line 5685
    .local v89, groupMimeTypeId:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5686
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move-object/from16 v2, v89

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5687
    goto/16 :goto_1

    .line 5692
    .end local v89           #groupMimeTypeId:Ljava/lang/String;
    :sswitch_d
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    goto/16 :goto_1

    .line 5697
    :sswitch_e
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    goto/16 :goto_1

    .line 5702
    :sswitch_f
    const-string v5, "view_contacts"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 5703
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sContactsVCardProjectionMap:Lcom/android/common/content/ProjectionMap;

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    goto/16 :goto_1

    .line 5708
    :sswitch_10
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v7, 0x1

    invoke-interface {v5, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v18

    .line 5709
    .restart local v18       #contactId:J
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 5710
    invoke-static/range {v18 .. v19}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5711
    const-string v5, " AND contact_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 5716
    .end local v18           #contactId:J
    :sswitch_11
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v7, 0x1

    invoke-interface {v5, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v18

    .line 5717
    .restart local v18       #contactId:J
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 5718
    invoke-static/range {v18 .. v19}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5719
    const-string v5, " AND contact_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 5720
    const-string v5, " AND _id=photo_id"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 5725
    .end local v18           #contactId:J
    :sswitch_12
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v7, 0x1

    invoke-interface {v5, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v18

    .line 5726
    .restart local v18       #contactId:J
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 5727
    invoke-static/range {v18 .. v19}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5728
    const-string v5, " AND contact_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 5734
    .end local v18           #contactId:J
    :sswitch_13
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v107

    .line 5735
    .restart local v107       #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-interface/range {v107 .. v107}, Ljava/util/List;->size()I

    move-result v121

    .line 5736
    .restart local v121       #segmentCount:I
    const/4 v5, 0x4

    move/from16 v0, v121

    if-ge v0, v5, :cond_1a

    .line 5737
    new-instance v7, Ljava/lang/IllegalArgumentException;

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v9, "Missing a lookup key"

    move-object/from16 v0, p1

    invoke-virtual {v5, v9, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v5

    invoke-direct {v7, v5}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v7

    .line 5740
    :cond_1a
    const/4 v5, 0x2

    move-object/from16 v0, v107

    invoke-interface {v0, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v21

    check-cast v21, Ljava/lang/String;

    .line 5741
    .restart local v21       #lookupKey:Ljava/lang/String;
    const/4 v5, 0x5

    move/from16 v0, v121

    if-ne v0, v5, :cond_1b

    .line 5742
    const/4 v5, 0x3

    move-object/from16 v0, v107

    invoke-interface {v0, v5}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v18

    .line 5743
    .restart local v18       #contactId:J
    new-instance v8, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct {v8}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V

    .line 5744
    .restart local v8       #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    invoke-direct {v0, v8, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 5745
    const-string v5, " AND "

    invoke-virtual {v8, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 5747
    const-string v17, "contact_id"

    const-string v20, "lookup"

    move-object/from16 v7, p0

    move-object v9, v6

    move-object/from16 v10, p1

    move-object/from16 v11, p2

    move-object/from16 v12, p3

    move-object/from16 v13, p4

    move-object/from16 v14, p5

    move-object/from16 v22, p8

    invoke-direct/range {v7 .. v22}, Lcom/android/providers/contacts/ContactsProvider2;->queryWithContactIdAndLookupKey(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;JLjava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v73

    .line 5752
    .restart local v73       #c:Landroid/database/Cursor;
    if-nez v73, :cond_0

    .line 5757
    .end local v8           #lookupQb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .end local v18           #contactId:J
    .end local v73           #c:Landroid/database/Cursor;
    :cond_1b
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 5758
    move-object/from16 v0, p0

    move-object/from16 v1, v21

    invoke-virtual {v0, v6, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v9

    invoke-static {v9, v10}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5760
    const-string v5, " AND contact_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 5765
    .end local v21           #lookupKey:Ljava/lang/String;
    .end local v107           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v121           #segmentCount:I
    :sswitch_14
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    goto/16 :goto_1

    .line 5770
    :sswitch_15
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 5771
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5772
    const-string v5, "_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 5777
    :sswitch_16
    const/4 v5, 0x1

    new-array v5, v5, [Ljava/lang/String;

    const/4 v7, 0x0

    const-string v9, "max_items"

    aput-object v9, v5, v7

    const/4 v7, 0x1

    new-array v7, v7, [Ljava/lang/Object;

    const/4 v9, 0x0

    const/4 v10, 0x5

    invoke-static {v10}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v10

    aput-object v10, v7, v9

    move-object/from16 v0, p2

    invoke-static {v0, v5, v7}, Lcom/android/providers/contacts/ContactsProvider2;->buildSingleRowResult([Ljava/lang/String;[Ljava/lang/String;[Ljava/lang/Object;)Landroid/database/Cursor;

    move-result-object v73

    goto/16 :goto_0

    .line 5782
    :sswitch_17
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItemPhotos(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    goto/16 :goto_1

    .line 5787
    :sswitch_18
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItemPhotos(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 5788
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v7, 0x1

    invoke-interface {v5, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v128

    check-cast v128, Ljava/lang/String;

    .line 5789
    .local v128, streamItemId:Ljava/lang/String;
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move-object/from16 v2, v128

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5790
    const-string v5, "stream_item_photos.stream_item_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 5795
    .end local v128           #streamItemId:Ljava/lang/String;
    :sswitch_19
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItemPhotos(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 5796
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v7, 0x1

    invoke-interface {v5, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v128

    check-cast v128, Ljava/lang/String;

    .line 5797
    .restart local v128       #streamItemId:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v7, 0x3

    invoke-interface {v5, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v130

    check-cast v130, Ljava/lang/String;

    .line 5798
    .local v130, streamItemPhotoId:Ljava/lang/String;
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move-object/from16 v2, v130

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5799
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move-object/from16 v2, v128

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5800
    const-string v5, "stream_item_photos.stream_item_id=? AND stream_item_photos._id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 5806
    .end local v128           #streamItemId:Ljava/lang/String;
    .end local v130           #streamItemPhotoId:Ljava/lang/String;
    :sswitch_1a
    const/4 v5, 0x2

    new-array v5, v5, [Ljava/lang/String;

    const/4 v7, 0x0

    const-string v9, "display_max_dim"

    aput-object v9, v5, v7

    const/4 v7, 0x1

    const-string v9, "thumbnail_max_dim"

    aput-object v9, v5, v7

    const/4 v7, 0x2

    new-array v7, v7, [Ljava/lang/Object;

    const/4 v9, 0x0

    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getMaxDisplayPhotoDim()I

    move-result v10

    invoke-static {v10}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v10

    aput-object v10, v7, v9

    const/4 v9, 0x1

    invoke-virtual/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->getMaxThumbnailDim()I

    move-result v10

    invoke-static {v10}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v10

    aput-object v10, v7, v9

    move-object/from16 v0, p2

    invoke-static {v0, v5, v7}, Lcom/android/providers/contacts/ContactsProvider2;->buildSingleRowResult([Ljava/lang/String;[Ljava/lang/String;[Ljava/lang/Object;)Landroid/database/Cursor;

    move-result-object v73

    goto/16 :goto_0

    .line 5813
    :sswitch_1b
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "mimetype_id="

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForPhone()J

    move-result-wide v9

    invoke-virtual {v7, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v99

    .line 5815
    .local v99, mimeTypeIsPhoneExpression:Ljava/lang/String;
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "mimetype_id="

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForSip()J

    move-result-wide v9

    invoke-virtual {v7, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v100

    .line 5817
    .local v100, mimeTypeIsSipExpression:Ljava/lang/String;
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 5818
    const/16 v5, 0xbc3

    move/from16 v0, v98

    if-ne v0, v5, :cond_1c

    .line 5819
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, " AND (("

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, v99

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, ") OR ("

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, v100

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, "))"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 5825
    :goto_5
    const-string v5, "remove_duplicate_entries"

    const/4 v7, 0x0

    move-object/from16 v0, p1

    invoke-static {v0, v5, v7}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v116

    .line 5827
    .local v116, removeDuplicates:Z
    if-eqz v116, :cond_1

    .line 5828
    const-string v15, "contact_id, data1"

    .line 5837
    const-string v57, "DISTINCT contact_id||\',\'||data1"

    goto/16 :goto_1

    .line 5822
    .end local v116           #removeDuplicates:Z
    :cond_1c
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, " AND "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, v99

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto :goto_5

    .line 5845
    .end local v99           #mimeTypeIsPhoneExpression:Ljava/lang/String;
    .end local v100           #mimeTypeIsSipExpression:Ljava/lang/String;
    :sswitch_1c
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "mimetype_id="

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForPhone()J

    move-result-wide v9

    invoke-virtual {v7, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v99

    .line 5847
    .restart local v99       #mimeTypeIsPhoneExpression:Ljava/lang/String;
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "mimetype_id="

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForSip()J

    move-result-wide v9

    invoke-virtual {v7, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v100

    .line 5849
    .restart local v100       #mimeTypeIsSipExpression:Ljava/lang/String;
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 5850
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5851
    const/16 v5, 0xbc4

    move/from16 v0, v98

    if-ne v0, v5, :cond_1d

    .line 5852
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, " AND (("

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, v99

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, ") OR ("

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, v100

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, "))"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 5857
    :goto_6
    const-string v5, " AND _id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 5855
    :cond_1d
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, " AND "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, v99

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto :goto_6

    .line 5863
    .end local v99           #mimeTypeIsPhoneExpression:Ljava/lang/String;
    .end local v100           #mimeTypeIsSipExpression:Ljava/lang/String;
    :sswitch_1d
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "mimetype_id="

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForPhone()J

    move-result-wide v9

    invoke-virtual {v7, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v99

    .line 5865
    .restart local v99       #mimeTypeIsPhoneExpression:Ljava/lang/String;
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "mimetype_id="

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForSip()J

    move-result-wide v9

    invoke-virtual {v7, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v100

    .line 5868
    .restart local v100       #mimeTypeIsSipExpression:Ljava/lang/String;
    const-string v5, "type"

    move-object/from16 v0, p1

    invoke-virtual {v0, v5}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v134

    .line 5869
    .local v134, typeParam:Ljava/lang/String;
    const/4 v5, 0x0

    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v5

    move-object/from16 v0, v134

    invoke-static {v0, v5}, Lcom/android/providers/contacts/ContactsProvider2;->getDataUsageFeedbackType(Ljava/lang/String;Ljava/lang/Integer;)I

    move-result v133

    .line 5871
    .local v133, typeInt:I
    const/4 v13, 0x1

    invoke-static/range {v133 .. v133}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v14

    move-object/from16 v9, p0

    move-object/from16 v10, v23

    move-object/from16 v11, p1

    move-object/from16 v12, p2

    invoke-direct/range {v9 .. v14}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZLjava/lang/Integer;)V

    .line 5872
    const/16 v5, 0xbc5

    move/from16 v0, v98

    if-ne v0, v5, :cond_25

    .line 5873
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, " AND (("

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, v99

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, ") OR ("

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, v100

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, "))"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 5879
    :goto_7
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    invoke-interface {v5}, Ljava/util/List;->size()I

    move-result v5

    const/4 v7, 0x2

    if-le v5, v7, :cond_24

    .line 5880
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v26

    .line 5881
    .restart local v26       #filterParam:Ljava/lang/String;
    const-string v5, "search_display_name"

    const/4 v7, 0x1

    move-object/from16 v0, p1

    invoke-virtual {v0, v5, v7}, Landroid/net/Uri;->getBooleanQueryParameter(Ljava/lang/String;Z)Z

    move-result v118

    .line 5883
    .local v118, searchDisplayName:Z
    const-string v5, "search_phone_number"

    const/4 v7, 0x1

    move-object/from16 v0, p1

    invoke-virtual {v0, v5, v7}, Landroid/net/Uri;->getBooleanQueryParameter(Ljava/lang/String;Z)Z

    move-result v119

    .line 5886
    .local v119, searchPhoneNumber:Z
    new-instance v117, Ljava/lang/StringBuilder;

    invoke-direct/range {v117 .. v117}, Ljava/lang/StringBuilder;-><init>()V

    .line 5887
    .restart local v117       #sb:Ljava/lang/StringBuilder;
    const-string v5, " AND ("

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5889
    const/16 v90, 0x0

    .line 5893
    .local v90, hasCondition:Z
    if-eqz v118, :cond_26

    sget-object v5, Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;->UNSCOPED_NORMALIZING:Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;

    move-object/from16 v0, v26

    invoke-static {v0, v5}, Lcom/android/providers/contacts/SearchIndexManager;->getFtsMatchQuery(Ljava/lang/String;Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;)Ljava/lang/String;

    move-result-object v87

    .line 5898
    .local v87, ftsMatchQuery:Ljava/lang/String;
    :goto_8
    invoke-static/range {v87 .. v87}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_1e

    .line 5899
    const-string v5, "raw_contact_id IN (SELECT raw_contacts._id FROM search_index JOIN raw_contacts ON (search_index.contact_id=raw_contacts.contact_id) WHERE name MATCH \'"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5906
    move-object/from16 v0, v117

    move-object/from16 v1, v87

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5907
    const-string v5, "\')"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5908
    const/16 v90, 0x1

    .line 5911
    :cond_1e
    if-eqz v119, :cond_22

    .line 5912
    invoke-static/range {v26 .. v26}, Landroid/telephony/PhoneNumberUtils;->normalizeNumber(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v102

    .line 5913
    .local v102, number:Ljava/lang/String;
    invoke-static/range {v102 .. v102}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_20

    .line 5914
    if-eqz v90, :cond_1f

    .line 5915
    const-string v5, " OR "

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5917
    :cond_1f
    const-string v5, "_id IN (SELECT DISTINCT data_id FROM phone_lookup WHERE normalized_number LIKE \'"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5921
    move-object/from16 v0, v117

    move-object/from16 v1, v102

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5922
    const-string v5, "%\')"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5923
    const/16 v90, 0x1

    .line 5926
    :cond_20
    invoke-static/range {v26 .. v26}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_22

    const/16 v5, 0xbc5

    move/from16 v0, v98

    if-ne v0, v5, :cond_22

    .line 5929
    if-eqz v90, :cond_21

    .line 5930
    const-string v5, " OR "

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5932
    :cond_21
    const-string v5, "("

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5933
    move-object/from16 v0, v117

    move-object/from16 v1, v100

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5934
    const-string v5, " AND ((data1 LIKE "

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5935
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v26

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const/16 v7, 0x25

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v117

    invoke-static {v0, v5}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 5936
    const-string v5, ") OR (data1 LIKE "

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5938
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "sip:"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, v26

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const/16 v7, 0x25

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v117

    invoke-static {v0, v5}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 5939
    const-string v5, ")))"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5940
    const/16 v90, 0x1

    .line 5944
    .end local v102           #number:Ljava/lang/String;
    :cond_22
    if-nez v90, :cond_23

    .line 5947
    const-string v5, "0"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5949
    :cond_23
    const-string v5, ")"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 5950
    move-object/from16 v0, v23

    move-object/from16 v1, v117

    invoke-virtual {v0, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 5952
    .end local v26           #filterParam:Ljava/lang/String;
    .end local v87           #ftsMatchQuery:Ljava/lang/String;
    .end local v90           #hasCondition:Z
    .end local v117           #sb:Ljava/lang/StringBuilder;
    .end local v118           #searchDisplayName:Z
    .end local v119           #searchPhoneNumber:Z
    :cond_24
    const/16 v5, 0xbc5

    move/from16 v0, v98

    if-ne v0, v5, :cond_27

    .line 5956
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "("

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, v99

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, " AND "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, "data4"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, " IS NOT NULL)"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v95

    .line 5959
    .local v95, isPhoneAndHasNormalized:Ljava/lang/String;
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "(CASE WHEN "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, v95

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, " THEN "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, "data4"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, " ELSE "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, "data1"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, " END), "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, "contact_id"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v15

    .line 5967
    .end local v95           #isPhoneAndHasNormalized:Ljava/lang/String;
    :goto_9
    if-nez p5, :cond_1

    .line 5968
    invoke-direct/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->getAccountPromotionSortOrder(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v71

    .line 5969
    .local v71, accountPromotionSortOrder:Ljava/lang/String;
    invoke-static/range {v71 .. v71}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_28

    .line 5970
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v71

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, ", "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, "starred DESC, is_super_primary DESC, is_primary DESC, (CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC, in_visible_group DESC, display_name, contact_id"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p5

    goto/16 :goto_1

    .line 5876
    .end local v71           #accountPromotionSortOrder:Ljava/lang/String;
    :cond_25
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, " AND "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-object/from16 v0, v99

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_7

    .line 5893
    .restart local v26       #filterParam:Ljava/lang/String;
    .restart local v90       #hasCondition:Z
    .restart local v117       #sb:Ljava/lang/StringBuilder;
    .restart local v118       #searchDisplayName:Z
    .restart local v119       #searchPhoneNumber:Z
    :cond_26
    const/16 v87, 0x0

    goto/16 :goto_8

    .line 5963
    .end local v26           #filterParam:Ljava/lang/String;
    .end local v90           #hasCondition:Z
    .end local v117           #sb:Ljava/lang/StringBuilder;
    .end local v118           #searchDisplayName:Z
    .end local v119           #searchPhoneNumber:Z
    :cond_27
    const-string v15, "(CASE WHEN data4 IS NOT NULL THEN data4 ELSE data1 END), contact_id"

    goto :goto_9

    .line 5972
    .restart local v71       #accountPromotionSortOrder:Ljava/lang/String;
    :cond_28
    const-string p5, "starred DESC, is_super_primary DESC, is_primary DESC, (CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC, in_visible_group DESC, display_name, contact_id"

    goto/16 :goto_1

    .line 5979
    .end local v71           #accountPromotionSortOrder:Ljava/lang/String;
    .end local v99           #mimeTypeIsPhoneExpression:Ljava/lang/String;
    .end local v100           #mimeTypeIsSipExpression:Ljava/lang/String;
    .end local v133           #typeInt:I
    .end local v134           #typeParam:Ljava/lang/String;
    :sswitch_1e
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 5980
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, " AND mimetype_id = "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForEmail()J

    move-result-wide v9

    invoke-virtual {v7, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 5983
    const-string v5, "remove_duplicate_entries"

    const/4 v7, 0x0

    move-object/from16 v0, p1

    invoke-static {v0, v5, v7}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v116

    .line 5985
    .restart local v116       #removeDuplicates:Z
    if-eqz v116, :cond_1

    .line 5986
    const-string v15, "contact_id, data1"

    .line 5989
    const-string v57, "DISTINCT contact_id||\',\'||data1"

    goto/16 :goto_1

    .line 5996
    .end local v116           #removeDuplicates:Z
    :sswitch_1f
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 5997
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 5998
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, " AND mimetype_id = "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForEmail()J

    move-result-wide v9

    invoke-virtual {v7, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, " AND "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, "_id"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, "=?"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6005
    :sswitch_20
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 6006
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, " AND mimetype_id = "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForEmail()J

    move-result-wide v9

    invoke-virtual {v7, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 6008
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    invoke-interface {v5}, Ljava/util/List;->size()I

    move-result v5

    const/4 v7, 0x2

    if-le v5, v7, :cond_29

    .line 6009
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v79

    .line 6010
    .local v79, email:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object/from16 v0, v79

    invoke-virtual {v5, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->extractAddressFromEmailAddress(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v72

    .line 6011
    .local v72, address:Ljava/lang/String;
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move-object/from16 v2, v72

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6012
    const-string v5, " AND UPPER(data1)=UPPER(?)"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 6015
    .end local v72           #address:Ljava/lang/String;
    .end local v79           #email:Ljava/lang/String;
    :cond_29
    if-nez p5, :cond_1

    .line 6016
    const-string p5, "(contact_id IN default_directory) DESC"

    goto/16 :goto_1

    .line 6023
    :sswitch_21
    const-string v5, "type"

    move-object/from16 v0, p1

    invoke-virtual {v0, v5}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v134

    .line 6024
    .restart local v134       #typeParam:Ljava/lang/String;
    const/4 v5, 0x1

    invoke-static {v5}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v5

    move-object/from16 v0, v134

    invoke-static {v0, v5}, Lcom/android/providers/contacts/ContactsProvider2;->getDataUsageFeedbackType(Ljava/lang/String;Ljava/lang/Integer;)I

    move-result v133

    .line 6026
    .restart local v133       #typeInt:I
    const/4 v13, 0x1

    invoke-static/range {v133 .. v133}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v14

    move-object/from16 v9, p0

    move-object/from16 v10, v23

    move-object/from16 v11, p1

    move-object/from16 v12, p2

    invoke-direct/range {v9 .. v14}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZLjava/lang/Integer;)V

    .line 6027
    const/16 v26, 0x0

    .line 6029
    .restart local v26       #filterParam:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    invoke-interface {v5}, Ljava/util/List;->size()I

    move-result v5

    const/4 v7, 0x3

    if-le v5, v7, :cond_2a

    .line 6030
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v26

    .line 6031
    invoke-static/range {v26 .. v26}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-eqz v5, :cond_2a

    .line 6032
    const/16 v26, 0x0

    .line 6036
    :cond_2a
    if-nez v26, :cond_2b

    .line 6038
    const-string v5, " AND 0"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 6070
    :goto_a
    const-string v15, "data1,contact_id"

    .line 6071
    if-nez p5, :cond_1

    .line 6072
    invoke-direct/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->getAccountPromotionSortOrder(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v71

    .line 6073
    .restart local v71       #accountPromotionSortOrder:Ljava/lang/String;
    invoke-static/range {v71 .. v71}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_2d

    .line 6074
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v71

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, ", "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, "starred DESC, is_super_primary DESC, is_primary DESC, (CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC, in_visible_group DESC, display_name, contact_id"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p5

    .line 6079
    :goto_b
    const-string v5, "name_for_primary_account"

    move-object/from16 v0, p1

    invoke-virtual {v0, v5}, Landroid/net/Uri;->getQueryParameter(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v111

    .line 6081
    .local v111, primaryAccountName:Ljava/lang/String;
    invoke-static/range {v111 .. v111}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_1

    .line 6082
    const/16 v5, 0x40

    move-object/from16 v0, v111

    invoke-virtual {v0, v5}, Ljava/lang/String;->indexOf(I)I

    move-result v94

    .line 6083
    .local v94, index:I
    const/4 v5, -0x1

    move/from16 v0, v94

    if-eq v0, v5, :cond_1

    .line 6085
    move-object/from16 v0, v111

    move/from16 v1, v94

    invoke-virtual {v0, v1}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v77

    .line 6086
    .local v77, domain:Ljava/lang/String;
    const/16 v82, 0x5c

    .line 6088
    .local v82, escapeChar:C
    new-instance v97, Ljava/lang/StringBuilder;

    invoke-direct/range {v97 .. v97}, Ljava/lang/StringBuilder;-><init>()V

    .line 6089
    .local v97, likeValue:Ljava/lang/StringBuilder;
    const/16 v5, 0x25

    move-object/from16 v0, v97

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;

    .line 6090
    const/16 v5, 0x5c

    move-object/from16 v0, v97

    move-object/from16 v1, v77

    invoke-static {v0, v1, v5}, Lcom/android/providers/contacts/util/DbQueryUtils;->escapeLikeValue(Ljava/lang/StringBuilder;Ljava/lang/String;C)V

    .line 6091
    invoke-virtual/range {v97 .. v97}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->appendSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6094
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, p5

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, ", (CASE WHEN data1 like ? ESCAPE \'\\\' THEN 0 ELSE 1 END)"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p5

    goto/16 :goto_1

    .line 6040
    .end local v71           #accountPromotionSortOrder:Ljava/lang/String;
    .end local v77           #domain:Ljava/lang/String;
    .end local v82           #escapeChar:C
    .end local v94           #index:I
    .end local v97           #likeValue:Ljava/lang/StringBuilder;
    .end local v111           #primaryAccountName:Ljava/lang/String;
    :cond_2b
    new-instance v117, Ljava/lang/StringBuilder;

    invoke-direct/range {v117 .. v117}, Ljava/lang/StringBuilder;-><init>()V

    .line 6041
    .restart local v117       #sb:Ljava/lang/StringBuilder;
    const-string v5, " AND _id IN ("

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6042
    const-string v5, "SELECT _id FROM data WHERE mimetype_id="

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6046
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForEmail()J

    move-result-wide v9

    move-object/from16 v0, v117

    invoke-virtual {v0, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    .line 6047
    const-string v5, " AND data1 LIKE "

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6048
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v26

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const/16 v7, 0x25

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v117

    invoke-static {v0, v5}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 6049
    const-string v5, "@"

    move-object/from16 v0, v26

    invoke-virtual {v0, v5}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_2c

    .line 6050
    const-string v5, " UNION SELECT _id FROM data WHERE +mimetype_id="

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6054
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForEmail()J

    move-result-wide v9

    move-object/from16 v0, v117

    invoke-virtual {v0, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    .line 6055
    const-string v5, " AND raw_contact_id IN (SELECT raw_contacts._id FROM search_index JOIN raw_contacts ON (search_index.contact_id=raw_contacts.contact_id) WHERE name MATCH \'"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6062
    sget-object v5, Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;->UNSCOPED_NORMALIZING:Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;

    move-object/from16 v0, v26

    invoke-static {v0, v5}, Lcom/android/providers/contacts/SearchIndexManager;->getFtsMatchQuery(Ljava/lang/String;Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;)Ljava/lang/String;

    move-result-object v87

    .line 6064
    .restart local v87       #ftsMatchQuery:Ljava/lang/String;
    move-object/from16 v0, v117

    move-object/from16 v1, v87

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6065
    const-string v5, "\')"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6067
    .end local v87           #ftsMatchQuery:Ljava/lang/String;
    :cond_2c
    const-string v5, ")"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6068
    move-object/from16 v0, v23

    move-object/from16 v1, v117

    invoke-virtual {v0, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_a

    .line 6076
    .end local v117           #sb:Ljava/lang/StringBuilder;
    .restart local v71       #accountPromotionSortOrder:Ljava/lang/String;
    :cond_2d
    const-string p5, "starred DESC, is_super_primary DESC, is_primary DESC, (CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC, in_visible_group DESC, display_name, contact_id"

    goto/16 :goto_b

    .line 6103
    .end local v26           #filterParam:Ljava/lang/String;
    .end local v71           #accountPromotionSortOrder:Ljava/lang/String;
    .end local v133           #typeInt:I
    .end local v134           #typeParam:Ljava/lang/String;
    :sswitch_22
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 6104
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, " AND mimetype_id = "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForStructuredPostal()J

    move-result-wide v9

    invoke-virtual {v7, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 6107
    const-string v5, "remove_duplicate_entries"

    const/4 v7, 0x0

    move-object/from16 v0, p1

    invoke-static {v0, v5, v7}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v116

    .line 6109
    .restart local v116       #removeDuplicates:Z
    if-eqz v116, :cond_1

    .line 6110
    const-string v15, "contact_id, data1"

    .line 6113
    const-string v57, "DISTINCT contact_id||\',\'||data1"

    goto/16 :goto_1

    .line 6120
    .end local v116           #removeDuplicates:Z
    :sswitch_23
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 6121
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6122
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, " AND mimetype_id = "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForStructuredPostal()J

    move-result-wide v9

    invoke-virtual {v7, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 6124
    const-string v5, " AND _id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6130
    :sswitch_24
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForRawContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    goto/16 :goto_1

    .line 6136
    :sswitch_25
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v114

    .line 6137
    .local v114, rawContactId:J
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForRawContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 6138
    invoke-static/range {v114 .. v115}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6139
    const-string v5, " AND _id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6145
    .end local v114           #rawContactId:J
    :sswitch_26
    const/16 v5, 0x7d4

    move/from16 v0, v98

    if-ne v0, v5, :cond_2e

    const/16 v120, 0x1

    .line 6146
    .local v120, segment:I
    :goto_c
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    move/from16 v0, v120

    invoke-interface {v5, v0}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v114

    .line 6147
    .restart local v114       #rawContactId:J
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 6148
    invoke-static/range {v114 .. v115}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6149
    const-string v5, " AND raw_contact_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6145
    .end local v114           #rawContactId:J
    .end local v120           #segment:I
    :cond_2e
    const/16 v120, 0x2

    goto :goto_c

    .line 6154
    :sswitch_27
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v7, 0x1

    invoke-interface {v5, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v114

    .line 6155
    .restart local v114       #rawContactId:J
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 6156
    invoke-static/range {v114 .. v115}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6157
    const-string v5, "raw_contact_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6162
    .end local v114           #rawContactId:J
    :sswitch_28
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v7, 0x1

    invoke-interface {v5, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v114

    .line 6163
    .restart local v114       #rawContactId:J
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v7, 0x3

    invoke-interface {v5, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v128

    .line 6164
    .local v128, streamItemId:J
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    invoke-direct {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForStreamItems(Landroid/database/sqlite/SQLiteQueryBuilder;)V

    .line 6165
    invoke-static/range {v128 .. v129}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6166
    invoke-static/range {v114 .. v115}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6167
    const-string v5, "raw_contact_id=? AND _id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6173
    .end local v114           #rawContactId:J
    .end local v128           #streamItemId:J
    :sswitch_29
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v7, 0x2

    invoke-interface {v5, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v114

    .line 6174
    .restart local v114       #rawContactId:J
    invoke-static/range {v114 .. v115}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6175
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForRawEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 6176
    const-string v5, " AND _id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6182
    .end local v114           #rawContactId:J
    :sswitch_2a
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    goto/16 :goto_1

    .line 6188
    :sswitch_2b
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 6189
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6190
    const-string v5, " AND _id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6195
    :sswitch_2c
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 6196
    const-string v5, " AND _id=photo_id"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6202
    :sswitch_2d
    const/16 p3, 0x0

    .line 6203
    const/16 p4, 0x0

    .line 6204
    const-string v5, "sip"

    const/4 v7, 0x0

    move-object/from16 v0, p1

    invoke-virtual {v0, v5, v7}, Landroid/net/Uri;->getBooleanQueryParameter(Ljava/lang/String;Z)Z

    move-result v5

    if-eqz v5, :cond_31

    .line 6205
    invoke-static/range {p5 .. p5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-eqz v5, :cond_2f

    .line 6208
    const-string p5, "display_name ASC"

    .line 6211
    :cond_2f
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    invoke-interface {v5}, Ljava/util/List;->size()I

    move-result v5

    const/4 v7, 0x1

    if-le v5, v7, :cond_30

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v5

    invoke-static {v5}, Landroid/net/Uri;->decode(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v122

    .line 6213
    .local v122, sipAddress:Ljava/lang/String;
    :goto_d
    const/4 v12, 0x0

    const/4 v13, 0x0

    const/4 v14, 0x1

    move-object/from16 v9, p0

    move-object/from16 v10, v23

    move-object/from16 v11, p1

    invoke-direct/range {v9 .. v14}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;ZZ)V

    .line 6214
    new-instance v117, Ljava/lang/StringBuilder;

    invoke-direct/range {v117 .. v117}, Ljava/lang/StringBuilder;-><init>()V

    .line 6215
    .restart local v117       #sb:Ljava/lang/StringBuilder;
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object/from16 v0, v117

    move-object/from16 v1, v122

    invoke-virtual {v5, v0, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->buildSipContactQuery(Ljava/lang/StringBuilder;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6216
    invoke-virtual/range {v117 .. v117}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p3

    .line 6217
    goto/16 :goto_1

    .line 6211
    .end local v117           #sb:Ljava/lang/StringBuilder;
    .end local v122           #sipAddress:Ljava/lang/String;
    :cond_30
    const-string v122, ""

    goto :goto_d

    .line 6219
    :cond_31
    const/16 v125, 0x0

    .line 6220
    .local v125, sortOrderIsEmpty:Z
    invoke-static/range {p5 .. p5}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-eqz v5, :cond_32

    .line 6223
    const-string p5, "length(lookup.normalized_number) DESC"

    .line 6224
    const/16 v125, 0x1

    .line 6227
    :cond_32
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    invoke-interface {v5}, Ljava/util/List;->size()I

    move-result v5

    const/4 v7, 0x1

    if-le v5, v7, :cond_34

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v102

    .line 6229
    .restart local v102       #number:Ljava/lang/String;
    :goto_e
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getCurrentCountryIso()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v102

    invoke-static {v0, v5}, Landroid/telephony/PhoneNumberUtils;->formatNumberToE164(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v103

    .line 6231
    .local v103, numberE164:Ljava/lang/String;
    invoke-static/range {v102 .. v102}, Landroid/telephony/PhoneNumberUtils;->normalizeNumber(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v101

    .line 6233
    .local v101, normalizedNumber:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object/from16 v0, v23

    move-object/from16 v1, v101

    move-object/from16 v2, v103

    invoke-virtual {v5, v0, v1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->buildPhoneLookupAndContactQuery(Landroid/database/sqlite/SQLiteQueryBuilder;Ljava/lang/String;Ljava/lang/String;)V

    .line 6235
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sPhoneLookupProjectionMap:Lcom/android/common/content/ProjectionMap;

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 6241
    const/4 v5, 0x1

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setStrict(Z)V

    .line 6242
    const/16 v84, 0x0

    .line 6243
    .local v84, foundResult:Z
    const/16 v40, 0x0

    move-object/from16 v32, p0

    move-object/from16 v33, v6

    move-object/from16 v34, v23

    move-object/from16 v35, p2

    move-object/from16 v36, p3

    move-object/from16 v37, p4

    move-object/from16 v38, p5

    move-object/from16 v39, v15

    move-object/from16 v41, v16

    move-object/from16 v42, p8

    invoke-direct/range {v32 .. v42}, Lcom/android/providers/contacts/ContactsProvider2;->query(Landroid/database/sqlite/SQLiteDatabase;Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Landroid/os/CancellationSignal;)Landroid/database/Cursor;

    move-result-object v50

    .line 6246
    .restart local v50       #cursor:Landroid/database/Cursor;
    :try_start_0
    invoke-interface/range {v50 .. v50}, Landroid/database/Cursor;->getCount()I

    move-result v5

    if-lez v5, :cond_37

    .line 6247
    const/16 v84, 0x1

    .line 6249
    move-object/from16 v0, v50

    move-object/from16 v1, v101

    invoke-static {v0, v1}, Lcom/android/providers/contacts/DialerSearchUtils;->findNumberExactMatchedCursor(Landroid/database/Cursor;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v83

    .line 6250
    .local v83, exactCursor:Landroid/database/Cursor;
    if-eqz v83, :cond_35

    .line 6251
    const-string v5, "ContactsProvider"

    const-string v7, "[queryLocal] Phone_Lookup: has found the exact number match Contact."

    invoke-static {v5, v7}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 6252
    invoke-interface/range {v50 .. v50}, Landroid/database/Cursor;->close()V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 6270
    if-nez v84, :cond_33

    .line 6272
    invoke-interface/range {v50 .. v50}, Landroid/database/Cursor;->close()V

    :cond_33
    move-object/from16 v73, v83

    goto/16 :goto_0

    .line 6227
    .end local v50           #cursor:Landroid/database/Cursor;
    .end local v83           #exactCursor:Landroid/database/Cursor;
    .end local v84           #foundResult:Z
    .end local v101           #normalizedNumber:Ljava/lang/String;
    .end local v102           #number:Ljava/lang/String;
    .end local v103           #numberE164:Ljava/lang/String;
    :cond_34
    const-string v102, ""

    goto :goto_e

    .line 6270
    .restart local v50       #cursor:Landroid/database/Cursor;
    .restart local v83       #exactCursor:Landroid/database/Cursor;
    .restart local v84       #foundResult:Z
    .restart local v101       #normalizedNumber:Ljava/lang/String;
    .restart local v102       #number:Ljava/lang/String;
    .restart local v103       #numberE164:Ljava/lang/String;
    :cond_35
    if-nez v84, :cond_36

    .line 6272
    invoke-interface/range {v50 .. v50}, Landroid/database/Cursor;->close()V

    :cond_36
    move-object/from16 v73, v50

    goto/16 :goto_0

    .line 6260
    .end local v83           #exactCursor:Landroid/database/Cursor;
    :cond_37
    :try_start_1
    new-instance v112, Landroid/database/sqlite/SQLiteQueryBuilder;

    invoke-direct/range {v112 .. v112}, Landroid/database/sqlite/SQLiteQueryBuilder;-><init>()V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    .line 6265
    .end local v23           #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .local v112, qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    :try_start_2
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    move-object/from16 v0, v112

    move-object/from16 v1, v102

    invoke-virtual {v5, v0, v1}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->buildFallbackPhoneLookupAndContactQuery(Landroid/database/sqlite/SQLiteQueryBuilder;Ljava/lang/String;)V

    .line 6267
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sPhoneLookupProjectionMap:Lcom/android/common/content/ProjectionMap;

    move-object/from16 v0, v112

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_1

    .line 6270
    if-nez v84, :cond_38

    .line 6272
    invoke-interface/range {v50 .. v50}, Landroid/database/Cursor;->close()V

    :cond_38
    move-object/from16 v23, v112

    .line 6276
    .end local v112           #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .restart local v23       #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    goto/16 :goto_1

    .line 6270
    :catchall_0
    move-exception v5

    :goto_f
    if-nez v84, :cond_39

    .line 6272
    invoke-interface/range {v50 .. v50}, Landroid/database/Cursor;->close()V

    :cond_39
    throw v5

    .line 6280
    .end local v50           #cursor:Landroid/database/Cursor;
    .end local v84           #foundResult:Z
    .end local v101           #normalizedNumber:Ljava/lang/String;
    .end local v102           #number:Ljava/lang/String;
    .end local v103           #numberE164:Ljava/lang/String;
    .end local v125           #sortOrderIsEmpty:Z
    :sswitch_2e
    const-string v5, "view_groups"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 6281
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sGroupsProjectionMap:Lcom/android/common/content/ProjectionMap;

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 6282
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountIdFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    goto/16 :goto_1

    .line 6287
    :sswitch_2f
    const-string v5, "view_groups"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 6288
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sGroupsProjectionMap:Lcom/android/common/content/ProjectionMap;

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 6289
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6290
    const-string v5, "_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6295
    :sswitch_30
    const-string v132, "view_groups AS groups"

    .line 6296
    .local v132, tables:Ljava/lang/String;
    const-string v5, "summ_count"

    move-object/from16 v0, p2

    invoke-static {v0, v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_3a

    .line 6297
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v132

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, " LEFT OUTER JOIN (SELECT data1 AS member_count_group_id, COUNT(distinct contact_id) AS group_member_count FROM view_data WHERE mimetype = \'vnd.android.cursor.item/group_membership\' GROUP BY member_count_group_id) AS member_count_table  ON (groups._id = member_count_table.member_count_group_id)"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v132

    .line 6299
    :cond_3a
    const-string v5, "group_count_per_account"

    move-object/from16 v0, p2

    invoke-static {v0, v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_3b

    .line 6303
    const-string v5, "ContactsProvider"

    const-string v7, "group_count_per_account is not supported yet"

    invoke-static {v5, v7}, Landroid/util/Log;->w(Ljava/lang/String;Ljava/lang/String;)I

    .line 6305
    :cond_3b
    move-object/from16 v0, v23

    move-object/from16 v1, v132

    invoke-virtual {v0, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 6306
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sGroupsSummaryProjectionMap:Lcom/android/common/content/ProjectionMap;

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 6307
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountIdFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 6308
    const-string v15, "groups._id"

    .line 6309
    goto/16 :goto_1

    .line 6313
    .end local v132           #tables:Ljava/lang/String;
    :sswitch_31
    const-string v5, "agg_exceptions"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 6314
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sAggregationExceptionsProjectionMap:Lcom/android/common/content/ProjectionMap;

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    goto/16 :goto_1

    .line 6319
    :sswitch_32
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v7, 0x1

    invoke-interface {v5, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v18

    .line 6320
    .restart local v18       #contactId:J
    const/16 v38, 0x0

    .line 6321
    .local v38, filter:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    invoke-interface {v5}, Ljava/util/List;->size()I

    move-result v5

    const/4 v7, 0x3

    if-le v5, v7, :cond_3c

    .line 6322
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v7, 0x3

    invoke-interface {v5, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v38

    .end local v38           #filter:Ljava/lang/String;
    check-cast v38, Ljava/lang/String;

    .line 6325
    .restart local v38       #filter:Ljava/lang/String;
    :cond_3c
    if-eqz v16, :cond_3d

    .line 6326
    invoke-static/range {v16 .. v16}, Ljava/lang/Integer;->parseInt(Ljava/lang/String;)I

    move-result v37

    .line 6331
    .local v37, maxSuggestions:I
    :goto_10
    const/16 v39, 0x0

    .line 6332
    .local v39, parameters:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/aggregation/ContactAggregator$AggregationSuggestionParameter;>;"
    const-string v5, "query"

    move-object/from16 v0, p1

    invoke-virtual {v0, v5}, Landroid/net/Uri;->getQueryParameters(Ljava/lang/String;)Ljava/util/List;

    move-result-object v113

    .line 6333
    .local v113, query:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    if-eqz v113, :cond_3f

    invoke-interface/range {v113 .. v113}, Ljava/util/List;->isEmpty()Z

    move-result v5

    if-nez v5, :cond_3f

    .line 6334
    new-instance v39, Ljava/util/ArrayList;

    .end local v39           #parameters:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/aggregation/ContactAggregator$AggregationSuggestionParameter;>;"
    invoke-interface/range {v113 .. v113}, Ljava/util/List;->size()I

    move-result v5

    move-object/from16 v0, v39

    invoke-direct {v0, v5}, Ljava/util/ArrayList;-><init>(I)V

    .line 6335
    .restart local v39       #parameters:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/aggregation/ContactAggregator$AggregationSuggestionParameter;>;"
    invoke-interface/range {v113 .. v113}, Ljava/util/List;->iterator()Ljava/util/Iterator;

    move-result-object v91

    .local v91, i$:Ljava/util/Iterator;
    :goto_11
    invoke-interface/range {v91 .. v91}, Ljava/util/Iterator;->hasNext()Z

    move-result v5

    if-eqz v5, :cond_3f

    invoke-interface/range {v91 .. v91}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v106

    check-cast v106, Ljava/lang/String;

    .line 6336
    .local v106, parameter:Ljava/lang/String;
    const/16 v5, 0x3a

    move-object/from16 v0, v106

    invoke-virtual {v0, v5}, Ljava/lang/String;->indexOf(I)I

    move-result v104

    .line 6337
    .local v104, offset:I
    const/4 v5, -0x1

    move/from16 v0, v104

    if-ne v0, v5, :cond_3e

    new-instance v5, Lcom/android/providers/contacts/aggregation/ContactAggregator$AggregationSuggestionParameter;

    const-string v7, "name"

    move-object/from16 v0, v106

    invoke-direct {v5, v7, v0}, Lcom/android/providers/contacts/aggregation/ContactAggregator$AggregationSuggestionParameter;-><init>(Ljava/lang/String;Ljava/lang/String;)V

    :goto_12
    move-object/from16 v0, v39

    invoke-virtual {v0, v5}, Ljava/util/ArrayList;->add(Ljava/lang/Object;)Z

    goto :goto_11

    .line 6328
    .end local v37           #maxSuggestions:I
    .end local v39           #parameters:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/aggregation/ContactAggregator$AggregationSuggestionParameter;>;"
    .end local v91           #i$:Ljava/util/Iterator;
    .end local v104           #offset:I
    .end local v106           #parameter:Ljava/lang/String;
    .end local v113           #query:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    :cond_3d
    const/16 v37, 0x5

    .restart local v37       #maxSuggestions:I
    goto :goto_10

    .line 6337
    .restart local v39       #parameters:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/aggregation/ContactAggregator$AggregationSuggestionParameter;>;"
    .restart local v91       #i$:Ljava/util/Iterator;
    .restart local v104       #offset:I
    .restart local v106       #parameter:Ljava/lang/String;
    .restart local v113       #query:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    :cond_3e
    new-instance v5, Lcom/android/providers/contacts/aggregation/ContactAggregator$AggregationSuggestionParameter;

    const/4 v7, 0x0

    move-object/from16 v0, v106

    move/from16 v1, v104

    invoke-virtual {v0, v7, v1}, Ljava/lang/String;->substring(II)Ljava/lang/String;

    move-result-object v7

    add-int/lit8 v9, v104, 0x1

    move-object/from16 v0, v106

    invoke-virtual {v0, v9}, Ljava/lang/String;->substring(I)Ljava/lang/String;

    move-result-object v9

    invoke-direct {v5, v7, v9}, Lcom/android/providers/contacts/aggregation/ContactAggregator$AggregationSuggestionParameter;-><init>(Ljava/lang/String;Ljava/lang/String;)V

    goto :goto_12

    .line 6347
    .end local v91           #i$:Ljava/util/Iterator;
    .end local v104           #offset:I
    .end local v106           #parameter:Ljava/lang/String;
    :cond_3f
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForContacts(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;)V

    .line 6354
    if-nez p3, :cond_40

    .line 6355
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v32

    check-cast v32, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    move-object/from16 v33, v23

    move-object/from16 v34, p2

    move-wide/from16 v35, v18

    invoke-virtual/range {v32 .. v39}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->queryAggregationSuggestions(Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;JILjava/lang/String;Ljava/util/ArrayList;)Landroid/database/Cursor;

    move-result-object v73

    goto/16 :goto_0

    .line 6358
    :cond_40
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mAggregator:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v32

    check-cast v32, Lcom/android/providers/contacts/aggregation/ContactAggregator;

    move-object/from16 v33, v23

    move-object/from16 v34, p2

    move-wide/from16 v35, v18

    move-object/from16 v40, p3

    invoke-virtual/range {v32 .. v40}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->queryAggregationSuggestions(Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;JILjava/lang/String;Ljava/util/ArrayList;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v73

    goto/16 :goto_0

    .line 6365
    .end local v18           #contactId:J
    .end local v37           #maxSuggestions:I
    .end local v38           #filter:Ljava/lang/String;
    .end local v39           #parameters:Ljava/util/ArrayList;,"Ljava/util/ArrayList<Lcom/android/providers/contacts/aggregation/ContactAggregator$AggregationSuggestionParameter;>;"
    .end local v113           #query:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    :sswitch_33
    const-string v5, "settings"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 6366
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sSettingsProjectionMap:Lcom/android/common/content/ProjectionMap;

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 6367
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountFromParameter(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 6371
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v7, "vnd.android.cursor.item/group_membership"

    invoke-virtual {v5, v7}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v9

    invoke-static {v9, v10}, Ljava/lang/Long;->toString(J)Ljava/lang/String;

    move-result-object v88

    .line 6373
    .local v88, groupMembershipMimetypeId:Ljava/lang/String;
    if-eqz p2, :cond_41

    move-object/from16 v0, p2

    array-length v5, v0

    if-eqz v5, :cond_41

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v5, "summ_count"

    move-object/from16 v0, p2

    invoke-static {v0, v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_41

    .line 6375
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move-object/from16 v2, v88

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6377
    :cond_41
    if-eqz p2, :cond_1

    move-object/from16 v0, p2

    array-length v5, v0

    if-eqz v5, :cond_1

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v5, "summ_phones"

    move-object/from16 v0, p2

    invoke-static {v0, v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->isInProjection([Ljava/lang/String;Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_1

    .line 6380
    move-object/from16 v0, p0

    move-object/from16 v1, p4

    move-object/from16 v2, v88

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    goto/16 :goto_1

    .line 6388
    .end local v88           #groupMembershipMimetypeId:Ljava/lang/String;
    :sswitch_34
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p2

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTableAndProjectionMapForStatusUpdates(Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;)V

    goto/16 :goto_1

    .line 6393
    :sswitch_35
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p2

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTableAndProjectionMapForStatusUpdates(Landroid/database/sqlite/SQLiteQueryBuilder;[Ljava/lang/String;)V

    .line 6394
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6395
    const-string v5, "data._id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6400
    :sswitch_36
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mGlobalSearchSupport:Lcom/android/providers/contacts/GlobalSearchSupport;

    move-object/from16 v0, p1

    move-object/from16 v1, p2

    move-object/from16 v2, v16

    invoke-virtual {v5, v6, v0, v1, v2}, Lcom/android/providers/contacts/GlobalSearchSupport;->handleSearchSuggestionsQuery(Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;[Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v73

    goto/16 :goto_0

    .line 6405
    :sswitch_37
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v21

    .line 6406
    .restart local v21       #lookupKey:Ljava/lang/String;
    const-string v5, "suggest_intent_extra_data"

    move-object/from16 v0, p1

    invoke-static {v0, v5}, Lcom/android/providers/contacts/ContactsProvider2;->getQueryParameter(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v38

    .line 6408
    .restart local v38       #filter:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mGlobalSearchSupport:Lcom/android/providers/contacts/GlobalSearchSupport;

    move-object/from16 v0, p2

    move-object/from16 v1, v21

    move-object/from16 v2, v38

    invoke-virtual {v5, v6, v0, v1, v2}, Lcom/android/providers/contacts/GlobalSearchSupport;->handleSearchShortcutRefresh(Landroid/database/sqlite/SQLiteDatabase;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v73

    goto/16 :goto_0

    .line 6414
    .end local v21           #lookupKey:Ljava/lang/String;
    .end local v38           #filter:Ljava/lang/String;
    :sswitch_38
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForRawEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    goto/16 :goto_1

    .line 6419
    :sswitch_39
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    const/4 v7, 0x1

    invoke-interface {v5, v7}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Ljava/lang/String;

    invoke-static {v5}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v114

    .line 6420
    .restart local v114       #rawContactId:J
    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForRawEntities(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;)V

    .line 6421
    invoke-static/range {v114 .. v115}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6422
    const-string v5, " AND _id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6427
    .end local v114           #rawContactId:J
    :sswitch_3a
    const/4 v5, 0x2

    new-array v5, v5, [Ljava/lang/String;

    const/4 v7, 0x0

    const-string v9, "status"

    aput-object v9, v5, v7

    const/4 v7, 0x1

    const-string v9, "data1"

    aput-object v9, v5, v7

    const/4 v7, 0x2

    new-array v7, v7, [Ljava/lang/Object;

    const/4 v9, 0x0

    move-object/from16 v0, p0

    iget v10, v0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    invoke-static {v10}, Ljava/lang/Integer;->valueOf(I)Ljava/lang/Integer;

    move-result-object v10

    aput-object v10, v7, v9

    const/4 v9, 0x1

    move-object/from16 v0, p0

    iget-wide v10, v0, Lcom/android/providers/contacts/ContactsProvider2;->mEstimatedStorageRequirement:J

    invoke-static {v10, v11}, Ljava/lang/Long;->valueOf(J)Ljava/lang/Long;

    move-result-object v10

    aput-object v10, v7, v9

    move-object/from16 v0, p2

    invoke-static {v0, v5, v7}, Lcom/android/providers/contacts/ContactsProvider2;->buildSingleRowResult([Ljava/lang/String;[Ljava/lang/String;[Ljava/lang/Object;)Landroid/database/Cursor;

    move-result-object v73

    goto/16 :goto_0

    .line 6433
    :sswitch_3b
    const-string v5, "directories"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 6434
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sDirectoryProjectionMap:Lcom/android/common/content/ProjectionMap;

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    goto/16 :goto_1

    .line 6439
    :sswitch_3c
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v92

    .line 6440
    .local v92, id:J
    const-string v5, "directories"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setTables(Ljava/lang/String;)V

    .line 6441
    sget-object v5, Lcom/android/providers/contacts/ContactsProvider2;->sDirectoryProjectionMap:Lcom/android/common/content/ProjectionMap;

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->setProjectionMap(Ljava/util/Map;)V

    .line 6442
    invoke-static/range {v92 .. v93}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v5}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 6443
    const-string v5, "_id=?"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6448
    .end local v92           #id:J
    :sswitch_3d
    invoke-direct/range {p0 .. p2}, Lcom/android/providers/contacts/ContactsProvider2;->completeName(Landroid/net/Uri;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v73

    goto/16 :goto_0

    .line 6453
    :sswitch_3e
    const/4 v5, 0x0

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 6454
    const-string v5, " AND (mimetype = \'vnd.android.cursor.item/email_v2\' OR mimetype = \'vnd.android.cursor.item/phone_v2\')"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_1

    .line 6460
    :sswitch_3f
    const/4 v5, 0x1

    move-object/from16 v0, p0

    move-object/from16 v1, v23

    move-object/from16 v2, p1

    move-object/from16 v3, p2

    invoke-direct {v0, v1, v2, v3, v5}, Lcom/android/providers/contacts/ContactsProvider2;->setTablesAndProjectionMapForData(Landroid/database/sqlite/SQLiteQueryBuilder;Landroid/net/Uri;[Ljava/lang/String;Z)V

    .line 6461
    const/16 v26, 0x0

    .line 6462
    .restart local v26       #filterParam:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v5

    invoke-interface {v5}, Ljava/util/List;->size()I

    move-result v5

    const/4 v7, 0x3

    if-le v5, v7, :cond_42

    .line 6463
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v26

    .line 6464
    invoke-static/range {v26 .. v26}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-eqz v5, :cond_42

    .line 6465
    const/16 v26, 0x0

    .line 6469
    :cond_42
    if-nez v26, :cond_43

    .line 6471
    const-string v5, " AND 0"

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 6532
    :goto_13
    const-string v15, "data1,data1,contact_id"

    .line 6533
    if-nez p5, :cond_1

    .line 6534
    invoke-direct/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->getAccountPromotionSortOrder(Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v71

    .line 6535
    .restart local v71       #accountPromotionSortOrder:Ljava/lang/String;
    invoke-static/range {v71 .. v71}, Landroid/text/TextUtils;->isEmpty(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_48

    .line 6536
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v71

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, ", "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, "starred DESC, is_super_primary DESC, is_primary DESC, (CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC, in_visible_group DESC, display_name, contact_id"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object p5

    goto/16 :goto_1

    .line 6473
    .end local v71           #accountPromotionSortOrder:Ljava/lang/String;
    :cond_43
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, " AND (mimetype_id = "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForPhone()J

    move-result-wide v9

    invoke-virtual {v7, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, " OR "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, "mimetype_id"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, " = "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v7

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v5}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeIdForEmail()J

    move-result-wide v9

    invoke-virtual {v7, v9, v10}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, " )"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v23

    invoke-virtual {v0, v5}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    .line 6481
    new-instance v117, Ljava/lang/StringBuilder;

    invoke-direct/range {v117 .. v117}, Ljava/lang/StringBuilder;-><init>()V

    .line 6482
    .restart local v117       #sb:Ljava/lang/StringBuilder;
    const-string v5, " AND ("

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6484
    const/16 v105, 0x0

    .line 6485
    .local v105, orNeeded:Z
    invoke-virtual/range {v26 .. v26}, Ljava/lang/String;->length()I

    move-result v5

    if-lez v5, :cond_44

    const-string v5, "@"

    move-object/from16 v0, v26

    invoke-virtual {v0, v5}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z

    move-result v5

    if-nez v5, :cond_44

    .line 6486
    sget-object v5, Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;->UNSCOPED_NORMALIZING:Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;

    move-object/from16 v0, v26

    invoke-static {v0, v5}, Lcom/android/providers/contacts/SearchIndexManager;->getFtsMatchQuery(Ljava/lang/String;Lcom/android/providers/contacts/SearchIndexManager$FtsQueryBuilder;)Ljava/lang/String;

    move-result-object v87

    .line 6488
    .restart local v87       #ftsMatchQuery:Ljava/lang/String;
    invoke-virtual/range {v87 .. v87}, Ljava/lang/String;->length()I

    move-result v5

    if-lez v5, :cond_44

    .line 6489
    const-string v5, "raw_contact_id IN (SELECT raw_contacts._id FROM search_index JOIN raw_contacts ON (search_index.contact_id=raw_contacts.contact_id) WHERE name MATCH \'"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6496
    move-object/from16 v0, v117

    move-object/from16 v1, v87

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6497
    const-string v5, "\')"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6498
    const/16 v105, 0x1

    .line 6502
    .end local v87           #ftsMatchQuery:Ljava/lang/String;
    :cond_44
    move-object/from16 v0, p0

    move-object/from16 v1, v26

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->isPhoneNumber(Ljava/lang/String;)Z

    move-result v5

    if-eqz v5, :cond_46

    .line 6503
    if-eqz v105, :cond_45

    .line 6504
    const-string v5, " OR "

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6506
    :cond_45
    invoke-static/range {v26 .. v26}, Landroid/telephony/PhoneNumberUtils;->normalizeNumber(Ljava/lang/String;)Ljava/lang/String;

    move-result-object v102

    .line 6507
    .restart local v102       #number:Ljava/lang/String;
    const-string v5, "_id IN (SELECT data_id FROM phone_lookup WHERE normalized_number LIKE \'%"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6511
    move-object/from16 v0, v117

    move-object/from16 v1, v102

    invoke-virtual {v0, v1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6512
    const-string v5, "%\')"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6513
    const/16 v105, 0x1

    .line 6516
    .end local v102           #number:Ljava/lang/String;
    :cond_46
    if-eqz v105, :cond_47

    .line 6517
    const-string v5, " OR "

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6519
    :cond_47
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v5}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v5

    check-cast v5, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v7, "vnd.android.cursor.item/email_v2"

    invoke-virtual {v5, v7}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getMimeTypeId(Ljava/lang/String;)J

    move-result-wide v80

    .line 6520
    .local v80, emailMimeType:J
    const-string v5, "_id IN ("

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6521
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    const-string v7, "SELECT _id FROM data WHERE mimetype_id="

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    move-wide/from16 v0, v80

    invoke-virtual {v5, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, " AND "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, "data1"

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const-string v7, " LIKE "

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6526
    new-instance v5, Ljava/lang/StringBuilder;

    invoke-direct {v5}, Ljava/lang/StringBuilder;-><init>()V

    move-object/from16 v0, v26

    invoke-virtual {v5, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v5

    const/16 v7, 0x25

    invoke-virtual {v5, v7}, Ljava/lang/StringBuilder;->append(C)Ljava/lang/StringBuilder;

    move-result-object v5

    invoke-virtual {v5}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v5

    move-object/from16 v0, v117

    invoke-static {v0, v5}, Landroid/database/DatabaseUtils;->appendEscapedSQLString(Ljava/lang/StringBuilder;Ljava/lang/String;)V

    .line 6527
    const-string v5, ")"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6528
    const-string v5, ")"

    move-object/from16 v0, v117

    invoke-virtual {v0, v5}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    .line 6529
    move-object/from16 v0, v23

    move-object/from16 v1, v117

    invoke-virtual {v0, v1}, Landroid/database/sqlite/SQLiteQueryBuilder;->appendWhere(Ljava/lang/CharSequence;)V

    goto/16 :goto_13

    .line 6538
    .end local v80           #emailMimeType:J
    .end local v105           #orNeeded:Z
    .end local v117           #sb:Ljava/lang/StringBuilder;
    .restart local v71       #accountPromotionSortOrder:Ljava/lang/String;
    :cond_48
    const-string p5, "starred DESC, is_super_primary DESC, is_primary DESC, (CASE WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 259200 THEN 0  WHEN (strftime(\'%s\', \'now\') - last_time_used/1000) < 2592000 THEN 1  ELSE 2 END), times_used DESC, in_visible_group DESC, display_name, contact_id"

    goto/16 :goto_1

    .line 6545
    .end local v26           #filterParam:Ljava/lang/String;
    .end local v71           #accountPromotionSortOrder:Ljava/lang/String;
    :sswitch_40
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDialerSearchSupport:Lcom/android/providers/contacts/DialerSearchSupport;

    move-object/from16 v0, p1

    invoke-virtual {v5, v6, v0}, Lcom/android/providers/contacts/DialerSearchSupport;->handleEmptyQuery(Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;)Landroid/database/Cursor;

    move-result-object v73

    goto/16 :goto_0

    .line 6549
    :sswitch_41
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDialerSearchSupport:Lcom/android/providers/contacts/DialerSearchSupport;

    move-object/from16 v0, p1

    invoke-virtual {v5, v6, v0}, Lcom/android/providers/contacts/DialerSearchSupport;->handleSimpleQuery(Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;)Landroid/database/Cursor;

    move-result-object v73

    goto/16 :goto_0

    .line 6553
    :sswitch_42
    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDialerSearchSupport:Lcom/android/providers/contacts/DialerSearchSupport;

    move-object/from16 v0, p1

    invoke-virtual {v5, v6, v0}, Lcom/android/providers/contacts/DialerSearchSupport;->handleIncrementQuery(Landroid/database/sqlite/SQLiteDatabase;Landroid/net/Uri;)Landroid/database/Cursor;

    move-result-object v73

    goto/16 :goto_0

    .line 6270
    .end local v23           #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .restart local v50       #cursor:Landroid/database/Cursor;
    .restart local v84       #foundResult:Z
    .restart local v101       #normalizedNumber:Ljava/lang/String;
    .restart local v102       #number:Ljava/lang/String;
    .restart local v103       #numberE164:Ljava/lang/String;
    .restart local v112       #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .restart local v125       #sortOrderIsEmpty:Z
    :catchall_1
    move-exception v5

    move-object/from16 v23, v112

    .end local v112           #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    .restart local v23       #qb:Landroid/database/sqlite/SQLiteQueryBuilder;
    goto/16 :goto_f

    .line 5364
    nop

    :sswitch_data_0
    .sparse-switch
        0x3e8 -> :sswitch_1
        0x3e9 -> :sswitch_2
        0x3ea -> :sswitch_3
        0x3eb -> :sswitch_3
        0x3ec -> :sswitch_10
        0x3ed -> :sswitch_9
        0x3ee -> :sswitch_a
        0x3ef -> :sswitch_a
        0x3f0 -> :sswitch_c
        0x3f1 -> :sswitch_11
        0x3f2 -> :sswitch_4
        0x3f3 -> :sswitch_4
        0x3f7 -> :sswitch_7
        0x3f8 -> :sswitch_8
        0x3f9 -> :sswitch_4
        0x3fa -> :sswitch_4
        0x3fb -> :sswitch_12
        0x3fc -> :sswitch_13
        0x3fd -> :sswitch_13
        0x3fe -> :sswitch_5
        0x3ff -> :sswitch_6
        0x400 -> :sswitch_6
        0x401 -> :sswitch_b
        0x7d2 -> :sswitch_24
        0x7d3 -> :sswitch_25
        0x7d4 -> :sswitch_26
        0x7d5 -> :sswitch_39
        0x7d7 -> :sswitch_27
        0x7d8 -> :sswitch_28
        0xbb8 -> :sswitch_2a
        0xbb9 -> :sswitch_2b
        0xbba -> :sswitch_1b
        0xbbb -> :sswitch_1c
        0xbbc -> :sswitch_1d
        0xbbd -> :sswitch_1e
        0xbbe -> :sswitch_1f
        0xbbf -> :sswitch_20
        0xbc0 -> :sswitch_21
        0xbc1 -> :sswitch_22
        0xbc2 -> :sswitch_23
        0xbc3 -> :sswitch_1b
        0xbc4 -> :sswitch_1c
        0xbc5 -> :sswitch_1d
        0xc1d -> :sswitch_3e
        0xc1e -> :sswitch_3f
        0xfa0 -> :sswitch_2d
        0x1770 -> :sswitch_31
        0x1b58 -> :sswitch_34
        0x1b59 -> :sswitch_35
        0x1f40 -> :sswitch_32
        0x2328 -> :sswitch_33
        0x2710 -> :sswitch_2e
        0x2711 -> :sswitch_2f
        0x2713 -> :sswitch_30
        0x2af8 -> :sswitch_0
        0x2afa -> :sswitch_0
        0x2ee1 -> :sswitch_36
        0x2ee2 -> :sswitch_37
        0x3a99 -> :sswitch_38
        0x3e81 -> :sswitch_3a
        0x4269 -> :sswitch_3b
        0x426a -> :sswitch_3c
        0x4650 -> :sswitch_3d
        0x4a38 -> :sswitch_d
        0x4a39 -> :sswitch_e
        0x4a3a -> :sswitch_2a
        0x4a3b -> :sswitch_2b
        0x4a3c -> :sswitch_f
        0x4a3d -> :sswitch_24
        0x4a3e -> :sswitch_25
        0x4a3f -> :sswitch_26
        0x4a40 -> :sswitch_29
        0x4a41 -> :sswitch_34
        0x4a42 -> :sswitch_38
        0x4a43 -> :sswitch_2c
        0x5208 -> :sswitch_14
        0x5209 -> :sswitch_17
        0x520a -> :sswitch_15
        0x520b -> :sswitch_18
        0x520c -> :sswitch_19
        0x520d -> :sswitch_16
        0x55f1 -> :sswitch_1a
        0x15f90 -> :sswitch_42
        0x15f91 -> :sswitch_41
        0x15f93 -> :sswitch_40
    .end sparse-switch
.end method

.method public removeStaleAccountRows(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;[Landroid/accounts/Account;)V
    .locals 7
    .parameter "table"
    .parameter "accountNameColumn"
    .parameter "accountTypeColumn"
    .parameter "systemAccounts"

    .prologue
    const/4 v5, 0x0

    .line 5145
    iget-object v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v3}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v3

    check-cast v3, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v2

    .line 5146
    .local v2, db:Landroid/database/sqlite/SQLiteDatabase;
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "SELECT DISTINCT "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, ","

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, " FROM "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    invoke-virtual {v2, v3, v5}, Landroid/database/sqlite/SQLiteDatabase;->rawQuery(Ljava/lang/String;[Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v1

    .line 5151
    .local v1, c:Landroid/database/Cursor;
    const/4 v3, -0x1

    :try_start_0
    invoke-interface {v1, v3}, Landroid/database/Cursor;->moveToPosition(I)Z

    .line 5152
    :cond_0
    :goto_0
    invoke-interface {v1}, Landroid/database/Cursor;->moveToNext()Z

    move-result v3

    if-eqz v3, :cond_1

    .line 5153
    const/4 v3, 0x0

    invoke-interface {v1, v3}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v3

    const/4 v4, 0x1

    invoke-interface {v1, v4}, Landroid/database/Cursor;->getString(I)Ljava/lang/String;

    move-result-object v4

    const/4 v5, 0x0

    invoke-static {v3, v4, v5}, Lcom/android/providers/contacts/AccountWithDataSet;->get(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Lcom/android/providers/contacts/AccountWithDataSet;

    move-result-object v0

    .line 5155
    .local v0, accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    invoke-virtual {v0}, Lcom/android/providers/contacts/AccountWithDataSet;->isLocalAccount()Z

    move-result v3

    if-nez v3, :cond_0

    invoke-virtual {v0, p4}, Lcom/android/providers/contacts/AccountWithDataSet;->inSystemAccounts([Landroid/accounts/Account;)Z

    move-result v3

    if-nez v3, :cond_0

    .line 5161
    new-instance v3, Ljava/lang/StringBuilder;

    invoke-direct {v3}, Ljava/lang/StringBuilder;-><init>()V

    const-string v4, "DELETE FROM "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p1}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, " WHERE "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "=? AND "

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3, p3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    const-string v4, "=?"

    invoke-virtual {v3, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v3

    invoke-virtual {v3}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v3

    const/4 v4, 0x2

    new-array v4, v4, [Ljava/lang/String;

    const/4 v5, 0x0

    invoke-virtual {v0}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountName()Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v5

    const/4 v5, 0x1

    invoke-virtual {v0}, Lcom/android/providers/contacts/AccountWithDataSet;->getAccountType()Ljava/lang/String;

    move-result-object v6

    aput-object v6, v4, v5

    invoke-virtual {v2, v3, v4}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    goto :goto_0

    .line 5168
    .end local v0           #accountWithDataSet:Lcom/android/providers/contacts/AccountWithDataSet;
    :catchall_0
    move-exception v3

    invoke-interface {v1}, Landroid/database/Cursor;->close()V

    throw v3

    :cond_1
    invoke-interface {v1}, Landroid/database/Cursor;->close()V

    .line 5170
    return-void
.end method

.method public resetDirectoryCache()V
    .locals 2

    .prologue
    .line 5343
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCache:Ljava/util/HashMap;

    monitor-enter v1

    .line 5344
    const/4 v0, 0x0

    :try_start_0
    iput-boolean v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDirectoryCacheValid:Z

    .line 5345
    monitor-exit v1

    .line 5346
    return-void

    .line 5345
    :catchall_0
    move-exception v0

    monitor-exit v1
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    throw v0
.end method

.method saveAccounts([Landroid/accounts/Account;)V
    .locals 3
    .parameter "systemAccounts"
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .prologue
    .line 4867
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v1}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v0

    check-cast v0, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    .line 4868
    .local v0, dbHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;
    const-string v1, "known_accounts"

    invoke-static {p1}, Lcom/google/android/collect/Sets;->newHashSet([Ljava/lang/Object;)Ljava/util/HashSet;

    move-result-object v2

    invoke-static {v2}, Lcom/android/providers/contacts/ContactsProvider2;->accountsToString(Ljava/util/Set;)Ljava/lang/String;

    move-result-object v2

    invoke-virtual {v0, v1, v2}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->setProperty(Ljava/lang/String;Ljava/lang/String;)V

    .line 4870
    return-void
.end method

.method protected scheduleBackgroundTask(I)V
    .locals 1
    .parameter "task"

    .prologue
    .line 1649
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundHandler:Landroid/os/Handler;

    invoke-virtual {v0, p1}, Landroid/os/Handler;->sendEmptyMessage(I)Z

    .line 1650
    return-void
.end method

.method protected scheduleBackgroundTask(ILjava/lang/Object;)V
    .locals 2
    .parameter "task"
    .parameter "arg"

    .prologue
    .line 1653
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundHandler:Landroid/os/Handler;

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundHandler:Landroid/os/Handler;

    invoke-virtual {v1, p1, p2}, Landroid/os/Handler;->obtainMessage(ILjava/lang/Object;)Landroid/os/Message;

    move-result-object v1

    invoke-virtual {v0, v1}, Landroid/os/Handler;->sendMessage(Landroid/os/Message;)Z

    .line 1654
    return-void
.end method

.method protected setProviderStatus(I)V
    .locals 4
    .parameter "status"

    .prologue
    .line 2443
    iget v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    if-eq v0, p1, :cond_0

    .line 2444
    iput p1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    .line 2445
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v0

    invoke-virtual {v0}, Landroid/content/Context;->getContentResolver()Landroid/content/ContentResolver;

    move-result-object v0

    sget-object v1, Landroid/provider/ContactsContract$ProviderStatus;->CONTENT_URI:Landroid/net/Uri;

    const/4 v2, 0x0

    const/4 v3, 0x0

    invoke-virtual {v0, v1, v2, v3}, Landroid/content/ContentResolver;->notifyChange(Landroid/net/Uri;Landroid/database/ContentObserver;Z)V

    .line 2447
    :cond_0
    return-void
.end method

.method protected shouldThrowExceptionForInitializationError()Z
    .locals 1

    .prologue
    .line 1489
    const/4 v0, 0x0

    return v0
.end method

.method public shutdown()V
    .locals 2

    .prologue
    .line 9385
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBroadcastReceiver:Landroid/content/BroadcastReceiver;

    if-eqz v0, :cond_0

    .line 9386
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v0

    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBroadcastReceiver:Landroid/content/BroadcastReceiver;

    invoke-virtual {v0, v1}, Landroid/content/Context;->unregisterReceiver(Landroid/content/BroadcastReceiver;)V

    .line 9388
    :cond_0
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundThread:Landroid/os/HandlerThread;

    if-eqz v0, :cond_1

    .line 9389
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mBackgroundThread:Landroid/os/HandlerThread;

    invoke-virtual {v0}, Landroid/os/HandlerThread;->quit()Z

    .line 9392
    :cond_1
    return-void
.end method

.method public switchToProfileModeForTest()V
    .locals 0
    .annotation build Lcom/android/providers/contacts/util/NeededForTesting;
    .end annotation

    .prologue
    .line 8952
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 8953
    return-void
.end method

.method public toString()Ljava/lang/String;
    .locals 1

    .prologue
    .line 8947
    const-string v0, "ContactsProvider2"

    return-object v0
.end method

.method public update(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 2
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 2128
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    if-eqz v1, :cond_0

    .line 2131
    sget-object v1, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    invoke-virtual {v1, p1}, Landroid/content/UriMatcher;->match(Landroid/net/Uri;)I

    move-result v0

    .line 2132
    .local v0, match:I
    const/16 v1, 0x3e81

    if-ne v0, v1, :cond_0

    .line 2133
    const/4 v1, 0x0

    .line 2146
    .end local v0           #match:I
    :goto_0
    return v1

    .line 2136
    :cond_0
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mWriteAccessLatch:Ljava/util/concurrent/CountDownLatch;

    invoke-direct {p0, v1}, Lcom/android/providers/contacts/ContactsProvider2;->waitForAccess(Ljava/util/concurrent/CountDownLatch;)V

    .line 2139
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->enforceSocialStreamWritePermission(Landroid/net/Uri;)V

    .line 2141
    invoke-direct {p0, p1}, Lcom/android/providers/contacts/ContactsProvider2;->mapsToProfileDb(Landroid/net/Uri;)Z

    move-result v1

    if-eqz v1, :cond_1

    .line 2142
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToProfileMode()V

    .line 2143
    iget-object v1, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileProvider:Lcom/android/providers/contacts/ProfileProvider;

    invoke-virtual {v1, p1, p2, p3, p4}, Lcom/android/providers/contacts/AbstractContactsProvider;->update(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v1

    goto :goto_0

    .line 2145
    :cond_1
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 2146
    invoke-super {p0, p1, p2, p3, p4}, Lcom/android/providers/contacts/AbstractContactsProvider;->update(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v1

    goto :goto_0
.end method

.method updateDataUsageStat(Ljava/util/List;Ljava/lang/String;J)I
    .locals 18
    .parameter
    .parameter "type"
    .parameter "currentTimeMillis"
    .annotation build Lcom/google/common/annotations/VisibleForTesting;
    .end annotation

    .annotation system Ldalvik/annotation/Signature;
        value = {
            "(",
            "Ljava/util/List",
            "<",
            "Ljava/lang/Long;",
            ">;",
            "Ljava/lang/String;",
            "J)I"
        }
    .end annotation

    .prologue
    .line 8770
    .local p1, dataIds:Ljava/util/List;,"Ljava/util/List<Ljava/lang/Long;>;"
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v2}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v2}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v1

    .line 8772
    .local v1, db:Landroid/database/sqlite/SQLiteDatabase;
    const/4 v2, 0x0

    move-object/from16 v0, p2

    invoke-static {v0, v2}, Lcom/android/providers/contacts/ContactsProvider2;->getDataUsageFeedbackType(Ljava/lang/String;Ljava/lang/Integer;)I

    move-result v2

    invoke-static {v2}, Ljava/lang/String;->valueOf(I)Ljava/lang/String;

    move-result-object v17

    .line 8773
    .local v17, typeString:Ljava/lang/String;
    invoke-static/range {p3 .. p4}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v9

    .line 8775
    .local v9, currentTimeMillisString:Ljava/lang/String;
    invoke-interface/range {p1 .. p1}, Ljava/util/List;->iterator()Ljava/util/Iterator;

    move-result-object v14

    .local v14, i$:Ljava/util/Iterator;
    :goto_0
    invoke-interface {v14}, Ljava/util/Iterator;->hasNext()Z

    move-result v2

    if-eqz v2, :cond_1

    invoke-interface {v14}, Ljava/util/Iterator;->next()Ljava/lang/Object;

    move-result-object v2

    check-cast v2, Ljava/lang/Long;

    invoke-virtual {v2}, Ljava/lang/Long;->longValue()J

    move-result-wide v11

    .line 8776
    .local v11, dataId:J
    invoke-static {v11, v12}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v13

    .line 8777
    .local v13, dataIdString:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs2:[Ljava/lang/String;

    const/4 v3, 0x0

    aput-object v13, v2, v3

    .line 8778
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs2:[Ljava/lang/String;

    const/4 v3, 0x1

    aput-object v17, v2, v3

    .line 8779
    const-string v2, "data_usage_stat"

    sget-object v3, Lcom/android/providers/contacts/ContactsProvider2$DataUsageStatQuery;->COLUMNS:[Ljava/lang/String;

    const-string v4, "data_id =? AND usage_type =?"

    move-object/from16 v0, p0

    iget-object v5, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs2:[Ljava/lang/String;

    const/4 v6, 0x0

    const/4 v7, 0x0

    const/4 v8, 0x0

    invoke-virtual/range {v1 .. v8}, Landroid/database/sqlite/SQLiteDatabase;->query(Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)Landroid/database/Cursor;

    move-result-object v10

    .line 8783
    .local v10, cursor:Landroid/database/Cursor;
    :try_start_0
    invoke-interface {v10}, Landroid/database/Cursor;->moveToFirst()Z

    move-result v2

    if-eqz v2, :cond_0

    .line 8784
    const/4 v2, 0x0

    invoke-interface {v10, v2}, Landroid/database/Cursor;->getLong(I)J

    move-result-wide v15

    .line 8786
    .local v15, id:J
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs2:[Ljava/lang/String;

    const/4 v3, 0x0

    aput-object v9, v2, v3

    .line 8787
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs2:[Ljava/lang/String;

    const/4 v3, 0x1

    invoke-static/range {v15 .. v16}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    aput-object v4, v2, v3

    .line 8789
    const-string v2, "UPDATE data_usage_stat SET times_used=ifnull(times_used,0)+1,last_time_used=? WHERE stat_id=?"

    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs2:[Ljava/lang/String;

    invoke-virtual {v1, v2, v3}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 8809
    .end local v15           #id:J
    :goto_1
    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    goto :goto_0

    .line 8796
    :cond_0
    :try_start_1
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs4:[Ljava/lang/String;

    const/4 v3, 0x0

    aput-object v13, v2, v3

    .line 8797
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs4:[Ljava/lang/String;

    const/4 v3, 0x1

    aput-object v17, v2, v3

    .line 8798
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs4:[Ljava/lang/String;

    const/4 v3, 0x2

    const-string v4, "1"

    aput-object v4, v2, v3

    .line 8799
    move-object/from16 v0, p0

    iget-object v2, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs4:[Ljava/lang/String;

    const/4 v3, 0x3

    aput-object v9, v2, v3

    .line 8800
    const-string v2, "INSERT INTO data_usage_stat(data_id,usage_type,times_used,last_time_used) VALUES (?,?,?,?)"

    move-object/from16 v0, p0

    iget-object v3, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs4:[Ljava/lang/String;

    invoke-virtual {v1, v2, v3}, Landroid/database/sqlite/SQLiteDatabase;->execSQL(Ljava/lang/String;[Ljava/lang/Object;)V
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_0

    goto :goto_1

    .line 8809
    :catchall_0
    move-exception v2

    invoke-interface {v10}, Landroid/database/Cursor;->close()V

    throw v2

    .line 8813
    .end local v10           #cursor:Landroid/database/Cursor;
    .end local v11           #dataId:J
    .end local v13           #dataIdString:Ljava/lang/String;
    :cond_1
    invoke-interface/range {p1 .. p1}, Ljava/util/List;->size()I

    move-result v2

    return v2
.end method

.method protected updateDirectoriesInBackground(Z)V
    .locals 1
    .parameter "rescan"

    .prologue
    .line 1836
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactDirectoryManager:Lcom/android/providers/contacts/ContactDirectoryManager;

    invoke-virtual {v0, p1}, Lcom/android/providers/contacts/ContactDirectoryManager;->scanAllPackages(Z)V

    .line 1837
    return-void
.end method

.method protected updateInTransaction(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I
    .locals 35
    .parameter "uri"
    .parameter "values"
    .parameter "selection"
    .parameter "selectionArgs"

    .prologue
    .line 3966
    sget-boolean v4, Lcom/android/providers/contacts/ContactsProvider2;->VERBOSE_LOGGING:Z

    if-eqz v4, :cond_0

    .line 3967
    const-string v4, "ContactsProvider"

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, "updateInTransaction: uri="

    invoke-virtual {v8, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    move-object/from16 v0, p1

    invoke-virtual {v8, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v10, "  selection=["

    invoke-virtual {v8, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    move-object/from16 v0, p3

    invoke-virtual {v8, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v10, "]  args="

    invoke-virtual {v8, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-static/range {p4 .. p4}, Ljava/util/Arrays;->toString([Ljava/lang/Object;)Ljava/lang/String;

    move-result-object v10

    invoke-virtual {v8, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v10, "  values=["

    invoke-virtual {v8, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    move-object/from16 v0, p2

    invoke-virtual {v8, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;

    move-result-object v8

    const-string v10, "]"

    invoke-virtual {v8, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-static {v4, v8}, Landroid/util/Log;->v(Ljava/lang/String;Ljava/lang/String;)I

    .line 3972
    :cond_0
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v5

    .line 3974
    .local v5, db:Landroid/database/sqlite/SQLiteDatabase;
    const/16 v20, 0x0

    .line 3976
    .local v20, count:I
    sget-object v4, Lcom/android/providers/contacts/ContactsProvider2;->sUriMatcher:Lcom/android/providers/contacts/ProfileAwareUriMatcher;

    move-object/from16 v0, p1

    invoke-virtual {v4, v0}, Landroid/content/UriMatcher;->match(Landroid/net/Uri;)I

    move-result v25

    .line 3977
    .local v25, match:I
    const/16 v4, 0x2af9

    move/from16 v0, v25

    if-ne v0, v4, :cond_1

    if-nez p3, :cond_1

    .line 3978
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v29

    .line 3979
    .local v29, rowId:J
    const-string v4, "data"

    move-object/from16 v0, p2

    invoke-virtual {v0, v4}, Landroid/content/ContentValues;->get(Ljava/lang/String;)Ljava/lang/Object;

    move-result-object v21

    .line 3980
    .local v21, data:Ljava/lang/Object;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/TransactionContext;

    move-wide/from16 v0, v29

    move-object/from16 v2, v21

    invoke-virtual {v4, v0, v1, v2}, Lcom/android/providers/contacts/TransactionContext;->syncStateUpdated(JLjava/lang/Object;)V

    .line 3981
    const/4 v4, 0x1

    .line 4215
    .end local v21           #data:Ljava/lang/Object;
    .end local v29           #rowId:J
    :goto_0
    return v4

    .line 3983
    :cond_1
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->flushTransactionalChanges()V

    .line 3984
    const-string v4, "caller_is_syncadapter"

    const/4 v8, 0x0

    move-object/from16 v0, p1

    invoke-static {v0, v4, v8}, Lcom/android/providers/contacts/ContactsProvider2;->readBooleanQueryParameter(Landroid/net/Uri;Ljava/lang/String;Z)Z

    move-result v9

    .line 3986
    .local v9, callerIsSyncAdapter:Z
    sparse-switch v25, :sswitch_data_0

    .line 4210
    const/4 v4, 0x1

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    .line 4211
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mLegacyApiSupport:Lcom/android/providers/contacts/LegacyApiSupport;

    move-object/from16 v0, p1

    move-object/from16 v1, p2

    move-object/from16 v2, p3

    move-object/from16 v3, p4

    invoke-virtual {v4, v0, v1, v2, v3}, Lcom/android/providers/contacts/LegacyApiSupport;->update(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v4

    goto :goto_0

    .line 3989
    :sswitch_0
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v8

    move-object/from16 v0, p2

    move-object/from16 v1, p4

    invoke-virtual {v4, v5, v0, v8, v1}, Lcom/android/common/content/SyncStateContentProviderHelper;->update(Landroid/database/sqlite/SQLiteDatabase;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v4

    goto :goto_0

    .line 3993
    :sswitch_1
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p3

    .line 3994
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "_id="

    invoke-virtual {v4, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v10

    invoke-virtual {v4, v10, v11}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v8, " "

    invoke-virtual {v4, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    if-nez p3, :cond_2

    const-string v4, ""

    :goto_1
    invoke-virtual {v8, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v13

    .line 3997
    .local v13, selectionWithId:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v4

    move-object/from16 v0, p2

    move-object/from16 v1, p4

    invoke-virtual {v4, v5, v0, v13, v1}, Lcom/android/common/content/SyncStateContentProviderHelper;->update(Landroid/database/sqlite/SQLiteDatabase;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v4

    goto/16 :goto_0

    .line 3994
    .end local v13           #selectionWithId:Ljava/lang/String;
    :cond_2
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, " AND ("

    invoke-virtual {v4, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p3

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v10, ")"

    invoke-virtual {v4, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    goto :goto_1

    .line 4002
    :sswitch_2
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p3

    .line 4003
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "_id="

    invoke-virtual {v4, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v10

    invoke-virtual {v4, v10, v11}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v8, " "

    invoke-virtual {v4, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    if-nez p3, :cond_3

    const-string v4, ""

    :goto_2
    invoke-virtual {v8, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v13

    .line 4006
    .restart local v13       #selectionWithId:Ljava/lang/String;
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v4}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->getSyncState()Lcom/android/common/content/SyncStateContentProviderHelper;

    move-result-object v4

    move-object/from16 v0, p2

    move-object/from16 v1, p4

    invoke-virtual {v4, v5, v0, v13, v1}, Lcom/android/common/content/SyncStateContentProviderHelper;->update(Landroid/database/sqlite/SQLiteDatabase;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v4

    goto/16 :goto_0

    .line 4003
    .end local v13           #selectionWithId:Ljava/lang/String;
    :cond_3
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, " AND ("

    invoke-virtual {v4, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p3

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v10, ")"

    invoke-virtual {v4, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    goto :goto_2

    .line 4012
    :sswitch_3
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 4013
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    move-object/from16 v2, p3

    move-object/from16 v3, p4

    invoke-direct {v0, v1, v2, v3, v9}, Lcom/android/providers/contacts/ContactsProvider2;->updateContactOptions(Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v20

    :cond_4
    :goto_3
    move/from16 v4, v20

    .line 4215
    goto/16 :goto_0

    .line 4018
    :sswitch_4
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 4019
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v6

    move-object/from16 v4, p0

    move-object/from16 v8, p2

    invoke-direct/range {v4 .. v9}, Lcom/android/providers/contacts/ContactsProvider2;->updateContactOptions(Landroid/database/sqlite/SQLiteDatabase;JLandroid/content/ContentValues;Z)I

    move-result v20

    .line 4021
    goto :goto_3

    .line 4026
    :sswitch_5
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 4027
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v26

    .line 4028
    .local v26, pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    invoke-interface/range {v26 .. v26}, Ljava/util/List;->size()I

    move-result v32

    .line 4029
    .local v32, segmentCount:I
    const/4 v4, 0x3

    move/from16 v0, v32

    if-ge v0, v4, :cond_5

    .line 4030
    new-instance v8, Ljava/lang/IllegalArgumentException;

    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mDbHelper:Ljava/lang/ThreadLocal;

    invoke-virtual {v4}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v4

    check-cast v4, Lcom/android/providers/contacts/ContactsDatabaseHelper;

    const-string v10, "Missing a lookup key"

    move-object/from16 v0, p1

    invoke-virtual {v4, v10, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->exceptionMessage(Ljava/lang/String;Landroid/net/Uri;)Ljava/lang/String;

    move-result-object v4

    invoke-direct {v8, v4}, Ljava/lang/IllegalArgumentException;-><init>(Ljava/lang/String;)V

    throw v8

    .line 4035
    :cond_5
    const/4 v4, 0x3

    move/from16 v0, v32

    if-le v0, v4, :cond_6

    .line 4036
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v6

    .line 4037
    .local v6, contactId:Ljava/lang/String;
    const-string v4, "ContactsProvider"

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, "[updateInTransaction]contactId:"

    invoke-virtual {v8, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-static {v6}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v10

    invoke-virtual {v8, v10, v11}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-static {v4, v8}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 4038
    const-string v4, "ContactsProvider"

    new-instance v8, Ljava/lang/StringBuilder;

    invoke-direct {v8}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, "[updateInTransaction]callerIsSyncAdapter:"

    invoke-virtual {v8, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8, v9}, Ljava/lang/StringBuilder;->append(Z)Ljava/lang/StringBuilder;

    move-result-object v8

    invoke-virtual {v8}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v8

    invoke-static {v4, v8}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 4039
    invoke-static {v6}, Ljava/lang/Long;->parseLong(Ljava/lang/String;)J

    move-result-wide v6

    .end local v6           #contactId:Ljava/lang/String;
    move-object/from16 v4, p0

    move-object/from16 v8, p2

    invoke-direct/range {v4 .. v9}, Lcom/android/providers/contacts/ContactsProvider2;->updateContactOptions(Landroid/database/sqlite/SQLiteDatabase;JLandroid/content/ContentValues;Z)I

    move-result v20

    .line 4041
    goto/16 :goto_3

    .line 4044
    :cond_6
    const/4 v4, 0x2

    move-object/from16 v0, v26

    invoke-interface {v0, v4}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v24

    check-cast v24, Ljava/lang/String;

    .line 4045
    .local v24, lookupKey:Ljava/lang/String;
    move-object/from16 v0, p0

    move-object/from16 v1, v24

    invoke-virtual {v0, v5, v1}, Lcom/android/providers/contacts/ContactsProvider2;->lookupContactIdByLookupKey(Landroid/database/sqlite/SQLiteDatabase;Ljava/lang/String;)J

    move-result-wide v6

    .local v6, contactId:J
    move-object/from16 v4, p0

    move-object/from16 v8, p2

    .line 4046
    invoke-direct/range {v4 .. v9}, Lcom/android/providers/contacts/ContactsProvider2;->updateContactOptions(Landroid/database/sqlite/SQLiteDatabase;JLandroid/content/ContentValues;Z)I

    move-result v20

    .line 4047
    goto/16 :goto_3

    .line 4052
    .end local v6           #contactId:J
    .end local v24           #lookupKey:Ljava/lang/String;
    .end local v26           #pathSegments:Ljava/util/List;,"Ljava/util/List<Ljava/lang/String;>;"
    .end local v32           #segmentCount:I
    :sswitch_6
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 4053
    const/16 v4, 0x7d4

    move/from16 v0, v25

    if-ne v0, v4, :cond_7

    const/16 v31, 0x1

    .line 4054
    .local v31, segment:I
    :goto_4
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    move/from16 v0, v31

    invoke-interface {v4, v0}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v27

    check-cast v27, Ljava/lang/String;

    .line 4055
    .local v27, rawContactId:Ljava/lang/String;
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "raw_contact_id="

    invoke-virtual {v4, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, v27

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v8, " "

    invoke-virtual {v4, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    if-nez p3, :cond_8

    const-string v4, ""

    :goto_5
    invoke-virtual {v8, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v13

    .restart local v13       #selectionWithId:Ljava/lang/String;
    move-object/from16 v10, p0

    move-object/from16 v11, p1

    move-object/from16 v12, p2

    move-object/from16 v14, p4

    move v15, v9

    .line 4058
    invoke-direct/range {v10 .. v15}, Lcom/android/providers/contacts/ContactsProvider2;->updateData(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v20

    .line 4060
    goto/16 :goto_3

    .line 4053
    .end local v13           #selectionWithId:Ljava/lang/String;
    .end local v27           #rawContactId:Ljava/lang/String;
    .end local v31           #segment:I
    :cond_7
    const/16 v31, 0x2

    goto :goto_4

    .line 4055
    .restart local v27       #rawContactId:Ljava/lang/String;
    .restart local v31       #segment:I
    :cond_8
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, " AND "

    invoke-virtual {v4, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p3

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    goto :goto_5

    .line 4065
    .end local v27           #rawContactId:Ljava/lang/String;
    .end local v31           #segment:I
    :sswitch_7
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 4066
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v17

    move-object/from16 v14, p0

    move-object/from16 v15, p1

    move-object/from16 v16, p2

    move-object/from16 v18, p4

    move/from16 v19, v9

    invoke-direct/range {v14 .. v19}, Lcom/android/providers/contacts/ContactsProvider2;->updateData(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v20

    .line 4068
    if-lez v20, :cond_4

    .line 4069
    move-object/from16 v0, p0

    iget-boolean v8, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v9, :cond_9

    const/4 v4, 0x1

    :goto_6
    or-int/2addr v4, v8

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_3

    :cond_9
    const/4 v4, 0x0

    goto :goto_6

    .line 4079
    :sswitch_8
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    move-object/from16 v14, p0

    move-object/from16 v15, p1

    move-object/from16 v16, p2

    move-object/from16 v17, p3

    move-object/from16 v18, p4

    move/from16 v19, v9

    .line 4080
    invoke-direct/range {v14 .. v19}, Lcom/android/providers/contacts/ContactsProvider2;->updateData(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v20

    .line 4081
    if-lez v20, :cond_4

    .line 4082
    move-object/from16 v0, p0

    iget-boolean v8, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v9, :cond_a

    const/4 v4, 0x1

    :goto_7
    or-int/2addr v4, v8

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_3

    :cond_a
    const/4 v4, 0x0

    goto :goto_7

    .line 4089
    :sswitch_9
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 4090
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountIdToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object p3

    .line 4091
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    move-object/from16 v2, p3

    move-object/from16 v3, p4

    invoke-direct {v0, v1, v2, v3, v9}, Lcom/android/providers/contacts/ContactsProvider2;->updateRawContacts(Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v20

    .line 4092
    goto/16 :goto_3

    .line 4096
    :sswitch_a
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 4097
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v27

    .line 4098
    .local v27, rawContactId:J
    if-eqz p3, :cond_b

    .line 4099
    invoke-static/range {v27 .. v28}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 4100
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "_id=? AND("

    invoke-virtual {v4, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p3

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    const-string v8, ")"

    invoke-virtual {v4, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p2

    move-object/from16 v2, p4

    invoke-direct {v0, v1, v4, v2, v9}, Lcom/android/providers/contacts/ContactsProvider2;->updateRawContacts(Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v20

    goto/16 :goto_3

    .line 4104
    :cond_b
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    const/4 v8, 0x0

    invoke-static/range {v27 .. v28}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v10

    aput-object v10, v4, v8

    .line 4105
    const-string v4, "_id=?"

    move-object/from16 v0, p0

    iget-object v8, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSelectionArgs1:[Ljava/lang/String;

    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-direct {v0, v1, v4, v8, v9}, Lcom/android/providers/contacts/ContactsProvider2;->updateRawContacts(Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v20

    .line 4108
    goto/16 :goto_3

    .line 4112
    .end local v27           #rawContactId:J
    :sswitch_b
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountIdToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v17

    move-object/from16 v14, p0

    move-object/from16 v15, p1

    move-object/from16 v16, p2

    move-object/from16 v18, p4

    move/from16 v19, v9

    invoke-direct/range {v14 .. v19}, Lcom/android/providers/contacts/ContactsProvider2;->updateGroups(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v20

    .line 4114
    if-lez v20, :cond_4

    .line 4115
    move-object/from16 v0, p0

    iget-boolean v8, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v9, :cond_c

    const/4 v4, 0x1

    :goto_8
    or-int/2addr v4, v8

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_3

    :cond_c
    const/4 v4, 0x0

    goto :goto_8

    .line 4121
    :sswitch_c
    invoke-static/range {p1 .. p1}, Landroid/content/ContentUris;->parseId(Landroid/net/Uri;)J

    move-result-wide v22

    .line 4122
    .local v22, groupId:J
    invoke-static/range {v22 .. v23}, Ljava/lang/String;->valueOf(J)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p4

    invoke-direct {v0, v1, v4}, Lcom/android/providers/contacts/ContactsProvider2;->insertSelectionArg([Ljava/lang/String;Ljava/lang/String;)[Ljava/lang/String;

    move-result-object p4

    .line 4123
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v8, "_id=? "

    invoke-virtual {v4, v8}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v8

    if-nez p3, :cond_d

    const-string v4, ""

    :goto_9
    invoke-virtual {v8, v4}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v13

    .restart local v13       #selectionWithId:Ljava/lang/String;
    move-object/from16 v10, p0

    move-object/from16 v11, p1

    move-object/from16 v12, p2

    move-object/from16 v14, p4

    move v15, v9

    .line 4125
    invoke-direct/range {v10 .. v15}, Lcom/android/providers/contacts/ContactsProvider2;->updateGroups(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;Z)I

    move-result v20

    .line 4127
    if-lez v20, :cond_4

    .line 4128
    move-object/from16 v0, p0

    iget-boolean v8, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v9, :cond_e

    const/4 v4, 0x1

    :goto_a
    or-int/2addr v4, v8

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_3

    .line 4123
    .end local v13           #selectionWithId:Ljava/lang/String;
    :cond_d
    new-instance v4, Ljava/lang/StringBuilder;

    invoke-direct {v4}, Ljava/lang/StringBuilder;-><init>()V

    const-string v10, " AND "

    invoke-virtual {v4, v10}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    move-object/from16 v0, p3

    invoke-virtual {v4, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v4

    invoke-virtual {v4}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v4

    goto :goto_9

    .line 4128
    .restart local v13       #selectionWithId:Ljava/lang/String;
    :cond_e
    const/4 v4, 0x0

    goto :goto_a

    .line 4134
    .end local v13           #selectionWithId:Ljava/lang/String;
    .end local v22           #groupId:J
    :sswitch_d
    move-object/from16 v0, p0

    move-object/from16 v1, p2

    invoke-direct {v0, v5, v1}, Lcom/android/providers/contacts/ContactsProvider2;->updateAggregationException(Landroid/database/sqlite/SQLiteDatabase;Landroid/content/ContentValues;)I

    move-result v20

    .line 4135
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    goto/16 :goto_3

    .line 4140
    :sswitch_e
    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p3

    invoke-direct {v0, v1, v2}, Lcom/android/providers/contacts/ContactsProvider2;->appendAccountToSelection(Landroid/net/Uri;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v4

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    move-object/from16 v3, p4

    invoke-direct {v0, v1, v2, v4, v3}, Lcom/android/providers/contacts/ContactsProvider2;->updateSettings(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v20

    .line 4142
    move-object/from16 v0, p0

    iget-boolean v8, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    if-nez v9, :cond_f

    const/4 v4, 0x1

    :goto_b
    or-int/2addr v4, v8

    move-object/from16 v0, p0

    iput-boolean v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mSyncToNetwork:Z

    goto/16 :goto_3

    :cond_f
    const/4 v4, 0x0

    goto :goto_b

    .line 4148
    :sswitch_f
    invoke-direct/range {p0 .. p4}, Lcom/android/providers/contacts/ContactsProvider2;->updateStatusUpdate(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v20

    .line 4149
    goto/16 :goto_3

    .line 4153
    :sswitch_10
    invoke-direct/range {p0 .. p4}, Lcom/android/providers/contacts/ContactsProvider2;->updateStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v20

    .line 4154
    goto/16 :goto_3

    .line 4158
    :sswitch_11
    const-string v4, "_id=?"

    const/4 v8, 0x1

    new-array v8, v8, [Ljava/lang/String;

    const/4 v10, 0x0

    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v11

    aput-object v11, v8, v10

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    invoke-direct {v0, v1, v2, v4, v8}, Lcom/android/providers/contacts/ContactsProvider2;->updateStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v20

    .line 4160
    goto/16 :goto_3

    .line 4164
    :sswitch_12
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v8, 0x1

    invoke-interface {v4, v8}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v27

    check-cast v27, Ljava/lang/String;

    .line 4165
    .local v27, rawContactId:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getLastPathSegment()Ljava/lang/String;

    move-result-object v33

    .line 4166
    .local v33, streamItemId:Ljava/lang/String;
    const-string v4, "raw_contact_id=? AND _id=?"

    const/4 v8, 0x2

    new-array v8, v8, [Ljava/lang/String;

    const/4 v10, 0x0

    aput-object v27, v8, v10

    const/4 v10, 0x1

    aput-object v33, v8, v10

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    invoke-direct {v0, v1, v2, v4, v8}, Lcom/android/providers/contacts/ContactsProvider2;->updateStreamItems(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v20

    .line 4169
    goto/16 :goto_3

    .line 4173
    .end local v27           #rawContactId:Ljava/lang/String;
    .end local v33           #streamItemId:Ljava/lang/String;
    :sswitch_13
    invoke-direct/range {p0 .. p4}, Lcom/android/providers/contacts/ContactsProvider2;->updateStreamItemPhotos(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v20

    .line 4174
    goto/16 :goto_3

    .line 4178
    :sswitch_14
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v8, 0x1

    invoke-interface {v4, v8}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v33

    check-cast v33, Ljava/lang/String;

    .line 4179
    .restart local v33       #streamItemId:Ljava/lang/String;
    const-string v4, "stream_item_id=?"

    const/4 v8, 0x1

    new-array v8, v8, [Ljava/lang/String;

    const/4 v10, 0x0

    aput-object v33, v8, v10

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    invoke-direct {v0, v1, v2, v4, v8}, Lcom/android/providers/contacts/ContactsProvider2;->updateStreamItemPhotos(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v20

    .line 4181
    goto/16 :goto_3

    .line 4185
    .end local v33           #streamItemId:Ljava/lang/String;
    :sswitch_15
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v8, 0x1

    invoke-interface {v4, v8}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v33

    check-cast v33, Ljava/lang/String;

    .line 4186
    .restart local v33       #streamItemId:Ljava/lang/String;
    invoke-virtual/range {p1 .. p1}, Landroid/net/Uri;->getPathSegments()Ljava/util/List;

    move-result-object v4

    const/4 v8, 0x3

    invoke-interface {v4, v8}, Ljava/util/List;->get(I)Ljava/lang/Object;

    move-result-object v34

    check-cast v34, Ljava/lang/String;

    .line 4187
    .local v34, streamItemPhotoId:Ljava/lang/String;
    const-string v4, "stream_item_photos._id=? AND stream_item_photos.stream_item_id=?"

    const/4 v8, 0x2

    new-array v8, v8, [Ljava/lang/String;

    const/4 v10, 0x0

    aput-object v34, v8, v10

    const/4 v10, 0x1

    aput-object v33, v8, v10

    move-object/from16 v0, p0

    move-object/from16 v1, p1

    move-object/from16 v2, p2

    invoke-direct {v0, v1, v2, v4, v8}, Lcom/android/providers/contacts/ContactsProvider2;->updateStreamItemPhotos(Landroid/net/Uri;Landroid/content/ContentValues;Ljava/lang/String;[Ljava/lang/String;)I

    move-result v20

    .line 4191
    goto/16 :goto_3

    .line 4195
    .end local v33           #streamItemId:Ljava/lang/String;
    .end local v34           #streamItemPhotoId:Ljava/lang/String;
    :sswitch_16
    move-object/from16 v0, p0

    iget-object v4, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactDirectoryManager:Lcom/android/providers/contacts/ContactDirectoryManager;

    invoke-static {}, Landroid/os/Binder;->getCallingUid()I

    move-result v8

    invoke-virtual {v4, v8}, Lcom/android/providers/contacts/ContactDirectoryManager;->scanPackagesByUid(I)V

    .line 4196
    const/16 v20, 0x1

    .line 4197
    goto/16 :goto_3

    .line 4201
    :sswitch_17
    invoke-direct/range {p0 .. p1}, Lcom/android/providers/contacts/ContactsProvider2;->handleDataUsageFeedback(Landroid/net/Uri;)Z

    move-result v4

    if-eqz v4, :cond_10

    .line 4202
    const/16 v20, 0x1

    goto/16 :goto_3

    .line 4204
    :cond_10
    const/16 v20, 0x0

    .line 4206
    goto/16 :goto_3

    .line 3986
    :sswitch_data_0
    .sparse-switch
        0x3e8 -> :sswitch_3
        0x3e9 -> :sswitch_4
        0x3ea -> :sswitch_5
        0x3eb -> :sswitch_5
        0x7d2 -> :sswitch_9
        0x7d3 -> :sswitch_a
        0x7d4 -> :sswitch_6
        0x7d8 -> :sswitch_12
        0xbb8 -> :sswitch_7
        0xbb9 -> :sswitch_8
        0xbbb -> :sswitch_8
        0xbbe -> :sswitch_8
        0xbc2 -> :sswitch_8
        0xbc4 -> :sswitch_8
        0x1770 -> :sswitch_d
        0x1b58 -> :sswitch_f
        0x2328 -> :sswitch_e
        0x2710 -> :sswitch_b
        0x2711 -> :sswitch_c
        0x2af8 -> :sswitch_0
        0x2af9 -> :sswitch_1
        0x2afa -> :sswitch_0
        0x2afb -> :sswitch_2
        0x4269 -> :sswitch_16
        0x4a38 -> :sswitch_3
        0x4a3a -> :sswitch_7
        0x4a3d -> :sswitch_9
        0x4a3f -> :sswitch_6
        0x4a41 -> :sswitch_f
        0x4e21 -> :sswitch_17
        0x5208 -> :sswitch_10
        0x5209 -> :sswitch_13
        0x520a -> :sswitch_11
        0x520b -> :sswitch_14
        0x520c -> :sswitch_15
    .end sparse-switch
.end method

.method protected updateLocaleInBackground()V
    .locals 7

    .prologue
    const/4 v6, 0x3

    .line 1786
    iget v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    if-ne v4, v6, :cond_1

    .line 1805
    :cond_0
    :goto_0
    return-void

    .line 1790
    :cond_1
    invoke-virtual {p0}, Landroid/content/ContentProvider;->getContext()Landroid/content/Context;

    move-result-object v4

    invoke-static {v4}, Landroid/preference/PreferenceManager;->getDefaultSharedPreferences(Landroid/content/Context;)Landroid/content/SharedPreferences;

    move-result-object v1

    .line 1791
    .local v1, prefs:Landroid/content/SharedPreferences;
    const-string v4, "locale"

    const/4 v5, 0x0

    invoke-interface {v1, v4, v5}, Landroid/content/SharedPreferences;->getString(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;

    move-result-object v2

    .line 1792
    .local v2, providerLocale:Ljava/lang/String;
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mCurrentLocale:Ljava/util/Locale;

    .line 1793
    .local v0, currentLocale:Ljava/util/Locale;
    invoke-virtual {v0}, Ljava/util/Locale;->toString()Ljava/lang/String;

    move-result-object v4

    invoke-virtual {v4, v2}, Ljava/lang/String;->equals(Ljava/lang/Object;)Z

    move-result v4

    if-nez v4, :cond_0

    .line 1797
    iget v3, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    .line 1798
    .local v3, providerStatus:I
    invoke-virtual {p0, v6}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    .line 1799
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v4, p0, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->setLocale(Lcom/android/providers/contacts/ContactsProvider2;Ljava/util/Locale;)V

    .line 1800
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v4, p0, v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->setLocale(Lcom/android/providers/contacts/ContactsProvider2;Ljava/util/Locale;)V

    .line 1801
    iget-object v4, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSearchIndexManager:Lcom/android/providers/contacts/SearchIndexManager;

    const/4 v5, 0x1

    invoke-virtual {v4, v5}, Lcom/android/providers/contacts/SearchIndexManager;->updateIndex(Z)V

    .line 1802
    invoke-interface {v1}, Landroid/content/SharedPreferences;->edit()Landroid/content/SharedPreferences$Editor;

    move-result-object v4

    const-string v5, "locale"

    invoke-virtual {v0}, Ljava/util/Locale;->toString()Ljava/lang/String;

    move-result-object v6

    invoke-interface {v4, v5, v6}, Landroid/content/SharedPreferences$Editor;->putString(Ljava/lang/String;Ljava/lang/String;)Landroid/content/SharedPreferences$Editor;

    move-result-object v4

    invoke-interface {v4}, Landroid/content/SharedPreferences$Editor;->apply()V

    .line 1803
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 1804
    invoke-virtual {p0, v3}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    goto :goto_0
.end method

.method protected updateSearchIndexInBackground()V
    .locals 2

    .prologue
    .line 1832
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mSearchIndexManager:Lcom/android/providers/contacts/SearchIndexManager;

    const/4 v1, 0x0

    invoke-virtual {v0, v1}, Lcom/android/providers/contacts/SearchIndexManager;->updateIndex(Z)V

    .line 1833
    return-void
.end method

.method protected upgradeAggregationAlgorithmInBackground()V
    .locals 18

    .prologue
    .line 8609
    const-string v12, "ContactsProvider"

    const-string v13, "Upgrading aggregation algorithm"

    invoke-static {v12, v13}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 8611
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v8

    .line 8612
    .local v8, start:J
    const/4 v12, 0x1

    move-object/from16 v0, p0

    invoke-virtual {v0, v12}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    .line 8616
    const/4 v2, 0x0

    .line 8617
    .local v2, count:I
    const/4 v3, 0x0

    .line 8618
    .local v3, db:Landroid/database/sqlite/SQLiteDatabase;
    const/4 v10, 0x0

    .line 8619
    .local v10, success:Z
    const/4 v11, 0x0

    .line 8622
    .local v11, transactionStarted:Z
    :try_start_0
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->switchToContactMode()V

    .line 8623
    move-object/from16 v0, p0

    iget-object v12, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v12}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v3

    .line 8626
    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V

    .line 8627
    const/4 v11, 0x1

    .line 8629
    move-object/from16 v0, p0

    iget-object v12, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

    invoke-virtual {v12, v3}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->markAllVisibleForAggregation(Landroid/database/sqlite/SQLiteDatabase;)I

    move-result v2

    .line 8630
    move-object/from16 v0, p0

    iget-object v13, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactAggregator:Lcom/android/providers/contacts/aggregation/ContactAggregator;

    move-object/from16 v0, p0

    iget-object v12, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v12}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v12

    check-cast v12, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v13, v12, v3}, Lcom/android/providers/contacts/aggregation/ContactAggregator;->aggregateInTransaction(Lcom/android/providers/contacts/TransactionContext;Landroid/database/sqlite/SQLiteDatabase;)V

    .line 8632
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateSearchIndexInTransaction()V

    .line 8634
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateAggregationAlgorithmVersion()V

    .line 8636
    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
    :try_end_0
    .catchall {:try_start_0 .. :try_end_0} :catchall_0

    .line 8638
    const/4 v10, 0x1

    .line 8640
    :try_start_1
    move-object/from16 v0, p0

    iget-object v12, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v12}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v12

    check-cast v12, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v12}, Lcom/android/providers/contacts/TransactionContext;->clearAll()V

    .line 8641
    if-eqz v11, :cond_0

    .line 8642
    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    .line 8644
    :cond_0
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v6

    .line 8645
    .local v6, end:J
    const-string v13, "ContactsProvider"

    new-instance v12, Ljava/lang/StringBuilder;

    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V

    const-string v14, "Aggregation algorithm upgraded for "

    invoke-virtual {v12, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v12

    invoke-virtual {v12, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v12

    const-string v14, " raw contacts"

    invoke-virtual {v12, v14}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v14

    if-eqz v10, :cond_1

    new-instance v12, Ljava/lang/StringBuilder;

    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V

    const-string v15, " in "

    invoke-virtual {v12, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v12

    sub-long v15, v6, v8

    move-wide v0, v15

    invoke-virtual {v12, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v12

    const-string v15, "ms"

    invoke-virtual {v12, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v12

    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v12

    :goto_0
    invoke-virtual {v14, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v12

    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v12

    invoke-static {v13, v12}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I
    :try_end_1
    .catchall {:try_start_1 .. :try_end_1} :catchall_2
    .catch Ljava/lang/RuntimeException; {:try_start_1 .. :try_end_1} :catch_0

    .line 8669
    const/4 v12, 0x0

    move-object/from16 v0, p0

    invoke-virtual {v0, v12}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    .line 8671
    .end local v6           #end:J
    :goto_1
    return-void

    .line 8645
    .restart local v6       #end:J
    :cond_1
    :try_start_2
    const-string v12, " failed"

    goto :goto_0

    .line 8640
    .end local v6           #end:J
    :catchall_0
    move-exception v12

    move-object v13, v12

    move-object/from16 v0, p0

    iget-object v12, v0, Lcom/android/providers/contacts/ContactsProvider2;->mTransactionContext:Ljava/lang/ThreadLocal;

    invoke-virtual {v12}, Ljava/lang/ThreadLocal;->get()Ljava/lang/Object;

    move-result-object v12

    check-cast v12, Lcom/android/providers/contacts/TransactionContext;

    invoke-virtual {v12}, Lcom/android/providers/contacts/TransactionContext;->clearAll()V

    .line 8641
    if-eqz v11, :cond_2

    .line 8642
    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    .line 8644
    :cond_2
    invoke-static {}, Landroid/os/SystemClock;->elapsedRealtime()J

    move-result-wide v6

    .line 8645
    .restart local v6       #end:J
    const-string v14, "ContactsProvider"

    new-instance v12, Ljava/lang/StringBuilder;

    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V

    const-string v15, "Aggregation algorithm upgraded for "

    invoke-virtual {v12, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v12

    invoke-virtual {v12, v2}, Ljava/lang/StringBuilder;->append(I)Ljava/lang/StringBuilder;

    move-result-object v12

    const-string v15, " raw contacts"

    invoke-virtual {v12, v15}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v15

    if-eqz v10, :cond_3

    new-instance v12, Ljava/lang/StringBuilder;

    invoke-direct {v12}, Ljava/lang/StringBuilder;-><init>()V

    const-string v16, " in "

    move-object/from16 v0, v16

    invoke-virtual {v12, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v12

    sub-long v16, v6, v8

    move-wide/from16 v0, v16

    invoke-virtual {v12, v0, v1}, Ljava/lang/StringBuilder;->append(J)Ljava/lang/StringBuilder;

    move-result-object v12

    const-string v16, "ms"

    move-object/from16 v0, v16

    invoke-virtual {v12, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v12

    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v12

    :goto_2
    invoke-virtual {v15, v12}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;

    move-result-object v12

    invoke-virtual {v12}, Ljava/lang/StringBuilder;->toString()Ljava/lang/String;

    move-result-object v12

    invoke-static {v14, v12}, Landroid/util/Log;->i(Ljava/lang/String;Ljava/lang/String;)I

    .line 8647
    throw v13
    :try_end_2
    .catchall {:try_start_2 .. :try_end_2} :catchall_2
    .catch Ljava/lang/RuntimeException; {:try_start_2 .. :try_end_2} :catch_0

    .line 8648
    .end local v6           #end:J
    :catch_0
    move-exception v4

    .line 8649
    .local v4, e:Ljava/lang/RuntimeException;
    :try_start_3
    const-string v12, "ContactsProvider"

    const-string v13, "Failed to upgrade aggregation algorithm; continuing anyway."

    invoke-static {v12, v13, v4}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
    :try_end_3
    .catchall {:try_start_3 .. :try_end_3} :catchall_2

    .line 8654
    :try_start_4
    move-object/from16 v0, p0

    iget-object v12, v0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v12}, Landroid/database/sqlite/SQLiteOpenHelper;->getWritableDatabase()Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v3

    .line 8655
    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->beginTransaction()V
    :try_end_4
    .catchall {:try_start_4 .. :try_end_4} :catchall_2
    .catch Ljava/lang/RuntimeException; {:try_start_4 .. :try_end_4} :catch_1

    .line 8657
    :try_start_5
    invoke-direct/range {p0 .. p0}, Lcom/android/providers/contacts/ContactsProvider2;->updateAggregationAlgorithmVersion()V

    .line 8658
    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V
    :try_end_5
    .catchall {:try_start_5 .. :try_end_5} :catchall_1

    .line 8660
    :try_start_6
    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V
    :try_end_6
    .catchall {:try_start_6 .. :try_end_6} :catchall_2
    .catch Ljava/lang/RuntimeException; {:try_start_6 .. :try_end_6} :catch_1

    .line 8669
    :goto_3
    const/4 v12, 0x0

    move-object/from16 v0, p0

    invoke-virtual {v0, v12}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    goto/16 :goto_1

    .line 8645
    .end local v4           #e:Ljava/lang/RuntimeException;
    .restart local v6       #end:J
    :cond_3
    :try_start_7
    const-string v12, " failed"
    :try_end_7
    .catchall {:try_start_7 .. :try_end_7} :catchall_2
    .catch Ljava/lang/RuntimeException; {:try_start_7 .. :try_end_7} :catch_0

    goto :goto_2

    .line 8660
    .end local v6           #end:J
    .restart local v4       #e:Ljava/lang/RuntimeException;
    :catchall_1
    move-exception v12

    :try_start_8
    invoke-virtual {v3}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    throw v12
    :try_end_8
    .catchall {:try_start_8 .. :try_end_8} :catchall_2
    .catch Ljava/lang/RuntimeException; {:try_start_8 .. :try_end_8} :catch_1

    .line 8662
    :catch_1
    move-exception v5

    .line 8666
    .local v5, e2:Ljava/lang/RuntimeException;
    :try_start_9
    const-string v12, "ContactsProvider"

    const-string v13, "Failed to bump aggregation algorithm version; continuing anyway."

    invoke-static {v12, v13, v5}, Landroid/util/Log;->e(Ljava/lang/String;Ljava/lang/String;Ljava/lang/Throwable;)I
    :try_end_9
    .catchall {:try_start_9 .. :try_end_9} :catchall_2

    goto :goto_3

    .line 8669
    .end local v4           #e:Ljava/lang/RuntimeException;
    .end local v5           #e2:Ljava/lang/RuntimeException;
    :catchall_2
    move-exception v12

    const/4 v13, 0x0

    move-object/from16 v0, p0

    invoke-virtual {v0, v13}, Lcom/android/providers/contacts/ContactsProvider2;->setProviderStatus(I)V

    throw v12
.end method

.method wipeData()V
    .locals 1
    .annotation build Lcom/android/providers/contacts/util/NeededForTesting;
    .end annotation

    .prologue
    .line 2008
    invoke-direct {p0}, Lcom/android/providers/contacts/ContactsProvider2;->invalidateFastScrollingIndexCache()V

    .line 2009
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsHelper:Lcom/android/providers/contacts/ContactsDatabaseHelper;

    invoke-virtual {v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->wipeData()V

    .line 2010
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfileHelper:Lcom/android/providers/contacts/ProfileDatabaseHelper;

    invoke-virtual {v0}, Lcom/android/providers/contacts/ContactsDatabaseHelper;->wipeData()V

    .line 2011
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mContactsPhotoStore:Lcom/android/providers/contacts/PhotoStore;

    invoke-virtual {v0}, Lcom/android/providers/contacts/PhotoStore;->clear()V

    .line 2012
    iget-object v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProfilePhotoStore:Lcom/android/providers/contacts/PhotoStore;

    invoke-virtual {v0}, Lcom/android/providers/contacts/PhotoStore;->clear()V

    .line 2013
    const/4 v0, 0x4

    iput v0, p0, Lcom/android/providers/contacts/ContactsProvider2;->mProviderStatus:I

    .line 2014
    return-void
.end method

.method protected yield(Lcom/android/providers/contacts/ContactsTransaction;)Z
    .locals 4
    .parameter "transaction"

    .prologue
    .line 2269
    const-string v2, "profile"

    invoke-virtual {p1, v2}, Lcom/android/providers/contacts/ContactsTransaction;->removeDbForTag(Ljava/lang/String;)Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v1

    .line 2270
    .local v1, profileDb:Landroid/database/sqlite/SQLiteDatabase;
    if-eqz v1, :cond_0

    .line 2271
    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->setTransactionSuccessful()V

    .line 2272
    invoke-virtual {v1}, Landroid/database/sqlite/SQLiteDatabase;->endTransaction()V

    .line 2276
    :cond_0
    const-string v2, "contacts"

    invoke-virtual {p1, v2}, Lcom/android/providers/contacts/ContactsTransaction;->getDbForTag(Ljava/lang/String;)Landroid/database/sqlite/SQLiteDatabase;

    move-result-object v0

    .line 2277
    .local v0, contactsDb:Landroid/database/sqlite/SQLiteDatabase;
    if-eqz v0, :cond_1

    const-wide/16 v2, 0xfa0

    invoke-virtual {v0, v2, v3}, Landroid/database/sqlite/SQLiteDatabase;->yieldIfContendedSafely(J)Z

    move-result v2

    if-eqz v2, :cond_1

    const/4 v2, 0x1

    :goto_0
    return v2

    :cond_1
    const/4 v2, 0x0

    goto :goto_0
.end method
